var iB=Object.defineProperty;var aB=(e,t,r)=>t in e?iB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ut=(e,t,r)=>aB(e,typeof t!="symbol"?t+"":t,r);function zO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var WO={exports:{}},ay={},HO={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=Symbol.for("react.element"),sB=Symbol.for("react.portal"),oB=Symbol.for("react.fragment"),lB=Symbol.for("react.strict_mode"),cB=Symbol.for("react.profiler"),uB=Symbol.for("react.provider"),dB=Symbol.for("react.context"),fB=Symbol.for("react.forward_ref"),hB=Symbol.for("react.suspense"),pB=Symbol.for("react.memo"),mB=Symbol.for("react.lazy"),qS=Symbol.iterator;function gB(e){return e===null||typeof e!="object"?null:(e=qS&&e[qS]||e["@@iterator"],typeof e=="function"?e:null)}var KO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VO=Object.assign,GO={};function nf(e,t,r){this.props=e,this.context=t,this.refs=GO,this.updater=r||KO}nf.prototype.isReactComponent={};nf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YO(){}YO.prototype=nf.prototype;function j5(e,t,r){this.props=e,this.context=t,this.refs=GO,this.updater=r||KO}var N5=j5.prototype=new YO;N5.constructor=j5;VO(N5,nf.prototype);N5.isPureReactComponent=!0;var WS=Array.isArray,XO=Object.prototype.hasOwnProperty,S5={current:null},JO={key:!0,ref:!0,__self:!0,__source:!0};function ZO(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)XO.call(t,n)&&!JO.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Rp,type:e,key:a,ref:s,props:i,_owner:S5.current}}function vB(e,t){return{$$typeof:Rp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k5(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rp}function yB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var HS=/\/+/g;function fb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yB(""+e.key):t.toString(36)}function Q0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Rp:case sB:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+fb(s,0):n,WS(i)?(r="",e!=null&&(r=e.replace(HS,"$&/")+"/"),Q0(i,t,r,"",function(u){return u})):i!=null&&(k5(i)&&(i=vB(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HS,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",WS(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+fb(a,o);s+=Q0(a,t,r,l,i)}else if(l=gB(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+fb(a,o++),s+=Q0(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ym(e,t,r){if(e==null)return e;var n=[],i=0;return Q0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function bB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ji={current:null},eg={transition:null},xB={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:eg,ReactCurrentOwner:S5};function QO(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:Ym,forEach:function(e,t,r){Ym(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ym(e,function(){t++}),t},toArray:function(e){return Ym(e,function(t){return t})||[]},only:function(e){if(!k5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=nf;Pt.Fragment=oB;Pt.Profiler=cB;Pt.PureComponent=j5;Pt.StrictMode=lB;Pt.Suspense=hB;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB;Pt.act=QO;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=VO({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=S5.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)XO.call(t,l)&&!JO.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Rp,type:e.type,key:i,ref:a,props:n,_owner:s}};Pt.createContext=function(e){return e={$$typeof:dB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uB,_context:e},e.Consumer=e};Pt.createElement=ZO;Pt.createFactory=function(e){var t=ZO.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:fB,render:e}};Pt.isValidElement=k5;Pt.lazy=function(e){return{$$typeof:mB,_payload:{_status:-1,_result:e},_init:bB}};Pt.memo=function(e,t){return{$$typeof:pB,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=eg.transition;eg.transition={};try{e()}finally{eg.transition=t}};Pt.unstable_act=QO;Pt.useCallback=function(e,t){return ji.current.useCallback(e,t)};Pt.useContext=function(e){return ji.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return ji.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return ji.current.useEffect(e,t)};Pt.useId=function(){return ji.current.useId()};Pt.useImperativeHandle=function(e,t,r){return ji.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return ji.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return ji.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return ji.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return ji.current.useReducer(e,t,r)};Pt.useRef=function(e){return ji.current.useRef(e)};Pt.useState=function(e){return ji.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return ji.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return ji.current.useTransition()};Pt.version="18.3.1";HO.exports=Pt;var T=HO.exports;const Sg=$s(T),eP=zO({__proto__:null,default:Sg},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB=T,_B=Symbol.for("react.element"),jB=Symbol.for("react.fragment"),NB=Object.prototype.hasOwnProperty,SB=wB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kB={key:!0,ref:!0,__self:!0,__source:!0};function tP(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)NB.call(t,n)&&!kB.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_B,type:e,key:a,ref:s,props:i,_owner:SB.current}}ay.Fragment=jB;ay.jsx=tP;ay.jsxs=tP;WO.exports=ay;var c=WO.exports,Xx={},rP={exports:{}},ha={},nP={exports:{}},iP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,W){var V=H.length;H.push(W);e:for(;0<V;){var $=V-1>>>1,R=H[$];if(0<i(R,W))H[$]=W,H[V]=R,V=$;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var W=H[0],V=H.pop();if(V!==W){H[0]=V;e:for(var $=0,R=H.length,B=R>>>1;$<B;){var z=2*($+1)-1,K=H[z],q=z+1,Q=H[q];if(0>i(K,V))q<R&&0>i(Q,K)?(H[$]=Q,H[q]=V,$=q):(H[$]=K,H[z]=V,$=z);else if(q<R&&0>i(Q,V))H[$]=Q,H[q]=V,$=q;else break e}}return W}function i(H,W){var V=H.sortIndex-W.sortIndex;return V!==0?V:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=H)n(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(u)}}function x(H){if(g=!1,w(H),!m)if(r(l)!==null)m=!0,J(j);else{var W=r(u);W!==null&&X(x,W.startTime-H)}}function j(H,W){m=!1,g&&(g=!1,v(E),E=-1),h=!0;var V=p;try{for(w(W),f=r(l);f!==null&&(!(f.expirationTime>W)||H&&!S());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var R=$(f.expirationTime<=W);W=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),w(W)}else n(l);f=r(l)}if(f!==null)var B=!0;else{var z=r(u);z!==null&&X(x,z.startTime-W),B=!1}return B}finally{f=null,p=V,h=!1}}var O=!1,N=null,E=-1,P=5,C=-1;function S(){return!(e.unstable_now()-C<P)}function A(){if(N!==null){var H=e.unstable_now();C=H;var W=!0;try{W=N(!0,H)}finally{W?I():(O=!1,N=null)}}else O=!1}var I;if(typeof b=="function")I=function(){b(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=A,I=function(){U.postMessage(null)}}else I=function(){y(A,0)};function J(H){N=H,O||(O=!0,I())}function X(H,W){E=y(function(){H(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,J(j))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var V=p;p=W;try{return H()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var V=p;p=H;try{return W()}finally{p=V}},e.unstable_scheduleCallback=function(H,W,V){var $=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,H={id:d++,callback:W,priorityLevel:H,startTime:V,expirationTime:R,sortIndex:-1},V>$?(H.sortIndex=V,t(u,H),r(l)===null&&H===r(u)&&(g?(v(E),E=-1):g=!0,X(x,V-$))):(H.sortIndex=R,t(l,H),m||h||(m=!0,J(j))),H},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(H){var W=p;return function(){var V=p;p=W;try{return H.apply(this,arguments)}finally{p=V}}}})(iP);nP.exports=iP;var AB=nP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EB=T,ca=AB;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aP=new Set,Qh={};function yu(e,t){Bd(e,t),Bd(e+"Capture",t)}function Bd(e,t){for(Qh[e]=t,e=0;e<t.length;e++)aP.add(t[e])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jx=Object.prototype.hasOwnProperty,OB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KS={},VS={};function PB(e){return Jx.call(VS,e)?!0:Jx.call(KS,e)?!1:OB.test(e)?VS[e]=!0:(KS[e]=!0,!1)}function CB(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TB(e,t,r,n){if(t===null||typeof t>"u"||CB(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ni(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new Ni(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new Ni(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new Ni(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new Ni(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new Ni(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new Ni(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new Ni(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new Ni(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new Ni(e,5,!1,e.toLowerCase(),null,!1,!1)});var A5=/[\-:]([a-z])/g;function E5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A5,E5);Hn[t]=new Ni(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A5,E5);Hn[t]=new Ni(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A5,E5);Hn[t]=new Ni(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new Ni(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new Ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new Ni(e,1,!1,e.toLowerCase(),null,!0,!0)});function O5(e,t,r,n){var i=Hn.hasOwnProperty(t)?Hn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TB(t,r,i,n)&&(r=null),n||i===null?PB(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var To=EB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xm=Symbol.for("react.element"),ld=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),P5=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),sP=Symbol.for("react.provider"),oP=Symbol.for("react.context"),C5=Symbol.for("react.forward_ref"),Qx=Symbol.for("react.suspense"),e2=Symbol.for("react.suspense_list"),T5=Symbol.for("react.memo"),cl=Symbol.for("react.lazy"),lP=Symbol.for("react.offscreen"),GS=Symbol.iterator;function nh(e){return e===null||typeof e!="object"?null:(e=GS&&e[GS]||e["@@iterator"],typeof e=="function"?e:null)}var Or=Object.assign,hb;function jh(e){if(hb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hb=t&&t[1]||""}return`
`+hb+e}var pb=!1;function mb(e,t){if(!e||pb)return"";pb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{pb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jh(e):""}function LB(e){switch(e.tag){case 5:return jh(e.type);case 16:return jh("Lazy");case 13:return jh("Suspense");case 19:return jh("SuspenseList");case 0:case 2:case 15:return e=mb(e.type,!1),e;case 11:return e=mb(e.type.render,!1),e;case 1:return e=mb(e.type,!0),e;default:return""}}function t2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cd:return"Fragment";case ld:return"Portal";case Zx:return"Profiler";case P5:return"StrictMode";case Qx:return"Suspense";case e2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oP:return(e.displayName||"Context")+".Consumer";case sP:return(e._context.displayName||"Context")+".Provider";case C5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T5:return t=e.displayName||null,t!==null?t:t2(e.type)||"Memo";case cl:t=e._payload,e=e._init;try{return t2(e(t))}catch{}}return null}function IB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t2(t);case 8:return t===P5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RB(e){var t=cP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jm(e){e._valueTracker||(e._valueTracker=RB(e))}function uP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=cP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function r2(e,t){var r=t.checked;return Or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function YS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dP(e,t){t=t.checked,t!=null&&O5(e,"checked",t,!1)}function n2(e,t){dP(e,t);var r=Rl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?i2(e,t.type,r):t.hasOwnProperty("defaultValue")&&i2(e,t.type,Rl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function i2(e,t,r){(t!=="number"||kg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nh=Array.isArray;function Nd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rl(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function a2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Me(92));if(Nh(r)){if(1<r.length)throw Error(Me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rl(r)}}function fP(e,t){var r=Rl(t.value),n=Rl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ZS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zm,pP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zm=Zm||document.createElement("div"),Zm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ep(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MB=["Webkit","ms","Moz","O"];Object.keys(Lh).forEach(function(e){MB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lh[t]=Lh[e]})});function mP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Lh.hasOwnProperty(e)&&Lh[e]?(""+t).trim():t+"px"}function gP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=mP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var DB=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o2(e,t){if(t){if(DB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function l2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c2=null;function L5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var u2=null,Sd=null,kd=null;function QS(e){if(e=Bp(e)){if(typeof u2!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=uy(t),u2(e.stateNode,e.type,t))}}function vP(e){Sd?kd?kd.push(e):kd=[e]:Sd=e}function yP(){if(Sd){var e=Sd,t=kd;if(kd=Sd=null,QS(e),t)for(e=0;e<t.length;e++)QS(t[e])}}function bP(e,t){return e(t)}function xP(){}var gb=!1;function wP(e,t,r){if(gb)return e(t,r);gb=!0;try{return bP(e,t,r)}finally{gb=!1,(Sd!==null||kd!==null)&&(xP(),yP())}}function tp(e,t){var r=e.stateNode;if(r===null)return null;var n=uy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Me(231,t,typeof r));return r}var d2=!1;if(xo)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){d2=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{d2=!1}function BB(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ih=!1,Ag=null,Eg=!1,f2=null,FB={onError:function(e){Ih=!0,Ag=e}};function $B(e,t,r,n,i,a,s,o,l){Ih=!1,Ag=null,BB.apply(FB,arguments)}function UB(e,t,r,n,i,a,s,o,l){if($B.apply(this,arguments),Ih){if(Ih){var u=Ag;Ih=!1,Ag=null}else throw Error(Me(198));Eg||(Eg=!0,f2=u)}}function bu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _P(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e3(e){if(bu(e)!==e)throw Error(Me(188))}function zB(e){var t=e.alternate;if(!t){if(t=bu(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return e3(i),e;if(a===n)return e3(i),t;a=a.sibling}throw Error(Me(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?e:t}function jP(e){return e=zB(e),e!==null?NP(e):null}function NP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NP(e);if(t!==null)return t;e=e.sibling}return null}var SP=ca.unstable_scheduleCallback,t3=ca.unstable_cancelCallback,qB=ca.unstable_shouldYield,WB=ca.unstable_requestPaint,Kr=ca.unstable_now,HB=ca.unstable_getCurrentPriorityLevel,I5=ca.unstable_ImmediatePriority,kP=ca.unstable_UserBlockingPriority,Og=ca.unstable_NormalPriority,KB=ca.unstable_LowPriority,AP=ca.unstable_IdlePriority,sy=null,Ts=null;function VB(e){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(sy,e,void 0,(e.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:XB,GB=Math.log,YB=Math.LN2;function XB(e){return e>>>=0,e===0?32:31-(GB(e)/YB|0)|0}var Qm=64,e0=4194304;function Sh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Sh(o):(a&=s,a!==0&&(n=Sh(a)))}else s=r&~i,s!==0?n=Sh(s):a!==0&&(n=Sh(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ls(t),i=1<<r,n|=e[r],t&=~i;return n}function JB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ls(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=JB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function h2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EP(){var e=Qm;return Qm<<=1,!(Qm&4194240)&&(Qm=64),e}function vb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ls(t),e[t]=r}function QB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ls(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function R5(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ls(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Yt=0;function OP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PP,M5,CP,TP,LP,p2=!1,t0=[],Sl=null,kl=null,Al=null,rp=new Map,np=new Map,ml=[],eF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r3(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":np.delete(t.pointerId)}}function ah(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Bp(t),t!==null&&M5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tF(e,t,r,n,i){switch(t){case"focusin":return Sl=ah(Sl,e,t,r,n,i),!0;case"dragenter":return kl=ah(kl,e,t,r,n,i),!0;case"mouseover":return Al=ah(Al,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return rp.set(a,ah(rp.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,np.set(a,ah(np.get(a)||null,e,t,r,n,i)),!0}return!1}function IP(e){var t=$c(e.target);if(t!==null){var r=bu(t);if(r!==null){if(t=r.tag,t===13){if(t=_P(r),t!==null){e.blockedOn=t,LP(e.priority,function(){CP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=m2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);c2=n,r.target.dispatchEvent(n),c2=null}else return t=Bp(r),t!==null&&M5(t),e.blockedOn=r,!1;t.shift()}return!0}function n3(e,t,r){tg(e)&&r.delete(t)}function rF(){p2=!1,Sl!==null&&tg(Sl)&&(Sl=null),kl!==null&&tg(kl)&&(kl=null),Al!==null&&tg(Al)&&(Al=null),rp.forEach(n3),np.forEach(n3)}function sh(e,t){e.blockedOn===t&&(e.blockedOn=null,p2||(p2=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,rF)))}function ip(e){function t(i){return sh(i,e)}if(0<t0.length){sh(t0[0],e);for(var r=1;r<t0.length;r++){var n=t0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sl!==null&&sh(Sl,e),kl!==null&&sh(kl,e),Al!==null&&sh(Al,e),rp.forEach(t),np.forEach(t),r=0;r<ml.length;r++)n=ml[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ml.length&&(r=ml[0],r.blockedOn===null);)IP(r),r.blockedOn===null&&ml.shift()}var Ad=To.ReactCurrentBatchConfig,Cg=!0;function nF(e,t,r,n){var i=Yt,a=Ad.transition;Ad.transition=null;try{Yt=1,D5(e,t,r,n)}finally{Yt=i,Ad.transition=a}}function iF(e,t,r,n){var i=Yt,a=Ad.transition;Ad.transition=null;try{Yt=4,D5(e,t,r,n)}finally{Yt=i,Ad.transition=a}}function D5(e,t,r,n){if(Cg){var i=m2(e,t,r,n);if(i===null)Ab(e,t,n,Tg,r),r3(e,n);else if(tF(i,e,t,r,n))n.stopPropagation();else if(r3(e,n),t&4&&-1<eF.indexOf(e)){for(;i!==null;){var a=Bp(i);if(a!==null&&PP(a),a=m2(e,t,r,n),a===null&&Ab(e,t,n,Tg,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Ab(e,t,n,null,r)}}var Tg=null;function m2(e,t,r,n){if(Tg=null,e=L5(n),e=$c(e),e!==null)if(t=bu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_P(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tg=e,null}function RP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HB()){case I5:return 1;case kP:return 4;case Og:case KB:return 16;case AP:return 536870912;default:return 16}default:return 16}}var xl=null,B5=null,rg=null;function MP(){if(rg)return rg;var e,t=B5,r=t.length,n,i="value"in xl?xl.value:xl.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return rg=i.slice(e,1<n?1-n:void 0)}function ng(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function r0(){return!0}function i3(){return!1}function pa(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?r0:i3,this.isPropagationStopped=i3,this}return Or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=r0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=r0)},persist:function(){},isPersistent:r0}),t}var af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F5=pa(af),Dp=Or({},af,{view:0,detail:0}),aF=pa(Dp),yb,bb,oh,oy=Or({},Dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oh&&(oh&&e.type==="mousemove"?(yb=e.screenX-oh.screenX,bb=e.screenY-oh.screenY):bb=yb=0,oh=e),yb)},movementY:function(e){return"movementY"in e?e.movementY:bb}}),a3=pa(oy),sF=Or({},oy,{dataTransfer:0}),oF=pa(sF),lF=Or({},Dp,{relatedTarget:0}),xb=pa(lF),cF=Or({},af,{animationName:0,elapsedTime:0,pseudoElement:0}),uF=pa(cF),dF=Or({},af,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fF=pa(dF),hF=Or({},af,{data:0}),s3=pa(hF),pF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gF[e])?!!t[e]:!1}function $5(){return vF}var yF=Or({},Dp,{key:function(e){if(e.key){var t=pF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ng(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$5,charCode:function(e){return e.type==="keypress"?ng(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ng(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bF=pa(yF),xF=Or({},oy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o3=pa(xF),wF=Or({},Dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$5}),_F=pa(wF),jF=Or({},af,{propertyName:0,elapsedTime:0,pseudoElement:0}),NF=pa(jF),SF=Or({},oy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kF=pa(SF),AF=[9,13,27,32],U5=xo&&"CompositionEvent"in window,Rh=null;xo&&"documentMode"in document&&(Rh=document.documentMode);var EF=xo&&"TextEvent"in window&&!Rh,DP=xo&&(!U5||Rh&&8<Rh&&11>=Rh),l3=" ",c3=!1;function BP(e,t){switch(e){case"keyup":return AF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ud=!1;function OF(e,t){switch(e){case"compositionend":return FP(t);case"keypress":return t.which!==32?null:(c3=!0,l3);case"textInput":return e=t.data,e===l3&&c3?null:e;default:return null}}function PF(e,t){if(ud)return e==="compositionend"||!U5&&BP(e,t)?(e=MP(),rg=B5=xl=null,ud=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DP&&t.locale!=="ko"?null:t.data;default:return null}}var CF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CF[e.type]:t==="textarea"}function $P(e,t,r,n){vP(n),t=Lg(t,"onChange"),0<t.length&&(r=new F5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mh=null,ap=null;function TF(e){JP(e,0)}function ly(e){var t=hd(e);if(uP(t))return e}function LF(e,t){if(e==="change")return t}var UP=!1;if(xo){var wb;if(xo){var _b="oninput"in document;if(!_b){var d3=document.createElement("div");d3.setAttribute("oninput","return;"),_b=typeof d3.oninput=="function"}wb=_b}else wb=!1;UP=wb&&(!document.documentMode||9<document.documentMode)}function f3(){Mh&&(Mh.detachEvent("onpropertychange",zP),ap=Mh=null)}function zP(e){if(e.propertyName==="value"&&ly(ap)){var t=[];$P(t,ap,e,L5(e)),wP(TF,t)}}function IF(e,t,r){e==="focusin"?(f3(),Mh=t,ap=r,Mh.attachEvent("onpropertychange",zP)):e==="focusout"&&f3()}function RF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ly(ap)}function MF(e,t){if(e==="click")return ly(t)}function DF(e,t){if(e==="input"||e==="change")return ly(t)}function BF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:BF;function sp(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Jx.call(t,i)||!us(e[i],t[i]))return!1}return!0}function h3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p3(e,t){var r=h3(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=h3(r)}}function qP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WP(){for(var e=window,t=kg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kg(e.document)}return t}function z5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FF(e){var t=WP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qP(r.ownerDocument.documentElement,r)){if(n!==null&&z5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=p3(r,a);var s=p3(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $F=xo&&"documentMode"in document&&11>=document.documentMode,dd=null,g2=null,Dh=null,v2=!1;function m3(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;v2||dd==null||dd!==kg(n)||(n=dd,"selectionStart"in n&&z5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dh&&sp(Dh,n)||(Dh=n,n=Lg(g2,"onSelect"),0<n.length&&(t=new F5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=dd)))}function n0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fd={animationend:n0("Animation","AnimationEnd"),animationiteration:n0("Animation","AnimationIteration"),animationstart:n0("Animation","AnimationStart"),transitionend:n0("Transition","TransitionEnd")},jb={},HP={};xo&&(HP=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function cy(e){if(jb[e])return jb[e];if(!fd[e])return e;var t=fd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HP)return jb[e]=t[r];return e}var KP=cy("animationend"),VP=cy("animationiteration"),GP=cy("animationstart"),YP=cy("transitionend"),XP=new Map,g3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(e,t){XP.set(e,t),yu(t,[e])}for(var Nb=0;Nb<g3.length;Nb++){var Sb=g3[Nb],UF=Sb.toLowerCase(),zF=Sb[0].toUpperCase()+Sb.slice(1);zl(UF,"on"+zF)}zl(KP,"onAnimationEnd");zl(VP,"onAnimationIteration");zl(GP,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(YP,"onTransitionEnd");Bd("onMouseEnter",["mouseout","mouseover"]);Bd("onMouseLeave",["mouseout","mouseover"]);Bd("onPointerEnter",["pointerout","pointerover"]);Bd("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qF=new Set("cancel close invalid load scroll toggle".split(" ").concat(kh));function v3(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,UB(n,t,void 0,e),e.currentTarget=null}function JP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;v3(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;v3(i,o,u),a=l}}}if(Eg)throw e=f2,Eg=!1,f2=null,e}function ur(e,t){var r=t[_2];r===void 0&&(r=t[_2]=new Set);var n=e+"__bubble";r.has(n)||(ZP(t,e,2,!1),r.add(n))}function kb(e,t,r){var n=0;t&&(n|=4),ZP(r,e,n,t)}var i0="_reactListening"+Math.random().toString(36).slice(2);function op(e){if(!e[i0]){e[i0]=!0,aP.forEach(function(r){r!=="selectionchange"&&(qF.has(r)||kb(r,!1,e),kb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[i0]||(t[i0]=!0,kb("selectionchange",!1,t))}}function ZP(e,t,r,n){switch(RP(t)){case 1:var i=nF;break;case 4:i=iF;break;default:i=D5}r=i.bind(null,t,r,e),i=void 0,!d2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ab(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=$c(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}wP(function(){var u=a,d=L5(r),f=[];e:{var p=XP.get(e);if(p!==void 0){var h=F5,m=e;switch(e){case"keypress":if(ng(r)===0)break e;case"keydown":case"keyup":h=bF;break;case"focusin":m="focus",h=xb;break;case"focusout":m="blur",h=xb;break;case"beforeblur":case"afterblur":h=xb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=a3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=oF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=_F;break;case KP:case VP:case GP:h=uF;break;case YP:h=NF;break;case"scroll":h=aF;break;case"wheel":h=kF;break;case"copy":case"cut":case"paste":h=fF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=o3}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,v!==null&&(x=tp(b,v),x!=null&&g.push(lp(b,x,w)))),y)break;b=b.return}0<g.length&&(p=new h(p,m,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==c2&&(m=r.relatedTarget||r.fromElement)&&($c(m)||m[wo]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=u,m=m?$c(m):null,m!==null&&(y=bu(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=a3,x="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=o3,x="onPointerLeave",v="onPointerEnter",b="pointer"),y=h==null?p:hd(h),w=m==null?p:hd(m),p=new g(x,b+"leave",h,r,d),p.target=y,p.relatedTarget=w,x=null,$c(d)===u&&(g=new g(v,b+"enter",m,r,d),g.target=w,g.relatedTarget=y,x=g),y=x,h&&m)t:{for(g=h,v=m,b=0,w=g;w;w=zu(w))b++;for(w=0,x=v;x;x=zu(x))w++;for(;0<b-w;)g=zu(g),b--;for(;0<w-b;)v=zu(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=zu(g),v=zu(v)}g=null}else g=null;h!==null&&y3(f,p,h,g,!1),m!==null&&y!==null&&y3(f,y,m,g,!0)}}e:{if(p=u?hd(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var j=LF;else if(u3(p))if(UP)j=DF;else{j=RF;var O=IF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=MF);if(j&&(j=j(e,u))){$P(f,j,r,d);break e}O&&O(e,p,u),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&i2(p,"number",p.value)}switch(O=u?hd(u):window,e){case"focusin":(u3(O)||O.contentEditable==="true")&&(dd=O,g2=u,Dh=null);break;case"focusout":Dh=g2=dd=null;break;case"mousedown":v2=!0;break;case"contextmenu":case"mouseup":case"dragend":v2=!1,m3(f,r,d);break;case"selectionchange":if($F)break;case"keydown":case"keyup":m3(f,r,d)}var N;if(U5)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ud?BP(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(DP&&r.locale!=="ko"&&(ud||E!=="onCompositionStart"?E==="onCompositionEnd"&&ud&&(N=MP()):(xl=d,B5="value"in xl?xl.value:xl.textContent,ud=!0)),O=Lg(u,E),0<O.length&&(E=new s3(E,e,null,r,d),f.push({event:E,listeners:O}),N?E.data=N:(N=FP(r),N!==null&&(E.data=N)))),(N=EF?OF(e,r):PF(e,r))&&(u=Lg(u,"onBeforeInput"),0<u.length&&(d=new s3("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}JP(f,t)})}function lp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lg(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=tp(e,r),a!=null&&n.unshift(lp(e,a,i)),a=tp(e,t),a!=null&&n.push(lp(e,a,i))),e=e.return}return n}function zu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y3(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=tp(r,a),l!=null&&s.unshift(lp(r,l,o))):i||(l=tp(r,a),l!=null&&s.push(lp(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var WF=/\r\n?/g,HF=/\u0000|\uFFFD/g;function b3(e){return(typeof e=="string"?e:""+e).replace(WF,`
`).replace(HF,"")}function a0(e,t,r){if(t=b3(t),b3(e)!==t&&r)throw Error(Me(425))}function Ig(){}var y2=null,b2=null;function x2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var w2=typeof setTimeout=="function"?setTimeout:void 0,KF=typeof clearTimeout=="function"?clearTimeout:void 0,x3=typeof Promise=="function"?Promise:void 0,VF=typeof queueMicrotask=="function"?queueMicrotask:typeof x3<"u"?function(e){return x3.resolve(null).then(e).catch(GF)}:w2;function GF(e){setTimeout(function(){throw e})}function Eb(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ip(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ip(t)}function El(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sf=Math.random().toString(36).slice(2),Os="__reactFiber$"+sf,cp="__reactProps$"+sf,wo="__reactContainer$"+sf,_2="__reactEvents$"+sf,YF="__reactListeners$"+sf,XF="__reactHandles$"+sf;function $c(e){var t=e[Os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wo]||r[Os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=w3(e);e!==null;){if(r=e[Os])return r;e=w3(e)}return t}e=r,r=e.parentNode}return null}function Bp(e){return e=e[Os]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function uy(e){return e[cp]||null}var j2=[],pd=-1;function ql(e){return{current:e}}function pr(e){0>pd||(e.current=j2[pd],j2[pd]=null,pd--)}function sr(e,t){pd++,j2[pd]=e.current,e.current=t}var Ml={},si=ql(Ml),Ii=ql(!1),nu=Ml;function Fd(e,t){var r=e.type.contextTypes;if(!r)return Ml;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ri(e){return e=e.childContextTypes,e!=null}function Rg(){pr(Ii),pr(si)}function _3(e,t,r){if(si.current!==Ml)throw Error(Me(168));sr(si,t),sr(Ii,r)}function QP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Me(108,IB(e)||"Unknown",i));return Or({},r,n)}function Mg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ml,nu=si.current,sr(si,e),sr(Ii,Ii.current),!0}function j3(e,t,r){var n=e.stateNode;if(!n)throw Error(Me(169));r?(e=QP(e,t,nu),n.__reactInternalMemoizedMergedChildContext=e,pr(Ii),pr(si),sr(si,e)):pr(Ii),sr(Ii,r)}var so=null,dy=!1,Ob=!1;function eC(e){so===null?so=[e]:so.push(e)}function JF(e){dy=!0,eC(e)}function Wl(){if(!Ob&&so!==null){Ob=!0;var e=0,t=Yt;try{var r=so;for(Yt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}so=null,dy=!1}catch(i){throw so!==null&&(so=so.slice(e+1)),SP(I5,Wl),i}finally{Yt=t,Ob=!1}}return null}var md=[],gd=0,Dg=null,Bg=0,Ea=[],Oa=0,iu=null,fo=1,ho="";function Ac(e,t){md[gd++]=Bg,md[gd++]=Dg,Dg=e,Bg=t}function tC(e,t,r){Ea[Oa++]=fo,Ea[Oa++]=ho,Ea[Oa++]=iu,iu=e;var n=fo;e=ho;var i=32-ls(n)-1;n&=~(1<<i),r+=1;var a=32-ls(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,fo=1<<32-ls(t)+i|r<<i|n,ho=a+e}else fo=1<<a|r<<i|n,ho=e}function q5(e){e.return!==null&&(Ac(e,1),tC(e,1,0))}function W5(e){for(;e===Dg;)Dg=md[--gd],md[gd]=null,Bg=md[--gd],md[gd]=null;for(;e===iu;)iu=Ea[--Oa],Ea[Oa]=null,ho=Ea[--Oa],Ea[Oa]=null,fo=Ea[--Oa],Ea[Oa]=null}var oa=null,aa=null,br=!1,as=null;function rC(e,t){var r=Pa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function N3(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oa=e,aa=El(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oa=e,aa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=iu!==null?{id:fo,overflow:ho}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,oa=e,aa=null,!0):!1;default:return!1}}function N2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function S2(e){if(br){var t=aa;if(t){var r=t;if(!N3(e,t)){if(N2(e))throw Error(Me(418));t=El(r.nextSibling);var n=oa;t&&N3(e,t)?rC(n,r):(e.flags=e.flags&-4097|2,br=!1,oa=e)}}else{if(N2(e))throw Error(Me(418));e.flags=e.flags&-4097|2,br=!1,oa=e}}}function S3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oa=e}function s0(e){if(e!==oa)return!1;if(!br)return S3(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x2(e.type,e.memoizedProps)),t&&(t=aa)){if(N2(e))throw nC(),Error(Me(418));for(;t;)rC(e,t),t=El(t.nextSibling)}if(S3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){aa=El(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}aa=null}}else aa=oa?El(e.stateNode.nextSibling):null;return!0}function nC(){for(var e=aa;e;)e=El(e.nextSibling)}function $d(){aa=oa=null,br=!1}function H5(e){as===null?as=[e]:as.push(e)}var ZF=To.ReactCurrentBatchConfig;function lh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,e))}return e}function o0(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function k3(e){var t=e._init;return t(e._payload)}function iC(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Tl(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,x){return b===null||b.tag!==6?(b=Mb(w,v.mode,x),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,x){var j=w.type;return j===cd?d(v,b,w.props.children,x,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cl&&k3(j)===b.type)?(x=i(b,w.props),x.ref=lh(v,b,w),x.return=v,x):(x=ug(w.type,w.key,w.props,null,v.mode,x),x.ref=lh(v,b,w),x.return=v,x)}function u(v,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Db(w,v.mode,x),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,x,j){return b===null||b.tag!==7?(b=Xc(w,v.mode,x,j),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mb(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xm:return w=ug(b.type,b.key,b.props,null,v.mode,w),w.ref=lh(v,null,b),w.return=v,w;case ld:return b=Db(b,v.mode,w),b.return=v,b;case cl:var x=b._init;return f(v,x(b._payload),w)}if(Nh(b)||nh(b))return b=Xc(b,v.mode,w,null),b.return=v,b;o0(v,b)}return null}function p(v,b,w,x){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:o(v,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xm:return w.key===j?l(v,b,w,x):null;case ld:return w.key===j?u(v,b,w,x):null;case cl:return j=w._init,p(v,b,j(w._payload),x)}if(Nh(w)||nh(w))return j!==null?null:d(v,b,w,x,null);o0(v,w)}return null}function h(v,b,w,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(w)||null,o(b,v,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xm:return v=v.get(x.key===null?w:x.key)||null,l(b,v,x,j);case ld:return v=v.get(x.key===null?w:x.key)||null,u(b,v,x,j);case cl:var O=x._init;return h(v,b,w,O(x._payload),j)}if(Nh(x)||nh(x))return v=v.get(w)||null,d(b,v,x,j,null);o0(b,x)}return null}function m(v,b,w,x){for(var j=null,O=null,N=b,E=b=0,P=null;N!==null&&E<w.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var C=p(v,N,w[E],x);if(C===null){N===null&&(N=P);break}e&&N&&C.alternate===null&&t(v,N),b=a(C,b,E),O===null?j=C:O.sibling=C,O=C,N=P}if(E===w.length)return r(v,N),br&&Ac(v,E),j;if(N===null){for(;E<w.length;E++)N=f(v,w[E],x),N!==null&&(b=a(N,b,E),O===null?j=N:O.sibling=N,O=N);return br&&Ac(v,E),j}for(N=n(v,N);E<w.length;E++)P=h(N,v,E,w[E],x),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),b=a(P,b,E),O===null?j=P:O.sibling=P,O=P);return e&&N.forEach(function(S){return t(v,S)}),br&&Ac(v,E),j}function g(v,b,w,x){var j=nh(w);if(typeof j!="function")throw Error(Me(150));if(w=j.call(w),w==null)throw Error(Me(151));for(var O=j=null,N=b,E=b=0,P=null,C=w.next();N!==null&&!C.done;E++,C=w.next()){N.index>E?(P=N,N=null):P=N.sibling;var S=p(v,N,C.value,x);if(S===null){N===null&&(N=P);break}e&&N&&S.alternate===null&&t(v,N),b=a(S,b,E),O===null?j=S:O.sibling=S,O=S,N=P}if(C.done)return r(v,N),br&&Ac(v,E),j;if(N===null){for(;!C.done;E++,C=w.next())C=f(v,C.value,x),C!==null&&(b=a(C,b,E),O===null?j=C:O.sibling=C,O=C);return br&&Ac(v,E),j}for(N=n(v,N);!C.done;E++,C=w.next())C=h(N,v,E,C.value,x),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?E:C.key),b=a(C,b,E),O===null?j=C:O.sibling=C,O=C);return e&&N.forEach(function(A){return t(v,A)}),br&&Ac(v,E),j}function y(v,b,w,x){if(typeof w=="object"&&w!==null&&w.type===cd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xm:e:{for(var j=w.key,O=b;O!==null;){if(O.key===j){if(j=w.type,j===cd){if(O.tag===7){r(v,O.sibling),b=i(O,w.props.children),b.return=v,v=b;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cl&&k3(j)===O.type){r(v,O.sibling),b=i(O,w.props),b.ref=lh(v,O,w),b.return=v,v=b;break e}r(v,O);break}else t(v,O);O=O.sibling}w.type===cd?(b=Xc(w.props.children,v.mode,x,w.key),b.return=v,v=b):(x=ug(w.type,w.key,w.props,null,v.mode,x),x.ref=lh(v,b,w),x.return=v,v=x)}return s(v);case ld:e:{for(O=w.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Db(w,v.mode,x),b.return=v,v=b}return s(v);case cl:return O=w._init,y(v,b,O(w._payload),x)}if(Nh(w))return m(v,b,w,x);if(nh(w))return g(v,b,w,x);o0(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,w),b.return=v,v=b):(r(v,b),b=Mb(w,v.mode,x),b.return=v,v=b),s(v)):r(v,b)}return y}var Ud=iC(!0),aC=iC(!1),Fg=ql(null),$g=null,vd=null,K5=null;function V5(){K5=vd=$g=null}function G5(e){var t=Fg.current;pr(Fg),e._currentValue=t}function k2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ed(e,t){$g=e,K5=vd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ti=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(K5!==e)if(e={context:e,memoizedValue:t,next:null},vd===null){if($g===null)throw Error(Me(308));vd=e,$g.dependencies={lanes:0,firstContext:e}}else vd=vd.next=e;return t}var Uc=null;function Y5(e){Uc===null?Uc=[e]:Uc.push(e)}function sC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Y5(t)):(r.next=i.next,i.next=r),t.interleaved=r,_o(e,n)}function _o(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ul=!1;function X5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,_o(e,r)}return i=n.interleaved,i===null?(t.next=t,Y5(n)):(t.next=i.next,i.next=t),n.interleaved=t,_o(e,r)}function ig(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R5(e,r)}}function A3(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ug(e,t,r,n){var i=e.updateQueue;ul=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(p=t,h=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(h,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(h,f,p):m,p==null)break e;f=Or({},f,p);break e;case 2:ul=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);su|=s,e.lanes=s,e.memoizedState=f}}function E3(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Me(191,i));i.call(n)}}}var Fp={},Ls=ql(Fp),up=ql(Fp),dp=ql(Fp);function zc(e){if(e===Fp)throw Error(Me(174));return e}function J5(e,t){switch(sr(dp,t),sr(up,e),sr(Ls,Fp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:s2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=s2(t,e)}pr(Ls),sr(Ls,t)}function zd(){pr(Ls),pr(up),pr(dp)}function lC(e){zc(dp.current);var t=zc(Ls.current),r=s2(t,e.type);t!==r&&(sr(up,e),sr(Ls,r))}function Z5(e){up.current===e&&(pr(Ls),pr(up))}var Ar=ql(0);function zg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pb=[];function Q5(){for(var e=0;e<Pb.length;e++)Pb[e]._workInProgressVersionPrimary=null;Pb.length=0}var ag=To.ReactCurrentDispatcher,Cb=To.ReactCurrentBatchConfig,au=0,Er=null,yn=null,En=null,qg=!1,Bh=!1,fp=0,QF=0;function Yn(){throw Error(Me(321))}function e_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!us(e[r],t[r]))return!1;return!0}function t_(e,t,r,n,i,a){if(au=a,Er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ag.current=e===null||e.memoizedState===null?n$:i$,e=r(n,i),Bh){a=0;do{if(Bh=!1,fp=0,25<=a)throw Error(Me(301));a+=1,En=yn=null,t.updateQueue=null,ag.current=a$,e=r(n,i)}while(Bh)}if(ag.current=Wg,t=yn!==null&&yn.next!==null,au=0,En=yn=Er=null,qg=!1,t)throw Error(Me(300));return e}function r_(){var e=fp!==0;return fp=0,e}function As(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Er.memoizedState=En=e:En=En.next=e,En}function Ra(){if(yn===null){var e=Er.alternate;e=e!==null?e.memoizedState:null}else e=yn.next;var t=En===null?Er.memoizedState:En.next;if(t!==null)En=t,yn=e;else{if(e===null)throw Error(Me(310));yn=e,e={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},En===null?Er.memoizedState=En=e:En=En.next=e}return En}function hp(e,t){return typeof t=="function"?t(e):t}function Tb(e){var t=Ra(),r=t.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=e;var n=yn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((au&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Er.lanes|=d,su|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,us(n,t.memoizedState)||(Ti=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Er.lanes|=a,su|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lb(e){var t=Ra(),r=t.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);us(a,t.memoizedState)||(Ti=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function cC(){}function uC(e,t){var r=Er,n=Ra(),i=t(),a=!us(n.memoizedState,i);if(a&&(n.memoizedState=i,Ti=!0),n=n.queue,n_(hC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||En!==null&&En.memoizedState.tag&1){if(r.flags|=2048,pp(9,fC.bind(null,r,n,i,t),void 0,null),Cn===null)throw Error(Me(349));au&30||dC(r,t,i)}return i}function dC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Er.updateQueue,t===null?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fC(e,t,r,n){t.value=r,t.getSnapshot=n,pC(t)&&mC(e)}function hC(e,t,r){return r(function(){pC(t)&&mC(e)})}function pC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!us(e,r)}catch{return!0}}function mC(e){var t=_o(e,1);t!==null&&cs(t,e,1,-1)}function O3(e){var t=As();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:e},t.queue=e,e=e.dispatch=r$.bind(null,Er,e),[t.memoizedState,e]}function pp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Er.updateQueue,t===null?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gC(){return Ra().memoizedState}function sg(e,t,r,n){var i=As();Er.flags|=e,i.memoizedState=pp(1|t,r,void 0,n===void 0?null:n)}function fy(e,t,r,n){var i=Ra();n=n===void 0?null:n;var a=void 0;if(yn!==null){var s=yn.memoizedState;if(a=s.destroy,n!==null&&e_(n,s.deps)){i.memoizedState=pp(t,r,a,n);return}}Er.flags|=e,i.memoizedState=pp(1|t,r,a,n)}function P3(e,t){return sg(8390656,8,e,t)}function n_(e,t){return fy(2048,8,e,t)}function vC(e,t){return fy(4,2,e,t)}function yC(e,t){return fy(4,4,e,t)}function bC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xC(e,t,r){return r=r!=null?r.concat([e]):null,fy(4,4,bC.bind(null,t,e),r)}function i_(){}function wC(e,t){var r=Ra();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _C(e,t){var r=Ra();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jC(e,t,r){return au&21?(us(r,t)||(r=EP(),Er.lanes|=r,su|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ti=!0),e.memoizedState=r)}function e$(e,t){var r=Yt;Yt=r!==0&&4>r?r:4,e(!0);var n=Cb.transition;Cb.transition={};try{e(!1),t()}finally{Yt=r,Cb.transition=n}}function NC(){return Ra().memoizedState}function t$(e,t,r){var n=Cl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SC(e))kC(t,r);else if(r=sC(e,t,r,n),r!==null){var i=wi();cs(r,e,n,i),AC(r,t,n)}}function r$(e,t,r){var n=Cl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SC(e))kC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,us(o,s)){var l=t.interleaved;l===null?(i.next=i,Y5(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=sC(e,t,i,n),r!==null&&(i=wi(),cs(r,e,n,i),AC(r,t,n))}}function SC(e){var t=e.alternate;return e===Er||t!==null&&t===Er}function kC(e,t){Bh=qg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R5(e,r)}}var Wg={readContext:Ia,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},n$={readContext:Ia,useCallback:function(e,t){return As().memoizedState=[e,t===void 0?null:t],e},useContext:Ia,useEffect:P3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sg(4194308,4,bC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sg(4194308,4,e,t)},useInsertionEffect:function(e,t){return sg(4,2,e,t)},useMemo:function(e,t){var r=As();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=As();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=t$.bind(null,Er,e),[n.memoizedState,e]},useRef:function(e){var t=As();return e={current:e},t.memoizedState=e},useState:O3,useDebugValue:i_,useDeferredValue:function(e){return As().memoizedState=e},useTransition:function(){var e=O3(!1),t=e[0];return e=e$.bind(null,e[1]),As().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Er,i=As();if(br){if(r===void 0)throw Error(Me(407));r=r()}else{if(r=t(),Cn===null)throw Error(Me(349));au&30||dC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,P3(hC.bind(null,n,a,e),[e]),n.flags|=2048,pp(9,fC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=As(),t=Cn.identifierPrefix;if(br){var r=ho,n=fo;r=(n&~(1<<32-ls(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=QF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},i$={readContext:Ia,useCallback:wC,useContext:Ia,useEffect:n_,useImperativeHandle:xC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:_C,useReducer:Tb,useRef:gC,useState:function(){return Tb(hp)},useDebugValue:i_,useDeferredValue:function(e){var t=Ra();return jC(t,yn.memoizedState,e)},useTransition:function(){var e=Tb(hp)[0],t=Ra().memoizedState;return[e,t]},useMutableSource:cC,useSyncExternalStore:uC,useId:NC,unstable_isNewReconciler:!1},a$={readContext:Ia,useCallback:wC,useContext:Ia,useEffect:n_,useImperativeHandle:xC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:_C,useReducer:Lb,useRef:gC,useState:function(){return Lb(hp)},useDebugValue:i_,useDeferredValue:function(e){var t=Ra();return yn===null?t.memoizedState=e:jC(t,yn.memoizedState,e)},useTransition:function(){var e=Lb(hp)[0],t=Ra().memoizedState;return[e,t]},useMutableSource:cC,useSyncExternalStore:uC,useId:NC,unstable_isNewReconciler:!1};function es(e,t){if(e&&e.defaultProps){t=Or({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function A2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Or({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hy={isMounted:function(e){return(e=e._reactInternals)?bu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=wi(),i=Cl(e),a=go(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ol(e,a,i),t!==null&&(cs(t,e,i,n),ig(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=wi(),i=Cl(e),a=go(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ol(e,a,i),t!==null&&(cs(t,e,i,n),ig(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wi(),n=Cl(e),i=go(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ol(e,i,n),t!==null&&(cs(t,e,n,r),ig(t,e,n))}};function C3(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!sp(r,n)||!sp(i,a):!0}function EC(e,t,r){var n=!1,i=Ml,a=t.contextType;return typeof a=="object"&&a!==null?a=Ia(a):(i=Ri(t)?nu:si.current,n=t.contextTypes,a=(n=n!=null)?Fd(e,i):Ml),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function T3(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hy.enqueueReplaceState(t,t.state,null)}function E2(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},X5(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ia(a):(a=Ri(t)?nu:si.current,i.context=Fd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(A2(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hy.enqueueReplaceState(i,i.state,null),Ug(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qd(e,t){try{var r="",n=t;do r+=LB(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ib(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function O2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var s$=typeof WeakMap=="function"?WeakMap:Map;function OC(e,t,r){r=go(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kg||(Kg=!0,F2=n),O2(e,t)},r}function PC(e,t,r){r=go(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){O2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){O2(e,t),typeof n!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function L3(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new s$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=x$.bind(null,e,t,r),t.then(e,e))}function I3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function R3(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=go(-1,1),t.tag=2,Ol(r,t,1))),r.lanes|=1),e)}var o$=To.ReactCurrentOwner,Ti=!1;function mi(e,t,r,n){t.child=e===null?aC(t,null,r,n):Ud(t,e.child,r,n)}function M3(e,t,r,n,i){r=r.render;var a=t.ref;return Ed(t,i),n=t_(e,t,r,n,a,i),r=r_(),e!==null&&!Ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jo(e,t,i)):(br&&r&&q5(t),t.flags|=1,mi(e,t,n,i),t.child)}function D3(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!f_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,CC(e,t,a,n,i)):(e=ug(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:sp,r(s,n)&&e.ref===t.ref)return jo(e,t,i)}return t.flags|=1,e=Tl(a,n),e.ref=t.ref,e.return=t,t.child=e}function CC(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(sp(a,n)&&e.ref===t.ref)if(Ti=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ti=!0);else return t.lanes=e.lanes,jo(e,t,i)}return P2(e,t,r,n,i)}function TC(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(bd,Qi),Qi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(bd,Qi),Qi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,sr(bd,Qi),Qi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,sr(bd,Qi),Qi|=n;return mi(e,t,i,r),t.child}function LC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function P2(e,t,r,n,i){var a=Ri(r)?nu:si.current;return a=Fd(t,a),Ed(t,i),r=t_(e,t,r,n,a,i),n=r_(),e!==null&&!Ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jo(e,t,i)):(br&&n&&q5(t),t.flags|=1,mi(e,t,r,i),t.child)}function B3(e,t,r,n,i){if(Ri(r)){var a=!0;Mg(t)}else a=!1;if(Ed(t,i),t.stateNode===null)og(e,t),EC(t,r,n),E2(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ia(u):(u=Ri(r)?nu:si.current,u=Fd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&T3(t,s,n,u),ul=!1;var p=t.memoizedState;s.state=p,Ug(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Ii.current||ul?(typeof d=="function"&&(A2(t,r,d,n),l=t.memoizedState),(o=ul||C3(t,r,o,n,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,oC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:es(t.type,o),s.props=u,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ia(l):(l=Ri(r)?nu:si.current,l=Fd(t,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&T3(t,s,n,l),ul=!1,p=t.memoizedState,s.state=p,Ug(t,n,s,i);var m=t.memoizedState;o!==f||p!==m||Ii.current||ul?(typeof h=="function"&&(A2(t,r,h,n),m=t.memoizedState),(u=ul||C3(t,r,u,n,p,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return C2(e,t,r,n,a,i)}function C2(e,t,r,n,i,a){LC(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&j3(t,r,!1),jo(e,t,a);n=t.stateNode,o$.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Ud(t,e.child,null,a),t.child=Ud(t,null,o,a)):mi(e,t,o,a),t.memoizedState=n.state,i&&j3(t,r,!0),t.child}function IC(e){var t=e.stateNode;t.pendingContext?_3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_3(e,t.context,!1),J5(e,t.containerInfo)}function F3(e,t,r,n,i){return $d(),H5(i),t.flags|=256,mi(e,t,r,n),t.child}var T2={dehydrated:null,treeContext:null,retryLane:0};function L2(e){return{baseLanes:e,cachePool:null,transitions:null}}function RC(e,t,r){var n=t.pendingProps,i=Ar.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sr(Ar,i&1),e===null)return S2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=gy(s,n,0,null),e=Xc(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=L2(r),t.memoizedState=T2,e):a_(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return l$(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Tl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Tl(o,a):(a=Xc(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?L2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=T2,n}return a=e.child,e=a.sibling,n=Tl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function a_(e,t){return t=gy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function l0(e,t,r,n){return n!==null&&H5(n),Ud(t,e.child,null,r),e=a_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l$(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Ib(Error(Me(422))),l0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=gy({mode:"visible",children:n.children},i,0,null),a=Xc(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ud(t,e.child,null,s),t.child.memoizedState=L2(s),t.memoizedState=T2,a);if(!(t.mode&1))return l0(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Me(419)),n=Ib(a,n,void 0),l0(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ti||o){if(n=Cn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_o(e,i),cs(n,e,i,-1))}return d_(),n=Ib(Error(Me(421))),l0(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=w$.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,aa=El(i.nextSibling),oa=t,br=!0,as=null,e!==null&&(Ea[Oa++]=fo,Ea[Oa++]=ho,Ea[Oa++]=iu,fo=e.id,ho=e.overflow,iu=t),t=a_(t,n.children),t.flags|=4096,t)}function $3(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),k2(e.return,t,r)}function Rb(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function MC(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(mi(e,t,n.children,r),n=Ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$3(e,r,t);else if(e.tag===19)$3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(Ar,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&zg(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Rb(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zg(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Rb(t,!0,r,null,a);break;case"together":Rb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function og(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),su|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,r=Tl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function c$(e,t,r){switch(t.tag){case 3:IC(t),$d();break;case 5:lC(t);break;case 1:Ri(t.type)&&Mg(t);break;case 4:J5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;sr(Fg,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(Ar,Ar.current&1),t.flags|=128,null):r&t.child.childLanes?RC(e,t,r):(sr(Ar,Ar.current&1),e=jo(e,t,r),e!==null?e.sibling:null);sr(Ar,Ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return MC(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(Ar,Ar.current),n)break;return null;case 22:case 23:return t.lanes=0,TC(e,t,r)}return jo(e,t,r)}var DC,I2,BC,FC;DC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};I2=function(){};BC=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,zc(Ls.current);var a=null;switch(r){case"input":i=r2(e,i),n=r2(e,n),a=[];break;case"select":i=Or({},i,{value:void 0}),n=Or({},n,{value:void 0}),a=[];break;case"textarea":i=a2(e,i),n=a2(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ig)}o2(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ur("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};FC=function(e,t,r,n){r!==n&&(t.flags|=4)};function ch(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function u$(e,t,r){var n=t.pendingProps;switch(W5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(t),null;case 1:return Ri(t.type)&&Rg(),Xn(t),null;case 3:return n=t.stateNode,zd(),pr(Ii),pr(si),Q5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(s0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,as!==null&&(z2(as),as=null))),I2(e,t),Xn(t),null;case 5:Z5(t);var i=zc(dp.current);if(r=t.type,e!==null&&t.stateNode!=null)BC(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Me(166));return Xn(t),null}if(e=zc(Ls.current),s0(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Os]=t,n[cp]=a,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(i=0;i<kh.length;i++)ur(kh[i],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":YS(n,a),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ur("invalid",n);break;case"textarea":JS(n,a),ur("invalid",n)}o2(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&a0(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&a0(n.textContent,o,e),i=["children",""+o]):Qh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ur("scroll",n)}switch(r){case"input":Jm(n),XS(n,a,!0);break;case"textarea":Jm(n),ZS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ig)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Os]=t,e[cp]=n,DC(e,t,!1,!1),t.stateNode=e;e:{switch(s=l2(r,n),r){case"dialog":ur("cancel",e),ur("close",e),i=n;break;case"iframe":case"object":case"embed":ur("load",e),i=n;break;case"video":case"audio":for(i=0;i<kh.length;i++)ur(kh[i],e);i=n;break;case"source":ur("error",e),i=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=n;break;case"details":ur("toggle",e),i=n;break;case"input":YS(e,n),i=r2(e,n),ur("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Or({},n,{value:void 0}),ur("invalid",e);break;case"textarea":JS(e,n),i=a2(e,n),ur("invalid",e);break;default:i=n}o2(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?gP(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pP(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ep(e,l):typeof l=="number"&&ep(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ur("scroll",e):l!=null&&O5(e,a,l,s))}switch(r){case"input":Jm(e),XS(e,n,!1);break;case"textarea":Jm(e),ZS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Nd(e,!!n.multiple,a,!1):n.defaultValue!=null&&Nd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ig)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xn(t),null;case 6:if(e&&t.stateNode!=null)FC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Me(166));if(r=zc(dp.current),zc(Ls.current),s0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Os]=t,(a=n.nodeValue!==r)&&(e=oa,e!==null))switch(e.tag){case 3:a0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&a0(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Os]=t,t.stateNode=n}return Xn(t),null;case 13:if(pr(Ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&aa!==null&&t.mode&1&&!(t.flags&128))nC(),$d(),t.flags|=98560,a=!1;else if(a=s0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Me(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Me(317));a[Os]=t}else $d(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xn(t),a=!1}else as!==null&&(z2(as),as=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ar.current&1?wn===0&&(wn=3):d_())),t.updateQueue!==null&&(t.flags|=4),Xn(t),null);case 4:return zd(),I2(e,t),e===null&&op(t.stateNode.containerInfo),Xn(t),null;case 10:return G5(t.type._context),Xn(t),null;case 17:return Ri(t.type)&&Rg(),Xn(t),null;case 19:if(pr(Ar),a=t.memoizedState,a===null)return Xn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)ch(a,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zg(e),s!==null){for(t.flags|=128,ch(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(Ar,Ar.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kr()>Wd&&(t.flags|=128,n=!0,ch(a,!1),t.lanes=4194304)}else{if(!n)if(e=zg(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ch(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!br)return Xn(t),null}else 2*Kr()-a.renderingStartTime>Wd&&r!==1073741824&&(t.flags|=128,n=!0,ch(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kr(),t.sibling=null,r=Ar.current,sr(Ar,n?r&1|2:r&1),t):(Xn(t),null);case 22:case 23:return u_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qi&1073741824&&(Xn(t),t.subtreeFlags&6&&(t.flags|=8192)):Xn(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function d$(e,t){switch(W5(t),t.tag){case 1:return Ri(t.type)&&Rg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zd(),pr(Ii),pr(si),Q5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Z5(t),null;case 13:if(pr(Ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));$d()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(Ar),null;case 4:return zd(),null;case 10:return G5(t.type._context),null;case 22:case 23:return u_(),null;case 24:return null;default:return null}}var c0=!1,ni=!1,f$=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function yd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dr(e,t,n)}else r.current=null}function R2(e,t,r){try{r()}catch(n){Dr(e,t,n)}}var U3=!1;function h$(e,t){if(y2=Cg,e=WP(),z5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++d===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(b2={focusedElem:e,selectionRange:r},Cg=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:es(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(x){Dr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return m=U3,U3=!1,m}function Fh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&R2(t,r,a)}i=i.next}while(i!==n)}}function py(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function M2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $C(e){var t=e.alternate;t!==null&&(e.alternate=null,$C(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Os],delete t[cp],delete t[_2],delete t[YF],delete t[XF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UC(e){return e.tag===5||e.tag===3||e.tag===4}function z3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ig));else if(n!==4&&(e=e.child,e!==null))for(D2(e,t,r),e=e.sibling;e!==null;)D2(e,t,r),e=e.sibling}function B2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(B2(e,t,r),e=e.sibling;e!==null;)B2(e,t,r),e=e.sibling}var qn=null,rs=!1;function al(e,t,r){for(r=r.child;r!==null;)zC(e,t,r),r=r.sibling}function zC(e,t,r){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(sy,r)}catch{}switch(r.tag){case 5:ni||yd(r,t);case 6:var n=qn,i=rs;qn=null,al(e,t,r),qn=n,rs=i,qn!==null&&(rs?(e=qn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qn.removeChild(r.stateNode));break;case 18:qn!==null&&(rs?(e=qn,r=r.stateNode,e.nodeType===8?Eb(e.parentNode,r):e.nodeType===1&&Eb(e,r),ip(e)):Eb(qn,r.stateNode));break;case 4:n=qn,i=rs,qn=r.stateNode.containerInfo,rs=!0,al(e,t,r),qn=n,rs=i;break;case 0:case 11:case 14:case 15:if(!ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&R2(r,t,s),i=i.next}while(i!==n)}al(e,t,r);break;case 1:if(!ni&&(yd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Dr(r,t,o)}al(e,t,r);break;case 21:al(e,t,r);break;case 22:r.mode&1?(ni=(n=ni)||r.memoizedState!==null,al(e,t,r),ni=n):al(e,t,r);break;default:al(e,t,r)}}function q3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new f$),t.forEach(function(n){var i=_$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ya(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:qn=o.stateNode,rs=!1;break e;case 3:qn=o.stateNode.containerInfo,rs=!0;break e;case 4:qn=o.stateNode.containerInfo,rs=!0;break e}o=o.return}if(qn===null)throw Error(Me(160));zC(a,s,i),qn=null,rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Dr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qC(t,e),t=t.sibling}function qC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ya(t,e),js(e),n&4){try{Fh(3,e,e.return),py(3,e)}catch(g){Dr(e,e.return,g)}try{Fh(5,e,e.return)}catch(g){Dr(e,e.return,g)}}break;case 1:Ya(t,e),js(e),n&512&&r!==null&&yd(r,r.return);break;case 5:if(Ya(t,e),js(e),n&512&&r!==null&&yd(r,r.return),e.flags&32){var i=e.stateNode;try{ep(i,"")}catch(g){Dr(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&dP(i,a),l2(o,s);var u=l2(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?gP(i,f):d==="dangerouslySetInnerHTML"?pP(i,f):d==="children"?ep(i,f):O5(i,d,f,u)}switch(o){case"input":n2(i,a);break;case"textarea":fP(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Nd(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Nd(i,!!a.multiple,a.defaultValue,!0):Nd(i,!!a.multiple,a.multiple?[]:"",!1))}i[cp]=a}catch(g){Dr(e,e.return,g)}}break;case 6:if(Ya(t,e),js(e),n&4){if(e.stateNode===null)throw Error(Me(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Dr(e,e.return,g)}}break;case 3:if(Ya(t,e),js(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ip(t.containerInfo)}catch(g){Dr(e,e.return,g)}break;case 4:Ya(t,e),js(e);break;case 13:Ya(t,e),js(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(l_=Kr())),n&4&&q3(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ni=(u=ni)||d,Ya(t,e),ni=u):Ya(t,e),js(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ye=e,d=e.child;d!==null;){for(f=Ye=d;Ye!==null;){switch(p=Ye,h=p.child,p.tag){case 0:case 11:case 14:case 15:Fh(4,p,p.return);break;case 1:yd(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Dr(n,r,g)}}break;case 5:yd(p,p.return);break;case 22:if(p.memoizedState!==null){H3(f);continue}}h!==null?(h.return=p,Ye=h):H3(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=mP("display",s))}catch(g){Dr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Dr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ya(t,e),js(e),n&4&&q3(e);break;case 21:break;default:Ya(t,e),js(e)}}function js(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(UC(r)){var n=r;break e}r=r.return}throw Error(Me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ep(i,""),n.flags&=-33);var a=z3(e);B2(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=z3(e);D2(e,o,s);break;default:throw Error(Me(161))}}catch(l){Dr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p$(e,t,r){Ye=e,WC(e)}function WC(e,t,r){for(var n=(e.mode&1)!==0;Ye!==null;){var i=Ye,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||c0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ni;o=c0;var u=ni;if(c0=s,(ni=l)&&!u)for(Ye=i;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?K3(i):l!==null?(l.return=s,Ye=l):K3(i);for(;a!==null;)Ye=a,WC(a),a=a.sibling;Ye=i,c0=o,ni=u}W3(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ye=a):W3(e)}}function W3(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ni||py(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ni)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:es(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&E3(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}E3(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ip(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}ni||t.flags&512&&M2(t)}catch(p){Dr(t,t.return,p)}}if(t===e){Ye=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function H3(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function K3(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{py(4,t)}catch(l){Dr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Dr(t,i,l)}}var a=t.return;try{M2(t)}catch(l){Dr(t,a,l)}break;case 5:var s=t.return;try{M2(t)}catch(l){Dr(t,s,l)}}}catch(l){Dr(t,t.return,l)}if(t===e){Ye=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ye=o;break}Ye=t.return}}var m$=Math.ceil,Hg=To.ReactCurrentDispatcher,s_=To.ReactCurrentOwner,Ta=To.ReactCurrentBatchConfig,Bt=0,Cn=null,an=null,Wn=0,Qi=0,bd=ql(0),wn=0,mp=null,su=0,my=0,o_=0,$h=null,Pi=null,l_=0,Wd=1/0,io=null,Kg=!1,F2=null,Pl=null,u0=!1,wl=null,Vg=0,Uh=0,$2=null,lg=-1,cg=0;function wi(){return Bt&6?Kr():lg!==-1?lg:lg=Kr()}function Cl(e){return e.mode&1?Bt&2&&Wn!==0?Wn&-Wn:ZF.transition!==null?(cg===0&&(cg=EP()),cg):(e=Yt,e!==0||(e=window.event,e=e===void 0?16:RP(e.type)),e):1}function cs(e,t,r,n){if(50<Uh)throw Uh=0,$2=null,Error(Me(185));Mp(e,r,n),(!(Bt&2)||e!==Cn)&&(e===Cn&&(!(Bt&2)&&(my|=r),wn===4&&gl(e,Wn)),Mi(e,n),r===1&&Bt===0&&!(t.mode&1)&&(Wd=Kr()+500,dy&&Wl()))}function Mi(e,t){var r=e.callbackNode;ZB(e,t);var n=Pg(e,e===Cn?Wn:0);if(n===0)r!==null&&t3(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&t3(r),t===1)e.tag===0?JF(V3.bind(null,e)):eC(V3.bind(null,e)),VF(function(){!(Bt&6)&&Wl()}),r=null;else{switch(OP(n)){case 1:r=I5;break;case 4:r=kP;break;case 16:r=Og;break;case 536870912:r=AP;break;default:r=Og}r=ZC(r,HC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HC(e,t){if(lg=-1,cg=0,Bt&6)throw Error(Me(327));var r=e.callbackNode;if(Od()&&e.callbackNode!==r)return null;var n=Pg(e,e===Cn?Wn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gg(e,n);else{t=n;var i=Bt;Bt|=2;var a=VC();(Cn!==e||Wn!==t)&&(io=null,Wd=Kr()+500,Yc(e,t));do try{y$();break}catch(o){KC(e,o)}while(!0);V5(),Hg.current=a,Bt=i,an!==null?t=0:(Cn=null,Wn=0,t=wn)}if(t!==0){if(t===2&&(i=h2(e),i!==0&&(n=i,t=U2(e,i))),t===1)throw r=mp,Yc(e,0),gl(e,n),Mi(e,Kr()),r;if(t===6)gl(e,n);else{if(i=e.current.alternate,!(n&30)&&!g$(i)&&(t=Gg(e,n),t===2&&(a=h2(e),a!==0&&(n=a,t=U2(e,a))),t===1))throw r=mp,Yc(e,0),gl(e,n),Mi(e,Kr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Me(345));case 2:Ec(e,Pi,io);break;case 3:if(gl(e,n),(n&130023424)===n&&(t=l_+500-Kr(),10<t)){if(Pg(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){wi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=w2(Ec.bind(null,e,Pi,io),t);break}Ec(e,Pi,io);break;case 4:if(gl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ls(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m$(n/1960))-n,10<n){e.timeoutHandle=w2(Ec.bind(null,e,Pi,io),n);break}Ec(e,Pi,io);break;case 5:Ec(e,Pi,io);break;default:throw Error(Me(329))}}}return Mi(e,Kr()),e.callbackNode===r?HC.bind(null,e):null}function U2(e,t){var r=$h;return e.current.memoizedState.isDehydrated&&(Yc(e,t).flags|=256),e=Gg(e,t),e!==2&&(t=Pi,Pi=r,t!==null&&z2(t)),e}function z2(e){Pi===null?Pi=e:Pi.push.apply(Pi,e)}function g$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!us(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gl(e,t){for(t&=~o_,t&=~my,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ls(t),n=1<<r;e[r]=-1,t&=~n}}function V3(e){if(Bt&6)throw Error(Me(327));Od();var t=Pg(e,0);if(!(t&1))return Mi(e,Kr()),null;var r=Gg(e,t);if(e.tag!==0&&r===2){var n=h2(e);n!==0&&(t=n,r=U2(e,n))}if(r===1)throw r=mp,Yc(e,0),gl(e,t),Mi(e,Kr()),r;if(r===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Pi,io),Mi(e,Kr()),null}function c_(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(Wd=Kr()+500,dy&&Wl())}}function ou(e){wl!==null&&wl.tag===0&&!(Bt&6)&&Od();var t=Bt;Bt|=1;var r=Ta.transition,n=Yt;try{if(Ta.transition=null,Yt=1,e)return e()}finally{Yt=n,Ta.transition=r,Bt=t,!(Bt&6)&&Wl()}}function u_(){Qi=bd.current,pr(bd)}function Yc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,KF(r)),an!==null)for(r=an.return;r!==null;){var n=r;switch(W5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rg();break;case 3:zd(),pr(Ii),pr(si),Q5();break;case 5:Z5(n);break;case 4:zd();break;case 13:pr(Ar);break;case 19:pr(Ar);break;case 10:G5(n.type._context);break;case 22:case 23:u_()}r=r.return}if(Cn=e,an=e=Tl(e.current,null),Wn=Qi=t,wn=0,mp=null,o_=my=su=0,Pi=$h=null,Uc!==null){for(t=0;t<Uc.length;t++)if(r=Uc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Uc=null}return e}function KC(e,t){do{var r=an;try{if(V5(),ag.current=Wg,qg){for(var n=Er.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qg=!1}if(au=0,En=yn=Er=null,Bh=!1,fp=0,s_.current=null,r===null||r.return===null){wn=1,mp=t,an=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Wn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=I3(s);if(h!==null){h.flags&=-257,R3(h,s,o,a,t),h.mode&1&&L3(a,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){L3(a,u,t),d_();break e}l=Error(Me(426))}}else if(br&&o.mode&1){var y=I3(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),R3(y,s,o,a,t),H5(qd(l,o));break e}}a=l=qd(l,o),wn!==4&&(wn=2),$h===null?$h=[a]:$h.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=OC(a,l,t);A3(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pl===null||!Pl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=PC(a,o,t);A3(a,x);break e}}a=a.return}while(a!==null)}YC(r)}catch(j){t=j,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function VC(){var e=Hg.current;return Hg.current=Wg,e===null?Wg:e}function d_(){(wn===0||wn===3||wn===2)&&(wn=4),Cn===null||!(su&268435455)&&!(my&268435455)||gl(Cn,Wn)}function Gg(e,t){var r=Bt;Bt|=2;var n=VC();(Cn!==e||Wn!==t)&&(io=null,Yc(e,t));do try{v$();break}catch(i){KC(e,i)}while(!0);if(V5(),Bt=r,Hg.current=n,an!==null)throw Error(Me(261));return Cn=null,Wn=0,wn}function v$(){for(;an!==null;)GC(an)}function y$(){for(;an!==null&&!qB();)GC(an)}function GC(e){var t=JC(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,t===null?YC(e):an=t,s_.current=null}function YC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=d$(r,t),r!==null){r.flags&=32767,an=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,an=null;return}}else if(r=u$(r,t,Qi),r!==null){an=r;return}if(t=t.sibling,t!==null){an=t;return}an=t=e}while(t!==null);wn===0&&(wn=5)}function Ec(e,t,r){var n=Yt,i=Ta.transition;try{Ta.transition=null,Yt=1,b$(e,t,r,n)}finally{Ta.transition=i,Yt=n}return null}function b$(e,t,r,n){do Od();while(wl!==null);if(Bt&6)throw Error(Me(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(QB(e,a),e===Cn&&(an=Cn=null,Wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||u0||(u0=!0,ZC(Og,function(){return Od(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ta.transition,Ta.transition=null;var s=Yt;Yt=1;var o=Bt;Bt|=4,s_.current=null,h$(e,r),qC(r,e),FF(b2),Cg=!!y2,b2=y2=null,e.current=r,p$(r),WB(),Bt=o,Yt=s,Ta.transition=a}else e.current=r;if(u0&&(u0=!1,wl=e,Vg=i),a=e.pendingLanes,a===0&&(Pl=null),VB(r.stateNode),Mi(e,Kr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Kg)throw Kg=!1,e=F2,F2=null,e;return Vg&1&&e.tag!==0&&Od(),a=e.pendingLanes,a&1?e===$2?Uh++:(Uh=0,$2=e):Uh=0,Wl(),null}function Od(){if(wl!==null){var e=OP(Vg),t=Ta.transition,r=Yt;try{if(Ta.transition=null,Yt=16>e?16:e,wl===null)var n=!1;else{if(e=wl,wl=null,Vg=0,Bt&6)throw Error(Me(331));var i=Bt;for(Bt|=4,Ye=e.current;Ye!==null;){var a=Ye,s=a.child;if(Ye.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ye=u;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:Fh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ye=f;else for(;Ye!==null;){d=Ye;var p=d.sibling,h=d.return;if($C(d),d===u){Ye=null;break}if(p!==null){p.return=h,Ye=p;break}Ye=h}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ye=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ye=s;else e:for(;Ye!==null;){if(a=Ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ye=v;break e}Ye=a.return}}var b=e.current;for(Ye=b;Ye!==null;){s=Ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ye=w;else e:for(s=b;Ye!==null;){if(o=Ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:py(9,o)}}catch(j){Dr(o,o.return,j)}if(o===s){Ye=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Ye=x;break e}Ye=o.return}}if(Bt=i,Wl(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(sy,e)}catch{}n=!0}return n}finally{Yt=r,Ta.transition=t}}return!1}function G3(e,t,r){t=qd(r,t),t=OC(e,t,1),e=Ol(e,t,1),t=wi(),e!==null&&(Mp(e,1,t),Mi(e,t))}function Dr(e,t,r){if(e.tag===3)G3(e,e,r);else for(;t!==null;){if(t.tag===3){G3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pl===null||!Pl.has(n))){e=qd(r,e),e=PC(t,e,1),t=Ol(t,e,1),e=wi(),t!==null&&(Mp(t,1,e),Mi(t,e));break}}t=t.return}}function x$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=wi(),e.pingedLanes|=e.suspendedLanes&r,Cn===e&&(Wn&r)===r&&(wn===4||wn===3&&(Wn&130023424)===Wn&&500>Kr()-l_?Yc(e,0):o_|=r),Mi(e,t)}function XC(e,t){t===0&&(e.mode&1?(t=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):t=1);var r=wi();e=_o(e,t),e!==null&&(Mp(e,t,r),Mi(e,r))}function w$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XC(e,r)}function _$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Me(314))}n!==null&&n.delete(t),XC(e,r)}var JC;JC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ii.current)Ti=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ti=!1,c$(e,t,r);Ti=!!(e.flags&131072)}else Ti=!1,br&&t.flags&1048576&&tC(t,Bg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;og(e,t),e=t.pendingProps;var i=Fd(t,si.current);Ed(t,r),i=t_(null,t,n,e,i,r);var a=r_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(n)?(a=!0,Mg(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X5(t),i.updater=hy,t.stateNode=i,i._reactInternals=t,E2(t,n,e,r),t=C2(null,t,n,!0,a,r)):(t.tag=0,br&&a&&q5(t),mi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(og(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=N$(n),e=es(n,e),i){case 0:t=P2(null,t,n,e,r);break e;case 1:t=B3(null,t,n,e,r);break e;case 11:t=M3(null,t,n,e,r);break e;case 14:t=D3(null,t,n,es(n.type,e),r);break e}throw Error(Me(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:es(n,i),P2(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:es(n,i),B3(e,t,n,i,r);case 3:e:{if(IC(t),e===null)throw Error(Me(387));n=t.pendingProps,a=t.memoizedState,i=a.element,oC(e,t),Ug(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=qd(Error(Me(423)),t),t=F3(e,t,n,r,i);break e}else if(n!==i){i=qd(Error(Me(424)),t),t=F3(e,t,n,r,i);break e}else for(aa=El(t.stateNode.containerInfo.firstChild),oa=t,br=!0,as=null,r=aC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($d(),n===i){t=jo(e,t,r);break e}mi(e,t,n,r)}t=t.child}return t;case 5:return lC(t),e===null&&S2(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,x2(n,i)?s=null:a!==null&&x2(n,a)&&(t.flags|=32),LC(e,t),mi(e,t,s,r),t.child;case 6:return e===null&&S2(t),null;case 13:return RC(e,t,r);case 4:return J5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ud(t,null,n,r):mi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:es(n,i),M3(e,t,n,i,r);case 7:return mi(e,t,t.pendingProps,r),t.child;case 8:return mi(e,t,t.pendingProps.children,r),t.child;case 12:return mi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,sr(Fg,n._currentValue),n._currentValue=s,a!==null)if(us(a.value,s)){if(a.children===i.children&&!Ii.current){t=jo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=go(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),k2(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Me(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),k2(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}mi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ed(t,r),i=Ia(i),n=n(i),t.flags|=1,mi(e,t,n,r),t.child;case 14:return n=t.type,i=es(n,t.pendingProps),i=es(n.type,i),D3(e,t,n,i,r);case 15:return CC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:es(n,i),og(e,t),t.tag=1,Ri(n)?(e=!0,Mg(t)):e=!1,Ed(t,r),EC(t,n,i),E2(t,n,i,r),C2(null,t,n,!0,e,r);case 19:return MC(e,t,r);case 22:return TC(e,t,r)}throw Error(Me(156,t.tag))};function ZC(e,t){return SP(e,t)}function j$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(e,t,r,n){return new j$(e,t,r,n)}function f_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N$(e){if(typeof e=="function")return f_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C5)return 11;if(e===T5)return 14}return 2}function Tl(e,t){var r=e.alternate;return r===null?(r=Pa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ug(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")f_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case cd:return Xc(r.children,i,a,t);case P5:s=8,i|=8;break;case Zx:return e=Pa(12,r,t,i|2),e.elementType=Zx,e.lanes=a,e;case Qx:return e=Pa(13,r,t,i),e.elementType=Qx,e.lanes=a,e;case e2:return e=Pa(19,r,t,i),e.elementType=e2,e.lanes=a,e;case lP:return gy(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sP:s=10;break e;case oP:s=9;break e;case C5:s=11;break e;case T5:s=14;break e;case cl:s=16,n=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=Pa(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Xc(e,t,r,n){return e=Pa(7,e,n,t),e.lanes=r,e}function gy(e,t,r,n){return e=Pa(22,e,n,t),e.elementType=lP,e.lanes=r,e.stateNode={isHidden:!1},e}function Mb(e,t,r){return e=Pa(6,e,null,t),e.lanes=r,e}function Db(e,t,r){return t=Pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vb(0),this.expirationTimes=vb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h_(e,t,r,n,i,a,s,o,l){return e=new S$(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},X5(a),e}function k$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QC(e){if(!e)return Ml;e=e._reactInternals;e:{if(bu(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var r=e.type;if(Ri(r))return QP(e,r,t)}return t}function eT(e,t,r,n,i,a,s,o,l){return e=h_(r,n,!0,e,i,a,s,o,l),e.context=QC(null),r=e.current,n=wi(),i=Cl(r),a=go(n,i),a.callback=t??null,Ol(r,a,i),e.current.lanes=i,Mp(e,i,n),Mi(e,n),e}function vy(e,t,r,n){var i=t.current,a=wi(),s=Cl(i);return r=QC(r),t.context===null?t.context=r:t.pendingContext=r,t=go(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ol(i,t,s),e!==null&&(cs(e,i,s,a),ig(e,i,s)),s}function Yg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function p_(e,t){Y3(e,t),(e=e.alternate)&&Y3(e,t)}function A$(){return null}var tT=typeof reportError=="function"?reportError:function(e){console.error(e)};function m_(e){this._internalRoot=e}yy.prototype.render=m_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));vy(e,t,null,null)};yy.prototype.unmount=m_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ou(function(){vy(null,e,null,null)}),t[wo]=null}};function yy(e){this._internalRoot=e}yy.prototype.unstable_scheduleHydration=function(e){if(e){var t=TP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ml.length&&t!==0&&t<ml[r].priority;r++);ml.splice(r,0,e),r===0&&IP(e)}};function g_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function by(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X3(){}function E$(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Yg(s);a.call(u)}}var s=eT(t,n,e,0,null,!1,!1,"",X3);return e._reactRootContainer=s,e[wo]=s.current,op(e.nodeType===8?e.parentNode:e),ou(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Yg(l);o.call(u)}}var l=h_(e,0,!1,null,null,!1,!1,"",X3);return e._reactRootContainer=l,e[wo]=l.current,op(e.nodeType===8?e.parentNode:e),ou(function(){vy(t,l,r,n)}),l}function xy(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Yg(s);o.call(l)}}vy(t,s,e,i)}else s=E$(r,t,e,i,n);return Yg(s)}PP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sh(t.pendingLanes);r!==0&&(R5(t,r|1),Mi(t,Kr()),!(Bt&6)&&(Wd=Kr()+500,Wl()))}break;case 13:ou(function(){var n=_o(e,1);if(n!==null){var i=wi();cs(n,e,1,i)}}),p_(e,1)}};M5=function(e){if(e.tag===13){var t=_o(e,134217728);if(t!==null){var r=wi();cs(t,e,134217728,r)}p_(e,134217728)}};CP=function(e){if(e.tag===13){var t=Cl(e),r=_o(e,t);if(r!==null){var n=wi();cs(r,e,t,n)}p_(e,t)}};TP=function(){return Yt};LP=function(e,t){var r=Yt;try{return Yt=e,t()}finally{Yt=r}};u2=function(e,t,r){switch(t){case"input":if(n2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=uy(n);if(!i)throw Error(Me(90));uP(n),n2(n,i)}}}break;case"textarea":fP(e,r);break;case"select":t=r.value,t!=null&&Nd(e,!!r.multiple,t,!1)}};bP=c_;xP=ou;var O$={usingClientEntryPoint:!1,Events:[Bp,hd,uy,vP,yP,c_]},uh={findFiberByHostInstance:$c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P$={bundleType:uh.bundleType,version:uh.version,rendererPackageName:uh.rendererPackageName,rendererConfig:uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:To.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jP(e),e===null?null:e.stateNode},findFiberByHostInstance:uh.findFiberByHostInstance||A$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{sy=d0.inject(P$),Ts=d0}catch{}}ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O$;ha.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g_(t))throw Error(Me(200));return k$(e,t,null,r)};ha.createRoot=function(e,t){if(!g_(e))throw Error(Me(299));var r=!1,n="",i=tT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=h_(e,1,!1,null,null,r,!1,n,i),e[wo]=t.current,op(e.nodeType===8?e.parentNode:e),new m_(t)};ha.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=jP(t),e=e===null?null:e.stateNode,e};ha.flushSync=function(e){return ou(e)};ha.hydrate=function(e,t,r){if(!by(t))throw Error(Me(200));return xy(null,e,t,!0,r)};ha.hydrateRoot=function(e,t,r){if(!g_(e))throw Error(Me(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=tT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=eT(t,null,e,1,r??null,i,!1,a,s),e[wo]=t.current,op(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new yy(t)};ha.render=function(e,t,r){if(!by(t))throw Error(Me(200));return xy(null,e,t,!1,r)};ha.unmountComponentAtNode=function(e){if(!by(e))throw Error(Me(40));return e._reactRootContainer?(ou(function(){xy(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};ha.unstable_batchedUpdates=c_;ha.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!by(r))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return xy(e,t,r,!1,n)};ha.version="18.3.1-next-f1338f8080-20240426";function rT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rT)}catch(e){console.error(e)}}rT(),rP.exports=ha;var wy=rP.exports,J3=wy;Xx.createRoot=J3.createRoot,Xx.hydrateRoot=J3.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}var _l;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_l||(_l={}));const Z3="popstate";function C$(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return q2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Xg(i)}return L$(t,r,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function v_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T$(){return Math.random().toString(36).substr(2,8)}function Q3(e,t){return{usr:e.state,key:e.key,idx:t}}function q2(e,t,r,n){return r===void 0&&(r=null),gp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?of(t):t,{state:r,key:t&&t.key||n||T$()})}function Xg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function of(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function L$(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=_l.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(gp({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=_l.Pop;let y=d(),v=y==null?null:y-u;u=y,l&&l({action:o,location:g.location,delta:v})}function p(y,v){o=_l.Push;let b=q2(g.location,y,v);u=d()+1;let w=Q3(b,u),x=g.createHref(b);try{s.pushState(w,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(x)}a&&l&&l({action:o,location:g.location,delta:1})}function h(y,v){o=_l.Replace;let b=q2(g.location,y,v);u=d();let w=Q3(b,u),x=g.createHref(b);s.replaceState(w,"",x),a&&l&&l({action:o,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:Xg(y);return b=b.replace(/ $/,"%20"),ln(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return o},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Z3,f),l=y,()=>{i.removeEventListener(Z3,f),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(y){return s.go(y)}};return g}var e4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e4||(e4={}));function I$(e,t,r){return r===void 0&&(r="/"),R$(e,t,r)}function R$(e,t,r,n){let i=typeof t=="string"?of(t):t,a=y_(i.pathname||"/",r);if(a==null)return null;let s=nT(e);M$(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=G$(a);o=H$(s[l],u)}return o}function nT(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(ln(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ll([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(ln(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nT(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:q$(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of iT(a.path))i(a,s,l)}),t}function iT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=iT(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function M$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:W$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const D$=/^:[\w-]+$/,B$=3,F$=2,$$=1,U$=10,z$=-2,t4=e=>e==="*";function q$(e,t){let r=e.split("/"),n=r.length;return r.some(t4)&&(n+=z$),t&&(n+=F$),r.filter(i=>!t4(i)).reduce((i,a)=>i+(D$.test(a)?B$:a===""?$$:U$),n)}function W$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function H$(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=K$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ll([a,f.pathname]),pathnameBase:Q$(Ll([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Ll([a,f.pathnameBase]))}return s}function K$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=V$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function V$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),v_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function G$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return v_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function y_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Y$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X$=e=>Y$.test(e);function J$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?of(e):e,a;if(r)if(X$(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),v_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=r4(r.substring(1),"/"):a=r4(r,t)}else a=t;return{pathname:a,search:eU(n),hash:tU(i)}}function r4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Bb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function aT(e,t){let r=Z$(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sT(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=of(e):(i=gp({},e),ln(!i.pathname||!i.pathname.includes("?"),Bb("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Bb("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Bb("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=J$(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ll=e=>e.join("/").replace(/\/\/+/g,"/"),Q$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oT=["post","put","patch","delete"];new Set(oT);const nU=["get",...oT];new Set(nU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}const b_=T.createContext(null),iU=T.createContext(null),xu=T.createContext(null),_y=T.createContext(null),Hl=T.createContext({outlet:null,matches:[],isDataRoute:!1}),lT=T.createContext(null);function aU(e,t){let{relative:r}=t===void 0?{}:t;$p()||ln(!1);let{basename:n,navigator:i}=T.useContext(xu),{hash:a,pathname:s,search:o}=uT(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Ll([n,s])),i.createHref({pathname:l,search:o,hash:a})}function $p(){return T.useContext(_y)!=null}function lf(){return $p()||ln(!1),T.useContext(_y).location}function cT(e){T.useContext(xu).static||T.useLayoutEffect(e)}function Ln(){let{isDataRoute:e}=T.useContext(Hl);return e?yU():sU()}function sU(){$p()||ln(!1);let e=T.useContext(b_),{basename:t,future:r,navigator:n}=T.useContext(xu),{matches:i}=T.useContext(Hl),{pathname:a}=lf(),s=JSON.stringify(aT(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return cT(()=>{o.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=sT(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ll([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}function Lo(){let{matches:e}=T.useContext(Hl),t=e[e.length-1];return t?t.params:{}}function uT(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=T.useContext(xu),{matches:i}=T.useContext(Hl),{pathname:a}=lf(),s=JSON.stringify(aT(i,n.v7_relativeSplatPath));return T.useMemo(()=>sT(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function oU(e,t){return lU(e,t)}function lU(e,t,r,n){$p()||ln(!1);let{navigator:i}=T.useContext(xu),{matches:a}=T.useContext(Hl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=lf(),d;if(t){var f;let y=typeof t=="string"?of(t):t;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ln(!1),d=y}else d=u;let p=d.pathname||"/",h=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=I$(e,{pathname:h}),g=hU(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Ll([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ll([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&g?T.createElement(_y.Provider,{value:{location:vp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_l.Pop}},g):g}function cU(){let e=vU(),t=rU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:i},r):null,null)}const uU=T.createElement(cU,null);class dU extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(Hl.Provider,{value:this.props.routeContext},T.createElement(lT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fU(e){let{routeContext:t,match:r,children:n}=e,i=T.useContext(b_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Hl.Provider,{value:t},n)}function hU(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||ln(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:h}=r,m=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let h,m=!1,g=null,y=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||uU,l&&(u<0&&p===0?(bU("route-fallback"),m=!0,y=null):u===p&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,p+1)),b=()=>{let w;return h?w=g:m?w=y:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(fU,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(dU,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var dT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dT||{}),fT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fT||{});function pU(e){let t=T.useContext(b_);return t||ln(!1),t}function mU(e){let t=T.useContext(iU);return t||ln(!1),t}function gU(e){let t=T.useContext(Hl);return t||ln(!1),t}function hT(e){let t=gU(),r=t.matches[t.matches.length-1];return r.route.id||ln(!1),r.route.id}function vU(){var e;let t=T.useContext(lT),r=mU(),n=hT();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yU(){let{router:e}=pU(dT.UseNavigateStable),t=hT(fT.UseNavigateStable),r=T.useRef(!1);return cT(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,vp({fromRouteId:t},a)))},[e,t])}const n4={};function bU(e,t,r){n4[e]||(n4[e]=!0)}function xU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qr(e){ln(!1)}function wU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=_l.Pop,navigator:a,static:s=!1,future:o}=e;$p()&&ln(!1);let l=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:a,static:s,future:vp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=of(n));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:m="default"}=n,g=T.useMemo(()=>{let y=y_(d,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:h,key:m},navigationType:i}},[l,d,f,p,h,m,i]);return g==null?null:T.createElement(xu.Provider,{value:u},T.createElement(_y.Provider,{children:r,value:g}))}function _U(e){let{children:t,location:r}=e;return oU(W2(t),r)}new Promise(()=>{});function W2(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(n,i)=>{if(!T.isValidElement(n))return;let a=[...t,i];if(n.type===T.Fragment){r.push.apply(r,W2(n.props.children,a));return}n.type!==qr&&ln(!1),!n.props.index||!n.props.children||ln(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=W2(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H2.apply(this,arguments)}function jU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function NU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SU(e,t){return e.button===0&&(!t||t==="_self")&&!NU(e)}function K2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function kU(e,t){let r=K2(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const AU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EU="6";try{window.__reactRouterVersion=EU}catch{}const OU="startTransition",i4=eP[OU];function PU(e){let{basename:t,children:r,future:n,window:i}=e,a=T.useRef();a.current==null&&(a.current=C$({window:i,v5Compat:!0}));let s=a.current,[o,l]=T.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=T.useCallback(f=>{u&&i4?i4(()=>l(f)):l(f)},[l,u]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.useEffect(()=>xU(n),[n]),T.createElement(wU,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const CU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=T.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,p=jU(t,AU),{basename:h}=T.useContext(xu),m,g=!1;if(typeof u=="string"&&TU.test(u)&&(m=u,CU))try{let w=new URL(window.location.href),x=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=y_(x.pathname,h);x.origin===w.origin&&j!=null?u=j+x.search+x.hash:g=!0}catch{}let y=aU(u,{relative:i}),v=LU(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||v(w)}return T.createElement("a",H2({},p,{href:m||y,onClick:g||a?n:b,ref:r,target:l}))});var a4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(a4||(a4={}));var s4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(s4||(s4={}));function LU(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=Ln(),u=lf(),d=uT(e,{relative:s});return T.useCallback(f=>{if(SU(f,r)){f.preventDefault();let p=n!==void 0?n:Xg(u)===Xg(d);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,e,a,s,o])}function IU(e){let t=T.useRef(K2(e)),r=T.useRef(!1),n=lf(),i=T.useMemo(()=>kU(n.search,r.current?null:t.current),[n.search]),a=Ln(),s=T.useCallback((o,l)=>{const u=K2(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}var V2=function(e,t){return V2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},V2(e,t)};function pT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");V2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Jg=function(){return Jg=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Jg.apply(this,arguments)};function cf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function mT(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function gT(e,t){return function(r,n){t(r,n,e)}}function vT(e,t,r,n,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var m={};for(var g in n)m[g]=g==="access"?{}:n[g];for(var g in n.access)m.access[g]=n.access[g];m.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var y=(0,r[h])(o==="accessor"?{get:d.get,set:d.set}:d[l],m);if(o==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=s(y.get))&&(d.get=f),(f=s(y.set))&&(d.set=f),(f=s(y.init))&&i.unshift(f)}else(f=s(y))&&(o==="field"?i.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),p=!0}function yT(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function bT(e){return typeof e=="symbol"?e:"".concat(e)}function xT(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function wT(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function at(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function _T(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var jy=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function jT(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jy(t,e,r)}function Zg(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function NT(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x_(arguments[t]));return e}function ST(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function kT(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Hd(e){return this instanceof Hd?(this.v=e,this):new Hd(e)}function AT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function o(h,m){n[h]&&(i[h]=function(g){return new Promise(function(y,v){a.push([h,g,y,v])>1||l(h,g)})},m&&(i[h]=m(i[h])))}function l(h,m){try{u(n[h](m))}catch(g){p(a[0][3],g)}}function u(h){h.value instanceof Hd?Promise.resolve(h.value.v).then(d,f):p(a[0][2],h)}function d(h){l("next",h)}function f(h){l("throw",h)}function p(h,m){h(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}function ET(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:Hd(e[i](s)),done:!1}:a?a(s):s}:a}}function OT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zg=="function"?Zg(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function PT(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var RU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},G2=function(e){return G2=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},G2(e)};function CT(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=G2(e),n=0;n<r.length;n++)r[n]!=="default"&&jy(t,e,r[n]);return RU(t,e),t}function TT(e){return e&&e.__esModule?e:{default:e}}function LT(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function IT(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function RT(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function MT(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var MU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function DT(e){function t(a){e.error=e.hasError?new MU(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function BT(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const DU={__extends:pT,__assign:Jg,__rest:cf,__decorate:mT,__param:gT,__esDecorate:vT,__runInitializers:yT,__propKey:bT,__setFunctionName:xT,__metadata:wT,__awaiter:at,__generator:_T,__createBinding:jy,__exportStar:jT,__values:Zg,__read:x_,__spread:NT,__spreadArrays:ST,__spreadArray:kT,__await:Hd,__asyncGenerator:AT,__asyncDelegator:ET,__asyncValues:OT,__makeTemplateObject:PT,__importStar:CT,__importDefault:TT,__classPrivateFieldGet:LT,__classPrivateFieldSet:IT,__classPrivateFieldIn:RT,__addDisposableResource:MT,__disposeResources:DT,__rewriteRelativeImportExtension:BT},BU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:MT,get __assign(){return Jg},__asyncDelegator:ET,__asyncGenerator:AT,__asyncValues:OT,__await:Hd,__awaiter:at,__classPrivateFieldGet:LT,__classPrivateFieldIn:RT,__classPrivateFieldSet:IT,__createBinding:jy,__decorate:mT,__disposeResources:DT,__esDecorate:vT,__exportStar:jT,__extends:pT,__generator:_T,__importDefault:TT,__importStar:CT,__makeTemplateObject:PT,__metadata:wT,__param:gT,__propKey:bT,__read:x_,__rest:cf,__rewriteRelativeImportExtension:BT,__runInitializers:yT,__setFunctionName:xT,__spread:NT,__spreadArray:kT,__spreadArrays:ST,__values:Zg,default:DU},Symbol.toStringTag,{value:"Module"})),FU="modulepreload",$U=function(e){return"/trysimulate/"+e},o4={},La=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=$U(l),l in o4)return;o4[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":FU,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},UU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>wu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class w_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class l4 extends w_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class c4 extends w_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class u4 extends w_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Y2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Y2||(Y2={}));class zU{constructor(t,{headers:r={},customFetch:n,region:i=Y2.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=UU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return at(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:s,body:o,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let p;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=o):typeof o=="string"?(u["Content-Type"]="text/plain",p=o):typeof FormData<"u"&&o instanceof FormData?p=o:(u["Content-Type"]="application/json",p=JSON.stringify(o)):p=o;const h=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:p,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new l4(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new c4(h);if(!h.ok)throw new u4(h);let g=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield h.json():g==="application/octet-stream"||g==="application/pdf"?y=yield h.blob():g==="text/event-stream"?y=h:g==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new l4(a)}:{data:null,error:a,response:a instanceof u4||a instanceof c4?a.context:void 0}}})}}var gi={};const uf=qO(BU);var f0={},h0={},p0={},m0={},g0={},qU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kd=qU();const WU=Kd.fetch,FT=Kd.fetch.bind(Kd),$T=Kd.Headers,HU=Kd.Request,KU=Kd.Response,wu=Object.freeze(Object.defineProperty({__proto__:null,Headers:$T,Request:HU,Response:KU,default:FT,fetch:WU},Symbol.toStringTag,{value:"Module"})),VU=qO(wu);var v0={},d4;function UT(){if(d4)return v0;d4=1,Object.defineProperty(v0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return v0.default=e,v0}var f4;function zT(){if(f4)return g0;f4=1,Object.defineProperty(g0,"__esModule",{value:!0});const e=uf,t=e.__importDefault(VU),r=e.__importDefault(UT());class n{constructor(a){var s,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let m=null,g=null,y=null,v=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const O=await u.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=O:g=JSON.parse(O))}const x=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");x&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await u.text();try{m=JSON.parse(x),Array.isArray(m)&&u.status===404&&(g=[],m=null,v=200,b="OK")}catch{u.status===404&&x===""?(v=204,b="No Content"):m={message:x}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,b="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:g,count:y,status:v,statusText:b}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,s)}returns(){return this}overrideTypes(){return this}}return g0.default=n,g0}var h4;function qT(){if(h4)return m0;h4=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=uf.__importDefault(zT());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return m0.default=r,m0}var p4;function __(){if(p4)return p0;p4=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=uf.__importDefault(qT()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${u}fts${d}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return p0.default=n,p0}var m4;function WT(){if(m4)return h0;m4=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=uf.__importDefault(__());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return h0.default=r,h0}var g4;function GU(){if(g4)return f0;g4=1,Object.defineProperty(f0,"__esModule",{value:!0});const e=uf,t=e.__importDefault(WT()),r=e.__importDefault(__());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{p.searchParams.append(g,y)})):(f="POST",h=s);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:m,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return f0.default=n,f0}Object.defineProperty(gi,"__esModule",{value:!0});var HT=gi.PostgrestError=t8=gi.PostgrestBuilder=QT=gi.PostgrestTransformBuilder=JT=gi.PostgrestFilterBuilder=YT=gi.PostgrestQueryBuilder=VT=gi.PostgrestClient=void 0;const df=uf,KT=df.__importDefault(GU());var VT=gi.PostgrestClient=KT.default;const GT=df.__importDefault(WT());var YT=gi.PostgrestQueryBuilder=GT.default;const XT=df.__importDefault(__());var JT=gi.PostgrestFilterBuilder=XT.default;const ZT=df.__importDefault(qT());var QT=gi.PostgrestTransformBuilder=ZT.default;const e8=df.__importDefault(zT());var t8=gi.PostgrestBuilder=e8.default;const r8=df.__importDefault(UT());HT=gi.PostgrestError=r8.default;var n8=gi.default={PostgrestClient:KT.default,PostgrestQueryBuilder:GT.default,PostgrestFilterBuilder:XT.default,PostgrestTransformBuilder:ZT.default,PostgrestBuilder:e8.default,PostgrestError:r8.default};const YU=zO({__proto__:null,get PostgrestBuilder(){return t8},get PostgrestClient(){return VT},get PostgrestError(){return HT},get PostgrestFilterBuilder(){return JT},get PostgrestQueryBuilder(){return YT},get PostgrestTransformBuilder(){return QT},default:n8},[gi]),{PostgrestClient:XU,PostgrestQueryBuilder:Bye,PostgrestFilterBuilder:Fye,PostgrestTransformBuilder:$ye,PostgrestBuilder:Uye,PostgrestError:zye}=n8||YU;class JU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ZU="2.78.0",QU=`realtime-js/${ZU}`,ez="1.0.0",X2=1e4,tz=1e3,rz=100;var zh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zh||(zh={}));var vn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vn||(vn={}));var ns;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ns||(ns={}));var J2;(function(e){e.websocket="websocket"})(J2||(J2={}));var Dc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Dc||(Dc={}));class nz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class i8{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ir||(ir={}));const v4=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=iz(s,e,t,i),a),{}):{}},iz=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?a8(a,s):Z2(s)},a8=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lz(t,r)}switch(e){case ir.bool:return az(t);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return sz(t);case ir.json:case ir.jsonb:return oz(t);case ir.timestamp:return cz(t);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return Z2(t);default:return Z2(t)}},Z2=e=>e,az=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>a8(t,o))}return e},cz=e=>typeof e=="string"?e.replace(" ","T"):e,s8=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fb{constructor(t,r,n={},i=X2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var y4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(y4||(y4={}));class qh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=qh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const p=d.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0),g=f.filter(y=>p.indexOf(y.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,d,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var b4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(b4||(b4={}));var Wh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wh||(Wh={}));var ao;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ao||(ao={}));class j_{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fb(this,ns.join,this.params,this.timeout),this.rejoinTimer=new i8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ns.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new qh(this),this.broadcastEndpointURL=s8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==vn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Wh.PRESENCE]&&this.bindings[Wh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(ao.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ao.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(ao.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:x,schema:j,table:O,filter:N}}=w,E=h&&h[b];if(E&&E.event===x&&E.schema===j&&E.table===O&&E.filter===N)v.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=vn.errored,t==null||t(ao.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ao.SUBSCRIBED);return}}).receive("error",h=>{this.state=vn.errored,t==null||t(ao.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ao.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===vn.joined&&t===Wh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ns.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Fb(this,ns.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Fb(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=ns;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,y;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var m,g,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const x=h.id,j=(m=h.filter)===null||m===void 0?void 0:m.event;return x&&((g=r.ids)===null||g===void 0?void 0:g.includes(x))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(b=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return x==="*"||x===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=m;p=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(p,n)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&j_.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ns.close,{},t)}_onError(t){this._on(ns.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=v4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=v4(t.columns,t.old_record)),r}}const $b=()=>{},y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uz=[1e3,2e3,5e3,1e4],dz=1e4,fz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=X2,this.transport=null,this.heartbeatIntervalMs=y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$b,this.ref=0,this.reconnectTimer=null,this.logger=$b,this.conn=null,this.sendBuffer=[],this.serializer=new nz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>La(async()=>{const{default:o}=await Promise.resolve().then(()=>wu);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${J2.websocket}`,this.httpEndpoint=s8(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ez}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zh.connecting:return Dc.Connecting;case zh.open:return Dc.Open;case zh.closing:return Dc.Closing;default:return Dc.Closed}}isConnected(){return this.connectionState()===Dc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new j_(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ns.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:QU};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ns.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new i8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:X2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:y0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:$b,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>uz[f-1]||dz,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class N_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pz extends N_{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Q2 extends N_{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const S_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>wu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},mz=()=>at(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield La(()=>Promise.resolve().then(()=>wu),void 0)).Response:Response}),ew=e=>{if(Array.isArray(e))return e.map(r=>ew(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=ew(n)}),t},gz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ub=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},vz=(e,t,r)=>at(void 0,void 0,void 0,function*(){const n=yield mz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new pz(Ub(i),a,s))}).catch(i=>{t(new Q2(Ub(i),i))}):t(new Q2(Ub(e),e))}),yz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(gz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Up(e,t,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,yz(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>vz(l,o,n))})})}function yp(e,t,r,n){return at(this,void 0,void 0,function*(){return Up(e,"GET",t,r,n)})}function ts(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Up(e,"POST",t,n,i,r)})}function tw(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Up(e,"PUT",t,n,i,r)})}function bz(e,t,r,n){return at(this,void 0,void 0,function*(){return Up(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function k_(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Up(e,"DELETE",t,n,i,r)})}class xz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}var o8;class wz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[o8]="BlobDownloadBuilder",this.promise=null}asStream(){return new xz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}o8=Symbol.toStringTag;const _z={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jz{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=S_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return at(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},x4),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?tw:ts)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return at(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:x4.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield tw(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(kr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ts(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new N_("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}update(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ts(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return at(this,void 0,void 0,function*(){try{const i=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>yp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new wz(l,this.shouldThrowOnError)}info(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield yp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ew(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}exists(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n)&&n instanceof Q2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return at(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}list(t,r,n){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_z),r),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}listV2(t,r){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const l8="2.78.0",c8={"X-Client-Info":`storage-js/${l8}`};class Nz{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c8),r),this.fetch=S_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return at(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield yp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield yp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}createBucket(t){return at(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return at(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Sz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c8),r),this.fetch=S_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBuckets(t){return at(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield yp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}const A_={"X-Client-Info":`storage-js/${l8}`,"Content-Type":"application/json"};class u8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ta(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class zb extends u8{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kz extends u8{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var w4;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(w4||(w4={}));const E_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>wu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Az=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ez=(e,t,r)=>at(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new zb(_4(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new zb(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new zb(o,i,s))}}else t(new kz(_4(e),e))}),Oz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Az(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Pz(e,t,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Oz(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Ez(l,o,n))})})}function ra(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Pz(e,"POST",t,n,i,r)})}class Cz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A_),r),this.fetch=E_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return at(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}getIndex(t,r){return at(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}listIndexes(t){return at(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return at(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class Tz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A_),r),this.fetch=E_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return at(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ra(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}getVectors(t){return at(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}listVectors(t){return at(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ra(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}queryVectors(t){return at(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}deleteVectors(t){return at(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ra(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}}class Lz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A_),r),this.fetch=E_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return at(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}getBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}listBuckets(){return at(this,arguments,void 0,function*(t={}){try{return{data:yield ra(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}}class Iz extends Lz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Rz(this.url,this.headers,t,this.fetch)}}class Rz extends Cz{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Mz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Mz extends Tz{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Dz extends Nz{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new jz(this.url,this.headers,t,this.fetch)}get vectors(){return new Iz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sz(this.url+"/iceberg",this.headers,this.fetch)}}const Bz="2.78.0";let Ah="";typeof Deno<"u"?Ah="deno":typeof document<"u"?Ah="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ah="react-native":Ah="node";const Fz={"X-Client-Info":`supabase-js-${Ah}/${Bz}`},$z={headers:Fz},Uz={schema:"public"},zz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qz={},Wz=e=>{let t;return e?t=e:typeof fetch>"u"?t=FT:t=fetch,(...r)=>t(...r)},Hz=()=>typeof Headers>"u"?$T:Headers,Kz=(e,t,r)=>{const n=Wz(r),i=Hz();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))}};function Vz(e){return e.endsWith("/")?e:e+"/"}function Gz(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Yz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const d8="2.78.0",nd=30*1e3,rw=3,qb=rw*nd,Xz="http://localhost:9999",Jz="supabase.auth.token",Zz={"X-Client-Info":`gotrue-js/${d8}`},nw="X-Supabase-Api-Version",f8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eq=10*60*1e3;class bp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tq extends bp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rq(e){return ut(e)&&e.name==="AuthApiError"}class Bc extends bp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Kl extends bp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Za extends Kl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nq(e){return ut(e)&&e.name==="AuthSessionMissingError"}class qu extends Kl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b0 extends Kl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class x0 extends Kl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iq(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class j4 extends Kl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iw extends Kl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Wb(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class N4 extends Kl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class aw extends Kl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S4=` 	
\r=`.split(""),aq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<S4.length;t+=1)e[S4[t].charCodeAt(0)]=-2;for(let t=0;t<Qg.length;t+=1)e[Qg[t].charCodeAt(0)]=t;return e})();function k4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Qg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Qg[n]),t.queuedBits-=6}}function h8(e,t,r){const n=aq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function A4(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{lq(s,n,r)};for(let s=0;s<e.length;s+=1)h8(e.charCodeAt(s),i,a);return t.join("")}function sq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}sq(n,t)}}function lq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)h8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function cq(e){const t=[];return oq(e,r=>t.push(r)),new Uint8Array(t)}function qc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>k4(i,r,n)),k4(null,r,n),t.join("")}function uq(e){return Math.round(Date.now()/1e3)+e}function dq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hi=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},p8=()=>{if(!hi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function fq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const m8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>wu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",id=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},jc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sl=async(e,t)=>{await e.removeItem(t)};class Ny{constructor(){this.promise=new Ny.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ny.promiseConstructor=Promise;function Hb(e){const t=e.split(".");if(t.length!==3)throw new aw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Qz.test(t[n]))throw new aw("JWT not in base64url format");return{header:JSON.parse(A4(t[0])),payload:JSON.parse(A4(t[1])),signature:Pd(t[2]),raw:{header:t[0],payload:t[1]}}}async function pq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mq(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function gq(e){return("0"+e.toString(16)).substr(-2)}function vq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,gq).join("")}async function yq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function bq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wu(e,t,r=!1){const n=vq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await id(e,`${t}-code-verifier`,i);const a=await bq(n);return[a,n===a?"plain":"s256"]}const xq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wq(e){const t=e.headers.get(nw);if(!t||!t.match(xq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _q(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hu(e){if(!Nq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sq(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function E4(e){return JSON.parse(JSON.stringify(e))}const Oc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kq=[502,503,504];async function O4(e){var t;if(!hq(e))throw new iw(Oc(e),0);if(kq.includes(e.status))throw new iw(Oc(e),e.status);let r;try{r=await e.json()}catch(a){throw new Bc(Oc(a),a)}let n;const i=wq(e);if(i&&i.getTime()>=f8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new N4(Oc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Za}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new N4(Oc(r),e.status,r.weak_password.reasons);throw new tq(Oc(r),e.status||500,n)}const Aq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[nw]||(a[nw]=f8["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Eq(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Eq(e,t,r,n,i,a){const s=Aq(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new iw(Oc(l),0)}if(o.ok||await O4(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await O4(l)}}function Qa(e){var t;let r=null;Cq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=uq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function P4(e){const t=Qa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Oq(e){return{data:e,error:null}}function Pq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=cf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function C4(e){return e}function Cq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vb=["global","local","others"];class Tq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=m8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Vb[0]){if(Vb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vb.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cf(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Pq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:C4});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ut(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hu(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hu(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hu(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hu(t.userId);try{const{data:r,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hu(t.userId),Hu(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:C4});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ut(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await gt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await gt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}}function T4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ku={debug:!!(globalThis&&p8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lq extends g8{}async function Iq(e,t,r){Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ku.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function v8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Mq(e){return parseInt(e,16)}function Dq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Bq(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=v8(e.address),m=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}class tn extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ev extends tn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Fq({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new tn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new tn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new tn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new tn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new tn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new tn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new tn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(y8(s)){if(a.rp.id!==s)return new tn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new tn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new tn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $q({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new tn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(y8(n)){if(r.rpId!==n)return new tn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new tn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Uq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zq=new Uq;function qq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=cf(e,["challenge","user","excludeCredentials"]),a=Pd(t).buffer,s=Object.assign(Object.assign({},r),{id:Pd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Pd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Wq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=cf(e,["challenge","allowCredentials"]),i=Pd(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Pd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function Hq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:qc(new Uint8Array(e.response.attestationObject)),clientDataJSON:qc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qc(new Uint8Array(i.authenticatorData)),clientDataJSON:qc(new Uint8Array(i.clientDataJSON)),signature:qc(new Uint8Array(i.signature)),userHandle:i.userHandle?qc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function y8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function L4(){var e,t;return!!(hi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Vq(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ev("Browser returned unexpected credential type",t)}:{data:null,error:new ev("Empty credential response",t)}}catch(t){return{data:null,error:Fq({error:t,options:e})}}}async function Gq(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ev("Browser returned unexpected credential type",t)}:{data:null,error:new ev("Empty credential response",t)}}catch(t){return{data:null,error:$q({error:t,options:e})}}}const Yq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Xq={userVerification:"preferred",hints:["security-key"]};function tv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=tv(o,s):n[a]=tv(s)}else n[a]=s}return n}function Jq(e,t){return tv(Yq,e,t||{})}function Zq(e,t){return tv(Xq,e,t||{})}class Qq{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??zq.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=Jq(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Vq({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Zq(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Gq(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return ut(s)?{data:null,error:s}:{data:null,error:new Bc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new bp("rpId is required for WebAuthn authentication")};try{if(!L4())return{data:null,error:new Bc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ut(s)?{data:null,error:s}:{data:null,error:new Bc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new bp("rpId is required for WebAuthn registration")};try{if(!L4())return{data:null,error:new Bc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ut(s)?{data:null,error:s}:{data:null,error:new Bc("Unexpected error in register",s)}}}}Rq();const eW={url:Xz,storageKey:Jz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function I4(e,t,r){return await r()}const Vu={};class xp{get jwks(){var t,r;return(r=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xp.nextInstanceID,xp.nextInstanceID+=1,this.instanceID>0&&hi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},eW),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Tq({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=m8(i.fetch),this.lock=i.lock||I4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Iq:this.lock=I4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:p8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=T4(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${d8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=fq(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iq(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ut(r)?{error:r}:{error:new Bc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qa}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Wu(this.storage,this.storageKey)),a=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:m},xform:Qa})}else if("phone"in t){const{phone:d,password:f,options:p}=t;a=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Qa})}else throw new b0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:P4})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:P4})}else throw new b0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,u,d,f,p;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:v,options:b}=t;let w;if(hi())if(typeof y=="object")w=y;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const x=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=v8(j[0]);let N=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const P=await w.request({method:"eth_chainId"});N=Mq(P)}const E={domain:x.host,address:O,statement:v,uri:x.href,version:"1",chainId:N,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=Bq(E),m=await w.request({method:"personal_sign",params:[Dq(h),O]})}try{const{data:g,error:y}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Qa});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new qu}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(ut(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,i,a,s,o,l,u,d,f,p,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let x;if(hi())if(typeof v=="object")x=v;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))x=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const O=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let N;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")N=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)N=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)m=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const O=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=O}}try{const{data:y,error:v}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:qc(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qa});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new qu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(ut(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await jc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qa});if(await sl(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new qu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ut(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qa}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wu(this.storage,this.storageKey));const{error:f}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new b0("You must provide either an email or phone number.")}catch(o){if(ut(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Qa});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Wu(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Oq})}catch(a){if(ut(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Za;const{error:i}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ut(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new b0("You must provide either an email or phone number and a type")}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await jc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await jc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Kb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Sq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Za}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vl})})}catch(r){if(ut(r))return nq(r)&&(await this._removeSession(),await sl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Za;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Wu(this.storage,this.storageKey));const{data:u,error:d}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:vl});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Za;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Hb(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Za;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hi())throw new x0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new x0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new j4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new x0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new j4("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new x0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=nd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const m=p-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(ut(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await jc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(rq(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await sl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=dq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Wu(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ut(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return hi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ut(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:d}=t,f=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Qa}),{data:p,error:h}=f;return h?{data:{user:null,session:null},error:h}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new qu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:h})}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mq(async i=>(i>0&&await pq(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qa})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Wb(a)&&Date.now()+s-n<nd})}catch(n){if(this._debug(r,"error",n),ut(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await jc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await jc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await id(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Kb()}else if(i&&!i.user&&!i.user){const s=await jc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await sl(this.storage,this.storageKey+"-user"),await id(this.storage,this.storageKey,i)):i.user=Kb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qb;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${qb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Wb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Za;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ny;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Za;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ut(a)){const s={data:null,error:a};return Wb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await id(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=E4(i);await id(this.storage,this.storageKey,a)}else{const i=E4(r);await id(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await sl(this.storage,this.storageKey),await sl(this.storage,this.storageKey+"-code-verifier"),await sl(this.storage,this.storageKey+"-user"),this.userStorage&&await sl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nd}ms, refresh threshold is ${rw} ticks`),i<=rw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof g8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Wu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Hq(t.webauthn.credential_response):Kq(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:qq(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Wq(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Hb(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await gt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new Za}})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Za};const s=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&hi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Za};const s=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&hi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+eq>i)return n;const{data:a,error:s}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Hb(n);r!=null&&r.allowExpired||_q(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const d=jq(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,cq(`${o}.${l}`)))throw new aw("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}}xp.nextInstanceID=0;const tW=xp;class rW extends tW{constructor(t){super(t)}}class nW{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=Yz(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:Uz,realtime:qz,auth:Object.assign(Object.assign({},zz),{storageKey:l}),global:$z},d=Gz(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Kz(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new XU(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Dz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rW({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iW=(e,t,r)=>new nW(e,t,r);function aW(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}aW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sW="https://qwhzvupmyjabkgbmvoxo.supabase.co",oW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3aHp2dXBteWphYmtnYm12b3hvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NzgwNDAsImV4cCI6MjA3ODQ1NDA0MH0.obahZfIzevzMaLx7ZwX1E8DGjhB0TfPtYLWevUwGK8Q",ze=iW(sW,oW),lW=Object.freeze(Object.defineProperty({__proto__:null,supabase:ze},Symbol.toStringTag,{value:"Module"})),bi={async signUp(e,t,r){const n=e.trim().toLowerCase(),{data:i,error:a}=await ze.auth.signUp({email:n,password:t,options:{data:{full_name:r.fullName},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;return i.user&&(await new Promise(s=>setTimeout(s,100)),await this.updateUserProfile(i.user.id,{email:i.user.email,user_role:r.userRole,how_heard_about_us:r.howHeardAboutUs,marketing_purpose:r.marketingPurpose,full_name:r.fullName})),i},async signIn(e,t){const{data:r,error:n}=await ze.auth.signInWithPassword({email:e,password:t});if(n)throw n;return await ze.auth.getSession(),r.user&&this.updateLastActive(r.user.id).catch(i=>console.log("Failed to update last active:",i)),r},async signInWithGoogle(){const{data:e,error:t}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t;return e},async signOut(){const{error:e}=await ze.auth.signOut();if(e)throw e},async getCurrentUser(){const{data:e,error:t}=await ze.auth.getUser();if(t&&t.message!=="User not found")throw t;return(e==null?void 0:e.user)||null},async getSession(){const{data:e,error:t}=await ze.auth.getSession();if(t)throw t;return e.session},async getUserProfile(e){const{data:t,error:r}=await ze.from("user_profiles").select("*").eq("id",e).single();if(r)throw r;return t},async updateUserProfile(e,t){let r=t.email;if(!r)try{const a=await this.getUserProfile(e);r=a==null?void 0:a.email}catch{console.log("Profile not found, will create with upsert")}const{data:n,error:i}=await ze.from("user_profiles").upsert({id:e,email:r,...t,updated_at:new Date().toISOString()},{onConflict:"id"}).select().single();if(i)throw i;return n},async updateLastActive(e){await ze.from("user_profiles").update({last_active_at:new Date().toISOString()}).eq("id",e)},async isProfileComplete(e){const t=await this.getUserProfile(e);return t&&t.user_role},onAuthStateChange(e){return ze.auth.onAuthStateChange(e)}},b8=T.createContext(null),cW=({children:e})=>{const[t,r]=T.useState(null),[n,i]=T.useState(null),[a,s]=T.useState(!0);T.useEffect(()=>{(async()=>{try{const d=await bi.getSession();if(d!=null&&d.user){r(d.user);try{const f=await bi.getUserProfile(d.user.id);i(f)}catch{console.log("Profile not found yet")}}}catch{console.log("No active session")}finally{s(!1)}})();const{data:{subscription:u}}=bi.onAuthStateChange(async(d,f)=>{var p;console.log("Auth state changed:",d,(p=f==null?void 0:f.user)==null?void 0:p.email),s(!1),f!=null&&f.user?(r(f.user),bi.getUserProfile(f.user.id).then(h=>{i(h)}).catch(h=>{console.log("Profile not found"),i(null)})):(r(null),i(null))});return()=>{u==null||u.unsubscribe()}},[]);const o={user:t,profile:n,loading:a,isAuthenticated:!!t,isProfileComplete:n&&n.user_role};return c.jsx(b8.Provider,{value:o,children:e})},O_=()=>{const e=T.useContext(b8);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pi=()=>{var p,h,m,g,y;const e=lf(),t=Ln(),{user:r,profile:n,isAuthenticated:i,loading:a}=O_(),[s,o]=T.useState(!1),[l,u]=T.useState(!1),d=v=>e.pathname===v,f=async v=>{if(v==null||v.preventDefault(),v==null||v.stopPropagation(),!l)try{u(!0),o(!1),await bi.signOut(),t("/")}catch(b){console.error("Sign out error:",b),alert("Failed to sign out. Please try again."),u(!1)}};return c.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(Hr,{to:"/",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-xl",children:"S"})}),c.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Simulate"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[c.jsx(Hr,{to:"/browse",className:`text-sm font-medium transition-colors ${d("/browse")?"text-primary":"text-slate-600 hover:text-primary"}`,children:"Browse Simulations"}),c.jsx(Hr,{to:"/creator",className:`text-sm font-medium transition-colors ${d("/creator")?"text-primary":"text-slate-600 hover:text-primary"}`,children:"Creator Dashboard"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:a?c.jsxs(c.Fragment,{children:[c.jsx(Hr,{to:"/auth?mode=login",className:"px-4 py-2 text-sm font-semibold text-slate-700 hover:text-primary transition-colors",children:"Login"}),c.jsx(Hr,{to:"/auth?mode=signup",className:"px-5 py-2 text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Sign Up"})]}):i?c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-slate-100 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-semibold",children:((h=(p=n==null?void 0:n.full_name)==null?void 0:p.charAt(0))==null?void 0:h.toUpperCase())||((g=(m=r==null?void 0:r.email)==null?void 0:m.charAt(0))==null?void 0:g.toUpperCase())||"U"})}),c.jsx("span",{className:"hidden md:block text-sm font-medium text-slate-700",children:(n==null?void 0:n.full_name)||((y=r==null?void 0:r.email)==null?void 0:y.split("@")[0])}),c.jsx("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-50",children:[c.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-900",children:(n==null?void 0:n.full_name)||"User"}),c.jsx("p",{className:"text-xs text-slate-500",children:r==null?void 0:r.email})]}),c.jsx(Hr,{to:"/creator",className:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>o(!1),children:"Creator Dashboard"}),c.jsx("button",{onClick:f,disabled:l,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing out...":"Sign Out"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Hr,{to:"/auth?mode=login",className:"px-4 py-2 text-sm font-semibold text-slate-700 hover:text-primary transition-colors",children:"Login"}),c.jsx(Hr,{to:"/auth?mode=signup",className:"px-5 py-2 text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Sign Up"})]})})]})}),s&&c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})},uW=()=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx("section",{className:"relative px-4 py-20 sm:px-6 lg:px-8 overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-extrabold text-slate-900 tracking-tight mb-6",children:["Practice Real Scenarios",c.jsx("br",{}),c.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Assess Real Skills"}),c.jsx("br",{}),c.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"See Real results"})]}),c.jsx("p",{className:"max-w-2xl mx-auto text-xl text-slate-600 mb-4",children:"Learn. Teach. Hire."}),c.jsx("p",{className:"max-w-2xl mx-auto text-base text-slate-600 mb-10",children:"Build and assess real workplace skills through AI-powered simulations."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(Hr,{to:"/browse",className:"px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105",children:"Browse Simulations"}),c.jsx(Hr,{to:"/creator",className:"px-8 py-4 text-lg font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-xl hover:border-primary hover:text-primary transition-all duration-200",children:"Create Simulations"})]})]}),c.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200",children:[c.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"4"}),c.jsx("div",{className:"text-slate-600 font-medium",children:"Simulation Types"})]}),c.jsxs("div",{className:"text-center p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200",children:[c.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"10+"}),c.jsx("div",{className:"text-slate-600 font-medium",children:"Ready Scenarios"})]}),c.jsxs("div",{className:"text-center p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200",children:[c.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"AI"}),c.jsx("div",{className:"text-slate-600 font-medium",children:"Powered Scoring"})]})]})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white/40",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"How Simulate Works"}),c.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Whether you're a creator or a learner, Simulate makes workplace simulations accessible to everyone."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mb-6",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"For Professionals & Learners"}),c.jsxs("ul",{className:"space-y-3 text-slate-600",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Browse simulations by category (PM, Sales, HR, Leadership)"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Practice realistic workplace scenarios"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Get instant AI feedback and scoring"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Track progress and skill improvement"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center mb-6",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"For Creators & Educators"}),c.jsxs("ul",{className:"space-y-3 text-slate-600",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Describe scenarios in natural language"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"AI generates complete simulations instantly"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Customize scoring rubrics and feedback"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Publish to Simulate library"})]})]})]})]})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Four Simulation Types"}),c.jsx("p",{className:"text-lg text-slate-600",children:"Practice different workplace skills through interactive scenarios"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Customer Comments"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Reply to customer feedback with empathy and provide solutions"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Sales Negotiation"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Navigate pricing discussions while protecting value"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Prioritization"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Drag-and-drop tasks to prioritize under time pressure"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Team Conflict"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Resolve disagreements between team members diplomatically"})]})]})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-primary to-accent",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Build Your Skills?"}),c.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join Simulate today and start practicing real workplace scenarios."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(Hr,{to:"/browse",className:"px-8 py-4 text-lg font-semibold text-primary bg-white rounded-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105",children:"Start Practicing Now"}),c.jsx(Hr,{to:"/creator",className:"px-8 py-4 text-lg font-semibold text-white border-2 border-white rounded-xl hover:bg-white/10 transition-all duration-200",children:"Create Simulations"})]})]})}),c.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-slate-900 text-white",children:c.jsx("div",{className:"max-w-7xl mx-auto text-center",children:c.jsx("p",{className:"text-slate-400",children:" 2025 Simulate. Building the future of workplace learning."})})})]}),P_={async getAllSimulations(){try{const{data:e,error:t}=await ze.from("simulations").select("*").eq("is_published",!0).contains("metadata",{is_active:!0}).order("created_at",{ascending:!1});if(t)throw console.error("Database error fetching simulations:",t),t;return e||[]}catch(e){throw console.error("Error in getAllSimulations:",e),e}},async getSimulationById(e){try{const{data:t,error:r}=await ze.from("simulations").select("*").eq("id",e).single();if(r)throw console.error("Database error fetching simulation:",r),r;return t}catch(t){throw console.error("Error in getSimulationById:",t),t}},async saveSimulation(e){var t,r;try{const{data:{user:n}}=await ze.auth.getUser();let i=null;if(n)try{const{data:o}=await ze.from("user_profiles").select("full_name").eq("id",n.id).single();i=(o==null?void 0:o.full_name)||((t=n.email)==null?void 0:t.split("@")[0])||"Anonymous"}catch{i=((r=n.email)==null?void 0:r.split("@")[0])||"Anonymous"}const{data:a,error:s}=await ze.from("simulations").insert({title:e.title,description:e.description,category:e.category,difficulty:e.difficulty,duration:e.duration,learning_objectives:e.learningObjectives||[],skills_tested:e.skillsTested||[],html_content:e.htmlContent,is_ai_generated:!0,is_published:!0,is_active:!0,tags:e.tags||[],created_by:(n==null?void 0:n.id)||null,creator_name:i,metadata:{ai_model:"gemini-2.5-pro",generation_prompt:e.userPrompt||"",version:"1.0",created_via:"ai_builder",is_active:!0}}).select().single();if(s)throw console.error("Database error saving simulation:",s),s;return console.log(" Simulation saved to database:",a.id),a}catch(n){throw console.error("Error in saveSimulation:",n),n}},async updateSimulation(e,t){try{const{data:r,error:n}=await ze.from("simulations").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("Database error updating simulation:",n),n;return r}catch(r){throw console.error("Error in updateSimulation:",r),r}},async getUserSimulations(){try{const{data:{user:e}}=await ze.auth.getUser();if(!e)return[];const{data:t,error:r}=await ze.from("simulations").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});if(r)throw console.error("Database error fetching user simulations:",r),r;return t||[]}catch(e){throw console.error("Error in getUserSimulations:",e),e}},async deleteSimulation(e){try{const{error:t}=await ze.from("simulations").delete().eq("id",e);if(t)throw console.error("Database error deleting simulation:",t),t;console.log(" Simulation deleted from database:",e)}catch(t){throw console.error("Error in deleteSimulation:",t),t}},async testConnection(){try{const{data:e,error:t}=await ze.from("simulations").select("count").limit(1);return t?(console.error("Database connection test failed:",t),!1):(console.log(" Database connection successful"),!0)}catch(e){return console.error("Error testing database connection:",e),!1}}},dW=()=>{const[e,t]=T.useState([]),[r,n]=T.useState("All"),[i,a]=T.useState(""),[s,o]=T.useState(!0),[l,u]=T.useState(null);T.useEffect(()=>{(async()=>{try{o(!0),u(null),console.log(" Loading simulations from database...");const y=await P_.getAllSimulations();console.log(" Loaded HTML simulations from database:",y.length);const{taskBasedService:v}=await La(async()=>{const{taskBasedService:j}=await Promise.resolve().then(()=>Yme);return{taskBasedService:j}},void 0);let b=[];try{b=await v.getAllSimulations(),console.log(" Loaded task-based simulations from database:",b.length)}catch(j){console.warn("Could not load task-based simulations:",j)}const w=b.map(j=>({id:j.id,slug:j.slug,title:j.title,description:j.description,category:j.category,difficulty:j.difficulty,duration:j.estimated_duration,is_ai_generated:!1,isDefault:!1,isTaskBased:!0,...j.slug==="noah-smart-fitness-watch"&&{id:"noah-demo"}})),x={id:"slack-simulation",slug:"slack-simulation",title:"Slack Simulation",description:"Experience a realistic Slack workspace where you play a Product Manager navigating workplace conflicts, stakeholder disagreements, and high-pressure decision-making scenarios. Test your conflict management and decision-making skills.",category:"Leadership",difficulty:"Intermediate",duration:"30-45 min",is_ai_generated:!1,isDefault:!1,isTaskBased:!1,isSlackSimulation:!0};t([...w,x,...y])}catch(y){console.error(" Error loading from database:",y),u("Failed to load simulations. Please refresh the page."),t([{id:"noah-demo",slug:"noah-smart-fitness-watch",title:"Noah Smart Fitness Watch - Product Management",description:"End-to-end product management simulation: from market research to post-launch analytics. Practice real PM skills with 7 comprehensive tasks.",category:"Product Management",difficulty:"Intermediate",duration:"6-8 hours",is_ai_generated:!1,isDefault:!1,isTaskBased:!0}])}finally{o(!1)}})()},[]);const d=["All","Product Management","Sales","Leadership","Marketing","HR"],f=e.filter(g=>{const y=r==="All"||g.category===r,v=i===""||g.title.toLowerCase().includes(i.toLowerCase())||g.description.toLowerCase().includes(i.toLowerCase());return y&&v}),p=g=>{switch(g){case"Beginner":return"bg-green-100 text-green-700";case"Intermediate":return"bg-yellow-100 text-yellow-700";case"Advanced":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},h=g=>g.isSlackSimulation||g.id==="slack-simulation"?"/slack_simulation":g.isTaskBased||g.id==="noah-demo"?g.slug?`/simulation/${g.slug}`:"/demosimulation":g.is_ai_generated||g.html_content?`/simulation/html/${g.id}`:`/simulation/custom/${g.id}`,m=g=>{if(g.isSlackSimulation||g.id==="slack-simulation")return"";if(g.isTaskBased||g.id==="noah-demo")return"";if(g.is_ai_generated)return"";if(g.category){const y=g.category.toLowerCase();if(y.includes("customer")||y.includes("service"))return"";if(y.includes("sales"))return"";if(y.includes("priorit")||y.includes("management"))return"";if(y.includes("team")||y.includes("conflict"))return"";if(y.includes("product"))return"";if(y.includes("leadership"))return"";if(y.includes("marketing"))return"";if(y.includes("hr")||y.includes("human"))return""}return""};return s?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulations..."})]})}):c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[l&&c.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.725-1.36 3.49 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-yellow-700",children:l})})]})}),c.jsxs("div",{className:"mb-10",children:[c.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Browse Simulations"}),c.jsx("p",{className:"text-lg text-slate-600",children:"Choose a simulation to practice real-world workplace skills"})]}),c.jsxs("div",{className:"mb-8 space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search simulations...",value:i,onChange:g=>a(g.target.value),className:"w-full px-5 py-3 pl-12 bg-white border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),c.jsx("svg",{className:"absolute left-4 top-3.5 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(g=>c.jsx("button",{onClick:()=>n(g),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${r===g?"bg-gradient-to-r from-primary to-accent text-white shadow-md":"bg-white text-slate-700 border border-slate-300 hover:border-primary"}`,children:g},g))})]}),c.jsxs("div",{className:"mb-6 text-slate-600",children:["Showing ",c.jsx("span",{className:"font-semibold text-slate-900",children:f.length})," simulation",f.length!==1?"s":""]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(g=>c.jsxs("div",{className:"group bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl hover:border-primary transition-all duration-200 transform hover:scale-105",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"text-4xl",children:m(g)}),c.jsx("span",{className:"text-xs font-semibold text-slate-600 bg-slate-100 px-3 py-1 rounded-full",children:g.category})]}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2 group-hover:text-primary transition-colors",children:g.title}),c.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:g.description}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${p(g.difficulty)}`,children:g.difficulty}),c.jsxs("span",{className:"text-slate-500 flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.duration]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:c.jsx(Hr,{to:h(g),className:"block w-full py-2 px-4 text-center text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all transform hover:scale-105",children:"Try Simulation"})}),!g.isDefault&&c.jsx("div",{className:"mt-2",children:c.jsx("span",{className:"text-xs font-semibold text-primary bg-primary/10 px-2 py-1 rounded",children:"Custom Simulation"})})]},g.id))}),f.length===0&&c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No simulations found"}),c.jsx("p",{className:"text-slate-600 mb-6",children:"Try adjusting your search or filter criteria"}),c.jsx("button",{onClick:()=>{n("All"),a("")},className:"px-6 py-3 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Clear Filters"})]})]})})},Jc={async getMySimulations(){try{const{data:{user:e}}=await ze.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:r}=await ze.from("task_based_simulations").select("*").or(`created_by.eq.${e.id},created_by.is.null`).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching recruiter simulations:",r),r;return console.log(` Found ${(t==null?void 0:t.length)||0} simulations for recruiter ${e.id}`),t||[]}catch(e){throw console.error("Error fetching recruiter simulations:",e),e}},async getSimulationParticipants(e){var t;try{const{data:{user:r}}=await ze.auth.getUser();if(!r)throw new Error("User not authenticated");console.log(` Fetching participants for simulation ${e} (recruiter: ${r.id})`);const{data:n,error:i}=await ze.from("task_based_simulations").select("id, created_by, title").eq("id",e).single();if(i)throw console.error("Error verifying simulation ownership:",i),i;if(!n)return console.warn(` Simulation ${e} not found`),[];if(n.created_by&&n.created_by!==r.id)return console.warn(` User ${r.id} does not own simulation ${e} (owner: ${n.created_by})`),[];console.log(` Verified ownership for simulation: ${n.title}`);const{data:a,error:s}=await ze.from("task_based_progress").select("*").eq("simulation_id",e).not("completed_at","is",null).order("completed_at",{ascending:!1}).limit(1e3);if(s)throw console.error("Error fetching progress:",s),(s.code==="42501"||(t=s.message)!=null&&t.includes("permission"))&&console.error(" RLS policy blocked access. Check that the simulation is mapped to this recruiter."),s;if(console.log(` Found ${(a==null?void 0:a.length)||0} completed progress records`),!a||a.length===0)return[];const o=[...new Set(a.map(p=>p.user_id))];console.log(` Fetching profiles for ${o.length} users`);const{data:l,error:u}=await ze.from("user_profiles").select("id, full_name, email, avatar_url, user_role, created_at").in("id",o);u&&(console.error("Error fetching profiles:",u),console.warn(" Continuing without profile data due to RLS restrictions"));const d=new Map((l==null?void 0:l.map(p=>[p.id,p]))||[]),f=a.map(p=>({...p,user_profiles:d.get(p.user_id)||{id:p.user_id,full_name:"Anonymous",email:"N/A",user_role:null,created_at:null}}));return console.log(` Returning ${f.length} participants`),f}catch(r){throw console.error("Error fetching participants:",r),r}},async getSimulationSubmissions(e){try{const{data:t,error:r}=await ze.from("task_based_progress").select("user_id").eq("simulation_id",e).not("completed_at","is",null);if(r)throw r;const n=(t==null?void 0:t.map(d=>d.user_id))||[];if(n.length===0)return[];const{data:i,error:a}=await ze.from("task_submissions").select("*").eq("simulation_id",e).in("user_id",n).order("submitted_at",{ascending:!1});if(a)throw a;if(!i||i.length===0)return[];const{data:s,error:o}=await ze.from("user_profiles").select("id, full_name, email, avatar_url").in("id",n);if(o)throw o;const l=new Map((s==null?void 0:s.map(d=>[d.id,d]))||[]);return i.map(d=>({...d,user_profiles:l.get(d.user_id)||null}))}catch(t){throw console.error("Error fetching submissions:",t),t}},async getSimulationAnalytics(e){try{const{data:{user:t}}=await ze.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r}=await ze.from("task_based_simulations").select("id, created_by").eq("id",e).single();if(!r||r.created_by&&r.created_by!==t.id)return{totalParticipants:0,completedParticipants:0,completionRate:0,averageScore:0,topPerformers:[],scoreDistribution:{"90-100":0,"80-89":0,"70-79":0,"60-69":0,"0-59":0},averageDurationHours:0,taskPerformance:{}};const{data:n,error:i}=await ze.from("task_based_progress").select("*").eq("simulation_id",e);if(i)throw i;const{data:a,error:s}=await ze.from("task_submissions").select("*").eq("simulation_id",e);if(s)throw s;const o=(n==null?void 0:n.filter(b=>b.completed_at!==null))||[],l=o.length,u=l,d=l>0?u/l*100:0,f=o.filter(b=>b.final_score!==null),p=f.length>0?f.reduce((b,w)=>b+(w.final_score||0),0)/f.length:0,h=[...f].sort((b,w)=>(w.final_score||0)-(b.final_score||0)).slice(0,10),m={"90-100":0,"80-89":0,"70-79":0,"60-69":0,"0-59":0};f.forEach(b=>{const w=b.final_score||0;w>=90?m["90-100"]++:w>=80?m["80-89"]++:w>=70?m["70-79"]++:w>=60?m["60-69"]++:m["0-59"]++});const g=o.filter(b=>b.completed_at&&b.started_at),y=g.length>0?g.reduce((b,w)=>{const x=new Date(w.completed_at)-new Date(w.started_at);return b+x/(1e3*60*60)},0)/g.length:0,v={};return a==null||a.forEach(b=>{v[b.task_id]||(v[b.task_id]={taskId:b.task_id,totalSubmissions:0,averageScore:0,scores:[]}),v[b.task_id].totalSubmissions++,b.score!==null&&v[b.task_id].scores.push(b.score)}),Object.keys(v).forEach(b=>{const w=v[b];w.scores.length>0&&(w.averageScore=w.scores.reduce((x,j)=>x+j,0)/w.scores.length)}),{totalParticipants:l,completedParticipants:u,completionRate:Math.round(d*100)/100,averageScore:Math.round(p*100)/100,topPerformers:h,scoreDistribution:m,averageDurationHours:Math.round(y*100)/100,taskPerformance:v}}catch(t){throw console.error("Error calculating analytics:",t),t}},async getUserProfile(e){try{const{data:t,error:r}=await ze.from("user_profiles").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Error fetching user profile:",t),t}},async getUserSimulationHistory(e){try{const{data:t,error:r}=await ze.from("task_based_progress").select(`
          *,
          task_based_simulations!inner (
            id,
            title,
            slug,
            category,
            company_info
          )
        `).eq("user_id",e).order("started_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Error fetching user history:",t),t}}},fW=()=>{const{user:e,isAuthenticated:t}=O_(),r=Ln(),[n,i]=T.useState([]),[a,s]=T.useState(null),[o,l]=T.useState(!0),[u,d]=T.useState(null),[f,p]=T.useState(!1);T.useEffect(()=>{t&&e?(h(),m()):l(!1)},[t,e]);const h=async()=>{try{const{data:y,error:v}=await ze.from("user_profiles").select("user_role").eq("id",e.id).single();if(!v&&y){const b=y.user_role==="recruiter"||y.user_role==="hiring_manager";p(b),s(y)}}catch(y){console.error("Error checking user role:",y)}},m=async()=>{try{l(!0),d(null);const y=await Jc.getMySimulations(),v=await Promise.all(y.map(async b=>{try{const w=await Jc.getSimulationParticipants(b.id),x=await Jc.getSimulationAnalytics(b.id);return{...b,participantCount:w.length,completedCount:x.completedParticipants,averageScore:x.averageScore,completionRate:x.completionRate}}catch(w){return console.error(`Error loading stats for ${b.id}:`,w),{...b,participantCount:0,completedCount:0,averageScore:0,completionRate:0}}}));i(v)}catch(y){console.error("Error loading simulations:",y),d("Failed to load simulations. Please try again.")}finally{l(!1)}},g=y=>{const v=(y||"").toLowerCase();return v.includes("product")?"":v.includes("marketing")?"":v.includes("sales")?"":v.includes("engineering")?"":v.includes("design")?"":""};return t?!f&&a?c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Recruiter Access Required"}),c.jsxs("p",{className:"text-slate-600 mb-6",children:["This dashboard is only available for recruiters and hiring managers. Your current role is: ",c.jsx("strong",{children:a.user_role})]}),c.jsx(Hr,{to:"/browse",className:"inline-block px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Browse Simulations"})]})})}):c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-10",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Recruiter Dashboard"}),c.jsx("p",{className:"text-lg text-slate-600",children:"View and manage your simulations, track candidate performance, and analyze results"})]}),c.jsxs(Hr,{to:"/creator/build",className:"inline-flex items-center px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105",children:[c.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Simulation"]})]})}),n.length>0&&c.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-10",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Simulations"}),c.jsx("div",{className:"text-3xl font-bold text-slate-900",children:n.length})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Participants"}),c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.reduce((y,v)=>y+(v.participantCount||0),0)})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),c.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.reduce((y,v)=>y+(v.completedCount||0),0)})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Avg. Score"}),c.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[n.length>0?Math.round(n.reduce((y,v)=>y+(v.averageScore||0),0)/n.length):0,"%"]})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"My Simulations"}),o?c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Loading your simulations..."})]}):u?c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-red-200 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Error Loading Simulations"}),c.jsx("p",{className:"text-slate-600 mb-6",children:u}),c.jsx("button",{onClick:m,className:"px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Try Again"})]}):n.length===0?c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No simulations yet"}),c.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first simulation to start evaluating candidates"}),c.jsxs(Hr,{to:"/creator/build",className:"inline-flex items-center px-6 py-3 text-white bg-gradient-to-r from-primary to-accent rounded-lg font-semibold hover:shadow-lg transition-all",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Simulation"]})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(y=>c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"text-4xl",children:g(y.category)}),c.jsx("span",{className:"text-xs font-semibold text-primary bg-primary/10 px-3 py-1 rounded-full",children:y.category||"General"})]}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:y.title}),c.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:y.description||"No description available"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[c.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Participants"}),c.jsx("div",{className:"text-lg font-bold text-blue-600",children:y.participantCount||0})]}),c.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Completed"}),c.jsx("div",{className:"text-lg font-bold text-green-600",children:y.completedCount||0})]}),c.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Avg. Score"}),c.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[y.averageScore?Math.round(y.averageScore):"N/A","%"]})]}),c.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Completion"}),c.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[y.completionRate?Math.round(y.completionRate):0,"%"]})]})]}),c.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[c.jsx("button",{onClick:()=>r(`/creator/simulation/${y.id}`),className:"flex-1 px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-md transition-all",children:"View Details"}),c.jsx(Hr,{to:`/simulation/${y.slug}`,className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Preview"})]})]},y.id))})]})]})}):c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Please Sign In"}),c.jsx("p",{className:"text-slate-600 mb-6",children:"You need to be signed in to view your simulations."}),c.jsx(Hr,{to:"/auth?mode=login",className:"inline-block px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Sign In"})]})})})},R4="ai-generate";async function x8(e,t){try{if(console.log(" Calling Edge Function:",R4),console.log(" Action:",e),console.log(" Payload:",t),!ze)throw new Error("Supabase client is not initialized. Check your .env file for VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY");const{data:r,error:n}=await ze.functions.invoke(R4,{body:{action:e,payload:t}});if(console.log(" Response data:",r),console.log(" Response error:",n),n)throw console.error("Edge Function invocation error details:",{message:n.message,status:n.status,statusText:n.statusText,context:n.context}),new Error(`Failed to send a request to the Edge Function: ${n.message||JSON.stringify(n)}`);if(!r)throw new Error("No data returned from Edge Function");if(!r.success)throw new Error(r.error||"AI service returned error");return r.data}catch(r){throw console.error(" Error calling Edge Function:",r),console.error("Error details:",{name:r.name,message:r.message,stack:r.stack}),r}}const hW=async e=>{var t;try{console.log(" Generating HTML simulation with GPT-4-turbo-preview..."),console.log("User prompt:",e);const r=await x8("generateHTMLSimulation",{userPrompt:e});return console.log(" HTML Simulation generated successfully!"),console.log("- Title:",r.title),console.log("- Category:",r.category),console.log("- HTML length:",((t=r.htmlContent)==null?void 0:t.length)||0,"characters"),r}catch(r){throw console.error("Failed to generate HTML simulation:",r),new Error(`Failed to generate simulation: ${r.message}`)}},pW=async(e,t)=>{try{console.log(" Regenerating HTML simulation with feedback..."),console.log("Feedback:",t);const r=await x8("regenerateHTMLSimulation",{currentHTML:e,feedback:t});return console.log(" HTML Simulation regenerated successfully!"),r}catch(r){throw console.error("Failed to regenerate HTML simulation:",r),new Error(`Failed to regenerate simulation: ${r.message}`)}},rv={async logActivity(e,t={},r={}){const{data:{user:n}}=await ze.auth.getUser();if(!n){console.warn("Cannot log activity: User not authenticated");return}const{error:i}=await ze.from("user_activity").insert({user_id:n.id,activity_type:e,activity_data:t,metadata:{...r,user_agent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()}});i&&console.error("Error logging activity:",i)},async startSimulation(e){const{data:{user:t}}=await ze.auth.getUser();if(!t)return null;const{data:r,error:n}=await ze.from("simulation_sessions").insert({user_id:t.id,simulation_id:e,status:"started"}).select().single();return n?(console.error("Error creating session:",n),null):(await this.logActivity("simulation_started",{simulation_id:e,session_id:r.id}),r)},async updateProgress(e,t){const{error:r}=await ze.from("simulation_sessions").update({current_step:t.currentStep,progress_percentage:t.percentage,simulation_state:t.state,status:"in_progress"}).eq("id",e);r&&console.error("Error updating progress:",r)},async completeSimulation(e,t,r){const{data:{user:n}}=await ze.auth.getUser();if(!n)return;const{error:i}=await ze.from("simulation_sessions").update({status:"completed",completed_at:new Date().toISOString(),final_score:t.final,max_score:t.max,progress_percentage:100,user_responses:r}).eq("id",e);if(i){console.error("Error completing session:",i);return}await this.logActivity("simulation_completed",{session_id:e,score:t.final,max_score:t.max})},async getUserSimulationHistory(e){const{data:t,error:r}=await ze.from("simulation_sessions").select(`
        *,
        simulations (
          id,
          title,
          category,
          difficulty
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},async getUserCreatedSimulations(e){const{data:t,error:r}=await ze.from("simulations").select("*").eq("created_by",e).order("created_at",{ascending:!1});if(r)throw r;return t}},mW=({onSimulationCreated:e})=>{const[t,r]=T.useState(1),[n,i]=T.useState(null),[a,s]=T.useState(!1),[o,l]=T.useState(null),[u,d]=T.useState(""),[f,p]=T.useState({title:"",description:"",simulationType:"",learningObjectives:[],currentObjective:"",skillsTested:[],targetAudience:"",experienceLevel:"",industry:"",companySize:"",scenarioContext:"",duration:"",difficulty:"",numberOfSteps:5,specificRequirements:[],currentRequirement:"",additionalContext:""}),h=()=>{f.currentObjective.trim()&&p({...f,learningObjectives:[...f.learningObjectives,f.currentObjective.trim()],currentObjective:""})},m=E=>{p({...f,learningObjectives:f.learningObjectives.filter((P,C)=>C!==E)})},g=()=>{f.currentRequirement.trim()&&p({...f,specificRequirements:[...f.specificRequirements,f.currentRequirement.trim()],currentRequirement:""})},y=E=>{p({...f,specificRequirements:f.specificRequirements.filter((P,C)=>C!==E)})},v=E=>{p({...f,skillsTested:f.skillsTested.includes(E)?f.skillsTested.filter(P=>P!==E):[...f.skillsTested,E]})},b=()=>`
      Create a ${f.simulationType} simulation with these specifications:
      
      TITLE: ${f.title}
      DESCRIPTION: ${f.description}
      
      SIMULATION TYPE: ${f.simulationType}
      INDUSTRY: ${f.industry}
      TARGET AUDIENCE: ${f.targetAudience}
      EXPERIENCE LEVEL: ${f.experienceLevel}
      DURATION: ${f.duration}
      DIFFICULTY: ${f.difficulty}
      NUMBER OF STEPS: ${f.numberOfSteps}
      
      LEARNING OBJECTIVES:
      ${f.learningObjectives.map(E=>`- ${E}`).join(`
`)}
      
      SKILLS TESTED:
      ${f.skillsTested.join(", ")}
      
      CONTEXT:
      ${f.scenarioContext}
      
      SPECIFIC REQUIREMENTS:
      ${f.specificRequirements.map(E=>`- ${E}`).join(`
`)}
      
      ADDITIONAL CONTEXT:
      ${f.additionalContext}
      
      Create an interactive HTML simulation that:
      1. Follows the ${f.simulationType} format
      2. Tests the specified skills: ${f.skillsTested.join(", ")}
      3. Takes approximately ${f.duration}
      4. Includes ${f.numberOfSteps} main steps/scenarios
      5. Provides feedback and scoring
      6. Is appropriate for ${f.experienceLevel} level learners
      7. Focuses on: ${f.learningObjectives.join(", ")}
    `,w=()=>{const E={};return f.title.trim()||(E.title="Title is required"),f.description.trim()||(E.description="Description is required"),f.simulationType||(E.simulationType="Please select a simulation type"),f.learningObjectives.length===0&&(E.learningObjectives="Add at least one learning objective"),f.skillsTested.length===0&&(E.skillsTested="Select at least one skill"),f.targetAudience||(E.targetAudience="Please select target audience"),f.industry||(E.industry="Please select industry"),f.duration||(E.duration="Please select duration"),f.difficulty||(E.difficulty="Please select difficulty"),E},x=async()=>{var P;const E=w();if(Object.keys(E).length>0){l(Object.values(E)[0]);return}s(!0),l(null);try{const C=b();console.log(" Generating simulation with structured prompt:",C);const S=await hW(C);console.log(" Generated simulation:",S),console.log(" HTML Content length:",(P=S.htmlContent)==null?void 0:P.length),i(S),r(2)}catch(C){l(`Failed to generate simulation: ${C.message}`)}finally{s(!1)}},j=async()=>{if(!u.trim()){l("Please provide feedback for regeneration");return}s(!0),l(null);try{const E=await pW(n.htmlContent,u);i(E),d("")}catch(E){l(`Failed to regenerate simulation: ${E.message}`)}finally{s(!1)}},O=async()=>{try{s(!0),l(null),console.log(" Saving simulation to database...");const E=await P_.saveSimulation({...n,userPrompt:b(),formData:f});console.log(" Simulation saved to database:",E.id),await rv.logActivity("simulation_created",{simulation_id:E.id,title:E.title,category:E.category}),await rv.logActivity("simulation_published",{simulation_id:E.id,title:E.title}),e(E),alert(" Simulation published successfully to database!"),r(1),setUserPrompt(""),i(null),d("")}catch(E){console.error(" Error saving simulation to database:",E),l(`Failed to publish simulation: ${E.message}`)}finally{s(!1)}},N=()=>{r(1),i(null),d(""),l(null),p({title:"",description:"",simulationType:"",learningObjectives:[],currentObjective:"",skillsTested:[],targetAudience:"",experienceLevel:"",industry:"",companySize:"",scenarioContext:"",duration:"",difficulty:"",numberOfSteps:5,specificRequirements:[],currentRequirement:"",additionalContext:""})};return c.jsxs("div",{className:"max-w-6xl mx-auto",children:[t===1&&c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:" Create your own simulations"})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Basic Information"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Simulation Title *"}),c.jsx("input",{type:"text",value:f.title,onChange:E=>p({...f,title:E.target.value}),placeholder:"e.g., Customer Service Training Simulation",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Target Audience *"}),c.jsxs("select",{value:f.targetAudience,onChange:E=>p({...f,targetAudience:E.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[c.jsx("option",{value:"",children:"Select target audience"}),c.jsx("option",{value:"Customer Service",children:"Customer Service"}),c.jsx("option",{value:"Sales Team",children:"Sales Team"}),c.jsx("option",{value:"Managers",children:"Managers"}),c.jsx("option",{value:"New Hires",children:"New Hires"}),c.jsx("option",{value:"General Staff",children:"General Staff"}),c.jsx("option",{value:"Students",children:"Students"})]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description *"}),c.jsx("textarea",{value:f.description,onChange:E=>p({...f,description:E.target.value}),placeholder:"Brief description of what this simulation will teach...",className:"w-full h-24 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all resize-none"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" What type of simulation?"}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{value:"role-play",label:" Role Play",desc:"Interactive conversations"},{value:"decision-tree",label:" Decision Tree",desc:"Multiple choice scenarios"},{value:"scenario-based",label:" Scenario Based",desc:"Step-by-step situations"},{value:"interactive-story",label:" Interactive Story",desc:"Narrative with choices"}].map(E=>c.jsxs("label",{className:"cursor-pointer",children:[c.jsx("input",{type:"radio",name:"simulationType",value:E.value,checked:f.simulationType===E.value,onChange:P=>p({...f,simulationType:P.target.value}),className:"sr-only"}),c.jsxs("div",{className:`p-4 border-2 rounded-lg text-center transition-all ${f.simulationType===E.value?"border-primary bg-primary/5":"border-slate-300 hover:border-slate-400"}`,children:[c.jsx("div",{className:"text-2xl mb-2",children:E.label.split(" ")[0]}),c.jsx("div",{className:"font-semibold text-slate-800",children:E.label.split(" ").slice(1).join(" ")}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:E.desc})]})]},E.value))})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Learning Objectives *"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:f.currentObjective,onChange:E=>p({...f,currentObjective:E.target.value}),placeholder:"Add learning objective (press Enter)",className:"flex-1 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",onKeyPress:E=>E.key==="Enter"&&h()}),c.jsx("button",{type:"button",onClick:h,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-accent transition-colors",children:"Add"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:f.learningObjectives.map((E,P)=>c.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[E,c.jsx("button",{type:"button",onClick:()=>m(P),className:"text-blue-600 hover:text-blue-800",children:""})]},P))})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Skills Being Tested *"}),c.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:["Communication","Leadership","Problem Solving","Empathy","Negotiation","Time Management","Critical Thinking","Teamwork","Adaptability","Decision Making"].map(E=>c.jsxs("label",{className:"cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:f.skillsTested.includes(E),onChange:()=>v(E),className:"sr-only"}),c.jsx("div",{className:`p-3 border-2 rounded-lg text-center transition-all ${f.skillsTested.includes(E)?"border-primary bg-primary/5 text-primary":"border-slate-300 hover:border-slate-400"}`,children:E})]},E))})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Industry & Context"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Industry *"}),c.jsxs("select",{value:f.industry,onChange:E=>p({...f,industry:E.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[c.jsx("option",{value:"",children:"Select industry"}),c.jsx("option",{value:"Technology",children:"Technology"}),c.jsx("option",{value:"Healthcare",children:"Healthcare"}),c.jsx("option",{value:"Retail",children:"Retail"}),c.jsx("option",{value:"Finance",children:"Finance"}),c.jsx("option",{value:"Education",children:"Education"}),c.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience Level *"}),c.jsxs("select",{value:f.experienceLevel,onChange:E=>p({...f,experienceLevel:E.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[c.jsx("option",{value:"",children:"Select level"}),c.jsx("option",{value:"Beginner",children:"Beginner"}),c.jsx("option",{value:"Intermediate",children:"Intermediate"}),c.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Scenario Context"}),c.jsx("textarea",{value:f.scenarioContext,onChange:E=>p({...f,scenarioContext:E.target.value}),placeholder:"Describe the specific situation or context...",className:"w-full h-20 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all resize-none"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Simulation Settings"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),c.jsxs("select",{value:f.duration,onChange:E=>p({...f,duration:E.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[c.jsx("option",{value:"",children:"Select duration"}),c.jsx("option",{value:"5-10 minutes",children:"5-10 minutes"}),c.jsx("option",{value:"10-15 minutes",children:"10-15 minutes"}),c.jsx("option",{value:"15-20 minutes",children:"15-20 minutes"}),c.jsx("option",{value:"20-30 minutes",children:"20-30 minutes"}),c.jsx("option",{value:"30+ minutes",children:"30+ minutes"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Difficulty *"}),c.jsxs("select",{value:f.difficulty,onChange:E=>p({...f,difficulty:E.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[c.jsx("option",{value:"",children:"Select difficulty"}),c.jsx("option",{value:"Beginner",children:"Beginner"}),c.jsx("option",{value:"Intermediate",children:"Intermediate"}),c.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Number of Steps"}),c.jsx("input",{type:"number",min:"1",max:"20",value:f.numberOfSteps,onChange:E=>p({...f,numberOfSteps:parseInt(E.target.value)||5}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all"})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Specific Requirements"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:f.currentRequirement,onChange:E=>p({...f,currentRequirement:E.target.value}),placeholder:"Add specific requirement (press Enter)",className:"flex-1 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",onKeyPress:E=>E.key==="Enter"&&g()}),c.jsx("button",{type:"button",onClick:g,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-accent transition-colors",children:"Add"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:f.specificRequirements.map((E,P)=>c.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[E,c.jsx("button",{type:"button",onClick:()=>y(P),className:"text-green-600 hover:text-green-800",children:""})]},P))})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Additional Context"}),c.jsx("textarea",{value:f.additionalContext,onChange:E=>p({...f,additionalContext:E.target.value}),placeholder:"Any additional context, special instructions, or specific details...",className:"w-full h-20 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all resize-none"})]}),o&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsx("div",{className:"flex items-center",children:c.jsxs("span",{className:"text-red-700 font-medium",children:[" ",o]})})}),c.jsx("div",{className:"flex justify-center pt-6",children:c.jsx("button",{onClick:x,disabled:a,className:"px-12 py-4 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-xl hover:shadow-2xl transform hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):" Generate Simulation"})})]})]}),t===2&&n&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:n.title}),c.jsx("p",{className:"text-slate-600 mb-4",children:n.description}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:n.category}),c.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:n.difficulty}),c.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[" ",n.duration]})]})]})}),n.learningObjectives&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Learning Objectives:"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-slate-600 space-y-1",children:n.learningObjectives.map((E,P)=>c.jsx("li",{children:E},P))})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Simulation Preview"}),c.jsxs("div",{className:"border-2 border-slate-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-slate-50 px-4 py-2 border-b border-slate-200",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),c.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"ml-2 text-sm text-slate-600",children:"Simulation Preview"})]})}),c.jsx("div",{className:"bg-white",children:n.htmlContent?c.jsx("iframe",{srcDoc:n.htmlContent,title:"Simulation Preview",className:"w-full border-0",style:{minHeight:"600px",height:"70vh"},sandbox:"allow-scripts allow-same-origin allow-forms"}):c.jsxs("div",{className:"p-8 text-center text-slate-500",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("div",{className:"text-lg font-medium mb-2",children:"No HTML content generated"}),c.jsx("div",{className:"text-sm",children:"The simulation generation may have failed. Check the console for errors."})]})})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Want to improve it?"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Provide feedback and the AI will regenerate the simulation with improvements."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),placeholder:"e.g., Make it more challenging, Add more specific metrics, Include time pressure...",className:"flex-1 px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20",disabled:a}),c.jsx("button",{onClick:j,disabled:a||!u.trim(),className:"px-6 py-2 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Regenerating...":" Regenerate"})]})]}),o&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsxs("div",{className:"text-red-700 font-medium",children:[" ",o]})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:N,className:"flex-1 px-6 py-3 bg-slate-200 text-slate-700 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:" Start Over"}),c.jsx("button",{onClick:O,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-semibold hover:shadow-lg transform hover:-translate-y-0.5 transition-all",children:" Publish Simulation"})]})]})]})},gW=()=>{const e=Ln(),t=r=>{e("/creator")};return c.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:c.jsx("div",{className:"max-w-6xl mx-auto px-4",children:c.jsx(mW,{onSimulationCreated:t})})})},sw={USER_PROGRESS:"trysimulate_progress",CUSTOM_SIMULATIONS:"trysimulate_custom"},vW=()=>{const e=bW();return[...yW(),...e]},yW=()=>[{id:"default-customer-comments-1",title:"Customer Feedback Dashboard  Food Delivery App",type:"customer-comments",category:"Product Management",description:"Handle customer complaints with empathy and provide solutions.",difficulty:"Beginner",duration:"10 min",created:"2025-01-15",isDefault:!0,scenario:{role:"Product/Marketing Manager",context:"You manage a food delivery app. Three customer comments need professional replies.",comments:[{id:1,user:"Rina",text:"My order arrived cold. Really disappointed."},{id:2,user:"Amit",text:"Promo code DIDN'T apply. I lost money."},{id:3,user:"Sonal",text:"The app crashed when I tried to pay."}]}},{id:"default-sales-negotiation-1",title:"SaaS Pricing Negotiation  Startup Discount Request",type:"sales-negotiation",category:"Sales",description:"Navigate a 30% discount request while protecting value.",difficulty:"Intermediate",duration:"15 min",created:"2025-01-14",isDefault:!0,scenario:{role:"Sales Executive",context:"You pitched a collaboration SaaS to an early-stage startup. After the demo, the buyer requests a 30% discount.",email:{from:"Rahul  Head of Ops, AcmeStartup",subject:"Re: Demo Follow-up",body:"Thanks for the demo  product looks useful. However, your quoted annual price is above our budget. Can you do a 30% discount for our startup? If not, we may need to consider other options."},rubric:{empathy:25,value:30,alternatives:30,closing:15}}},{id:"default-prioritization-1",title:"Task Prioritization  A Busy PM's Day",type:"prioritization",category:"Product Management",description:"Reorder 10 tasks by priority under time pressure.",difficulty:"Intermediate",duration:"12 min",created:"2025-01-13",isDefault:!0,scenario:{role:"Product Manager",context:"You have 10 tasks competing for attention. Prioritize them correctly.",tasks:[{id:1,title:"Reply to CEO email about release go/no-go",est_time:10,ideal_rank:1,note:"High business impact; time-sensitive (CEO asked for update)"},{id:2,title:"Review high-severity customer bug & assign triage",est_time:20,ideal_rank:2,note:"Customer-visible; may require hotfix"},{id:3,title:"Attend company Town Hall (mandatory)",est_time:60,ideal_rank:3,note:"Fixed time  must attend"},{id:4,title:"Schedule requirements-gathering call for PI planning",est_time:10,ideal_rank:4,note:"Enables PI planning; schedule soon"},{id:5,title:"Approve marketing campaign copy launching tomorrow",est_time:15,ideal_rank:5,note:"Deadline-bound; blocks publish"},{id:6,title:"Update roadmap slide and share with stakeholders",est_time:30,ideal_rank:6,note:"Important for alignment"},{id:7,title:"One-on-one with direct report (scheduled)",est_time:30,ideal_rank:7,note:"People management; scheduled"},{id:8,title:"Respond to vendor on contract renewal/pricing",est_time:20,ideal_rank:8,note:"Renewal in 7 days; can delegate if needed"},{id:9,title:"Review analytics dashboard for KPI anomalies",est_time:25,ideal_rank:9,note:"Monitor for anomalies; lower unless issue found"},{id:10,title:"Prepare optional cross-vertical demo (can skip)",est_time:45,ideal_rank:10,note:"Optional; postpone if busy"}]}},{id:"default-team-conflict-1",title:"Team Conflict  Engineering vs Design Disagreement",type:"team-conflict",category:"Leadership",description:"Resolve a heated Slack discussion between team members.",difficulty:"Advanced",duration:"20 min",created:"2025-01-12",isDefault:!0,scenario:{role:"Project Manager / Team Lead",context:"Two team members are in conflict over a design decision in the team Slack channel.",messages:[{id:1,user:"Sarah (Designer)",avatar:"S",text:"We need to stick with the original design. We user-tested it for 2 weeks.",time:"10:23 AM"},{id:2,user:"Dev (Engineer)",avatar:"D",text:"The original design will take 3 extra weeks to build. We don't have that time.",time:"10:25 AM"},{id:3,user:"Sarah (Designer)",avatar:"S",text:"So we're just ignoring user research now? This is exactly what happened last quarter.",time:"10:27 AM"},{id:4,user:"Dev (Engineer)",avatar:"D",text:"I'm not ignoring research. I'm being realistic about our sprint capacity.",time:"10:28 AM"}]}}],bW=()=>{const e=localStorage.getItem(sw.CUSTOM_SIMULATIONS);return e?JSON.parse(e):[]},zp=e=>vW().find(r=>r.id===e),qp=(e,t)=>{const r=localStorage.getItem(sw.USER_PROGRESS),n=r?JSON.parse(r):{};n[e]={...t,lastUpdated:new Date().toISOString()},localStorage.setItem(sw.USER_PROGRESS,JSON.stringify(n))},xW=()=>{var j,O,N,E,P,C,S,A,I,D;const{id:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState({}),[l,u]=T.useState(""),[d,f]=T.useState({}),[p,h]=T.useState(!1),[m,g]=T.useState(!0);T.useEffect(()=>{const U=zp(e);g(!1),U&&U.type==="customer-comments"?(n(U),U.scenario&&U.scenario.comments&&U.scenario.comments.length>0&&a(U.scenario.comments[0].id)):(alert("Simulation not found"),t("/browse"))},[e,t]);const y=U=>{const J=U.toLowerCase();let X=/sorry|apolog|understand|thank|appreciate/.test(J),H=/refund|replace|voucher|help|fix|send|arrange|process|resolve|solution/.test(J),W=/order|id|tomorrow|within|confirm|please|share|contact|follow/.test(J),V=/stupid|hate|angry|idiot|trash|terrible|awful/.test(J),$=0;$+=X?40:0,$+=H?40:0,$+=W?20:0,V&&($-=30),$<0&&($=0);let R=[];return X?R.push(" Shows empathy / understanding."):R.push(" Missing empathy  start with an apology or acknowledgment."),H?R.push(" Offered some form of help or solution."):R.push(" No clear resolution or action proposed."),W?R.push(" Clear or asks for necessary info / next steps."):R.push(" Could be clearer or ask for order details."),V&&R.push(" Avoid negative tone or harsh words."),{total:$,feedback:R}},v=()=>{var X,H;if(!l.trim()){alert("Please type a reply before submitting.");return}const U=y(l);o({...s,[i]:l}),f({...d,[i]:U}),u("");const J=(H=(X=r==null?void 0:r.scenario)==null?void 0:X.comments)==null?void 0:H.findIndex(W=>W.id===i);J!==void 0&&J<r.scenario.comments.length-1&&a(r.scenario.comments[J+1].id)},b=()=>{const U=Object.values(d).reduce((X,H)=>X+H.total,0),J=Math.round(U/Object.values(d).length);qp(e,J),h(!0)},w=(O=(j=r==null?void 0:r.scenario)==null?void 0:j.comments)==null?void 0:O.find(U=>U.id===i),x=(E=(N=r==null?void 0:r.scenario)==null?void 0:N.comments)==null?void 0:E.every(U=>s[U.id]);if(m||!r)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulation..."})});if(!r.scenario||!r.scenario.comments)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg text-red-600 mb-4",children:"Simulation data is incomplete"}),c.jsx("button",{onClick:()=>t("/browse"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-accent",children:"Back to Browse"})]})});if(p){const U=Object.values(d).reduce((X,H)=>X+H.total,0),J=Math.round(U/Object.values(d).length);return c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Simulation Complete!"}),c.jsx("p",{className:"text-slate-600",children:"Here's how you performed"})]}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl p-6 mb-8 text-center border border-primary/20",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Average Score"}),c.jsx("div",{className:"text-5xl font-bold text-primary",children:J}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"out of 100"})]}),c.jsxs("div",{className:"space-y-6 mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Per-Comment Feedback"}),(C=(P=r==null?void 0:r.scenario)==null?void 0:P.comments)==null?void 0:C.map(X=>{const H=d[X.id];return H?c.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900",children:X.user}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:X.text})]}),c.jsxs("div",{className:"text-2xl font-bold text-primary",children:[H.total,"/100"]})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Your Reply:"}),c.jsx("div",{className:"text-sm text-slate-600",children:s[X.id]})]}),c.jsx("div",{className:"space-y-2",children:H.feedback.map((W,V)=>c.jsx("div",{className:"text-sm text-slate-700",children:W},V))})]},X.id):null})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})})})}return c.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),c.jsx("p",{className:"text-slate-600",children:r.description})]}),c.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl p-6 shadow-lg border border-slate-200 h-fit",children:[c.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Customer Comments"}),c.jsx("div",{className:"space-y-3",children:(A=(S=r==null?void 0:r.scenario)==null?void 0:S.comments)==null?void 0:A.map(U=>c.jsxs("div",{onClick:()=>a(U.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i===U.id?"border-primary bg-primary/5":s[U.id]?"border-green-300 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:U.user}),s[U.id]&&c.jsx("span",{className:"text-green-600",children:""})]}),c.jsx("div",{className:"text-xs text-slate-600 line-clamp-2",children:U.text})]},U.id))}),c.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Click a comment to reply"})]}),c.jsx("div",{className:"lg:col-span-6 bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:w?c.jsxs(c.Fragment,{children:[c.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["From: ",w.user]}),c.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 mb-6",children:c.jsx("p",{className:"text-slate-700",children:w.text})}),s[i]?c.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"font-semibold text-green-900",children:"Your Reply (Submitted)"}),c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[d[i].total,"/100"]})]}),c.jsx("p",{className:"text-slate-700 mb-4",children:s[i]}),c.jsx("div",{className:"space-y-2",children:d[i].feedback.map((U,J)=>c.jsx("div",{className:"text-sm text-slate-700",children:U},J))})]}):c.jsxs(c.Fragment,{children:[c.jsx("label",{className:"block font-semibold text-slate-900 mb-2",children:"Your Reply"}),c.jsx("textarea",{value:l,onChange:U=>u(U.target.value),placeholder:"Type your professional response...",rows:6,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"}),c.jsx("button",{onClick:v,className:"mt-4 w-full py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Send Reply"})]})]}):c.jsx("div",{className:"text-center py-12 text-slate-500",children:"Select a comment to reply"})}),c.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl p-6 shadow-lg border border-slate-200 h-fit",children:[c.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Your Progress"}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 mb-6 text-center border border-primary/20",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Replies Submitted"}),c.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Object.keys(s).length,"/",((D=(I=r==null?void 0:r.scenario)==null?void 0:I.comments)==null?void 0:D.length)||0]})]}),x&&c.jsx("button",{onClick:b,className:"w-full py-3 font-semibold text-white bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg hover:shadow-lg transition-all mb-4",children:"Finish & See Results"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Tips"}),c.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:'Start with empathy ("Sorry / I understand")'})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Offer a solution (refund, replacement, follow-up)"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Be polite and clear"})]})]})]})]})]})]})})},wW=()=>{const{id:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState(""),[s,o]=T.useState(null),[l,u]=T.useState(!1);T.useEffect(()=>{const h=zp(e);h&&h.type==="sales-negotiation"?n(h):(alert("Simulation not found"),t("/browse"))},[e,t]);const d=h=>{const m={empathy:25,value:30,alternatives:30,closing:15},g={empathy:["thanks","thank you","appreciate","understand","i appreciate","sorry","glad","happy to hear","great to hear"],value:["roi","return on","outcome","saves","save","time","efficiency","productivity","uptime","support","integration","reduce cost","value","benefit","results"],alternatives:["pilot","trial","6-month","6 month","6 months","12-month","12 month","12 months","commit","commitment","startup discount","discount","phased","limited","seat","seats","tier","bundle","option","pay monthly","monthly"],closing:["call","jump on","shall i","shall we","which option","which would work","finalise","finalize","sign","ready to move","next step","let me know","confirm","send updated quote"]},y=(U,J)=>{const X=(U||"").toLowerCase();if(!X)return 0;let H=0;for(const W of J)X.includes(W)&&H++;return Math.min(1,H/J.length)},v=U=>{const J=(U||"").toLowerCase();if(!/\b(30%|30 percent|50%|50 percent)\b/.test(J))return!1;const H=["if","commit","commitment","sign","for 12","for 6","on 12","on 6","with a","subject to","upon","when you","if you"];for(const W of H)if(J.includes(W))return!1;return!0},b=y(h,g.empathy),w=y(h,g.value);let x=y(h,g.alternatives);const j=y(h,g.closing),O=["if you commit","if you sign","commit to","12 months","6 months","for 12 months","for 6 months","pilot","trial"];let N=!1;for(const U of O)h.toLowerCase().includes(U)&&(N=!0);N&&(x=Math.min(1,x*1.2));const E=v(h);E&&(x=Math.max(0,x-.35));const P=Math.round(m.empathy*b),C=Math.round(m.value*w),S=Math.round(m.alternatives*x),A=Math.round(m.closing*j);let I=P+C+S+A;I=Math.max(0,Math.min(100,I));const D=[];return b>.4?D.push(" Good empathy  you acknowledged their concern or thanked them."):D.push(" Missing empathy  start with recognition of their budget concern."),w>.3?D.push(" You reinforced value  linked features to ROI/outcomes."):D.push(" Value reinforcement is missing  reiterate key outcomes you deliver."),x>.4?E?D.push(" You offered a discount but it appeared unconditional  prefer conditional concessions."):D.push(" Good  you proposed alternatives that protect margin while moving the deal forward."):D.push(" No strong alternative offer  suggest conditional concessions (pilot, longer commitment, limited features)."),j>.3?D.push(" Nice close / next step  you asked for a decision or offered a call/quote."):D.push(" Missing a clear call-to-action  close with a next-step."),{finalTotal:I,empathyScore:P,valueScore:C,altScore:S,closingScore:A,feedback:D,WEIGHTS:m}},f=()=>{if(!i.trim()){alert("Please write your negotiation reply before submitting.");return}const h=d(i);o(h),u(!0),qp(e,h.finalTotal,h.feedback)},p=()=>{a(""),o(null),u(!1)};return r?c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),c.jsx("p",{className:"text-slate-600",children:r.description})]}),c.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"lg:col-span-7 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Scenario"}),c.jsx("p",{className:"text-slate-600 mb-6",children:r.scenario.context}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Buyer Email"}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[c.jsxs("div",{className:"font-bold text-slate-900 mb-2",children:["From: ",r.scenario.email.from]}),r.scenario.email.subject&&c.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:["Subject: ",r.scenario.email.subject]}),c.jsx("div",{className:"text-slate-700 mt-3",children:r.scenario.email.body})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Your Reply"}),c.jsx("textarea",{value:i,onChange:h=>a(h.target.value),disabled:l,placeholder:"Write your negotiation reply here...",rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none disabled:bg-slate-100"}),c.jsxs("div",{className:"flex gap-3 mt-4",children:[c.jsx("button",{onClick:f,disabled:l,className:`flex-1 py-3 font-semibold text-white rounded-lg transition-all ${l?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-primary to-accent hover:shadow-lg"}`,children:"Submit Reply"}),c.jsx("button",{onClick:p,className:"px-6 py-3 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Reset"})]}),c.jsx("div",{className:"mt-3 text-sm text-slate-600",children:"Focus on: empathy, reinforce key value, offer alternatives (pilot/terms), and close with a clear next step."})]})]}),c.jsxs("div",{className:"lg:col-span-5 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Scoring & Feedback"}),s?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 mb-4",children:"Per-Competency Scores"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Empathy"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.empathyScore," / ",s.WEIGHTS.empathy]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full",style:{width:`${s.empathyScore/s.WEIGHTS.empathy*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Value Reinforcement"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.valueScore," / ",s.WEIGHTS.value]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full",style:{width:`${s.valueScore/s.WEIGHTS.value*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Alternatives / Creativity"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.altScore," / ",s.WEIGHTS.alternatives]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full",style:{width:`${s.altScore/s.WEIGHTS.alternatives*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Closing / Next Step"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.closingScore," / ",s.WEIGHTS.closing]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 h-2 rounded-full",style:{width:`${s.closingScore/s.WEIGHTS.closing*100}%`}})})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl p-6 mb-6 text-center border border-primary/20",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Final Score"}),c.jsx("div",{className:"text-5xl font-bold text-primary",children:s.finalTotal}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"out of 100"})]}),c.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200 mb-6",children:[c.jsx("div",{className:"font-bold text-amber-900 mb-3",children:"Feedback"}),c.jsx("div",{className:"space-y-2",children:s.feedback.map((h,m)=>c.jsx("div",{className:"text-sm text-slate-700",children:h},m))})]}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Behind-the-scenes Actions"}),c.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Prepare updated quotes with conditional discounts"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Gather ROI examples tailored to the buyer"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Track internal KPIs: ARR, discount impact, pilot metrics"})]})]})]})]}):c.jsx("div",{className:"text-slate-500 text-center py-12",children:"No reply submitted yet. Your scoring and feedback will appear here after you submit your reply."})]})]}),s&&c.jsxs("div",{className:"mt-6 flex gap-4",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),c.jsx("button",{onClick:p,className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-lg text-slate-600",children:"Loading..."})})};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){_W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dg(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dg=function(t){return typeof t}:dg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function _W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function No(){return No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(this,arguments)}function jW(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function NW(e,t){if(e==null)return{};var r=jW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var SW="1.15.6";function vo(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Io=vo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Wp=vo(/Edge/i),D4=vo(/firefox/i),Hh=vo(/safari/i)&&!vo(/chrome/i)&&!vo(/android/i),C_=vo(/iP(ad|od|hone)/i),w8=vo(/chrome/i)&&vo(/android/i),_8={capture:!1,passive:!1};function Lt(e,t,r){e.addEventListener(t,r,!Io&&_8)}function Ct(e,t,r){e.removeEventListener(t,r,!Io&&_8)}function nv(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function j8(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function is(e,t,r,n){if(e){r=r||document;do{if(t!=null&&(t[0]===">"?e.parentNode===r&&nv(e,t):nv(e,t))||n&&e===r)return e;if(e===r)break}while(e=j8(e))}return null}var B4=/\s+/g;function Yi(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(B4," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(B4," ")}}function vt(e,t,r){var n=e&&e.style;if(n){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),t===void 0?r:r[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=r+(typeof r=="string"?"":"px")}}function Cd(e,t){var r="";if(typeof e=="string")r=e;else do{var n=vt(e,"transform");n&&n!=="none"&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function N8(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,a=n.length;if(r)for(;i<a;i++)r(n[i],i);return n}return[]}function Is(){var e=document.scrollingElement;return e||document.documentElement}function nn(e,t,r,n,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,s,o,l,u,d,f;if(e!==window&&e.parentNode&&e!==Is()?(a=e.getBoundingClientRect(),s=a.top,o=a.left,l=a.bottom,u=a.right,d=a.height,f=a.width):(s=0,o=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||r)&&e!==window&&(i=i||e.parentNode,!Io))do if(i&&i.getBoundingClientRect&&(vt(i,"transform")!=="none"||r&&vt(i,"position")!=="static")){var p=i.getBoundingClientRect();s-=p.top+parseInt(vt(i,"border-top-width")),o-=p.left+parseInt(vt(i,"border-left-width")),l=s+a.height,u=o+a.width;break}while(i=i.parentNode);if(n&&e!==window){var h=Cd(i||e),m=h&&h.a,g=h&&h.d;h&&(s/=g,o/=m,f/=m,d/=g,l=s+d,u=o+f)}return{top:s,left:o,bottom:l,right:u,width:f,height:d}}}function F4(e,t,r){for(var n=jl(e,!0),i=nn(e)[t];n;){var a=nn(n)[r],s=void 0;if(s=i>=a,!s)return n;if(n===Is())break;n=jl(n,!1)}return!1}function Vd(e,t,r,n){for(var i=0,a=0,s=e.children;a<s.length;){if(s[a].style.display!=="none"&&s[a]!==mt.ghost&&(n||s[a]!==mt.dragged)&&is(s[a],r.draggable,e,!1)){if(i===t)return s[a];i++}a++}return null}function T_(e,t){for(var r=e.lastElementChild;r&&(r===mt.ghost||vt(r,"display")==="none"||t&&!nv(r,t));)r=r.previousElementSibling;return r||null}function Aa(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==mt.clone&&(!t||nv(e,t))&&r++;return r}function $4(e){var t=0,r=0,n=Is();if(e)do{var i=Cd(e),a=i.a,s=i.d;t+=e.scrollLeft*a,r+=e.scrollTop*s}while(e!==n&&(e=e.parentNode));return[t,r]}function kW(e,t){for(var r in e)if(e.hasOwnProperty(r)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r)}return-1}function jl(e,t){if(!e||!e.getBoundingClientRect)return Is();var r=e,n=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=vt(r);if(r.clientWidth<r.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Is();if(n||t)return r;n=!0}}while(r=r.parentNode);return Is()}function AW(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Gb(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Kh;function S8(e,t){return function(){if(!Kh){var r=arguments,n=this;r.length===1?e.call(n,r[0]):e.apply(n,r),Kh=setTimeout(function(){Kh=void 0},t)}}}function EW(){clearTimeout(Kh),Kh=void 0}function k8(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function A8(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function E8(e,t,r){var n={};return Array.from(e.children).forEach(function(i){var a,s,o,l;if(!(!is(i,t.draggable,e,!1)||i.animated||i===r)){var u=nn(i);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,u.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,u.top),n.right=Math.max((o=n.right)!==null&&o!==void 0?o:-1/0,u.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Ci="Sortable"+new Date().getTime();function OW(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(vt(i,"display")==="none"||i===mt.ghost)){e.push({target:i,rect:nn(i)});var a=Ms({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=Cd(i,!0);s&&(a.top-=s.f,a.left-=s.e)}i.fromRect=a}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(kW(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,s=0;e.forEach(function(o){var l=0,u=o.target,d=u.fromRect,f=nn(u),p=u.prevFromRect,h=u.prevToRect,m=o.rect,g=Cd(u,!0);g&&(f.top-=g.f,f.left-=g.e),u.toRect=f,u.thisAnimationDuration&&Gb(p,f)&&!Gb(d,f)&&(m.top-f.top)/(m.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(l=CW(m,p,h,i.options)),Gb(f,d)||(u.prevFromRect=d,u.prevToRect=f,l||(l=i.options.animation),i.animate(u,m,f,l)),l&&(a=!0,s=Math.max(s,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),e=[]},animate:function(n,i,a,s){if(s){vt(n,"transition",""),vt(n,"transform","");var o=Cd(this.el),l=o&&o.a,u=o&&o.d,d=(i.left-a.left)/(l||1),f=(i.top-a.top)/(u||1);n.animatingX=!!d,n.animatingY=!!f,vt(n,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=PW(n),vt(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),vt(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){vt(n,"transition",""),vt(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function PW(e){return e.offsetWidth}function CW(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}var Gu=[],Yb={initializeByDefault:!0},Hp={mount:function(t){for(var r in Yb)Yb.hasOwnProperty(r)&&!(r in t)&&(t[r]=Yb[r]);Gu.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Gu.push(t)},pluginEvent:function(t,r,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=t+"Global";Gu.forEach(function(s){r[s.pluginName]&&(r[s.pluginName][a]&&r[s.pluginName][a](Ms({sortable:r},n)),r.options[s.pluginName]&&r[s.pluginName][t]&&r[s.pluginName][t](Ms({sortable:r},n)))})},initializePlugins:function(t,r,n,i){Gu.forEach(function(o){var l=o.pluginName;if(!(!t.options[l]&&!o.initializeByDefault)){var u=new o(t,r,t.options);u.sortable=t,u.options=t.options,t[l]=u,No(n,u.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var s=this.modifyOption(t,a,t.options[a]);typeof s<"u"&&(t.options[a]=s)}},getEventProperties:function(t,r){var n={};return Gu.forEach(function(i){typeof i.eventProperties=="function"&&No(n,i.eventProperties.call(r[i.pluginName],t))}),n},modifyOption:function(t,r,n){var i;return Gu.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[r]=="function"&&(i=a.optionListeners[r].call(t[a.pluginName],n))}),i}};function TW(e){var t=e.sortable,r=e.rootEl,n=e.name,i=e.targetEl,a=e.cloneEl,s=e.toEl,o=e.fromEl,l=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,m=e.extraEventProperties;if(t=t||r&&r[Ci],!!t){var g,y=t.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Io&&!Wp?g=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(n,!0,!0)),g.to=s||r,g.from=o||r,g.item=i||r,g.clone=a,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=d,g.newDraggableIndex=f,g.originalEvent=p,g.pullMode=h?h.lastPutMode:void 0;var b=Ms(Ms({},m),Hp.getEventProperties(n,t));for(var w in b)g[w]=b[w];r&&r.dispatchEvent(g),y[v]&&y[v].call(t,g)}}var LW=["evt"],Ei=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,a=NW(n,LW);Hp.pluginEvent.bind(mt)(t,r,Ms({dragEl:Fe,parentEl:Rr,ghostEl:Nt,rootEl:gr,nextEl:Pc,lastDownEl:fg,cloneEl:Sr,cloneHidden:yl,dragStarted:Eh,putSortable:Un,activeSortable:mt.active,originalEvent:i,oldIndex:xd,oldDraggableIndex:Vh,newIndex:Xi,newDraggableIndex:dl,hideGhostForTarget:T8,unhideGhostForTarget:L8,cloneNowHidden:function(){yl=!0},cloneNowShown:function(){yl=!1},dispatchSortableEvent:function(o){fi({sortable:r,name:o,originalEvent:i})}},a))};function fi(e){TW(Ms({putSortable:Un,cloneEl:Sr,targetEl:Fe,rootEl:gr,oldIndex:xd,oldDraggableIndex:Vh,newIndex:Xi,newDraggableIndex:dl},e))}var Fe,Rr,Nt,gr,Pc,fg,Sr,yl,xd,Xi,Vh,dl,w0,Un,ad=!1,iv=!1,av=[],Nc,Xa,Xb,Jb,U4,z4,Eh,Yu,Gh,Yh=!1,_0=!1,hg,Jn,Zb=[],ow=!1,sv=[],Sy=typeof document<"u",j0=C_,q4=Wp||Io?"cssFloat":"float",IW=Sy&&!w8&&!C_&&"draggable"in document.createElement("div"),O8=function(){if(Sy){if(Io)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),P8=function(t,r){var n=vt(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Vd(t,0,r),s=Vd(t,1,r),o=a&&vt(a),l=s&&vt(s),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+nn(a).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+nn(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&o.float!=="none"){var f=o.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return a&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&n[q4]==="none"||s&&n[q4]==="none"&&u+d>i)?"vertical":"horizontal"},RW=function(t,r,n){var i=n?t.left:t.top,a=n?t.right:t.bottom,s=n?t.width:t.height,o=n?r.left:r.top,l=n?r.right:r.bottom,u=n?r.width:r.height;return i===o||a===l||i+s/2===o+u/2},MW=function(t,r){var n;return av.some(function(i){var a=i[Ci].options.emptyInsertThreshold;if(!(!a||T_(i))){var s=nn(i),o=t>=s.left-a&&t<=s.right+a,l=r>=s.top-a&&r<=s.bottom+a;if(o&&l)return n=i}}),n},C8=function(t){function r(a,s){return function(o,l,u,d){var f=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(a==null&&(s||f))return!0;if(a==null||a===!1)return!1;if(s&&a==="clone")return a;if(typeof a=="function")return r(a(o,l,u,d),s)(o,l,u,d);var p=(s?o:l).options.group.name;return a===!0||typeof a=="string"&&a===p||a.join&&a.indexOf(p)>-1}}var n={},i=t.group;(!i||dg(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=r(i.pull,!0),n.checkPut=r(i.put),n.revertClone=i.revertClone,t.group=n},T8=function(){!O8&&Nt&&vt(Nt,"display","none")},L8=function(){!O8&&Nt&&vt(Nt,"display","")};Sy&&!w8&&document.addEventListener("click",function(e){if(iv)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),iv=!1,!1},!0);var Sc=function(t){if(Fe){t=t.touches?t.touches[0]:t;var r=MW(t.clientX,t.clientY);if(r){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=r,n.preventDefault=void 0,n.stopPropagation=void 0,r[Ci]._onDragOver(n)}}},DW=function(t){Fe&&Fe.parentNode[Ci]._isOutsideThisEl(t.target)};function mt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=No({},t),e[Ci]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return P8(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,o){s.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:mt.supportPointer!==!1&&"PointerEvent"in window&&(!Hh||C_),emptyInsertThreshold:5};Hp.initializePlugins(this,e,r);for(var n in r)!(n in t)&&(t[n]=r[n]);C8(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:IW,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Lt(e,"pointerdown",this._onTapStart):(Lt(e,"mousedown",this._onTapStart),Lt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Lt(e,"dragover",this),Lt(e,"dragenter",this)),av.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),No(this,OW())}mt.prototype={constructor:mt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Yu=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,Fe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,n=this.el,i=this.options,a=i.preventOnFilter,s=t.type,o=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(o||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=i.filter;if(HW(n),!Fe&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Hh&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=is(l,i.draggable,n,!1),!(l&&l.animated)&&fg!==l)){if(xd=Aa(l),Vh=Aa(l,i.draggable),typeof d=="function"){if(d.call(this,t,l,this)){fi({sortable:r,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ei("filter",r,{evt:t}),a&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=is(u,f.trim(),n,!1),f)return fi({sortable:r,rootEl:f,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ei("filter",r,{evt:t}),!0}),d)){a&&t.preventDefault();return}i.handle&&!is(u,i.handle,n,!1)||this._prepareDragStart(t,o,l)}}},_prepareDragStart:function(t,r,n){var i=this,a=i.el,s=i.options,o=a.ownerDocument,l;if(n&&!Fe&&n.parentNode===a){var u=nn(n);if(gr=a,Fe=n,Rr=Fe.parentNode,Pc=Fe.nextSibling,fg=n,w0=s.group,mt.dragged=Fe,Nc={target:Fe,clientX:(r||t).clientX,clientY:(r||t).clientY},U4=Nc.clientX-u.left,z4=Nc.clientY-u.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,Fe.style["will-change"]="all",l=function(){if(Ei("delayEnded",i,{evt:t}),mt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!D4&&i.nativeDraggable&&(Fe.draggable=!0),i._triggerDragStart(t,r),fi({sortable:i,name:"choose",originalEvent:t}),Yi(Fe,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){N8(Fe,d.trim(),Qb)}),Lt(o,"dragover",Sc),Lt(o,"mousemove",Sc),Lt(o,"touchmove",Sc),s.supportPointer?(Lt(o,"pointerup",i._onDrop),!this.nativeDraggable&&Lt(o,"pointercancel",i._onDrop)):(Lt(o,"mouseup",i._onDrop),Lt(o,"touchend",i._onDrop),Lt(o,"touchcancel",i._onDrop)),D4&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Fe.draggable=!0),Ei("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Wp||Io))){if(mt.eventCanceled){this._onDrop();return}s.supportPointer?(Lt(o,"pointerup",i._disableDelayedDrag),Lt(o,"pointercancel",i._disableDelayedDrag)):(Lt(o,"mouseup",i._disableDelayedDrag),Lt(o,"touchend",i._disableDelayedDrag),Lt(o,"touchcancel",i._disableDelayedDrag)),Lt(o,"mousemove",i._delayedDragTouchMoveHandler),Lt(o,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&Lt(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Fe&&Qb(Fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ct(t,"mouseup",this._disableDelayedDrag),Ct(t,"touchend",this._disableDelayedDrag),Ct(t,"touchcancel",this._disableDelayedDrag),Ct(t,"pointerup",this._disableDelayedDrag),Ct(t,"pointercancel",this._disableDelayedDrag),Ct(t,"mousemove",this._delayedDragTouchMoveHandler),Ct(t,"touchmove",this._delayedDragTouchMoveHandler),Ct(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?Lt(document,"pointermove",this._onTouchMove):r?Lt(document,"touchmove",this._onTouchMove):Lt(document,"mousemove",this._onTouchMove):(Lt(Fe,"dragend",this),Lt(gr,"dragstart",this._onDragStart));try{document.selection?pg(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(ad=!1,gr&&Fe){Ei("dragStarted",this,{evt:r}),this.nativeDraggable&&Lt(document,"dragover",DW);var n=this.options;!t&&Yi(Fe,n.dragClass,!1),Yi(Fe,n.ghostClass,!0),mt.active=this,t&&this._appendGhost(),fi({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Xa){this._lastX=Xa.clientX,this._lastY=Xa.clientY,T8();for(var t=document.elementFromPoint(Xa.clientX,Xa.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Xa.clientX,Xa.clientY),t!==r);)r=t;if(Fe.parentNode[Ci]._isOutsideThisEl(t),r)do{if(r[Ci]){var n=void 0;if(n=r[Ci]._onDragOver({clientX:Xa.clientX,clientY:Xa.clientY,target:t,rootEl:r}),n&&!this.options.dragoverBubble)break}t=r}while(r=j8(r));L8()}},_onTouchMove:function(t){if(Nc){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,a=t.touches?t.touches[0]:t,s=Nt&&Cd(Nt,!0),o=Nt&&s&&s.a,l=Nt&&s&&s.d,u=j0&&Jn&&$4(Jn),d=(a.clientX-Nc.clientX+i.x)/(o||1)+(u?u[0]-Zb[0]:0)/(o||1),f=(a.clientY-Nc.clientY+i.y)/(l||1)+(u?u[1]-Zb[1]:0)/(l||1);if(!mt.active&&!ad){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Nt){s?(s.e+=d-(Xb||0),s.f+=f-(Jb||0)):s={a:1,b:0,c:0,d:1,e:d,f};var p="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");vt(Nt,"webkitTransform",p),vt(Nt,"mozTransform",p),vt(Nt,"msTransform",p),vt(Nt,"transform",p),Xb=d,Jb=f,Xa=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Nt){var t=this.options.fallbackOnBody?document.body:gr,r=nn(Fe,!0,j0,!0,t),n=this.options;if(j0){for(Jn=t;vt(Jn,"position")==="static"&&vt(Jn,"transform")==="none"&&Jn!==document;)Jn=Jn.parentNode;Jn!==document.body&&Jn!==document.documentElement?(Jn===document&&(Jn=Is()),r.top+=Jn.scrollTop,r.left+=Jn.scrollLeft):Jn=Is(),Zb=$4(Jn)}Nt=Fe.cloneNode(!0),Yi(Nt,n.ghostClass,!1),Yi(Nt,n.fallbackClass,!0),Yi(Nt,n.dragClass,!0),vt(Nt,"transition",""),vt(Nt,"transform",""),vt(Nt,"box-sizing","border-box"),vt(Nt,"margin",0),vt(Nt,"top",r.top),vt(Nt,"left",r.left),vt(Nt,"width",r.width),vt(Nt,"height",r.height),vt(Nt,"opacity","0.8"),vt(Nt,"position",j0?"absolute":"fixed"),vt(Nt,"zIndex","100000"),vt(Nt,"pointerEvents","none"),mt.ghost=Nt,t.appendChild(Nt),vt(Nt,"transform-origin",U4/parseInt(Nt.style.width)*100+"% "+z4/parseInt(Nt.style.height)*100+"%")}},_onDragStart:function(t,r){var n=this,i=t.dataTransfer,a=n.options;if(Ei("dragStart",this,{evt:t}),mt.eventCanceled){this._onDrop();return}Ei("setupClone",this),mt.eventCanceled||(Sr=A8(Fe),Sr.removeAttribute("id"),Sr.draggable=!1,Sr.style["will-change"]="",this._hideClone(),Yi(Sr,this.options.chosenClass,!1),mt.clone=Sr),n.cloneId=pg(function(){Ei("clone",n),!mt.eventCanceled&&(n.options.removeCloneOnHide||gr.insertBefore(Sr,Fe),n._hideClone(),fi({sortable:n,name:"clone"}))}),!r&&Yi(Fe,a.dragClass,!0),r?(iv=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Ct(document,"mouseup",n._onDrop),Ct(document,"touchend",n._onDrop),Ct(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,Fe)),Lt(document,"drop",n),vt(Fe,"transform","translateZ(0)")),ad=!0,n._dragStartId=pg(n._dragStarted.bind(n,r,t)),Lt(document,"selectstart",n),Eh=!0,window.getSelection().removeAllRanges(),Hh&&vt(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,n=t.target,i,a,s,o=this.options,l=o.group,u=mt.active,d=w0===l,f=o.sort,p=Un||u,h,m=this,g=!1;if(ow)return;function y(H,W){Ei(H,m,Ms({evt:t,isOwner:d,axis:h?"vertical":"horizontal",revert:s,dragRect:i,targetRect:a,canSort:f,fromSortable:p,target:n,completed:b,onMove:function($,R){return N0(gr,r,Fe,i,$,nn($),t,R)},changed:w},W))}function v(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function b(H){return y("dragOverCompleted",{insertion:H}),H&&(d?u._hideClone():u._showClone(m),m!==p&&(Yi(Fe,Un?Un.options.ghostClass:u.options.ghostClass,!1),Yi(Fe,o.ghostClass,!0)),Un!==m&&m!==mt.active?Un=m:m===mt.active&&Un&&(Un=null),p===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===Fe&&!Fe.animated||n===r&&!n.animated)&&(Yu=null),!o.dragoverBubble&&!t.rootEl&&n!==document&&(Fe.parentNode[Ci]._isOutsideThisEl(t.target),!H&&Sc(t)),!o.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function w(){Xi=Aa(Fe),dl=Aa(Fe,o.draggable),fi({sortable:m,name:"change",toEl:r,newIndex:Xi,newDraggableIndex:dl,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=is(n,o.draggable,r,!0),y("dragOver"),mt.eventCanceled)return g;if(Fe.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return b(!1);if(iv=!1,u&&!o.disabled&&(d?f||(s=Rr!==gr):Un===this||(this.lastPutMode=w0.checkPull(this,u,Fe,t))&&l.checkPut(this,u,Fe,t))){if(h=this._getDirection(t,n)==="vertical",i=nn(Fe),y("dragOverValid"),mt.eventCanceled)return g;if(s)return Rr=gr,v(),this._hideClone(),y("revert"),mt.eventCanceled||(Pc?gr.insertBefore(Fe,Pc):gr.appendChild(Fe)),b(!0);var x=T_(r,o.draggable);if(!x||UW(t,h,this)&&!x.animated){if(x===Fe)return b(!1);if(x&&r===t.target&&(n=x),n&&(a=nn(n)),N0(gr,r,Fe,i,n,a,t,!!n)!==!1)return v(),x&&x.nextSibling?r.insertBefore(Fe,x.nextSibling):r.appendChild(Fe),Rr=r,w(),b(!0)}else if(x&&$W(t,h,this)){var j=Vd(r,0,o,!0);if(j===Fe)return b(!1);if(n=j,a=nn(n),N0(gr,r,Fe,i,n,a,t,!1)!==!1)return v(),r.insertBefore(Fe,j),Rr=r,w(),b(!0)}else if(n.parentNode===r){a=nn(n);var O=0,N,E=Fe.parentNode!==r,P=!RW(Fe.animated&&Fe.toRect||i,n.animated&&n.toRect||a,h),C=h?"top":"left",S=F4(n,"top","top")||F4(Fe,"top","top"),A=S?S.scrollTop:void 0;Yu!==n&&(N=a[C],Yh=!1,_0=!P&&o.invertSwap||E),O=zW(t,n,a,h,P?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,_0,Yu===n);var I;if(O!==0){var D=Aa(Fe);do D-=O,I=Rr.children[D];while(I&&(vt(I,"display")==="none"||I===Nt))}if(O===0||I===n)return b(!1);Yu=n,Gh=O;var U=n.nextElementSibling,J=!1;J=O===1;var X=N0(gr,r,Fe,i,n,a,t,J);if(X!==!1)return(X===1||X===-1)&&(J=X===1),ow=!0,setTimeout(FW,30),v(),J&&!U?r.appendChild(Fe):n.parentNode.insertBefore(Fe,J?U:n),S&&k8(S,0,A-S.scrollTop),Rr=Fe.parentNode,N!==void 0&&!_0&&(hg=Math.abs(N-nn(n)[C])),w(),b(!0)}if(r.contains(Fe))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ct(document,"mousemove",this._onTouchMove),Ct(document,"touchmove",this._onTouchMove),Ct(document,"pointermove",this._onTouchMove),Ct(document,"dragover",Sc),Ct(document,"mousemove",Sc),Ct(document,"touchmove",Sc)},_offUpEvents:function(){var t=this.el.ownerDocument;Ct(t,"mouseup",this._onDrop),Ct(t,"touchend",this._onDrop),Ct(t,"pointerup",this._onDrop),Ct(t,"pointercancel",this._onDrop),Ct(t,"touchcancel",this._onDrop),Ct(document,"selectstart",this)},_onDrop:function(t){var r=this.el,n=this.options;if(Xi=Aa(Fe),dl=Aa(Fe,n.draggable),Ei("drop",this,{evt:t}),Rr=Fe&&Fe.parentNode,Xi=Aa(Fe),dl=Aa(Fe,n.draggable),mt.eventCanceled){this._nulling();return}ad=!1,_0=!1,Yh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),lw(this.cloneId),lw(this._dragStartId),this.nativeDraggable&&(Ct(document,"drop",this),Ct(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Hh&&vt(document.body,"user-select",""),vt(Fe,"transform",""),t&&(Eh&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Nt&&Nt.parentNode&&Nt.parentNode.removeChild(Nt),(gr===Rr||Un&&Un.lastPutMode!=="clone")&&Sr&&Sr.parentNode&&Sr.parentNode.removeChild(Sr),Fe&&(this.nativeDraggable&&Ct(Fe,"dragend",this),Qb(Fe),Fe.style["will-change"]="",Eh&&!ad&&Yi(Fe,Un?Un.options.ghostClass:this.options.ghostClass,!1),Yi(Fe,this.options.chosenClass,!1),fi({sortable:this,name:"unchoose",toEl:Rr,newIndex:null,newDraggableIndex:null,originalEvent:t}),gr!==Rr?(Xi>=0&&(fi({rootEl:Rr,name:"add",toEl:Rr,fromEl:gr,originalEvent:t}),fi({sortable:this,name:"remove",toEl:Rr,originalEvent:t}),fi({rootEl:Rr,name:"sort",toEl:Rr,fromEl:gr,originalEvent:t}),fi({sortable:this,name:"sort",toEl:Rr,originalEvent:t})),Un&&Un.save()):Xi!==xd&&Xi>=0&&(fi({sortable:this,name:"update",toEl:Rr,originalEvent:t}),fi({sortable:this,name:"sort",toEl:Rr,originalEvent:t})),mt.active&&((Xi==null||Xi===-1)&&(Xi=xd,dl=Vh),fi({sortable:this,name:"end",toEl:Rr,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ei("nulling",this),gr=Fe=Rr=Nt=Pc=Sr=fg=yl=Nc=Xa=Eh=Xi=dl=xd=Vh=Yu=Gh=Un=w0=mt.dragged=mt.ghost=mt.clone=mt.active=null,sv.forEach(function(t){t.checked=!0}),sv.length=Xb=Jb=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Fe&&(this._onDragOver(t),BW(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,n=this.el.children,i=0,a=n.length,s=this.options;i<a;i++)r=n[i],is(r,s.draggable,this.el,!1)&&t.push(r.getAttribute(s.dataIdAttr)||WW(r));return t},sort:function(t,r){var n={},i=this.el;this.toArray().forEach(function(a,s){var o=i.children[s];is(o,this.options.draggable,i,!1)&&(n[a]=o)},this),r&&this.captureAnimationState(),t.forEach(function(a){n[a]&&(i.removeChild(n[a]),i.appendChild(n[a]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return is(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var n=this.options;if(r===void 0)return n[t];var i=Hp.modifyOption(this,t,r);typeof i<"u"?n[t]=i:n[t]=r,t==="group"&&C8(n)},destroy:function(){Ei("destroy",this);var t=this.el;t[Ci]=null,Ct(t,"mousedown",this._onTapStart),Ct(t,"touchstart",this._onTapStart),Ct(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ct(t,"dragover",this),Ct(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),av.splice(av.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!yl){if(Ei("hideClone",this),mt.eventCanceled)return;vt(Sr,"display","none"),this.options.removeCloneOnHide&&Sr.parentNode&&Sr.parentNode.removeChild(Sr),yl=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(yl){if(Ei("showClone",this),mt.eventCanceled)return;Fe.parentNode==gr&&!this.options.group.revertClone?gr.insertBefore(Sr,Fe):Pc?gr.insertBefore(Sr,Pc):gr.appendChild(Sr),this.options.group.revertClone&&this.animate(Fe,Sr),vt(Sr,"display",""),yl=!1}}};function BW(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function N0(e,t,r,n,i,a,s,o){var l,u=e[Ci],d=u.options.onMove,f;return window.CustomEvent&&!Io&&!Wp?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=r,l.draggedRect=n,l.related=i||t,l.relatedRect=a||nn(t),l.willInsertAfter=o,l.originalEvent=s,e.dispatchEvent(l),d&&(f=d.call(u,l,s)),f}function Qb(e){e.draggable=!1}function FW(){ow=!1}function $W(e,t,r){var n=nn(Vd(r.el,0,r.options,!0)),i=E8(r.el,r.options,Nt),a=10;return t?e.clientX<i.left-a||e.clientY<n.top&&e.clientX<n.right:e.clientY<i.top-a||e.clientY<n.bottom&&e.clientX<n.left}function UW(e,t,r){var n=nn(T_(r.el,r.options.draggable)),i=E8(r.el,r.options,Nt),a=10;return t?e.clientX>i.right+a||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>i.bottom+a||e.clientX>n.right&&e.clientY>n.top}function zW(e,t,r,n,i,a,s,o){var l=n?e.clientY:e.clientX,u=n?r.height:r.width,d=n?r.top:r.left,f=n?r.bottom:r.right,p=!1;if(!s){if(o&&hg<u*i){if(!Yh&&(Gh===1?l>d+u*a/2:l<f-u*a/2)&&(Yh=!0),Yh)p=!0;else if(Gh===1?l<d+hg:l>f-hg)return-Gh}else if(l>d+u*(1-i)/2&&l<f-u*(1-i)/2)return qW(t)}return p=p||s,p&&(l<d+u*a/2||l>f-u*a/2)?l>d+u/2?1:-1:0}function qW(e){return Aa(Fe)<Aa(e)?1:-1}function WW(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function HW(e){sv.length=0;for(var t=e.getElementsByTagName("input"),r=t.length;r--;){var n=t[r];n.checked&&sv.push(n)}}function pg(e){return setTimeout(e,0)}function lw(e){return clearTimeout(e)}Sy&&Lt(document,"touchmove",function(e){(mt.active||ad)&&e.cancelable&&e.preventDefault()});mt.utils={on:Lt,off:Ct,css:vt,find:N8,is:function(t,r){return!!is(t,r,t,!1)},extend:AW,throttle:S8,closest:is,toggleClass:Yi,clone:A8,index:Aa,nextTick:pg,cancelNextTick:lw,detectDirection:P8,getChild:Vd,expando:Ci};mt.get=function(e){return e[Ci]};mt.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(mt.utils=Ms(Ms({},mt.utils),n.utils)),Hp.mount(n)})};mt.create=function(e,t){return new mt(e,t)};mt.version=SW;var en=[],Oh,cw,uw=!1,ex,tx,ov,Ph;function KW(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(r){var n=r.originalEvent;this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Lt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Lt(document,"touchmove",this._handleFallbackAutoScroll):Lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var n=r.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?Ct(document,"dragover",this._handleAutoScroll):(Ct(document,"pointermove",this._handleFallbackAutoScroll),Ct(document,"touchmove",this._handleFallbackAutoScroll),Ct(document,"mousemove",this._handleFallbackAutoScroll)),W4(),mg(),EW()},nulling:function(){ov=cw=Oh=uw=Ph=ex=tx=null,en.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,n){var i=this,a=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,o=document.elementFromPoint(a,s);if(ov=r,n||this.options.forceAutoScrollFallback||Wp||Io||Hh){rx(r,this.options,o,n);var l=jl(o,!0);uw&&(!Ph||a!==ex||s!==tx)&&(Ph&&W4(),Ph=setInterval(function(){var u=jl(document.elementFromPoint(a,s),!0);u!==l&&(l=u,mg()),rx(r,i.options,u,n)},10),ex=a,tx=s)}else{if(!this.options.bubbleScroll||jl(o,!0)===Is()){mg();return}rx(r,this.options,jl(o,!1),!1)}}},No(e,{pluginName:"scroll",initializeByDefault:!0})}function mg(){en.forEach(function(e){clearInterval(e.pid)}),en=[]}function W4(){clearInterval(Ph)}var rx=S8(function(e,t,r,n){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,o=t.scrollSpeed,l=Is(),u=!1,d;cw!==r&&(cw=r,mg(),Oh=t.scroll,d=t.scrollFn,Oh===!0&&(Oh=jl(r,!0)));var f=0,p=Oh;do{var h=p,m=nn(h),g=m.top,y=m.bottom,v=m.left,b=m.right,w=m.width,x=m.height,j=void 0,O=void 0,N=h.scrollWidth,E=h.scrollHeight,P=vt(h),C=h.scrollLeft,S=h.scrollTop;h===l?(j=w<N&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),O=x<E&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(j=w<N&&(P.overflowX==="auto"||P.overflowX==="scroll"),O=x<E&&(P.overflowY==="auto"||P.overflowY==="scroll"));var A=j&&(Math.abs(b-i)<=s&&C+w<N)-(Math.abs(v-i)<=s&&!!C),I=O&&(Math.abs(y-a)<=s&&S+x<E)-(Math.abs(g-a)<=s&&!!S);if(!en[f])for(var D=0;D<=f;D++)en[D]||(en[D]={});(en[f].vx!=A||en[f].vy!=I||en[f].el!==h)&&(en[f].el=h,en[f].vx=A,en[f].vy=I,clearInterval(en[f].pid),(A!=0||I!=0)&&(u=!0,en[f].pid=setInterval((function(){n&&this.layer===0&&mt.active._onTouchMove(ov);var U=en[this.layer].vy?en[this.layer].vy*o:0,J=en[this.layer].vx?en[this.layer].vx*o:0;typeof d=="function"&&d.call(mt.dragged.parentNode[Ci],J,U,e,ov,en[this.layer].el)!=="continue"||k8(en[this.layer].el,J,U)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&p!==l&&(p=jl(p,!1)));uw=u}},30),I8=function(t){var r=t.originalEvent,n=t.putSortable,i=t.dragEl,a=t.activeSortable,s=t.dispatchSortableEvent,o=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(r){var u=n||a;o();var d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,f=document.elementFromPoint(d.clientX,d.clientY);l(),u&&!u.el.contains(f)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function L_(){}L_.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Vd(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r),this.sortable.animateAll(),n&&n.animateAll()},drop:I8};No(L_,{pluginName:"revertOnSpill"});function I_(){}I_.prototype={onSpill:function(t){var r=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),i.animateAll()},drop:I8};No(I_,{pluginName:"removeOnSpill"});mt.mount(new KW);mt.mount(I_,L_);const VW=()=>{const{id:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState([]),[s,o]=T.useState(null),[l,u]=T.useState(!1),[d,f]=T.useState(!1),p=T.useRef(null),h=T.useRef(null);T.useEffect(()=>{const O=zp(e);if(O&&O.type==="prioritization"){n(O);const N=[...O.scenario.tasks].sort((E,P)=>E.ideal_rank-P.ideal_rank);a(N)}else alert("Simulation not found"),t("/browse")},[e,t]),T.useEffect(()=>(p.current&&!h.current&&!l&&(h.current=new mt(p.current,{animation:160,handle:".drag-handle",onEnd:O=>{const N=[...i],[E]=N.splice(O.oldIndex,1);N.splice(O.newIndex,0,E),a(N)}})),()=>{h.current&&(h.current.destroy(),h.current=null)}),[i,l]);const m=["#2563eb","#ef4444","#f59e0b","#10b981","#6366f1","#ec4899","#8b5cf6","#3b82f6","#fb7185","#f97316"],g=O=>m[(O-1)%m.length],y=(O,N)=>{const E=O.replace("#",""),P=parseInt(E.substring(0,2),16),C=parseInt(E.substring(2,4),16),S=parseInt(E.substring(4,6),16);return`rgba(${P},${C},${S},${N})`},v=()=>{const O={};r.scenario.tasks.forEach(S=>O[S.id]=S.ideal_rank);let N=0;const E=i.map((S,A)=>{const I=A+1,D=O[S.id],U=Math.abs(I-D);return N+=U,{...S,userRank:I,idealRank:D,distance:U}}),P=r.scenario.tasks.length*(r.scenario.tasks.length-1)/2;return{score:Math.round((1-N/P)*100),totalDistance:N,maxDistance:P,perTask:E}},b=O=>O.map(E=>{let P="";return E.distance===0?P=` Good: placed correctly at #${E.userRank}.`:E.distance===1?P=` Acceptable: slightly off (placed #${E.userRank}, ideal #${E.idealRank}).`:P=` Problem: placed #${E.userRank} but ideal is #${E.idealRank}  consider moving this.`,{...E,msg:P}}),w=()=>{const O=v(),N=b(O.perTask);o({...O,feedback:N}),u(!0),qp(e,O.score)},x=()=>{const O=[...r.scenario.tasks].sort((N,E)=>N.ideal_rank-E.ideal_rank);a(O),o(null),u(!1),f(!1)},j=()=>{f(!d)};return r?c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-slate-200 mb-6",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),c.jsx("p",{className:"text-slate-600",children:r.description})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:x,className:"px-4 py-2 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Reset"}),c.jsxs("button",{onClick:j,className:"px-4 py-2 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:[d?"Hide":"Reveal"," Ideal Order"]})]})]})]}),c.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"lg:col-span-7 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"Your Task List"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Drag the colored handle to reorder"})]}),c.jsx("ol",{ref:p,className:"space-y-4 mb-6",children:i.map((O,N)=>{const E=g(O.id);return c.jsxs("li",{className:"flex items-center gap-4 p-4 rounded-xl border bg-gradient-to-r from-white to-slate-50 shadow-md hover:shadow-lg transition-shadow",style:{borderLeft:`6px solid ${y(E,.3)}`},children:[c.jsx("div",{className:"drag-handle w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-lg cursor-grab active:cursor-grabbing flex-shrink-0",style:{background:E,boxShadow:`0 8px 18px ${y(E,.2)}`},children:O.id}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsxs("div",{className:"font-bold text-slate-900 text-sm",children:["#",N+1]}),c.jsx("div",{className:"font-semibold text-slate-900",children:O.title}),c.jsxs("div",{className:"ml-auto px-3 py-1 rounded-full text-xs font-semibold",style:{background:y(E,.15),color:E},children:["est ",O.est_time,"m"]})]}),c.jsx("div",{className:"text-sm text-slate-600",children:O.note})]})]},O.id)})}),c.jsx("button",{onClick:w,disabled:l,className:`w-full py-3 font-semibold text-white rounded-lg transition-all ${l?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-primary to-accent hover:shadow-lg"}`,children:"Submit Priorities"}),c.jsx("div",{className:"mt-4 text-sm text-slate-600",children:" Tip: Quick wins, mandatory events, and customer-impacting items should be near the top."})]}),c.jsxs("div",{className:"lg:col-span-5 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"Results"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Lower distance  better match"})]}),s?c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Distance"}),c.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[s.totalDistance," / ",s.maxDistance]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Final Score"}),c.jsx("div",{className:"text-5xl font-bold text-primary",children:s.score}),c.jsx("div",{className:"text-sm text-slate-600",children:"out of 100"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Per-Task Feedback"}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.feedback.map(O=>{const N=O.distance===0?"bg-green-50 border-green-200":O.distance===1?"bg-blue-50 border-blue-200":"bg-amber-50 border-amber-200";return c.jsxs("div",{className:`p-3 rounded-lg border ${N}`,children:[c.jsx("div",{className:"font-semibold text-slate-900 text-sm mb-1",children:O.title}),c.jsx("div",{className:"text-xs text-slate-700 mb-2",children:O.msg}),c.jsxs("div",{className:"text-xs text-slate-600",children:["Your rank: ",O.userRank,"  Ideal: ",O.idealRank]})]},O.id)})})]}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border border-primary/20",children:[c.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Quick Tips"}),c.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[c.jsx("li",{children:" Handle time-sensitive, CEO-level items first"}),c.jsx("li",{children:" Schedule fixed-time meetings early"}),c.jsx("li",{children:" Delegate or postpone optional work"})]})]})]}):c.jsx("div",{className:"text-slate-500 text-center py-12",children:"No submission yet  submit to view your score and feedback."}),d&&c.jsxs("div",{className:"mt-6 bg-slate-50 rounded-lg p-4 border border-slate-200",children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Ideal Priority Order"}),c.jsx("div",{className:"space-y-2",children:[...r.scenario.tasks].sort((O,N)=>O.ideal_rank-N.ideal_rank).map(O=>c.jsxs("div",{className:"text-sm",children:[c.jsxs("span",{className:"font-bold text-slate-900",children:["#",O.ideal_rank,"."]})," ",O.title,c.jsx("div",{className:"text-xs text-slate-600 ml-5",children:O.note})]},O.id))})]})]})]}),s&&c.jsxs("div",{className:"mt-6 flex gap-4",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),c.jsx("button",{onClick:x,className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-lg text-slate-600",children:"Loading..."})})},GW=()=>{const{id:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState(""),[s,o]=T.useState(null),[l,u]=T.useState(!1);T.useEffect(()=>{const h=zp(e);h&&h.type==="team-conflict"?n(h):(alert("Simulation not found"),t("/browse"))},[e,t]);const d=h=>{const m=h.toLowerCase(),g=/understand|acknowledge|hear|appreciate|thank|see|perspective|valid/.test(m),y=/both|team|together|we|us|align|common|goal|objective/.test(m),v=/suggest|propose|how about|let's|can we|meet|discuss|compromise|alternative|option/.test(m),b=/calm|step back|pause|take a moment|focus on|priority|deadline/.test(m),w=/wrong|fault|blame|always|never|should have|need to/.test(m);let x=g?25:0,j=y?25:0,O=v?30:0,N=b?20:0;w&&(x=Math.max(0,x-15),j=Math.max(0,j-15));const E=Math.min(100,x+j+O+N),P=[];return g?P.push(" Good empathy  you acknowledged both perspectives."):P.push(" Missing empathy  acknowledge both team members' viewpoints."),y?P.push(" Maintained neutrality  focused on team goals."):P.push(" Could be more neutral  emphasize shared objectives."),v?P.push(" Proposed a solution or next step."):P.push(" No clear solution offered  suggest a concrete next action."),b?P.push(" Helped de-escalate the situation."):P.push(` Could add de-escalation language (e.g., "Let's focus on...").`),w&&P.push(" Tone may come across as taking sides or being aggressive."),{totalScore:E,empathyScore:x,neutralityScore:j,solutionScore:O,deescalationScore:N,feedback:P}},f=()=>{if(!i.trim()){alert("Please type your response before submitting.");return}const h=d(i);o(h),u(!0),qp(e,h.totalScore,h.feedback)},p=()=>{a(""),o(null),u(!1)};return r?c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),c.jsx("p",{className:"text-slate-600",children:r.description})]}),c.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"lg:col-span-7 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden",children:[c.jsxs("div",{className:"bg-slate-800 text-white p-4 flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-4"}),c.jsx("div",{className:"font-bold",children:"# team-discussion"})]}),c.jsxs("div",{className:"p-6 bg-slate-50 min-h-[400px] max-h-[500px] overflow-y-auto",children:[r.scenario.messages.map(h=>c.jsxs("div",{className:"mb-4 flex items-start",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-lg mr-3 flex-shrink-0",children:h.avatar}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[c.jsx("span",{className:"font-bold text-slate-900 text-sm",children:h.user}),c.jsx("span",{className:"text-xs text-slate-500",children:h.time})]}),c.jsx("div",{className:"text-slate-700 bg-white p-3 rounded-lg border border-slate-200 shadow-sm",children:h.text})]})]},h.id)),l&&c.jsxs("div",{className:"mb-4 flex items-start border-t-2 border-primary pt-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold text-lg mr-3 flex-shrink-0",children:"Y"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[c.jsxs("span",{className:"font-bold text-slate-900 text-sm",children:["You (",r.scenario.role,")"]}),c.jsx("span",{className:"text-xs text-slate-500",children:"Just now"})]}),c.jsx("div",{className:"text-slate-700 bg-primary/5 p-3 rounded-lg border-2 border-primary/30 shadow-sm",children:i})]})]})]}),!l&&c.jsxs("div",{className:"p-4 bg-white border-t border-slate-200",children:[c.jsx("textarea",{value:i,onChange:h=>a(h.target.value),placeholder:"Type your response as the team lead...",rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none mb-3"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:f,className:"flex-1 py-2 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Send Response"}),c.jsx("button",{onClick:p,className:"px-6 py-2 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Reset"})]})]})]}),c.jsxs("div",{className:"lg:col-span-5 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Scoring & Feedback"}),s?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 mb-4",children:"Score Breakdown"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Empathy"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.empathyScore," / 25"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full",style:{width:`${s.empathyScore/25*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Neutrality"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.neutralityScore," / 25"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full",style:{width:`${s.neutralityScore/25*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"Solution Offered"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.solutionScore," / 30"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full",style:{width:`${s.solutionScore/30*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"font-semibold text-slate-700",children:"De-escalation"}),c.jsxs("span",{className:"font-bold text-slate-900",children:[s.deescalationScore," / 20"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 h-2 rounded-full",style:{width:`${s.deescalationScore/20*100}%`}})})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl p-6 mb-6 text-center border border-primary/20",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Final Score"}),c.jsx("div",{className:"text-5xl font-bold text-primary",children:s.totalScore}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"out of 100"})]}),c.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[c.jsx("div",{className:"font-bold text-amber-900 mb-3",children:"Feedback"}),c.jsx("div",{className:"space-y-2",children:s.feedback.map((h,m)=>c.jsx("div",{className:"text-sm text-slate-700",children:h},m))})]})]}):c.jsxs("div",{children:[c.jsx("div",{className:"text-slate-500 text-center py-8 mb-6",children:"Your response will be scored after submission."}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border border-primary/20",children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Evaluation Criteria"}),c.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-24 font-semibold",children:"Empathy:"}),c.jsx("span",{className:"flex-1",children:"25 points"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-24 font-semibold",children:"Neutrality:"}),c.jsx("span",{className:"flex-1",children:"25 points"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-24 font-semibold",children:"Solution:"}),c.jsx("span",{className:"flex-1",children:"30 points"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-24 font-semibold",children:"De-escalation:"}),c.jsx("span",{className:"flex-1",children:"20 points"})]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Tips"}),c.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Acknowledge both perspectives without taking sides"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Focus on team goals and shared objectives"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Propose a concrete next step or meeting"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary mr-2",children:""}),c.jsx("span",{children:"Use calming, neutral language"})]})]})]})]})]})]}),s&&c.jsxs("div",{className:"mt-6 flex gap-4",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),c.jsx("button",{onClick:p,className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-lg text-slate-600",children:"Loading..."})})},YW=()=>{var xe,fe;const{id:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState(!0),[s,o]=T.useState(0),[l,u]=T.useState({}),[d,f]=T.useState({}),[p,h]=T.useState(!1),[m,g]=T.useState("start"),[y,v]=T.useState([]),[b,w]=T.useState(!1),[x,j]=T.useState(0),[O,N]=T.useState([]),[E,P]=T.useState(""),[C,S]=T.useState(!1),[A,I]=T.useState({}),[D,U]=T.useState(!1),[J,X]=T.useState(!1);T.useEffect(()=>{const he=zp(e);a(!1),he&&he.isAIGenerated?n(he):(alert("AI-generated simulation not found"),t("/browse"))},[e,t]);const H=(he,pe)=>{u(be=>({...be,[he]:pe}))},W=()=>{(()=>{var pe,be,Ce,De,Ie;switch(r.interactionType){case"multiple-choice":return s<(((pe=r.questions)==null?void 0:pe.length)||0)-1;case"scenario-based":return s<(((be=r.decisions)==null?void 0:be.length)||0)-1;case"role-play":return s<(((Ce=r.interactions)==null?void 0:Ce.length)||0)-1;case"text-input":return s<(((De=r.interactions)==null?void 0:De.length)||0)-1;case"decision-tree":case"drag-drop":return!1;default:return s<(((Ie=r.interactions)==null?void 0:Ie.length)||0)-1}})()?o(pe=>pe+1):V()},V=()=>{const he=$();qp(e,he),h(!0)},$=()=>{if(!r)return 0;switch(r.interactionType){case"multiple-choice":return R();case"scenario-based":return B();case"text-input":return z();default:return 75}},R=()=>{if(!(r!=null&&r.questions))return 0;let he=0;return r.questions.forEach(pe=>{var Ce;const be=l[pe.id];be&&((Ce=pe.options.find(De=>De.id===be))!=null&&Ce.isCorrect)&&he++}),Math.round(he/r.questions.length*100)},B=()=>{var pe;if(!(r!=null&&r.decisions))return 0;let he=0;return r.decisions.forEach(be=>{const Ce=l[be.id];if(Ce){const De=be.options.find(Ie=>Ie.id===Ce);De&&(he+=De.score||0)}}),Math.min(he,((pe=r.evaluation)==null?void 0:pe.maxScore)||100)},z=()=>{if(!(r!=null&&r.interactions))return 0;let he=0;return r.interactions.forEach(pe=>{const be=l[pe.id];be&&be.length>10&&(he+=25,be.length>50&&(he+=25),be.length>100&&(he+=25),he+=25)}),Math.min(he,100)},K=he=>{switch(r.interactionType){case"text-input":return q(he);case"multiple-choice":return Q(he);case"scenario-based":return ae(he);case"decision-tree":return Z();case"role-play":return le();case"drag-drop":return ge();default:return de(he)}},q=he=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[c.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"Your Task"}),c.jsx("p",{className:"text-blue-800",children:he.prompt}),he.context&&c.jsx("p",{className:"text-blue-700 text-sm mt-2",children:he.context})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Your Response"}),c.jsx("textarea",{value:l[he.id]||"",onChange:pe=>H(he.id,pe.target.value),rows:6,maxLength:he.maxLength||500,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Type your response here..."}),c.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[(l[he.id]||"").length,"/",he.maxLength||500," characters"]})]})]}),Q=he=>c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Question ",s+1]}),c.jsx("p",{className:"text-slate-700 mb-4",children:he.question}),he.context&&c.jsx("p",{className:"text-slate-600 text-sm mb-4",children:he.context}),c.jsx("div",{className:"space-y-3",children:he.options.map(pe=>c.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${l[he.id]===pe.id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300"}`,children:[c.jsx("input",{type:"radio",name:`question-${he.id}`,value:pe.id,checked:l[he.id]===pe.id,onChange:be=>H(he.id,be.target.value),className:"mt-1 mr-3"}),c.jsx("span",{className:"text-slate-700",children:pe.text})]},pe.id))})]})}),ae=he=>c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Decision Point ",s+1]}),c.jsx("p",{className:"text-slate-700 mb-4",children:he.situation}),he.context&&c.jsx("p",{className:"text-slate-600 text-sm mb-4",children:he.context}),c.jsx("div",{className:"space-y-3",children:he.options.map(pe=>c.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${l[he.id]===pe.id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300"}`,children:[c.jsx("input",{type:"radio",name:`decision-${he.id}`,value:pe.id,checked:l[he.id]===pe.id,onChange:be=>H(he.id,be.target.value),className:"mt-1 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-slate-700 font-medium",children:pe.text}),pe.consequences&&c.jsx("div",{className:"text-slate-600 text-sm mt-1",children:pe.consequences})]})]},pe.id))})]})}),Z=he=>{var Ie,He;const pe=()=>{var Ze;return(Ze=r.decisionTree)==null?void 0:Ze[m]},be=Ze=>{var qe;const $e=[...y,{node:m,choice:Ze.text,impact:Ze.impact}];v($e);const Ve=(qe=r.decisionTree)==null?void 0:qe[Ze.next];Ve?(g(Ze.next),Ve.isEnd&&(w(!0),H("decision-tree",{path:$e,ending:Ve}))):console.error("Next node not found:",Ze.next)},Ce=()=>{g("start"),v([]),w(!1)},De=pe();if(b){const Ze=(Ie=r.decisionTree)==null?void 0:Ie[m];return c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[c.jsx("h3",{className:"font-bold text-green-900 mb-4",children:"Decision Tree Complete!"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Your Path:"}),c.jsx("div",{className:"space-y-2",children:y.map(($e,Ve)=>c.jsxs("div",{className:"text-sm bg-white rounded p-3 border border-green-200",children:[c.jsxs("div",{className:"font-medium text-green-900",children:["Step ",Ve+1,": ",$e.choice]}),$e.impact&&c.jsxs("div",{className:"text-xs text-green-700 mt-1",children:[" ",$e.impact]})]},Ve))})]}),Ze&&c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[c.jsxs("h4",{className:"font-semibold text-green-800 mb-2",children:["Final Outcome: ",Ze.outcome]}),c.jsx("p",{className:"text-green-700 mb-3",children:Ze.description}),Ze.feedback&&c.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-3 rounded",children:[c.jsx("strong",{children:"Feedback:"})," ",Ze.feedback]})]}),c.jsx("button",{onClick:Ce,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Try Again"})]})]})})}return De?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Decision Point ",y.length+1]}),c.jsx("p",{className:"text-slate-700 mb-2",children:De.description}),c.jsx("p",{className:"text-lg font-semibold text-slate-900 mb-6",children:De.question}),c.jsx("div",{className:"space-y-3",children:(He=De.options)==null?void 0:He.map((Ze,$e)=>c.jsxs("button",{onClick:()=>be(Ze),className:"w-full text-left p-4 rounded-lg border-2 border-slate-200 hover:border-primary hover:bg-primary/5 transition-all",children:[c.jsx("div",{className:"font-medium text-slate-900 mb-2",children:Ze.text}),Ze.impact&&c.jsxs("div",{className:"text-sm text-slate-600",children:[" ",Ze.impact]}),Ze.consequences&&c.jsx("div",{className:"text-sm text-slate-600",children:Ze.consequences})]},$e))})]}),y.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[c.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Your Journey So Far:"}),c.jsx("div",{className:"space-y-1",children:y.map((Ze,$e)=>c.jsxs("div",{className:"text-sm text-blue-700",children:["Step ",$e+1,": ",Ze.choice]},$e))})]})]}):c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[c.jsx("h3",{className:"font-bold text-red-900 mb-4",children:"Error"}),c.jsx("p",{className:"text-red-700 mb-2",children:"Decision tree data is incomplete."}),c.jsxs("p",{className:"text-sm text-red-600",children:['Current node "',m,'" not found in decision tree.']}),c.jsx("button",{onClick:Ce,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reset Tree"})]})})},le=he=>{const pe=r.interactions||[],be=pe[x],Ce=()=>{if(!E.trim())return;const Ie=[...O,{type:"user",message:E,timestamp:new Date().toLocaleTimeString()}];N(Ie),P(""),x<pe.length-1?j(He=>He+1):(S(!0),H("role-play",{conversation:Ie}))},De=()=>{j(0),N([]),P(""),S(!1)};return C?c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[c.jsx("h3",{className:"font-bold text-green-900 mb-4",children:"Role Play Complete!"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Conversation Summary:"}),c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:O.map((Ie,He)=>c.jsxs("div",{className:`text-sm p-2 rounded ${Ie.type==="user"?"bg-blue-100 text-blue-800 ml-4":"bg-slate-100 text-slate-700 mr-4"}`,children:[c.jsxs("strong",{children:[Ie.type==="user"?"You":"Character",":"]})," ",Ie.message]},He))})]}),c.jsx("button",{onClick:De,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Try Again"})]})]})}):be?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Role Play - Interaction ",x+1]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Character:"}),c.jsx("p",{className:"text-slate-700",children:be.participant}),c.jsx("p",{className:"text-slate-600 text-sm",children:be.situation})]}),c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[c.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"What they say:"}),c.jsxs("p",{className:"text-blue-800 italic",children:['"',be.theirMessage,'"']}),be.context&&c.jsx("p",{className:"text-blue-700 text-sm mt-2",children:be.context})]})]}),O.length>0&&c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[c.jsx("h4",{className:"font-semibold text-slate-800 mb-3",children:"Conversation History:"}),c.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:O.map((Ie,He)=>c.jsxs("div",{className:`text-sm p-2 rounded ${Ie.type==="user"?"bg-blue-100 text-blue-800 ml-4":"bg-slate-100 text-slate-700 mr-4"}`,children:[c.jsxs("strong",{children:[Ie.type==="user"?"You":"Character",":"]})," ",Ie.message]},He))})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 border border-slate-200",children:[c.jsx("h4",{className:"font-semibold text-slate-800 mb-3",children:"Your Response:"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:E,onChange:Ie=>P(Ie.target.value),rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Type your response to the character..."}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-slate-500",children:[x+1," of ",pe.length," interactions"]}),c.jsx("button",{onClick:Ce,disabled:!E.trim(),className:`px-6 py-2 font-semibold text-white rounded-lg transition-all ${E.trim()?"bg-gradient-to-r from-primary to-accent hover:shadow-lg":"bg-slate-400 cursor-not-allowed"}`,children:x<pe.length-1?"Send & Continue":"Send & Finish"})]})]})]})]}):c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[c.jsx("h3",{className:"font-bold text-red-900 mb-4",children:"Error"}),c.jsx("p",{className:"text-red-700",children:"Role play data is incomplete."})]})})},ge=he=>{var Ke;const pe=r.items||[],be=r.categories||[],Ce=(ct,ht)=>{ct.dataTransfer.setData("text/plain",ht)},De=ct=>{ct.preventDefault()},Ie=(ct,ht)=>{ct.preventDefault();const Ge=ct.dataTransfer.getData("text/plain");I(ft=>({...ft,[Ge]:ht}))},He=()=>{U(!0),X(!0),H("drag-drop",{positions:A})},Ze=()=>{I({}),U(!1),X(!1)},$e=()=>{var Ge;if(!((Ge=r.evaluation)!=null&&Ge.correctPlacements))return 0;let ct=0;const ht=Object.keys(r.evaluation.correctPlacements).length;return Object.entries(r.evaluation.correctPlacements).forEach(([ft,Mt])=>{A[ft]===Mt&&ct++}),Math.round(ct/ht*100)},Ve=ct=>pe.filter(ht=>A[ht.id]===ct),qe=()=>pe.filter(ct=>!A[ct.id]);if(J){const ct=$e();return c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[c.jsx("h3",{className:"font-bold text-green-900 mb-4",children:"Drag & Drop Complete!"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[ct,"%"]}),c.jsx("div",{className:"text-green-800",children:"Overall Score"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Your Placements:"}),c.jsx("div",{className:"space-y-2",children:Object.entries(A).map(([ht,Ge])=>{var Ot,bt;const ft=pe.find(lr=>lr.id===ht),Mt=be.find(lr=>lr.id===Ge),dt=((bt=(Ot=r.evaluation)==null?void 0:Ot.correctPlacements)==null?void 0:bt[ht])===Ge;return c.jsxs("div",{className:`p-2 rounded text-sm ${dt?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[c.jsx("strong",{children:ft==null?void 0:ft.title}),"  ",Mt==null?void 0:Mt.title,dt?" ":" "]},ht)})})]}),c.jsx("button",{onClick:Ze,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Try Again"})]})]})})}return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Drag & Drop Task"}),c.jsx("p",{className:"text-slate-700 mb-4",children:(Ke=r.scenario)==null?void 0:Ke.task}),c.jsx("div",{className:"text-sm text-slate-600",children:"Drag each item to the appropriate category based on priority and importance."})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800",children:"Items to Organize:"}),c.jsx("div",{className:"space-y-2",children:qe().map(ct=>c.jsxs("div",{draggable:!0,onDragStart:ht=>Ce(ht,ct.id),className:"p-4 bg-white border-2 border-dashed border-slate-300 rounded-lg cursor-move hover:border-primary hover:bg-primary/5 transition-all",children:[c.jsx("div",{className:"font-medium text-slate-900",children:ct.title}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ct.description}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:ct.timeEstimate}),c.jsxs("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:[ct.impact," impact"]}),c.jsxs("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:[ct.urgency," urgency"]})]})]},ct.id))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800",children:"Categories:"}),c.jsx("div",{className:"space-y-4",children:be.map(ct=>c.jsxs("div",{onDragOver:De,onDrop:ht=>Ie(ht,ct.id),className:"min-h-[120px] p-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-all",children:[c.jsx("div",{className:"font-medium text-slate-900 mb-2",children:ct.title}),c.jsx("div",{className:"text-sm text-slate-600 mb-3",children:ct.description}),c.jsx("div",{className:"space-y-2",children:Ve(ct.id).map(ht=>c.jsx("div",{className:"p-2 bg-white border border-slate-200 rounded text-sm",children:ht.title},ht.id))})]},ct.id))})]})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{onClick:He,disabled:Object.keys(A).length===0,className:`px-8 py-3 font-semibold text-white rounded-lg transition-all ${Object.keys(A).length>0?"bg-gradient-to-r from-primary to-accent hover:shadow-lg":"bg-slate-400 cursor-not-allowed"}`,children:"Submit Organization"})})]})},de=he=>c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Custom Interaction"}),c.jsx("p",{className:"text-slate-700",children:he.prompt}),he.context&&c.jsx("p",{className:"text-slate-600 text-sm mt-2",children:he.context})]})});if(i||!r)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulation..."})});if(p){const he=$();return c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Simulation Complete!"}),c.jsx("p",{className:"text-slate-600",children:"Here's how you performed"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-4xl font-bold text-primary mb-2",children:[he,"%"]}),c.jsx("div",{className:"text-slate-600",children:"Overall Score"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-bold text-accent mb-2",children:((xe=r.interactions)==null?void 0:xe.length)||((fe=r.questions)==null?void 0:fe.length)||0}),c.jsx("div",{className:"text-slate-600",children:"Questions Answered"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-bold text-green-500 mb-2",children:r.difficulty}),c.jsx("div",{className:"text-slate-600",children:"Difficulty Level"})]})]}),r.learningObjectives&&c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Learning Objectives"}),c.jsx("ul",{className:"space-y-2",children:r.learningObjectives.map((pe,be)=>c.jsxs("li",{className:"flex items-center text-slate-700",children:[c.jsx("span",{className:"text-green-500 mr-2",children:""}),pe]},be))})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Try Again"})]})]})})})}const ke=()=>{var he,pe,be,Ce;switch(r.interactionType){case"multiple-choice":return(he=r.questions)==null?void 0:he[s];case"scenario-based":return(pe=r.decisions)==null?void 0:pe[s];case"decision-tree":return r.decisionTree;case"role-play":return(be=r.interactions)==null?void 0:be[s];case"drag-drop":return r;default:return(Ce=r.interactions)==null?void 0:Ce[s]}},ve=()=>{var he,pe,be,Ce;switch(r.interactionType){case"multiple-choice":return`${s+1}/${((he=r.questions)==null?void 0:he.length)||1}`;case"scenario-based":return`${s+1}/${((pe=r.decisions)==null?void 0:pe.length)||1}`;case"decision-tree":return"Decision Tree";case"role-play":return`${s+1}/${((be=r.interactions)==null?void 0:be.length)||1}`;case"drag-drop":return"Drag & Drop";default:return`${s+1}/${((Ce=r.interactions)==null?void 0:Ce.length)||1}`}},ie=()=>{const he=ke(),pe=l[he==null?void 0:he.id],be=pe&&pe.trim().length>0;switch(console.log("canProceed debug:",{interactionType:r.interactionType,currentStep:s,currentInteraction:he==null?void 0:he.id,hasResponse:!!pe,responseLength:(pe==null?void 0:pe.length)||0,hasValidResponse:be,responseValue:pe,responses:l}),r.interactionType){case"decision-tree":case"drag-drop":return!1;case"multiple-choice":return!!pe;case"scenario-based":return!!pe;case"text-input":return be;case"role-play":return!0;default:return be}},We=()=>{var he,pe,be,Ce,De;switch(r.interactionType){case"decision-tree":case"drag-drop":return"Complete";case"multiple-choice":return s<(((he=r.questions)==null?void 0:he.length)||0)-1?"Next":"Finish";case"scenario-based":return s<(((pe=r.decisions)==null?void 0:pe.length)||0)-1?"Next":"Finish";case"role-play":return s<(((be=r.interactions)==null?void 0:be.length)||0)-1?"Next":"Finish";case"text-input":return s<(((Ce=r.interactions)==null?void 0:Ce.length)||0)-1?"Next":"Finish";default:return s<(((De=r.interactions)==null?void 0:De.length)||0)-1?"Next":"Finish"}},Be=ke();return c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:r.title}),c.jsx("p",{className:"text-slate-600 mt-2",children:r.description})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-slate-500",children:"Progress"}),c.jsx("div",{className:"text-2xl font-bold text-primary",children:ve()})]})]}),r.scenario&&c.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[c.jsx("h3",{className:"font-bold text-slate-900 mb-3",children:"Scenario"}),c.jsxs("p",{className:"text-slate-700 mb-2",children:[c.jsx("strong",{children:"Role:"})," ",r.scenario.role]}),c.jsxs("p",{className:"text-slate-700",children:[c.jsx("strong",{children:"Context:"})," ",r.scenario.context]}),r.scenario.situation&&c.jsxs("p",{className:"text-slate-700 mt-2",children:[c.jsx("strong",{children:"Situation:"})," ",r.scenario.situation]})]})]}),c.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200 mb-6",children:Be&&K(Be)}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>t("/browse"),className:"px-6 py-3 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Exit Simulation"}),c.jsx("button",{onClick:W,disabled:!ie(),className:`px-6 py-3 font-semibold text-white rounded-lg transition-all ${ie()?"bg-gradient-to-r from-primary to-accent hover:shadow-lg":"bg-slate-400 cursor-not-allowed"}`,children:We()})]})]})})},XW=()=>{var l,u,d,f;const{id:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState(!0),[s,o]=T.useState(null);return T.useEffect(()=>{e&&(async()=>{try{a(!0),o(null),console.log(" Fetching simulation from database:",e);const h=await P_.getSimulationById(e);if(h)console.log(" Simulation loaded from database:",h.title),n(h);else throw new Error("Simulation not found in database")}catch(h){console.error(" Error fetching simulation from database:",h),o("Simulation not found in database")}finally{a(!1)}})()},[e]),i?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulation..."})]})}):s||!r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg text-red-600 mb-4",children:"Simulation not found"}),c.jsx("p",{className:"text-slate-600 mb-6",children:"The simulation you're looking for doesn't exist in the database."}),c.jsx("button",{onClick:()=>t("/browse"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-accent transition-colors",children:"Back to Browse"})]})}):c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b border-slate-200",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>t("/browse"),className:"flex items-center text-slate-600 hover:text-primary transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Simulations"]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:r.is_ai_generated?" AI Generated":" Template"}),c.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:r.category}),c.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:r.difficulty}),c.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:r.duration})]})]})}),c.jsx("div",{className:"bg-white border-b border-slate-200",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),c.jsx("p",{className:"text-slate-600",children:r.description}),(((l=r.learning_objectives)==null?void 0:l.length)>0||((u=r.skills_tested)==null?void 0:u.length)>0)&&c.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[((d=r.learning_objectives)==null?void 0:d.length)>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Learning Objectives:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:r.learning_objectives.map((p,h)=>c.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:p},h))})]}),((f=r.skills_tested)==null?void 0:f.length)>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Skills Tested:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:r.skills_tested.map((p,h)=>c.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs",children:p},h))})]})]})]})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:c.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:c.jsx("iframe",{srcDoc:r.html_content,title:r.title,className:"w-full border-0",style:{minHeight:"800px",height:"100vh"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox"})})})]})},JW=({onSuccess:e,onSwitchToSignUp:t})=>{const[r,n]=T.useState({email:"",password:""}),[i,a]=T.useState(!1),[s,o]=T.useState(null),l=async d=>{d.preventDefault(),o(null),a(!0);try{const f=await bi.signIn(r.email,r.password);rv.logActivity("page_viewed",{page:"login",method:"email"}).catch(p=>console.log("Activity log failed:",p)),a(!1),e==null||e()}catch(f){o(f.message||"Invalid email or password"),a(!1)}},u=async()=>{try{a(!0),await bi.signInWithGoogle()}catch(d){o(d.message||"Failed to sign in with Google"),a(!1)}};return c.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-6",children:"Welcome Back"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",placeholder:"you@example.com",value:r.email,onChange:d=>n({...r,email:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",placeholder:"Enter your password",value:r.password,onChange:d=>n({...r,password:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),c.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing In...":"Sign In"})]}),c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or"})})]}),c.jsxs("button",{type:"button",onClick:u,disabled:i,className:"w-full bg-white border-2 border-slate-300 text-slate-700 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),c.jsxs("p",{className:"text-center text-sm text-slate-600 mt-6",children:["Don't have an account?"," ",c.jsx("button",{type:"button",onClick:t,className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})},ZW=({onSuccess:e,onSwitchToSignIn:t})=>{const[r,n]=T.useState({email:"",password:"",confirmPassword:"",fullName:"",userRole:"",howHeardAboutUs:"",marketingPurpose:""}),[i,a]=T.useState(!1),[s,o]=T.useState(null),l=async d=>{if(d.preventDefault(),o(null),a(!0),r.password!==r.confirmPassword){o("Passwords do not match"),a(!1);return}if(r.password.length<6){o("Password must be at least 6 characters"),a(!1);return}const f=r.email.trim().toLowerCase();if(!f.includes("@")||f.split("@").length!==2){o("Please enter a valid email address"),a(!1);return}const[p,h]=f.split("@");if(!p||!h||!h.includes(".")){o("Please enter a valid email address"),a(!1);return}try{await bi.signUp(f,r.password,{fullName:r.fullName,userRole:r.userRole,howHeardAboutUs:r.howHeardAboutUs,marketingPurpose:r.marketingPurpose}),rv.logActivity("page_viewed",{page:"signup",method:"email"}).catch(m=>console.log("Activity log failed:",m)),e==null||e()}catch(m){o(m.message||"Failed to create account")}finally{a(!1)}},u=async()=>{try{a(!0),await bi.signInWithGoogle()}catch(d){o(d.message||"Failed to sign up with Google"),a(!1)}};return c.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-6",children:"Create Account"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name *"}),c.jsx("input",{type:"text",placeholder:"John Doe",value:r.fullName,onChange:d=>n({...r,fullName:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",placeholder:"you@example.com",value:r.email,onChange:d=>n({...r,email:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password *"}),c.jsx("input",{type:"password",placeholder:"At least 6 characters",value:r.password,onChange:d=>n({...r,password:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password *"}),c.jsx("input",{type:"password",placeholder:"Confirm your password",value:r.confirmPassword,onChange:d=>n({...r,confirmPassword:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"I am a... *"}),c.jsxs("select",{value:r.userRole,onChange:d=>n({...r,userRole:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select your role"}),c.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),c.jsx("option",{value:"student",children:"Student"}),c.jsx("option",{value:"professional",children:"Professional"}),c.jsx("option",{value:"professor",children:"Professor"}),c.jsx("option",{value:"recruiter",children:"Recruiter"}),c.jsx("option",{value:"other",children:"Other"})]}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[r.userRole==="recruiter"&&"As a recruiter, you can create simulations and view candidate performance.",r.userRole==="student"&&"As a student, you can take simulations to showcase your skills."]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"How did you hear about us? *"}),c.jsxs("select",{value:r.howHeardAboutUs,onChange:d=>n({...r,howHeardAboutUs:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select an option"}),c.jsx("option",{value:"google_search",children:"Google Search"}),c.jsx("option",{value:"social_media",children:"Social Media"}),c.jsx("option",{value:"friend_referral",children:"Friend/Colleague Referral"}),c.jsx("option",{value:"linkedin",children:"LinkedIn"}),c.jsx("option",{value:"email_campaign",children:"Email Campaign"}),c.jsx("option",{value:"blog_article",children:"Blog Article"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["What would you like to use Simulate for?",c.jsx("span",{className:"text-slate-400 text-xs ml-1",children:"(Optional, for marketing insights)"})]}),c.jsx("textarea",{placeholder:"e.g., Training my team, Personal skill development, Evaluating candidates...",value:r.marketingPurpose,onChange:d=>n({...r,marketingPurpose:d.target.value}),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),c.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating Account...":"Sign Up"})]}),c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or"})})]}),c.jsxs("button",{type:"button",onClick:u,disabled:i,className:"w-full bg-white border-2 border-slate-300 text-slate-700 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),c.jsxs("p",{className:"text-center text-sm text-slate-600 mt-6",children:["Already have an account?"," ",c.jsx("button",{type:"button",onClick:t,className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})},QW=()=>{const[e]=IU(),t=Ln(),r=e.get("mode"),[n,i]=T.useState(r!=="signup");T.useEffect(()=>{r==="signup"?i(!1):r==="login"&&i(!0)},[r]);const a=async()=>{await new Promise(s=>setTimeout(s,300));try{const s=await bi.getCurrentUser();if(s){const o=await bi.isProfileComplete(s.id);t(o?"/":"/complete-profile")}else t("/")}catch(s){console.error("Error checking profile:",s),t("/")}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center py-12 px-4",children:n?c.jsx(JW,{onSuccess:a,onSwitchToSignUp:()=>{i(!1),t("/auth?mode=signup",{replace:!0})}}):c.jsx(ZW,{onSuccess:a,onSwitchToSignIn:()=>{i(!0),t("/auth?mode=login",{replace:!0})}})})},eH=()=>{const e=Ln(),[t,r]=T.useState(!0),[n,i]=T.useState(null);return T.useEffect(()=>{(async()=>{try{const{data:{session:s},error:o}=await ze.auth.getSession();if(o){console.error("Session error:",o),i(o.message),r(!1),setTimeout(()=>e("/auth"),2e3);return}if(s&&s.user)try{const l=await bi.isProfileComplete(s.user.id);e(l?"/":"/complete-profile")}catch(l){console.error("Profile check error:",l),e("/")}else i("No session found"),r(!1),setTimeout(()=>e("/auth"),2e3)}catch(s){console.error("Auth callback error:",s),i(s.message),r(!1),setTimeout(()=>e("/auth"),2e3)}})()},[e]),t?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Completing sign in..."})]})}):n?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsxs("p",{className:"text-red-600 mb-2",children:["Error: ",n]}),c.jsx("p",{className:"text-slate-600 text-sm",children:"Redirecting to login..."})]})}):null},tH=()=>{const e=Ln(),[t,r]=T.useState(null),[n,i]=T.useState({userRole:"",howHeardAboutUs:"",marketingPurpose:""}),[a,s]=T.useState(!0),[o,l]=T.useState(!1),[u,d]=T.useState(null);T.useEffect(()=>{(async()=>{try{const h=await bi.getCurrentUser();if(!h){e("/auth");return}r(h);try{const m=await bi.getUserProfile(h.id);m&&m.user_role?e("/"):i({userRole:(m==null?void 0:m.user_role)||"",howHeardAboutUs:(m==null?void 0:m.how_heard_about_us)||"",marketingPurpose:(m==null?void 0:m.marketing_purpose)||""})}catch{console.log("No profile found, will create new one")}}catch(h){console.error("Error loading user:",h),e("/auth")}finally{s(!1)}})()},[e]);const f=async p=>{p.preventDefault(),d(null),l(!0);try{await bi.updateUserProfile(t.id,{user_role:n.userRole,how_heard_about_us:n.howHeardAboutUs,marketing_purpose:n.marketingPurpose}),e("/")}catch(h){d(h.message||"Failed to save profile")}finally{l(!1)}};return a?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center py-12 px-4",children:c.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-2",children:"Complete Your Profile"}),c.jsx("p",{className:"text-center text-slate-600 mb-6",children:"Just a few more details to get started"}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"I am a... *"}),c.jsxs("select",{value:n.userRole,onChange:p=>i({...n,userRole:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select your role"}),c.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),c.jsx("option",{value:"student",children:"Student"}),c.jsx("option",{value:"professional",children:"Professional"}),c.jsx("option",{value:"professor",children:"Professor"}),c.jsx("option",{value:"recruiter",children:"Recruiter"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"How did you hear about us? *"}),c.jsxs("select",{value:n.howHeardAboutUs,onChange:p=>i({...n,howHeardAboutUs:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select an option"}),c.jsx("option",{value:"google_search",children:"Google Search"}),c.jsx("option",{value:"social_media",children:"Social Media"}),c.jsx("option",{value:"friend_referral",children:"Friend/Colleague Referral"}),c.jsx("option",{value:"linkedin",children:"LinkedIn"}),c.jsx("option",{value:"email_campaign",children:"Email Campaign"}),c.jsx("option",{value:"blog_article",children:"Blog Article"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["What would you like to use Simulate for?",c.jsx("span",{className:"text-slate-400 text-xs ml-1",children:"(Optional)"})]}),c.jsx("textarea",{placeholder:"e.g., Training my team, Personal skill development...",value:n.marketingPurpose,onChange:p=>i({...n,marketingPurpose:p.target.value}),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":"Complete Profile"})]})]})})},Gd={name:"Noah",fullName:"Noah Healthcare",description:"A mid-size healthcare products company, known for OTC medicines; now building a consumer Health & Fitness Smartwatch.",logo:""},rH=[{id:1,name:"Young Fitness Enthusiast",ageRange:"25-35",occupation:"Software Engineer / Marketing Professional",goals:"Track daily steps, heart rate during workouts, sleep quality",painPoints:"Wants accurate fitness tracking, long battery life, comfortable for all-day wear",techComfort:"High - uses multiple apps daily",avatar:""},{id:2,name:"Senior Wellness Monitor",ageRange:"55+",occupation:"Retired / Semi-retired professional",goals:"Monitor heart health, track medication reminders, emergency alerts",painPoints:"Needs large, readable display, simple interface, reliable health monitoring",techComfort:"Medium - comfortable with smartphones but prefers simplicity",avatar:""}],nH=[{name:"FitTrack Pro",features:["Advanced heart rate monitoring","7-day battery life","Waterproof design"],price:"$120"},{name:"HealthSync Watch",features:["FDA-approved health metrics","Medical-grade sensors","HIPAA-compliant data"],price:"$180"},{name:"ActiveLife Band",features:["Budget-friendly","Basic step counting","Sleep tracking"],price:"$60"}],S0={marketSize:"$45 billion",growthRate:"18% YoY",averagePrice:"$120",batteryExpectation:"5-7 days"},Xu={backend:["Node.js","Python (Django)","Java (Spring)","Go"],database:["PostgreSQL","MongoDB","Redis","InfluxDB"],mobile:["React Native","Flutter","Native iOS/Android"],embedded:["FreeRTOS","Zephyr","Custom RTOS"],cloud:["AWS","Google Cloud","Azure","Hybrid"],analytics:["Mixpanel","Amplitude","Google Analytics","Custom"]},iH=[{id:"product-lead",name:"Product Lead",essential:!0},{id:"backend-eng",name:"Backend Engineer",essential:!0},{id:"embedded-eng",name:"Embedded/Firmware Engineer",essential:!0},{id:"mobile-dev",name:"iOS/Android Developer",essential:!0},{id:"ux-designer",name:"UX Designer",essential:!0},{id:"qa",name:"QA Engineer",essential:!1},{id:"data-eng",name:"Data Engineer",essential:!1},{id:"compliance",name:"Regulatory/Compliance",essential:!0},{id:"devops",name:"DevOps Engineer",essential:!1},{id:"support",name:"Customer Support",essential:!1}],aH=[{id:1,type:"Fitness Influencer",name:"Alex Rivera",profile:"2M Instagram followers, fitness content creator, 28 years old",reach:"2M followers",cost:"$15,000",fit:"High - aligns with fitness enthusiast persona"},{id:2,type:"Medical Professional",name:"Dr. Sarah Chen",profile:"Cardiologist, 150K LinkedIn followers, health education advocate",reach:"150K professional network",cost:"$8,000",fit:"High - builds trust with senior wellness segment"},{id:3,type:"Lifestyle Celebrity",name:"Jordan Kim",profile:"Actor/TV personality, 5M followers, wellness lifestyle brand",reach:"5M followers",cost:"$50,000",fit:"Medium - broad reach but expensive"},{id:4,type:"Fitness Celebrity",name:"Marcus Thompson",profile:"Former athlete, 1M YouTube subscribers, fitness coach",reach:"1M subscribers",cost:"$25,000",fit:"High - credible fitness authority"}],gn={dau:[{day:1,users:1200},{day:5,users:1850},{day:10,users:2100},{day:15,users:1950},{day:20,users:1800},{day:25,users:1650},{day:30,users:1500}],metrics:{onboardingCompletion:70,setupDropoff:30,crashRate:.5,avgSessionTime:12,retention7Day:30,retention30Day:12},nps:{promoters:4,passives:60,detractors:36},reviews:[{id:1,rating:2,text:"Battery dies in 2 days, not the 7 days promised. Very disappointed.",sentiment:"negative",issue:"battery"},{id:2,rating:2,text:"Step count is way off. Walked 5,000 steps but watch showed only 2,000. Accuracy is terrible.",sentiment:"negative",issue:"accuracy"},{id:3,rating:5,text:"Super comfortable to wear all day. Love the design and how lightweight it is!",sentiment:"positive",issue:"comfort"},{id:4,rating:5,text:"The app is really intuitive. Easy to set up and navigate. Great UX!",sentiment:"positive",issue:"app-ux"}]},H4=[{id:"battery-opt",label:"Battery optimization firmware update"},{id:"firmware-fix",label:"Firmware bug fix for step counting accuracy"},{id:"onboarding-simplify",label:"Onboarding flow simplification"},{id:"marketing-incentives",label:"Marketing incentives & referral program"},{id:"partner-discount",label:"Partner discount program"},{id:"support-responses",label:"Proactive customer support responses"}],sH={task1:18,task2:12,task3:12,task4:12,task5:14,task6:22,task7:10},K4={task1:{"Product Sense":.4,"Data Insights":.3,Communication:.3},task2:{"Technical Feasibility":.5,"Teaming & Planning":.5},task3:{"Teaming & Planning":.6,"Product Sense":.4},task4:{UX:1},task5:{"GTM & Marketing":.7,"Product Sense":.3},task6:{"Data Insights":.5,Communication:.5},task7:{Communication:.6,"Product Sense":.4}},k0=({onNext:e,onComplete:t,simulation:r,task:n})=>{var y;const i=()=>{t("task0"),e()},a=(r==null?void 0:r.company_info)||Gd,s=(r==null?void 0:r.slug)==="argo-marketing-foundations"||(a==null?void 0:a.name)==="Argo"||(r==null?void 0:r.category)==="Marketing",o=s?"from-purple-600 to-pink-600":"from-primary to-accent",l=s?"from-purple-50 to-pink-50":"from-blue-50 to-indigo-50",u=s?"border-purple-200":"border-blue-200",d=(n==null?void 0:n.config)||{},f=d.headline||(s?"Heard of These Marketing Jobs?":"Welcome to the Simulation"),p=d.bullets||(s?["Social Media Coordinator","Brand Strategist","Growth Marketing Analyst","Customer Insights Associate"]:[]),h=d.body||(s?"This simulation walks through five hands-on marketing tasks to show what entry-level marketing roles feel like. By the end you'll practice creative writing, data analysis, customer insight, SEO selection, and reflection.":"You are a Product Manager leading the product development. You'll be responsible for the entire product lifecycle from ideation to post-launch optimization."),m=((y=r==null?void 0:r.tasks)==null?void 0:y.filter(v=>v.id!=="task0"))||[],g=(r==null?void 0:r.learning_objectives)||[];return c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[c.jsxs("div",{className:`flex items-center gap-4 mb-8 p-6 bg-gradient-to-r ${l} rounded-xl border ${u}`,children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${o} rounded-xl flex items-center justify-center text-3xl shadow-lg`,children:a.logo||""}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:a.fullName||a.name}),c.jsx("p",{className:"text-gray-600 mt-1",children:a.description||(r==null?void 0:r.description)})]})]}),c.jsxs("div",{className:"mb-10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o} rounded-xl flex items-center justify-center`,children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:f})]}),c.jsx("div",{className:`bg-gradient-to-r ${l} rounded-xl p-6 border ${u}`,children:c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:h})}),p.length>0&&c.jsx("div",{className:"mt-4 space-y-2",children:p.map((v,b)=>c.jsxs("div",{className:`flex items-center gap-3 p-4 bg-gradient-to-r ${l} rounded-xl border ${u}`,children:[c.jsx("span",{className:"text-2xl",children:b===0?"":b===1?"":b===2?"":""}),c.jsx("span",{className:"text-gray-700 font-medium",children:v})]},b))})]}),m.length>0&&c.jsxs("div",{className:"mb-10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o} rounded-xl flex items-center justify-center`,children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Simulation Overview"})]}),c.jsx("div",{className:"space-y-4",children:m.map((v,b)=>{var w,x;return c.jsxs("div",{className:`flex items-start gap-4 p-5 bg-gradient-to-r ${l} rounded-xl border ${u} hover:shadow-md transition-all`,children:[c.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${o} rounded-lg flex items-center justify-center text-white font-bold shadow-lg flex-shrink-0`,children:b+1}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"font-semibold text-gray-900 text-lg mb-1 flex items-center gap-2",children:[c.jsx("span",{children:v.icon||""}),c.jsx("span",{children:v.name})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[v.estimated_time||"N/A"," - ",((x=(w=v.config)==null?void 0:w.instruction)==null?void 0:x.substring(0,80))||"Complete this task"]})]})]},v.id)})})]}),g.length>0&&c.jsxs("div",{className:"mb-10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Learning Objectives"})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:g.map((v,b)=>c.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[c.jsx("span",{className:"text-green-600 text-xl mt-0.5",children:""}),c.jsx("span",{className:"text-gray-700 font-medium",children:v})]},b))})]}),c.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-6 mb-8",children:[c.jsxs("h4",{className:"font-bold text-gray-900 mb-4 text-lg flex items-center gap-2",children:[c.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Quick Tips"]}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-bold",children:""}),c.jsx("span",{children:"You can upload files (PDF, images) - they'll be marked as submitted"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-bold",children:""}),c.jsx("span",{children:"Use the rich text editor for detailed responses"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-bold",children:""}),c.jsx("span",{children:"Scoring is based on rubric criteria - check example answers for guidance"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-bold",children:""}),c.jsx("span",{children:"You can navigate between tasks using the left sidebar"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-bold",children:""}),c.jsx("span",{children:"Your progress is saved automatically"})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:i,className:`px-10 py-4 bg-gradient-to-r ${o} text-white rounded-xl ${s?"hover:from-purple-700 hover:to-pink-700":"hover:from-blue-700 hover:to-indigo-700"} font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-3`,children:["Start ",m.length>0?m[0].name:"Task 1",c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})})};function oH(){this.__data__=[],this.size=0}var lH=oH;function cH(e,t){return e===t||e!==e&&t!==t}var R8=cH,uH=R8;function dH(e,t){for(var r=e.length;r--;)if(uH(e[r][0],t))return r;return-1}var ky=dH,fH=ky,hH=Array.prototype,pH=hH.splice;function mH(e){var t=this.__data__,r=fH(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():pH.call(t,r,1),--this.size,!0}var gH=mH,vH=ky;function yH(e){var t=this.__data__,r=vH(t,e);return r<0?void 0:t[r][1]}var bH=yH,xH=ky;function wH(e){return xH(this.__data__,e)>-1}var _H=wH,jH=ky;function NH(e,t){var r=this.__data__,n=jH(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var SH=NH,kH=lH,AH=gH,EH=bH,OH=_H,PH=SH;function ff(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ff.prototype.clear=kH;ff.prototype.delete=AH;ff.prototype.get=EH;ff.prototype.has=OH;ff.prototype.set=PH;var Ay=ff,CH=Ay;function TH(){this.__data__=new CH,this.size=0}var LH=TH;function IH(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var RH=IH;function MH(e){return this.__data__.get(e)}var DH=MH;function BH(e){return this.__data__.has(e)}var FH=BH,$H=typeof ia=="object"&&ia&&ia.Object===Object&&ia,M8=$H,UH=M8,zH=typeof self=="object"&&self&&self.Object===Object&&self,qH=UH||zH||Function("return this")(),Ro=qH,WH=Ro,HH=WH.Symbol,R_=HH,V4=R_,D8=Object.prototype,KH=D8.hasOwnProperty,VH=D8.toString,dh=V4?V4.toStringTag:void 0;function GH(e){var t=KH.call(e,dh),r=e[dh];try{e[dh]=void 0;var n=!0}catch{}var i=VH.call(e);return n&&(t?e[dh]=r:delete e[dh]),i}var YH=GH,XH=Object.prototype,JH=XH.toString;function ZH(e){return JH.call(e)}var QH=ZH,G4=R_,eK=YH,tK=QH,rK="[object Null]",nK="[object Undefined]",Y4=G4?G4.toStringTag:void 0;function iK(e){return e==null?e===void 0?nK:rK:Y4&&Y4 in Object(e)?eK(e):tK(e)}var Ey=iK;function aK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var B8=aK,sK=Ey,oK=B8,lK="[object AsyncFunction]",cK="[object Function]",uK="[object GeneratorFunction]",dK="[object Proxy]";function fK(e){if(!oK(e))return!1;var t=sK(e);return t==cK||t==uK||t==lK||t==dK}var F8=fK,hK=Ro,pK=hK["__core-js_shared__"],mK=pK,nx=mK,X4=function(){var e=/[^.]+$/.exec(nx&&nx.keys&&nx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gK(e){return!!X4&&X4 in e}var vK=gK,yK=Function.prototype,bK=yK.toString;function xK(e){if(e!=null){try{return bK.call(e)}catch{}try{return e+""}catch{}}return""}var $8=xK,wK=F8,_K=vK,jK=B8,NK=$8,SK=/[\\^$.*+?()[\]{}|]/g,kK=/^\[object .+?Constructor\]$/,AK=Function.prototype,EK=Object.prototype,OK=AK.toString,PK=EK.hasOwnProperty,CK=RegExp("^"+OK.call(PK).replace(SK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TK(e){if(!jK(e)||_K(e))return!1;var t=wK(e)?CK:kK;return t.test(NK(e))}var LK=TK;function IK(e,t){return e==null?void 0:e[t]}var RK=IK,MK=LK,DK=RK;function BK(e,t){var r=DK(e,t);return MK(r)?r:void 0}var hf=BK,FK=hf,$K=Ro,UK=FK($K,"Map"),M_=UK,zK=hf,qK=zK(Object,"create"),Oy=qK,J4=Oy;function WK(){this.__data__=J4?J4(null):{},this.size=0}var HK=WK;function KK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var VK=KK,GK=Oy,YK="__lodash_hash_undefined__",XK=Object.prototype,JK=XK.hasOwnProperty;function ZK(e){var t=this.__data__;if(GK){var r=t[e];return r===YK?void 0:r}return JK.call(t,e)?t[e]:void 0}var QK=ZK,eV=Oy,tV=Object.prototype,rV=tV.hasOwnProperty;function nV(e){var t=this.__data__;return eV?t[e]!==void 0:rV.call(t,e)}var iV=nV,aV=Oy,sV="__lodash_hash_undefined__";function oV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=aV&&t===void 0?sV:t,this}var lV=oV,cV=HK,uV=VK,dV=QK,fV=iV,hV=lV;function pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pf.prototype.clear=cV;pf.prototype.delete=uV;pf.prototype.get=dV;pf.prototype.has=fV;pf.prototype.set=hV;var pV=pf,Z4=pV,mV=Ay,gV=M_;function vV(){this.size=0,this.__data__={hash:new Z4,map:new(gV||mV),string:new Z4}}var yV=vV;function bV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xV=bV,wV=xV;function _V(e,t){var r=e.__data__;return wV(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Py=_V,jV=Py;function NV(e){var t=jV(this,e).delete(e);return this.size-=t?1:0,t}var SV=NV,kV=Py;function AV(e){return kV(this,e).get(e)}var EV=AV,OV=Py;function PV(e){return OV(this,e).has(e)}var CV=PV,TV=Py;function LV(e,t){var r=TV(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var IV=LV,RV=yV,MV=SV,DV=EV,BV=CV,FV=IV;function mf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mf.prototype.clear=RV;mf.prototype.delete=MV;mf.prototype.get=DV;mf.prototype.has=BV;mf.prototype.set=FV;var U8=mf,$V=Ay,UV=M_,zV=U8,qV=200;function WV(e,t){var r=this.__data__;if(r instanceof $V){var n=r.__data__;if(!UV||n.length<qV-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zV(n)}return r.set(e,t),this.size=r.size,this}var HV=WV,KV=Ay,VV=LH,GV=RH,YV=DH,XV=FH,JV=HV;function gf(e){var t=this.__data__=new KV(e);this.size=t.size}gf.prototype.clear=VV;gf.prototype.delete=GV;gf.prototype.get=YV;gf.prototype.has=XV;gf.prototype.set=JV;var ZV=gf,QV="__lodash_hash_undefined__";function eG(e){return this.__data__.set(e,QV),this}var tG=eG;function rG(e){return this.__data__.has(e)}var nG=rG,iG=U8,aG=tG,sG=nG;function lv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new iG;++t<r;)this.add(e[t])}lv.prototype.add=lv.prototype.push=aG;lv.prototype.has=sG;var oG=lv;function lG(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var cG=lG;function uG(e,t){return e.has(t)}var dG=uG,fG=oG,hG=cG,pG=dG,mG=1,gG=2;function vG(e,t,r,n,i,a){var s=r&mG,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=r&gG?new fG:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var m=e[f],g=t[f];if(n)var y=s?n(g,m,f,t,e,a):n(m,g,f,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!hG(t,function(v,b){if(!pG(h,b)&&(m===v||i(m,v,r,n,a)))return h.push(b)})){p=!1;break}}else if(!(m===g||i(m,g,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var z8=vG,yG=Ro,bG=yG.Uint8Array,xG=bG;function wG(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var _G=wG;function jG(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var NG=jG,Q4=R_,ek=xG,SG=R8,kG=z8,AG=_G,EG=NG,OG=1,PG=2,CG="[object Boolean]",TG="[object Date]",LG="[object Error]",IG="[object Map]",RG="[object Number]",MG="[object RegExp]",DG="[object Set]",BG="[object String]",FG="[object Symbol]",$G="[object ArrayBuffer]",UG="[object DataView]",tk=Q4?Q4.prototype:void 0,ix=tk?tk.valueOf:void 0;function zG(e,t,r,n,i,a,s){switch(r){case UG:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $G:return!(e.byteLength!=t.byteLength||!a(new ek(e),new ek(t)));case CG:case TG:case RG:return SG(+e,+t);case LG:return e.name==t.name&&e.message==t.message;case MG:case BG:return e==t+"";case IG:var o=AG;case DG:var l=n&OG;if(o||(o=EG),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=PG,s.set(e,t);var d=kG(o(e),o(t),n,i,a,s);return s.delete(e),d;case FG:if(ix)return ix.call(e)==ix.call(t)}return!1}var qG=zG;function WG(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var HG=WG,KG=Array.isArray,D_=KG,VG=HG,GG=D_;function YG(e,t,r){var n=t(e);return GG(e)?n:VG(n,r(e))}var XG=YG;function JG(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var ZG=JG;function QG(){return[]}var eY=QG,tY=ZG,rY=eY,nY=Object.prototype,iY=nY.propertyIsEnumerable,rk=Object.getOwnPropertySymbols,aY=rk?function(e){return e==null?[]:(e=Object(e),tY(rk(e),function(t){return iY.call(e,t)}))}:rY,sY=aY;function oY(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var lY=oY;function cY(e){return e!=null&&typeof e=="object"}var Cy=cY,uY=Ey,dY=Cy,fY="[object Arguments]";function hY(e){return dY(e)&&uY(e)==fY}var pY=hY,nk=pY,mY=Cy,q8=Object.prototype,gY=q8.hasOwnProperty,vY=q8.propertyIsEnumerable,yY=nk(function(){return arguments}())?nk:function(e){return mY(e)&&gY.call(e,"callee")&&!vY.call(e,"callee")},bY=yY,cv={exports:{}};function xY(){return!1}var wY=xY;cv.exports;(function(e,t){var r=Ro,n=wY,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(cv,cv.exports);var W8=cv.exports,_Y=9007199254740991,jY=/^(?:0|[1-9]\d*)$/;function NY(e,t){var r=typeof e;return t=t??_Y,!!t&&(r=="number"||r!="symbol"&&jY.test(e))&&e>-1&&e%1==0&&e<t}var SY=NY,kY=9007199254740991;function AY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kY}var H8=AY,EY=Ey,OY=H8,PY=Cy,CY="[object Arguments]",TY="[object Array]",LY="[object Boolean]",IY="[object Date]",RY="[object Error]",MY="[object Function]",DY="[object Map]",BY="[object Number]",FY="[object Object]",$Y="[object RegExp]",UY="[object Set]",zY="[object String]",qY="[object WeakMap]",WY="[object ArrayBuffer]",HY="[object DataView]",KY="[object Float32Array]",VY="[object Float64Array]",GY="[object Int8Array]",YY="[object Int16Array]",XY="[object Int32Array]",JY="[object Uint8Array]",ZY="[object Uint8ClampedArray]",QY="[object Uint16Array]",eX="[object Uint32Array]",dr={};dr[KY]=dr[VY]=dr[GY]=dr[YY]=dr[XY]=dr[JY]=dr[ZY]=dr[QY]=dr[eX]=!0;dr[CY]=dr[TY]=dr[WY]=dr[LY]=dr[HY]=dr[IY]=dr[RY]=dr[MY]=dr[DY]=dr[BY]=dr[FY]=dr[$Y]=dr[UY]=dr[zY]=dr[qY]=!1;function tX(e){return PY(e)&&OY(e.length)&&!!dr[EY(e)]}var rX=tX;function nX(e){return function(t){return e(t)}}var iX=nX,uv={exports:{}};uv.exports;(function(e,t){var r=M8,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(uv,uv.exports);var aX=uv.exports,sX=rX,oX=iX,ik=aX,ak=ik&&ik.isTypedArray,lX=ak?oX(ak):sX,K8=lX,cX=lY,uX=bY,dX=D_,fX=W8,hX=SY,pX=K8,mX=Object.prototype,gX=mX.hasOwnProperty;function vX(e,t){var r=dX(e),n=!r&&uX(e),i=!r&&!n&&fX(e),a=!r&&!n&&!i&&pX(e),s=r||n||i||a,o=s?cX(e.length,String):[],l=o.length;for(var u in e)(t||gX.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hX(u,l)))&&o.push(u);return o}var yX=vX,bX=Object.prototype;function xX(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||bX;return e===r}var wX=xX;function _X(e,t){return function(r){return e(t(r))}}var jX=_X,NX=jX,SX=NX(Object.keys,Object),kX=SX,AX=wX,EX=kX,OX=Object.prototype,PX=OX.hasOwnProperty;function CX(e){if(!AX(e))return EX(e);var t=[];for(var r in Object(e))PX.call(e,r)&&r!="constructor"&&t.push(r);return t}var TX=CX,LX=F8,IX=H8;function RX(e){return e!=null&&IX(e.length)&&!LX(e)}var MX=RX,DX=yX,BX=TX,FX=MX;function $X(e){return FX(e)?DX(e):BX(e)}var UX=$X,zX=XG,qX=sY,WX=UX;function HX(e){return zX(e,WX,qX)}var KX=HX,sk=KX,VX=1,GX=Object.prototype,YX=GX.hasOwnProperty;function XX(e,t,r,n,i,a){var s=r&VX,o=sk(e),l=o.length,u=sk(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in t:YX.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var y=s;++f<l;){p=o[f];var v=e[p],b=t[p];if(n)var w=s?n(b,v,p,t,e,a):n(v,b,p,e,t,a);if(!(w===void 0?v===b||i(v,b,r,n,a):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var x=e.constructor,j=t.constructor;x!=j&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof j=="function"&&j instanceof j)&&(g=!1)}return a.delete(e),a.delete(t),g}var JX=XX,ZX=hf,QX=Ro,eJ=ZX(QX,"DataView"),tJ=eJ,rJ=hf,nJ=Ro,iJ=rJ(nJ,"Promise"),aJ=iJ,sJ=hf,oJ=Ro,lJ=sJ(oJ,"Set"),cJ=lJ,uJ=hf,dJ=Ro,fJ=uJ(dJ,"WeakMap"),hJ=fJ,dw=tJ,fw=M_,hw=aJ,pw=cJ,mw=hJ,V8=Ey,vf=$8,ok="[object Map]",pJ="[object Object]",lk="[object Promise]",ck="[object Set]",uk="[object WeakMap]",dk="[object DataView]",mJ=vf(dw),gJ=vf(fw),vJ=vf(hw),yJ=vf(pw),bJ=vf(mw),Cc=V8;(dw&&Cc(new dw(new ArrayBuffer(1)))!=dk||fw&&Cc(new fw)!=ok||hw&&Cc(hw.resolve())!=lk||pw&&Cc(new pw)!=ck||mw&&Cc(new mw)!=uk)&&(Cc=function(e){var t=V8(e),r=t==pJ?e.constructor:void 0,n=r?vf(r):"";if(n)switch(n){case mJ:return dk;case gJ:return ok;case vJ:return lk;case yJ:return ck;case bJ:return uk}return t});var xJ=Cc,ax=ZV,wJ=z8,_J=qG,jJ=JX,fk=xJ,hk=D_,pk=W8,NJ=K8,SJ=1,mk="[object Arguments]",gk="[object Array]",A0="[object Object]",kJ=Object.prototype,vk=kJ.hasOwnProperty;function AJ(e,t,r,n,i,a){var s=hk(e),o=hk(t),l=s?gk:fk(e),u=o?gk:fk(t);l=l==mk?A0:l,u=u==mk?A0:u;var d=l==A0,f=u==A0,p=l==u;if(p&&pk(e)){if(!pk(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new ax),s||NJ(e)?wJ(e,t,r,n,i,a):_J(e,t,l,r,n,i,a);if(!(r&SJ)){var h=d&&vk.call(e,"__wrapped__"),m=f&&vk.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,y=m?t.value():t;return a||(a=new ax),i(g,y,r,n,a)}}return p?(a||(a=new ax),jJ(e,t,r,n,i,a)):!1}var EJ=AJ,OJ=EJ,yk=Cy;function G8(e,t,r,n,i){return e===t?!0:e==null||t==null||!yk(e)&&!yk(t)?e!==e&&t!==t:OJ(e,t,r,n,G8,i)}var PJ=G8,CJ=PJ;function TJ(e,t){return CJ(e,t)}var LJ=TJ,Y8={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:ia,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),s=i(18),o=i(19),l=i(45),u=i(46),d=i(47),f=i(48),p=i(49),h=i(12),m=i(32),g=i(33),y=i(31),v=i(1),b={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:a.default,Format:s.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:d.default,Inline:u.default,Text:p.default,Attributor:{Attribute:h.default,Class:m.default,Style:g.default,Store:y.default}};n.default=b},function(r,n,i){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var w in b)b.hasOwnProperty(w)&&(v[w]=b[w])};return function(v,b){y(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(y){a(v,y);function v(b){var w=this;return b="[Parchment] "+b,w=y.call(this,b)||this,w.message=b,w.name=w.constructor.name,w}return v}(Error);n.ParchmentError=s;var o={},l={},u={},d={};n.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function p(y,v){var b=m(y);if(b==null)throw new s("Unable to create "+y+" blot");var w=b,x=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(v);return new w(x,v)}n.create=p;function h(y,v){return v===void 0&&(v=!1),y==null?null:y[n.DATA_KEY]!=null?y[n.DATA_KEY].blot:v?h(y.parentNode,v):null}n.find=h;function m(y,v){v===void 0&&(v=f.ANY);var b;if(typeof y=="string")b=d[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)b=d.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?b=d.block:y&f.LEVEL&f.INLINE&&(b=d.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var x in w)if(b=l[w[x]],b)break;b=b||u[y.tagName]}return b==null?null:v&f.LEVEL&b.scope&&v&f.TYPE&b.scope?b:null}n.query=m;function g(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(x){return g(x)});var b=y[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new s("Invalid definition");if(b.blotName==="abstract")throw new s("Cannot register abstract class");if(d[b.blotName||b.attrName]=b,typeof b.keyName=="string")o[b.keyName]=b;else if(b.className!=null&&(l[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(x){return x.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var w=Array.isArray(b.tagName)?b.tagName:[b.tagName];w.forEach(function(x){(u[x]==null||b.className==null)&&(u[x]=b)})}return b}n.register=g},function(r,n,i){var a=i(51),s=i(11),o=i(3),l=i(20),u="\0",d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,p){var h={};return f.length===0?this:(h.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(h.attributes=p),this.push(h))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,p){if(f<=0)return this;var h={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(h.attributes=p),this.push(h)},d.prototype.push=function(f){var p=this.ops.length,h=this.ops[p-1];if(f=o(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[p-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(p-=1,h=this.ops[p-1],typeof h!="object"))return this.ops.unshift(f),this;if(s(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[p-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[p-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var p=[],h=[];return this.forEach(function(m){var g=f(m)?p:h;g.push(m)}),[p,h]},d.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},d.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},d.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var h=[],m=l.iterator(this.ops),g=0;g<p&&m.hasNext();){var y;g<f?y=m.next(f-g):(y=m.next(p-g),h.push(y)),g+=l.length(y)}return new d(h)},d.prototype.compose=function(f){var p=l.iterator(this.ops),h=l.iterator(f.ops),m=[],g=h.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;p.peekType()==="insert"&&p.peekLength()<=y;)y-=p.peekLength(),m.push(p.next());g.retain-y>0&&h.next(g.retain-y)}for(var v=new d(m);p.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(p.peekType()==="delete")v.push(p.next());else{var b=Math.min(p.peekLength(),h.peekLength()),w=p.next(b),x=h.next(b);if(typeof x.retain=="number"){var j={};typeof w.retain=="number"?j.retain=b:j.insert=w.insert;var O=l.attributes.compose(w.attributes,x.attributes,typeof w.retain=="number");if(O&&(j.attributes=O),v.push(j),!h.hasNext()&&s(v.ops[v.ops.length-1],j)){var N=new d(p.rest());return v.concat(N).chop()}}else typeof x.delete=="number"&&typeof w.retain=="number"&&v.push(x)}return v.chop()},d.prototype.concat=function(f){var p=new d(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},d.prototype.diff=function(f,p){if(this.ops===f.ops)return new d;var h=[this,f].map(function(b){return b.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var x=b===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),m=new d,g=a(h[0],h[1],p),y=l.iterator(this.ops),v=l.iterator(f.ops);return g.forEach(function(b){for(var w=b[1].length;w>0;){var x=0;switch(b[0]){case a.INSERT:x=Math.min(v.peekLength(),w),m.push(v.next(x));break;case a.DELETE:x=Math.min(w,y.peekLength()),y.next(x),m.delete(x);break;case a.EQUAL:x=Math.min(y.peekLength(),v.peekLength(),w);var j=y.next(x),O=v.next(x);s(j.insert,O.insert)?m.retain(x,l.attributes.diff(j.attributes,O.attributes)):m.push(O).delete(x);break}w-=x}}),m.chop()},d.prototype.eachLine=function(f,p){p=p||`
`;for(var h=l.iterator(this.ops),m=new d,g=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),v=l.length(y)-h.peekLength(),b=typeof y.insert=="string"?y.insert.indexOf(p,v)-v:-1;if(b<0)m.push(h.next());else if(b>0)m.push(h.next(b));else{if(f(m,h.next(1).attributes||{},g)===!1)return;g+=1,m=new d}}m.length()>0&&f(m,{},g)},d.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var h=l.iterator(this.ops),m=l.iterator(f.ops),g=new d;h.hasNext()||m.hasNext();)if(h.peekType()==="insert"&&(p||m.peekType()!=="insert"))g.retain(l.length(h.next()));else if(m.peekType()==="insert")g.push(m.next());else{var y=Math.min(h.peekLength(),m.peekLength()),v=h.next(y),b=m.next(y);if(v.delete)continue;b.delete?g.push(b):g.retain(y,l.attributes.transform(v.attributes,b.attributes,p))}return g.chop()},d.prototype.transformPosition=function(f,p){p=!!p;for(var h=l.iterator(this.ops),m=0;h.hasNext()&&m<=f;){var g=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){f-=Math.min(g,f-m);continue}else y==="insert"&&(m<f||!p)&&(f+=g);m+=g}return f},r.exports=d},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},u=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var m=i.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!g)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},d=function(h,m){s&&m.name==="__proto__"?s(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},f=function(h,m){if(m==="__proto__")if(i.call(h,m)){if(o)return o(h,m).value}else return;return h[m]};r.exports=function p(){var h,m,g,y,v,b,w=arguments[0],x=1,j=arguments.length,O=!1;for(typeof w=="boolean"&&(O=w,w=arguments[1]||{},x=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});x<j;++x)if(h=arguments[x],h!=null)for(m in h)g=f(w,m),y=f(h,m),w!==y&&(O&&y&&(u(y)||(v=l(y)))?(v?(v=!1,b=g&&l(g)?g:[]):b=g&&u(g)?g:{},d(w,{name:m,newValue:p(O,b,y)})):typeof y<"u"&&d(w,{name:m,newValue:y}));return w}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function S(A,I){for(var D=0;D<I.length;D++){var U=I[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,I,D){return I&&S(A.prototype,I),D&&S(A,D),A}}(),s=function S(A,I,D){A===null&&(A=Function.prototype);var U=Object.getOwnPropertyDescriptor(A,I);if(U===void 0){var J=Object.getPrototypeOf(A);return J===null?void 0:S(J,I,D)}else{if("value"in U)return U.value;var X=U.get;return X===void 0?void 0:X.call(D)}},o=i(3),l=w(o),u=i(2),d=w(u),f=i(0),p=w(f),h=i(16),m=w(h),g=i(6),y=w(g),v=i(7),b=w(v);function w(S){return S&&S.__esModule?S:{default:S}}function x(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function j(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function O(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var N=1,E=function(S){O(A,S);function A(){return x(this,A),j(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"attach",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,U){var J=p.default.query(D,p.default.Scope.BLOCK_ATTRIBUTE);J!=null&&this.attributes.attribute(J,U)}},{key:"formatAt",value:function(D,U,J,X){this.format(J,X)}},{key:"insertAt",value:function(D,U,J){if(typeof U=="string"&&U.endsWith(`
`)){var X=p.default.create(P.blotName);this.parent.insertBefore(X,D===0?this:this.next),X.insertAt(0,U.slice(0,-1))}else s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,D,U,J)}}]),A}(p.default.Embed);E.scope=p.default.Scope.BLOCK_BLOT;var P=function(S){O(A,S);function A(I){x(this,A);var D=j(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I));return D.cache={},D}return a(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(D,U){return U.length()===0?D:D.insert(U.value(),C(U))},new d.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(D,U){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,D,U),this.cache={}}},{key:"formatAt",value:function(D,U,J,X){U<=0||(p.default.query(J,p.default.Scope.BLOCK)?D+U===this.length()&&this.format(J,X):s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,D,Math.min(U,this.length()-D-1),J,X),this.cache={})}},{key:"insertAt",value:function(D,U,J){if(J!=null)return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,D,U,J);if(U.length!==0){var X=U.split(`
`),H=X.shift();H.length>0&&(D<this.length()-1||this.children.tail==null?s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var W=this;X.reduce(function(V,$){return W=W.split(V,!0),W.insertAt(0,$),$.length},D+H.length)}}},{key:"insertBefore",value:function(D,U){var J=this.children.head;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,D,U),J instanceof m.default&&J.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(D,U){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,D,U),this.cache={}}},{key:"optimize",value:function(D){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(D===0||D>=this.length()-N)){var J=this.clone();return D===0?(this.parent.insertBefore(J,this),this):(this.parent.insertBefore(J,this.next),J)}else{var X=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,D,U);return this.cache={},X}}}]),A}(p.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[y.default,p.default.Embed,b.default];function C(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(A=(0,l.default)(A,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?A:C(S.parent,A)}n.bubbleFormats=C,n.BlockEmbed=E,n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(V,$){var R=[],B=!0,z=!1,K=void 0;try{for(var q=V[Symbol.iterator](),Q;!(B=(Q=q.next()).done)&&(R.push(Q.value),!($&&R.length===$));B=!0);}catch(ae){z=!0,K=ae}finally{try{!B&&q.return&&q.return()}finally{if(z)throw K}}return R}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function W(V,$){for(var R=0;R<$.length;R++){var B=$[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,$,R){return $&&W(V.prototype,$),R&&W(V,R),V}}();i(50);var l=i(2),u=C(l),d=i(14),f=C(d),p=i(8),h=C(p),m=i(9),g=C(m),y=i(0),v=C(y),b=i(15),w=C(b),x=i(3),j=C(x),O=i(10),N=C(O),E=i(34),P=C(E);function C(W){return W&&W.__esModule?W:{default:W}}function S(W,V,$){return V in W?Object.defineProperty(W,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):W[V]=$,W}function A(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}var I=(0,N.default)("quill"),D=function(){o(W,null,[{key:"debug",value:function($){$===!0&&($="log"),N.default.level($)}},{key:"find",value:function($){return $.__quill||v.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&I.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,R){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var K=$.attrName||$.blotName;typeof K=="string"?this.register("formats/"+K,$,R):Object.keys($).forEach(function(q){B.register(q,$[q],R)})}else this.imports[$]!=null&&!z&&I.warn("Overwriting "+$+" with",R),this.imports[$]=R,($.startsWith("blots/")||$.startsWith("formats/"))&&R.blotName!=="abstract"?v.default.register(R):$.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function W(V){var $=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,W),this.options=U(V,R),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",V);this.options.debug&&W.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(K){K===h.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(K,q){var Q=$.selection.lastRange,ae=Q&&Q.length===0?Q.index:void 0;J.call($,function(){return $.editor.update(null,q,ae)},K)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(W,[{key:"addContainer",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var B=$;$=document.createElement("div"),$.classList.add(B)}return this.container.insertBefore($,R),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,R,B){var z=this,K=X($,R,B),q=s(K,4);return $=q[0],R=q[1],B=q[3],J.call(this,function(){return z.editor.deleteText($,R)},B,$,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,R){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return J.call(this,function(){var K=B.getSelection(!0),q=new u.default;if(K==null)return q;if(v.default.query($,v.default.Scope.BLOCK))q=B.editor.formatLine(K.index,K.length,S({},$,R));else{if(K.length===0)return B.selection.format($,R),q;q=B.editor.formatText(K.index,K.length,S({},$,R))}return B.setSelection(K,h.default.sources.SILENT),q},z)}},{key:"formatLine",value:function($,R,B,z,K){var q=this,Q=void 0,ae=X($,R,B,z,K),Z=s(ae,4);return $=Z[0],R=Z[1],Q=Z[2],K=Z[3],J.call(this,function(){return q.editor.formatLine($,R,Q)},K,$,0)}},{key:"formatText",value:function($,R,B,z,K){var q=this,Q=void 0,ae=X($,R,B,z,K),Z=s(ae,4);return $=Z[0],R=Z[1],Q=Z[2],K=Z[3],J.call(this,function(){return q.editor.formatText($,R,Q)},K,$,0)}},{key:"getBounds",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof $=="number"?B=this.selection.getBounds($,R):B=this.selection.getBounds($.index,$.length);var z=this.container.getBoundingClientRect();return{bottom:B.bottom-z.top,height:B.height,left:B.left-z.left,right:B.right-z.left,top:B.top-z.top,width:B.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,B=X($,R),z=s(B,2);return $=z[0],R=z[1],this.editor.getContents($,R)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,R):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,R)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,B=X($,R),z=s(B,2);return $=z[0],R=z[1],this.editor.getText($,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,R,B){var z=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return J.call(this,function(){return z.editor.insertEmbed($,R,B)},K,$)}},{key:"insertText",value:function($,R,B,z,K){var q=this,Q=void 0,ae=X($,0,B,z,K),Z=s(ae,4);return $=Z[0],Q=Z[2],K=Z[3],J.call(this,function(){return q.editor.insertText($,R,Q)},K,$,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,R,B){this.clipboard.dangerouslyPasteHTML($,R,B)}},{key:"removeFormat",value:function($,R,B){var z=this,K=X($,R,B),q=s(K,4);return $=q[0],R=q[1],B=q[3],J.call(this,function(){return z.editor.removeFormat($,R)},B,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var R=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return J.call(this,function(){$=new u.default($);var z=R.getLength(),K=R.editor.deleteText(0,z),q=R.editor.applyDelta($),Q=q.ops[q.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),q.delete(1));var ae=K.compose(q);return ae},B)}},{key:"setSelection",value:function($,R,B){if($==null)this.selection.setRange(null,R||W.sources.API);else{var z=X($,R,B),K=s(z,4);$=K[0],R=K[1],B=K[3],this.selection.setRange(new b.Range($,R),B),B!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,B=new u.default().insert($);return this.setContents(B,R)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,R=this.scroll.update($);return this.selection.update($),R}},{key:"updateContents",value:function($){var R=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return J.call(this,function(){return $=new u.default($),R.editor.applyDelta($,B)},B,!0)}}]),W}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=h.default.events,D.sources=h.default.sources,D.version="1.3.7",D.imports={delta:u.default,parchment:v.default,"core/module":g.default,"core/theme":P.default};function U(W,V){if(V=(0,j.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},V),!V.theme||V.theme===D.DEFAULTS.theme)V.theme=P.default;else if(V.theme=D.import("themes/"+V.theme),V.theme==null)throw new Error("Invalid theme "+V.theme+". Did you register it?");var $=(0,j.default)(!0,{},V.theme.DEFAULTS);[$,V].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(K){z.modules[K]===!0&&(z.modules[K]={})})});var R=Object.keys($.modules).concat(Object.keys(V.modules)),B=R.reduce(function(z,K){var q=D.import("modules/"+K);return q==null?I.error("Cannot load "+K+" module. Are you sure you registered it?"):z[K]=q.DEFAULTS||{},z},{});return V.modules!=null&&V.modules.toolbar&&V.modules.toolbar.constructor!==Object&&(V.modules.toolbar={container:V.modules.toolbar}),V=(0,j.default)(!0,{},D.DEFAULTS,{modules:B},$,V),["bounds","container","scrollingContainer"].forEach(function(z){typeof V[z]=="string"&&(V[z]=document.querySelector(V[z]))}),V.modules=Object.keys(V.modules).reduce(function(z,K){return V.modules[K]&&(z[K]=V.modules[K]),z},{}),V}function J(W,V,$,R){if(this.options.strict&&!this.isEnabled()&&V===h.default.sources.USER)return new u.default;var B=$==null?null:this.getSelection(),z=this.editor.delta,K=W();if(B!=null&&($===!0&&($=B.index),R==null?B=H(B,K,V):R!==0&&(B=H(B,$,R,V)),this.setSelection(B,h.default.sources.SILENT)),K.length()>0){var q,Q=[h.default.events.TEXT_CHANGE,K,z,V];if((q=this.emitter).emit.apply(q,[h.default.events.EDITOR_CHANGE].concat(Q)),V!==h.default.sources.SILENT){var ae;(ae=this.emitter).emit.apply(ae,Q)}}return K}function X(W,V,$,R,B){var z={};return typeof W.index=="number"&&typeof W.length=="number"?typeof V!="number"?(B=R,R=$,$=V,V=W.length,W=W.index):(V=W.length,W=W.index):typeof V!="number"&&(B=R,R=$,$=V,V=0),(typeof $>"u"?"undefined":a($))==="object"?(z=$,B=R):typeof $=="string"&&(R!=null?z[$]=R:B=$),B=B||h.default.sources.API,[W,V,z,B]}function H(W,V,$,R){if(W==null)return null;var B=void 0,z=void 0;if(V instanceof u.default){var K=[W.index,W.index+W.length].map(function(Z){return V.transformPosition(Z,R!==h.default.sources.USER)}),q=s(K,2);B=q[0],z=q[1]}else{var Q=[W.index,W.index+W.length].map(function(Z){return Z<V||Z===V&&R===h.default.sources.USER?Z:$>=0?Z+$:Math.max(V,Z+$)}),ae=s(Q,2);B=ae[0],z=ae[1]}return new b.Range(B,z-B)}n.expandConfig=U,n.overload=X,n.default=D},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(7),l=f(o),u=i(0),d=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var g=function(y){m(v,y);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"formatAt",value:function(w,x,j,O){if(v.compare(this.statics.blotName,j)<0&&d.default.query(j,d.default.Scope.BLOT)){var N=this.isolate(w,x);O&&N.wrap(j,O)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,w,x,j,O)}},{key:"optimize",value:function(w){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,w),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(w,x){var j=v.order.indexOf(w),O=v.order.indexOf(x);return j>=0||O>=0?j-O:w===x?0:w<x?-1:1}}]),v}(d.default.Inline);g.allowedChildren=[g,d.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function u(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(w,x){for(var j=0;j<x.length;j++){var O=x[j];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,x,j){return x&&b(w.prototype,x),j&&b(w,j),w}}(),s=function b(w,x,j){w===null&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,x);if(O===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:b(N,x,j)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(j)}},o=i(54),l=f(o),u=i(10),d=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function h(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=(0,d.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(b){document.addEventListener(b,function(){for(var w=arguments.length,x=Array(w),j=0;j<w;j++)x[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var N;(N=O.__quill.emitter).handleDOM.apply(N,x)}})})});var v=function(b){m(w,b);function w(){p(this,w);var x=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return x.listeners={},x.on("error",g.error),x}return a(w,[{key:"emit",value:function(){g.log.apply(g,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var O=arguments.length,N=Array(O>1?O-1:0),E=1;E<O;E++)N[E-1]=arguments[E];(this.listeners[j.type]||[]).forEach(function(P){var C=P.node,S=P.handler;(j.target===C||C.contains(j.target))&&S.apply(void 0,[j].concat(N))})}},{key:"listenDOM",value:function(j,O,N){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:O,handler:N})}}]),w}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function o(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,o),this.quill=l,this.options=u};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function o(u){if(a.indexOf(u)<=a.indexOf(s)){for(var d,f=arguments.length,p=Array(f>1?f-1:0),h=1;h<f;h++)p[h-1]=arguments[h];(d=console)[u].apply(d,p)}}function l(u){return a.reduce(function(d,f){return d[f]=o.bind(console,f,u),d},{})}o.level=l.level=function(u){s=u},n.default=l},function(r,n,i){var a=Array.prototype.slice,s=i(52),o=i(53),l=r.exports=function(p,h,m){return m||(m={}),p===h?!0:p instanceof Date&&h instanceof Date?p.getTime()===h.getTime():!p||!h||typeof p!="object"&&typeof h!="object"?m.strict?p===h:p==h:f(p,h,m)};function u(p){return p==null}function d(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,h,m){var g,y;if(u(p)||u(h)||p.prototype!==h.prototype)return!1;if(o(p))return o(h)?(p=a.call(p),h=a.call(h),l(p,h,m)):!1;if(d(p)){if(!d(h)||p.length!==h.length)return!1;for(g=0;g<p.length;g++)if(p[g]!==h[g])return!1;return!0}try{var v=s(p),b=s(h)}catch{return!1}if(v.length!=b.length)return!1;for(v.sort(),b.sort(),g=v.length-1;g>=0;g--)if(v[g]!=b[g])return!1;for(g=v.length-1;g>=0;g--)if(y=v[g],!l(p[y],h[y],m))return!1;return typeof p==typeof h}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function o(l,u,d){d===void 0&&(d={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},o.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},o.prototype.canAdd=function(l,u){var d=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},o}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function E(P,C){var S=[],A=!0,I=!1,D=void 0;try{for(var U=P[Symbol.iterator](),J;!(A=(J=U.next()).done)&&(S.push(J.value),!(C&&S.length===C));A=!0);}catch(X){I=!0,D=X}finally{try{!A&&U.return&&U.return()}finally{if(I)throw D}}return S}return function(P,C){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(P,C){for(var S=0;S<C.length;S++){var A=C[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,C,S){return C&&E(P.prototype,C),S&&E(P,S),P}}(),o=function E(P,C,S){P===null&&(P=Function.prototype);var A=Object.getOwnPropertyDescriptor(P,C);if(A===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:E(I,C,S)}else{if("value"in A)return A.value;var D=A.get;return D===void 0?void 0:D.call(S)}},l=i(2),u=b(l),d=i(0),f=b(d),p=i(4),h=b(p),m=i(6),g=b(m),y=i(7),v=b(y);function b(E){return E&&E.__esModule?E:{default:E}}function w(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function x(E,P){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:E}function j(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(E,P):E.__proto__=P)}var O=function(E){j(P,E);function P(){return w(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(g.default);O.blotName="code",O.tagName="CODE";var N=function(E){j(P,E);function P(){return w(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var S=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(I,D){return I.insert(D).insert(`
`,S.formats())},new u.default)}},{key:"format",value:function(S,A){if(!(S===this.statics.blotName&&A)){var I=this.descendant(v.default,this.length()-1),D=a(I,1),U=D[0];U!=null&&U.deleteAt(U.length()-1,1),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,S,A)}}},{key:"formatAt",value:function(S,A,I,D){if(A!==0&&!(f.default.query(I,f.default.Scope.BLOCK)==null||I===this.statics.blotName&&D===this.statics.formats(this.domNode))){var U=this.newlineIndex(S);if(!(U<0||U>=S+A)){var J=this.newlineIndex(S,!0)+1,X=U-J+1,H=this.isolate(J,X),W=H.next;H.format(I,D),W instanceof P&&W.formatAt(0,S-J+A-X,I,D)}}}},{key:"insertAt",value:function(S,A,I){if(I==null){var D=this.descendant(v.default,S),U=a(D,2),J=U[0],X=U[1];J.insertAt(X,A)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var I=this.domNode.textContent.slice(S).indexOf(`
`);return I>-1?S+I:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(S),A.moveChildren(this),A.remove())}},{key:"replace",value:function(S){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var I=f.default.find(A);I==null?A.parentNode.removeChild(A):I instanceof f.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(S){var A=o(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,S);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),P}(h.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",n.Code=O,n.default=N},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(V,$){var R=[],B=!0,z=!1,K=void 0;try{for(var q=V[Symbol.iterator](),Q;!(B=(Q=q.next()).done)&&(R.push(Q.value),!($&&R.length===$));B=!0);}catch(ae){z=!0,K=ae}finally{try{!B&&q.return&&q.return()}finally{if(z)throw K}}return R}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function W(V,$){for(var R=0;R<$.length;R++){var B=$[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,$,R){return $&&W(V.prototype,$),R&&W(V,R),V}}(),l=i(2),u=A(l),d=i(20),f=A(d),p=i(0),h=A(p),m=i(13),g=A(m),y=i(24),v=A(y),b=i(4),w=A(b),x=i(16),j=A(x),O=i(21),N=A(O),E=i(11),P=A(E),C=i(3),S=A(C);function A(W){return W&&W.__esModule?W:{default:W}}function I(W,V,$){return V in W?Object.defineProperty(W,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):W[V]=$,W}function D(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,J=function(){function W(V){D(this,W),this.scroll=V,this.delta=this.getDelta()}return o(W,[{key:"applyDelta",value:function($){var R=this,B=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),$=H($),$.reduce(function(K,q){var Q=q.retain||q.delete||q.insert.length||1,ae=q.attributes||{};if(q.insert!=null){if(typeof q.insert=="string"){var Z=q.insert;Z.endsWith(`
`)&&B&&(B=!1,Z=Z.slice(0,-1)),K>=z&&!Z.endsWith(`
`)&&(B=!0),R.scroll.insertAt(K,Z);var le=R.scroll.line(K),ge=s(le,2),de=ge[0],ke=ge[1],ve=(0,S.default)({},(0,b.bubbleFormats)(de));if(de instanceof w.default){var ie=de.descendant(h.default.Leaf,ke),We=s(ie,1),Be=We[0];ve=(0,S.default)(ve,(0,b.bubbleFormats)(Be))}ae=f.default.attributes.diff(ve,ae)||{}}else if(a(q.insert)==="object"){var xe=Object.keys(q.insert)[0];if(xe==null)return K;R.scroll.insertAt(K,xe,q.insert[xe])}z+=Q}return Object.keys(ae).forEach(function(fe){R.scroll.formatAt(K,Q,fe,ae[fe])}),K+Q},0),$.reduce(function(K,q){return typeof q.delete=="number"?(R.scroll.deleteAt(K,q.delete),K):K+(q.retain||q.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,R){return this.scroll.deleteAt($,R),this.update(new u.default().retain($).delete(R))}},{key:"formatLine",value:function($,R){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(K){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[K])){var q=B.scroll.lines($,Math.max(R,1)),Q=R;q.forEach(function(ae){var Z=ae.length();if(!(ae instanceof g.default))ae.format(K,z[K]);else{var le=$-ae.offset(B.scroll),ge=ae.newlineIndex(le+Q)-le+1;ae.formatAt(le,ge,K,z[K])}Q-=Z})}}),this.scroll.optimize(),this.update(new u.default().retain($).retain(R,(0,N.default)(z)))}},{key:"formatText",value:function($,R){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(K){B.scroll.formatAt($,R,K,z[K])}),this.update(new u.default().retain($).retain(R,(0,N.default)(z)))}},{key:"getContents",value:function($,R){return this.delta.slice($,$+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,R){return $.concat(R.delta())},new u.default)}},{key:"getFormat",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],z=[];R===0?this.scroll.path($).forEach(function(q){var Q=s(q,1),ae=Q[0];ae instanceof w.default?B.push(ae):ae instanceof h.default.Leaf&&z.push(ae)}):(B=this.scroll.lines($,R),z=this.scroll.descendants(h.default.Leaf,$,R));var K=[B,z].map(function(q){if(q.length===0)return{};for(var Q=(0,b.bubbleFormats)(q.shift());Object.keys(Q).length>0;){var ae=q.shift();if(ae==null)return Q;Q=X((0,b.bubbleFormats)(ae),Q)}return Q});return S.default.apply(S.default,K)}},{key:"getText",value:function($,R){return this.getContents($,R).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function($,R,B){return this.scroll.insertAt($,R,B),this.update(new u.default().retain($).insert(I({},R,B)))}},{key:"insertText",value:function($,R){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,R),Object.keys(z).forEach(function(K){B.scroll.formatAt($,R.length,K,z[K])}),this.update(new u.default().retain($).insert(R,(0,N.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==w.default.blotName||$.children.length>1?!1:$.children.head instanceof j.default}},{key:"removeFormat",value:function($,R){var B=this.getText($,R),z=this.scroll.line($+R),K=s(z,2),q=K[0],Q=K[1],ae=0,Z=new u.default;q!=null&&(q instanceof g.default?ae=q.newlineIndex(Q)-Q+1:ae=q.length()-Q,Z=q.delta().slice(Q,Q+ae-1).insert(`
`));var le=this.getContents($,R+ae),ge=le.diff(new u.default().insert(B).concat(Z)),de=new u.default().retain($).concat(ge);return this.applyDelta(de)}},{key:"update",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(U)&&h.default.find(R[0].target)){var K=h.default.find(R[0].target),q=(0,b.bubbleFormats)(K),Q=K.offset(this.scroll),ae=R[0].oldValue.replace(v.default.CONTENTS,""),Z=new u.default().insert(ae),le=new u.default().insert(K.value()),ge=new u.default().retain(Q).concat(Z.diff(le,B));$=ge.reduce(function(de,ke){return ke.insert?de.insert(ke.insert,q):de.push(ke)},new u.default),this.delta=z.compose($)}else this.delta=this.getDelta(),(!$||!(0,P.default)(z.compose($),this.delta))&&($=z.diff(this.delta,B));return $}}]),W}();function X(W,V){return Object.keys(V).reduce(function($,R){return W[R]==null||(V[R]===W[R]?$[R]=V[R]:Array.isArray(V[R])?V[R].indexOf(W[R])<0&&($[R]=V[R].concat([W[R]])):$[R]=[V[R],W[R]]),$},{})}function H(W){return W.reduce(function(V,$){if($.insert===1){var R=(0,N.default)($.attributes);return delete R.image,V.insert({image:$.attributes.image},R)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,N.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var B=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return V.insert(B,$.attributes)}return V.push($)},new u.default)}n.default=J},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function E(P,C){var S=[],A=!0,I=!1,D=void 0;try{for(var U=P[Symbol.iterator](),J;!(A=(J=U.next()).done)&&(S.push(J.value),!(C&&S.length===C));A=!0);}catch(X){I=!0,D=X}finally{try{!A&&U.return&&U.return()}finally{if(I)throw D}}return S}return function(P,C){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(P,C){for(var S=0;S<C.length;S++){var A=C[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,C,S){return C&&E(P.prototype,C),S&&E(P,S),P}}(),o=i(0),l=v(o),u=i(21),d=v(u),f=i(11),p=v(f),h=i(8),m=v(h),g=i(10),y=v(g);function v(E){return E&&E.__esModule?E:{default:E}}function b(E){if(Array.isArray(E)){for(var P=0,C=Array(E.length);P<E.length;P++)C[P]=E[P];return C}else return Array.from(E)}function w(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}var x=(0,y.default)("quill:selection"),j=function E(P){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,E),this.index=P,this.length=C},O=function(){function E(P,C){var S=this;w(this,E),this.emitter=C,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(A,I){A===m.default.events.TEXT_CHANGE&&I.length()>0&&S.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var A=S.getNativeRange();A!=null&&A.start.node!==S.cursor.textNode&&S.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(A,I){if(I.range){var D=I.range,U=D.startNode,J=D.startOffset,X=D.endNode,H=D.endOffset;S.setNativeRange(U,J,X,H)}}),this.update(m.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var S=C.cursor.restore();if(!S)return;setTimeout(function(){C.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var I=l.default.find(A.start.node,!1);if(I==null)return;if(I instanceof l.default.Leaf){var D=I.split(A.start.offset);I.parent.insertBefore(this.cursor,D)}else I.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(C,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();C=Math.min(C,A-1),S=Math.min(C+S,A-1)-C;var I=void 0,D=this.scroll.leaf(C),U=a(D,2),J=U[0],X=U[1];if(J==null)return null;var H=J.position(X,!0),W=a(H,2);I=W[0],X=W[1];var V=document.createRange();if(S>0){V.setStart(I,X);var $=this.scroll.leaf(C+S),R=a($,2);if(J=R[0],X=R[1],J==null)return null;var B=J.position(X,!0),z=a(B,2);return I=z[0],X=z[1],V.setEnd(I,X),V.getBoundingClientRect()}else{var K="left",q=void 0;return I instanceof Text?(X<I.data.length?(V.setStart(I,X),V.setEnd(I,X+1)):(V.setStart(I,X-1),V.setEnd(I,X),K="right"),q=V.getBoundingClientRect()):(q=J.domNode.getBoundingClientRect(),X>0&&(K="right")),{bottom:q.top+q.height,height:q.height,left:q[K],right:q[K],top:q.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var S=C.getRangeAt(0);if(S==null)return null;var A=this.normalizeNative(S);return x.info("getNativeRange",A),A}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var S=this.normalizedToRange(C);return[S,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var S=this,A=[[C.start.node,C.start.offset]];C.native.collapsed||A.push([C.end.node,C.end.offset]);var I=A.map(function(J){var X=a(J,2),H=X[0],W=X[1],V=l.default.find(H,!0),$=V.offset(S.scroll);return W===0?$:V instanceof l.default.Container?$+V.length():$+V.index(H,W)}),D=Math.min(Math.max.apply(Math,b(I)),this.scroll.length()-1),U=Math.min.apply(Math,[D].concat(b(I)));return new j(U,D-U)}},{key:"normalizeNative",value:function(C){if(!N(this.root,C.startContainer)||!C.collapsed&&!N(this.root,C.endContainer))return null;var S={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[S.start,S.end].forEach(function(A){for(var I=A.node,D=A.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>D)I=I.childNodes[D],D=0;else if(I.childNodes.length===D)I=I.lastChild,D=I instanceof Text?I.data.length:I.childNodes.length+1;else break;A.node=I,A.offset=D}),S}},{key:"rangeToNative",value:function(C){var S=this,A=C.collapsed?[C.index]:[C.index,C.index+C.length],I=[],D=this.scroll.length();return A.forEach(function(U,J){U=Math.min(D-1,U);var X=void 0,H=S.scroll.leaf(U),W=a(H,2),V=W[0],$=W[1],R=V.position($,J!==0),B=a(R,2);X=B[0],$=B[1],I.push(X,$)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(C){var S=this.lastRange;if(S!=null){var A=this.getBounds(S.index,S.length);if(A!=null){var I=this.scroll.length()-1,D=this.scroll.line(Math.min(S.index,I)),U=a(D,1),J=U[0],X=J;if(S.length>0){var H=this.scroll.line(Math.min(S.index+S.length,I)),W=a(H,1);X=W[0]}if(!(J==null||X==null)){var V=C.getBoundingClientRect();A.top<V.top?C.scrollTop-=V.top-A.top:A.bottom>V.bottom&&(C.scrollTop+=A.bottom-V.bottom)}}}}},{key:"setNativeRange",value:function(C,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",C,S,A,I),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||A.parentNode==null))){var U=document.getSelection();if(U!=null)if(C!=null){this.hasFocus()||this.root.focus();var J=(this.getNativeRange()||{}).native;if(J==null||D||C!==J.startContainer||S!==J.startOffset||A!==J.endContainer||I!==J.endOffset){C.tagName=="BR"&&(S=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),A.tagName=="BR"&&(I=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var X=document.createRange();X.setStart(C,S),X.setEnd(A,I),U.removeAllRanges(),U.addRange(X)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof S=="string"&&(A=S,S=!1),x.info("setRange",C),C!=null){var I=this.rangeToNative(C);this.setNativeRange.apply(this,b(I).concat([S]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,S=this.lastRange,A=this.getRange(),I=a(A,2),D=I[0],U=I[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(S,this.lastRange)){var J;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[m.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(S),C];if((J=this.emitter).emit.apply(J,[m.default.events.EDITOR_CHANGE].concat(X)),C!==m.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,X)}}}}]),E}();function N(E,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),E.contains(P)}n.Range=j,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(0),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"insertInto",value:function(v,b){v.children.length===0?s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,v,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);h.blotName="break",h.tagName="BR",n.default=h},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),o=i(30),l=i(1),u=function(f){a(p,f);function p(h){var m=f.call(this,h)||this;return m.build(),m}return p.prototype.appendChild=function(h){this.insertBefore(h)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},p.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var g=d(m);h.insertBefore(g,h.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},p.prototype.deleteAt=function(h,m){if(h===0&&m===this.length())return this.remove();this.children.forEachAt(h,m,function(g,y,v){g.deleteAt(y,v)})},p.prototype.descendant=function(h,m){var g=this.children.find(m),y=g[0],v=g[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,v]:y instanceof p?y.descendant(h,v):[null,-1]},p.prototype.descendants=function(h,m,g){m===void 0&&(m=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],v=g;return this.children.forEachAt(m,g,function(b,w,x){(h.blotName==null&&h(b)||h.blotName!=null&&b instanceof h)&&y.push(b),b instanceof p&&(y=y.concat(b.descendants(h,w,v))),v-=x}),y},p.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(h,m,g,y){this.children.forEachAt(h,m,function(v,b,w){v.formatAt(b,w,g,y)})},p.prototype.insertAt=function(h,m,g){var y=this.children.find(h),v=y[0],b=y[1];if(v)v.insertAt(b,m,g);else{var w=g==null?l.create("text",m):l.create(m,g);this.appendChild(w)}},p.prototype.insertBefore=function(h,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return h instanceof g}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,m)},p.prototype.length=function(){return this.children.reduce(function(h,m){return h+m.length()},0)},p.prototype.moveChildren=function(h,m){this.children.forEach(function(g){h.insertBefore(g,m)})},p.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var m=l.create(this.statics.defaultChild);this.appendChild(m),m.optimize(h)}else this.remove()},p.prototype.path=function(h,m){m===void 0&&(m=!1);var g=this.children.find(h,m),y=g[0],v=g[1],b=[[this,h]];return y instanceof p?b.concat(y.path(v,m)):(y!=null&&b.push([y,v]),b)},p.prototype.removeChild=function(h){this.children.remove(h)},p.prototype.replace=function(h){h instanceof p&&h.moveChildren(this),f.prototype.replace.call(this,h)},p.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(h,this.length(),function(y,v,b){y=y.split(v,m),g.appendChild(y)}),g},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(h,m){var g=this,y=[],v=[];h.forEach(function(b){b.target===g.domNode&&b.type==="childList"&&(y.push.apply(y,b.addedNodes),v.push.apply(v,b.removedNodes))}),v.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(b);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(b){return b.parentNode==g.domNode}).sort(function(b,w){return b===w?0:b.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var w=null;b.nextSibling!=null&&(w=l.find(b.nextSibling));var x=d(b);(x.next!=w||x.next==null)&&(x.parent!=null&&x.parent.removeChild(g),g.insertBefore(x,w||void 0))})},p}(o.default);function d(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(m){p.domNode.appendChild(m)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),o=i(31),l=i(17),u=i(1),d=function(f){a(p,f);function p(h){var m=f.call(this,h)||this;return m.attributes=new o.default(m.domNode),m}return p.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},p.prototype.format=function(h,m){var g=u.query(h);g instanceof s.default?this.attributes.attribute(g,m):m&&g!=null&&(h!==this.statics.blotName||this.formats()[h]!==m)&&this.replaceWith(h,m)},p.prototype.formats=function(){var h=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(h[this.statics.blotName]=m),h},p.prototype.replaceWith=function(h,m){var g=f.prototype.replaceWith.call(this,h,m);return this.attributes.copy(g),g},p.prototype.update=function(h,m){var g=this;f.prototype.update.call(this,h,m),h.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(h,m){var g=f.prototype.wrap.call(this,h,m);return g instanceof p&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},p}(l.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),o=i(1),l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},d.prototype.position=function(f,p){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=o.Scope.INLINE_BLOT,d}(s.default);n.default=l},function(r,n,i){var a=i(11),s=i(3),o={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var p=s(!0,{},d);f||(p=Object.keys(p).reduce(function(m,g){return p[g]!=null&&(m[g]=p[g]),m},{}));for(var h in u)u[h]!==void 0&&d[h]===void 0&&(p[h]=u[h]);return Object.keys(p).length>0?p:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(p,h){return a(u[h],d[h])||(p[h]=d[h]===void 0?null:d[h]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var p=Object.keys(d).reduce(function(h,m){return u[m]===void 0&&(h[m]=d[m]),h},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,p=o.length(d);if(u>=p-f?(u=p-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var h={};return d.attributes&&(h.attributes=d.attributes),typeof d.retain=="number"?h.retain=u:typeof d.insert=="string"?h.insert=d.insert.substr(f,u):h.insert=d.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(p)}else return[]},r.exports=o},function(r,n){var i=function(){function a(g,y){return y!=null&&g instanceof y}var s;try{s=Map}catch{s=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(g,y,v,b,w){typeof y=="object"&&(v=y.depth,b=y.prototype,w=y.includeNonEnumerable,y=y.circular);var x=[],j=[],O=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function N(E,P){if(E===null)return null;if(P===0)return E;var C,S;if(typeof E!="object")return E;if(a(E,s))C=new s;else if(a(E,o))C=new o;else if(a(E,l))C=new l(function(V,$){E.then(function(R){V(N(R,P-1))},function(R){$(N(R,P-1))})});else if(u.__isArray(E))C=[];else if(u.__isRegExp(E))C=new RegExp(E.source,m(E)),E.lastIndex&&(C.lastIndex=E.lastIndex);else if(u.__isDate(E))C=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(E.length):C=new Buffer(E.length),E.copy(C),C;a(E,Error)?C=Object.create(E):typeof b>"u"?(S=Object.getPrototypeOf(E),C=Object.create(S)):(C=Object.create(b),S=b)}if(y){var A=x.indexOf(E);if(A!=-1)return j[A];x.push(E),j.push(C)}a(E,s)&&E.forEach(function(V,$){var R=N($,P-1),B=N(V,P-1);C.set(R,B)}),a(E,o)&&E.forEach(function(V){var $=N(V,P-1);C.add($)});for(var I in E){var D;S&&(D=Object.getOwnPropertyDescriptor(S,I)),!(D&&D.set==null)&&(C[I]=N(E[I],P-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(E),I=0;I<U.length;I++){var J=U[I],X=Object.getOwnPropertyDescriptor(E,J);X&&!X.enumerable&&!w||(C[J]=N(E[J],P-1),X.enumerable||Object.defineProperty(C,J,{enumerable:!1}))}if(w)for(var H=Object.getOwnPropertyNames(E),I=0;I<H.length;I++){var W=H[I],X=Object.getOwnPropertyDescriptor(E,W);X&&X.enumerable||(C[W]=N(E[W],P-1),Object.defineProperty(C,W,{enumerable:!1}))}return C}return N(g,v)}u.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function d(g){return Object.prototype.toString.call(g)}u.__objToStr=d;function f(g){return typeof g=="object"&&d(g)==="[object Date]"}u.__isDate=f;function p(g){return typeof g=="object"&&d(g)==="[object Array]"}u.__isArray=p;function h(g){return typeof g=="object"&&d(g)==="[object RegExp]"}u.__isRegExp=h;function m(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return u.__getRegExpFlags=m,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(S,A){var I=[],D=!0,U=!1,J=void 0;try{for(var X=S[Symbol.iterator](),H;!(D=(H=X.next()).done)&&(I.push(H.value),!(A&&I.length===A));D=!0);}catch(W){U=!0,J=W}finally{try{!D&&X.return&&X.return()}finally{if(U)throw J}}return I}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return C(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(S,A){for(var I=0;I<A.length;I++){var D=A[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,A,I){return A&&C(S.prototype,A),I&&C(S,I),S}}(),o=function C(S,A,I){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,A);if(D===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:C(U,A,I)}else{if("value"in D)return D.value;var J=D.get;return J===void 0?void 0:J.call(I)}},l=i(0),u=x(l),d=i(8),f=x(d),p=i(4),h=x(p),m=i(16),g=x(m),y=i(13),v=x(y),b=i(25),w=x(b);function x(C){return C&&C.__esModule?C:{default:C}}function j(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function O(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function N(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}function E(C){return C instanceof h.default||C instanceof p.BlockEmbed}var P=function(C){N(S,C);function S(A,I){j(this,S);var D=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A));return D.emitter=I.emitter,Array.isArray(I.whitelist)&&(D.whitelist=I.whitelist.reduce(function(U,J){return U[J]=!0,U},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,D){var U=this.line(I),J=a(U,2),X=J[0],H=J[1],W=this.line(I+D),V=a(W,1),$=V[0];if(o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,I,D),$!=null&&X!==$&&H>0){if(X instanceof p.BlockEmbed||$ instanceof p.BlockEmbed){this.optimize();return}if(X instanceof v.default){var R=X.newlineIndex(X.length(),!0);if(R>-1&&(X=X.split(R+1),X===$)){this.optimize();return}}else if($ instanceof v.default){var B=$.newlineIndex(0);B>-1&&$.split(B+1)}var z=$.children.head instanceof g.default?null:$.children.head;X.moveChildren($,z),X.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,D,U,J){this.whitelist!=null&&!this.whitelist[U]||(o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,I,D,U,J),this.optimize())}},{key:"insertAt",value:function(I,D,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[D])){if(I>=this.length())if(U==null||u.default.query(D,u.default.Scope.BLOCK)==null){var J=u.default.create(this.statics.defaultChild);this.appendChild(J),U==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),J.insertAt(0,D,U)}else{var X=u.default.create(D,U);this.appendChild(X)}else o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,I,D,U);this.optimize()}}},{key:"insertBefore",value:function(I,D){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var U=u.default.create(this.statics.defaultChild);U.appendChild(I),I=U}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,I,D)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(E,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function J(X,H,W){var V=[],$=W;return X.children.forEachAt(H,W,function(R,B,z){E(R)?V.push(R):R instanceof u.default.Container&&(V=V.concat(J(R,B,$))),$-=z}),V};return U(this,I,D)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,I,D),I.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,I,D))}},{key:"path",value:function(I){return o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var D=f.default.sources.USER;typeof I=="string"&&(D=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,D,I),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,D,I)}}}]),S}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[h.default,p.BlockEmbed,w.default],n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(Q,ae){var Z=[],le=!0,ge=!1,de=void 0;try{for(var ke=Q[Symbol.iterator](),ve;!(le=(ve=ke.next()).done)&&(Z.push(ve.value),!(ae&&Z.length===ae));le=!0);}catch(ie){ge=!0,de=ie}finally{try{!le&&ke.return&&ke.return()}finally{if(ge)throw de}}return Z}return function(Q,ae){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return q(Q,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function q(Q,ae){for(var Z=0;Z<ae.length;Z++){var le=ae[Z];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Q,le.key,le)}}return function(Q,ae,Z){return ae&&q(Q.prototype,ae),Z&&q(Q,Z),Q}}(),l=i(21),u=C(l),d=i(11),f=C(d),p=i(3),h=C(p),m=i(2),g=C(m),y=i(20),v=C(y),b=i(0),w=C(b),x=i(5),j=C(x),O=i(10),N=C(O),E=i(9),P=C(E);function C(q){return q&&q.__esModule?q:{default:q}}function S(q,Q,ae){return Q in q?Object.defineProperty(q,Q,{value:ae,enumerable:!0,configurable:!0,writable:!0}):q[Q]=ae,q}function A(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}function I(q,Q){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:q}function D(q,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);q.prototype=Object.create(Q&&Q.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Q):q.__proto__=Q)}var U=(0,N.default)("quill:keyboard"),J=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function(q){D(Q,q),o(Q,null,[{key:"match",value:function(Z,le){return le=K(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!le[ge]!==Z[ge]&&le[ge]!==null})?!1:le.key===(Z.which||Z.keyCode)}}]);function Q(ae,Z){A(this,Q);var le=I(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ae,Z));return le.bindings={},Object.keys(le.options.bindings).forEach(function(ge){ge==="list autofill"&&ae.scroll.whitelist!=null&&!ae.scroll.whitelist.list||le.options.bindings[ge]&&le.addBinding(le.options.bindings[ge])}),le.addBinding({key:Q.keys.ENTER,shiftKey:null},R),le.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},W),le.addBinding({key:Q.keys.DELETE},{collapsed:!0},V)):(le.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),le.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},V)),le.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},$),le.addBinding({key:Q.keys.DELETE},{collapsed:!1},$),le.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),le.listen(),le}return o(Q,[{key:"addBinding",value:function(Z){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=K(Z);if(de==null||de.key==null)return U.warn("Attempted to add invalid keyboard binding",de);typeof le=="function"&&(le={handler:le}),typeof ge=="function"&&(ge={handler:ge}),de=(0,h.default)(de,le,ge),this.bindings[de.key]=this.bindings[de.key]||[],this.bindings[de.key].push(de)}},{key:"listen",value:function(){var Z=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var ge=le.which||le.keyCode,de=(Z.bindings[ge]||[]).filter(function(qe){return Q.match(le,qe)});if(de.length!==0){var ke=Z.quill.getSelection();if(!(ke==null||!Z.quill.hasFocus())){var ve=Z.quill.getLine(ke.index),ie=s(ve,2),We=ie[0],Be=ie[1],xe=Z.quill.getLeaf(ke.index),fe=s(xe,2),he=fe[0],pe=fe[1],be=ke.length===0?[he,pe]:Z.quill.getLeaf(ke.index+ke.length),Ce=s(be,2),De=Ce[0],Ie=Ce[1],He=he instanceof w.default.Text?he.value().slice(0,pe):"",Ze=De instanceof w.default.Text?De.value().slice(Ie):"",$e={collapsed:ke.length===0,empty:ke.length===0&&We.length()<=1,format:Z.quill.getFormat(ke),offset:Be,prefix:He,suffix:Ze},Ve=de.some(function(qe){if(qe.collapsed!=null&&qe.collapsed!==$e.collapsed||qe.empty!=null&&qe.empty!==$e.empty||qe.offset!=null&&qe.offset!==$e.offset)return!1;if(Array.isArray(qe.format)){if(qe.format.every(function(Ke){return $e.format[Ke]==null}))return!1}else if(a(qe.format)==="object"&&!Object.keys(qe.format).every(function(Ke){return qe.format[Ke]===!0?$e.format[Ke]!=null:qe.format[Ke]===!1?$e.format[Ke]==null:(0,f.default)(qe.format[Ke],$e.format[Ke])}))return!1;return qe.prefix!=null&&!qe.prefix.test($e.prefix)||qe.suffix!=null&&!qe.suffix.test($e.suffix)?!1:qe.handler.call(Z,ke,$e)!==!0});Ve&&le.preventDefault()}}}})}}]),Q}(P.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,ae){ae.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):ae.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,j.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(Q){this.quill.history.cutoff();var ae=new g.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(ae,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,j.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,ae){this.quill.format("list",!1,j.default.sources.USER),ae.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var ae=this.quill.getLine(Q.index),Z=s(ae,2),le=Z[0],ge=Z[1],de=(0,h.default)({},le.formats(),{list:"checked"}),ke=new g.default().retain(Q.index).insert(`
`,de).retain(le.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(ke,j.default.sources.USER),this.quill.setSelection(Q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,ae){var Z=this.quill.getLine(Q.index),le=s(Z,2),ge=le[0],de=le[1],ke=new g.default().retain(Q.index).insert(`
`,ae.format).retain(ge.length()-de-1).retain(1,{header:null});this.quill.updateContents(ke,j.default.sources.USER),this.quill.setSelection(Q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,ae){var Z=ae.prefix.length,le=this.quill.getLine(Q.index),ge=s(le,2),de=ge[0],ke=ge[1];if(ke>Z)return!0;var ve=void 0;switch(ae.prefix.trim()){case"[]":case"[ ]":ve="unchecked";break;case"[x]":ve="checked";break;case"-":case"*":ve="bullet";break;default:ve="ordered"}this.quill.insertText(Q.index," ",j.default.sources.USER),this.quill.history.cutoff();var ie=new g.default().retain(Q.index-ke).delete(Z+1).retain(de.length()-2-ke).retain(1,{list:ve});this.quill.updateContents(ie,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-Z,j.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var ae=this.quill.getLine(Q.index),Z=s(ae,2),le=Z[0],ge=Z[1],de=new g.default().retain(Q.index+le.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(de,j.default.sources.USER)}},"embed left":H(X.keys.LEFT,!1),"embed left shift":H(X.keys.LEFT,!0),"embed right":H(X.keys.RIGHT,!1),"embed right shift":H(X.keys.RIGHT,!0)}};function H(q,Q){var ae,Z=q===X.keys.LEFT?"prefix":"suffix";return ae={key:q,shiftKey:Q,altKey:null},S(ae,Z,/^$/),S(ae,"handler",function(ge){var de=ge.index;q===X.keys.RIGHT&&(de+=ge.length+1);var ke=this.quill.getLeaf(de),ve=s(ke,1),ie=ve[0];return ie instanceof w.default.Embed?(q===X.keys.LEFT?Q?this.quill.setSelection(ge.index-1,ge.length+1,j.default.sources.USER):this.quill.setSelection(ge.index-1,j.default.sources.USER):Q?this.quill.setSelection(ge.index,ge.length+1,j.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,j.default.sources.USER),!1):!0}),ae}function W(q,Q){if(!(q.index===0||this.quill.getLength()<=1)){var ae=this.quill.getLine(q.index),Z=s(ae,1),le=Z[0],ge={};if(Q.offset===0){var de=this.quill.getLine(q.index-1),ke=s(de,1),ve=ke[0];if(ve!=null&&ve.length()>1){var ie=le.formats(),We=this.quill.getFormat(q.index-1,1);ge=v.default.attributes.diff(ie,We)||{}}}var Be=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText(q.index-Be,Be,j.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(q.index-Be,Be,ge,j.default.sources.USER),this.quill.focus()}}function V(q,Q){var ae=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!(q.index>=this.quill.getLength()-ae)){var Z={},le=0,ge=this.quill.getLine(q.index),de=s(ge,1),ke=de[0];if(Q.offset>=ke.length()-1){var ve=this.quill.getLine(q.index+1),ie=s(ve,1),We=ie[0];if(We){var Be=ke.formats(),xe=this.quill.getFormat(q.index,1);Z=v.default.attributes.diff(Be,xe)||{},le=We.length()}}this.quill.deleteText(q.index,ae,j.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(q.index+le-1,ae,Z,j.default.sources.USER)}}function $(q){var Q=this.quill.getLines(q),ae={};if(Q.length>1){var Z=Q[0].formats(),le=Q[Q.length-1].formats();ae=v.default.attributes.diff(le,Z)||{}}this.quill.deleteText(q,j.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(q.index,1,ae,j.default.sources.USER),this.quill.setSelection(q.index,j.default.sources.SILENT),this.quill.focus()}function R(q,Q){var ae=this;q.length>0&&this.quill.scroll.deleteAt(q.index,q.length);var Z=Object.keys(Q.format).reduce(function(le,ge){return w.default.query(ge,w.default.Scope.BLOCK)&&!Array.isArray(Q.format[ge])&&(le[ge]=Q.format[ge]),le},{});this.quill.insertText(q.index,`
`,Z,j.default.sources.USER),this.quill.setSelection(q.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(le){Z[le]==null&&(Array.isArray(Q.format[le])||le!=="link"&&ae.quill.format(le,Q.format[le],j.default.sources.USER))})}function B(q){return{key:X.keys.TAB,shiftKey:!q,format:{"code-block":!0},handler:function(ae){var Z=w.default.query("code-block"),le=ae.index,ge=ae.length,de=this.quill.scroll.descendant(Z,le),ke=s(de,2),ve=ke[0],ie=ke[1];if(ve!=null){var We=this.quill.getIndex(ve),Be=ve.newlineIndex(ie,!0)+1,xe=ve.newlineIndex(We+ie+ge),fe=ve.domNode.textContent.slice(Be,xe).split(`
`);ie=0,fe.forEach(function(he,pe){q?(ve.insertAt(Be+ie,Z.TAB),ie+=Z.TAB.length,pe===0?le+=Z.TAB.length:ge+=Z.TAB.length):he.startsWith(Z.TAB)&&(ve.deleteAt(Be+ie,Z.TAB.length),ie-=Z.TAB.length,pe===0?le-=Z.TAB.length:ge-=Z.TAB.length),ie+=he.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(le,ge,j.default.sources.SILENT)}}}}function z(q){return{key:q[0].toUpperCase(),shortKey:!0,handler:function(ae,Z){this.quill.format(q,!Z.format[q],j.default.sources.USER)}}}function K(q){if(typeof q=="string"||typeof q=="number")return K({key:q});if((typeof q>"u"?"undefined":a(q))==="object"&&(q=(0,u.default)(q,!1)),typeof q.key=="string")if(X.keys[q.key.toUpperCase()]!=null)q.key=X.keys[q.key.toUpperCase()];else if(q.key.length===1)q.key=q.key.toUpperCase().charCodeAt(0);else return null;return q.shortKey&&(q[J]=q.shortKey,delete q.shortKey),q}n.default=X,n.SHORTKEY=J},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,w){var x=[],j=!0,O=!1,N=void 0;try{for(var E=b[Symbol.iterator](),P;!(j=(P=E.next()).done)&&(x.push(P.value),!(w&&x.length===w));j=!0);}catch(C){O=!0,N=C}finally{try{!j&&E.return&&E.return()}finally{if(O)throw N}}return x}return function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return v(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(b,w,x){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:v(O,w,x)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(x)}},o=function(){function v(b,w){for(var x=0;x<w.length;x++){var j=w[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,x){return w&&v(b.prototype,w),x&&v(b,x),b}}(),l=i(0),u=p(l),d=i(7),f=p(d);function p(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function m(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){g(b,v),o(b,null,[{key:"value",value:function(){}}]);function b(w,x){h(this,b);var j=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return j.selection=x,j.textNode=document.createTextNode(b.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return o(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,j){if(this._length!==0)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,j);for(var O=this,N=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)N+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=b.CONTENTS.length,O.optimize(),O.formatAt(N,b.CONTENTS.length,x,j),this._length=0)}},{key:"index",value:function(x,j){return x===this.textNode?0:s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,j=this.selection.getNativeRange(),O=void 0,N=void 0,E=void 0;if(j!=null&&j.start.node===x&&j.end.node===x){var P=[x,j.start.offset,j.end.offset];O=P[0],N=P[1],E=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var C=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=b.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var S=[N,E].map(function(I){return Math.max(0,Math.min(O.data.length,I-1))}),A=a(S,2);return N=A[0],E=A[1],{startNode:O,startOffset:N,endNode:O,endOffset:E}}}}},{key:"update",value:function(x,j){var O=this;if(x.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var N=this.restore();N&&(j.range=N)}}},{key:"value",value:function(){return""}}]),b}(u.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=u(a),o=i(4),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default.Container);h.allowedChildren=[l.default,o.BlockEmbed,h],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(0),l=u(o);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){p(v,y);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"value",value:function(w){var x=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):x}}]),v}(l.default.Attributor.Style),m=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new h("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=h,n.ColorClass=m,n.ColorStyle=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function g(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&g(y.prototype,v),b&&g(y,b),y}}(),s=function g(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:g(x,v,b)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(b)}},o=i(6),l=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){p(y,g);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(b,w){if(b!==this.statics.blotName||!w)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(b){var w=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return b=this.sanitize(b),w.setAttribute("href",b),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return m(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),y}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(g,y){var v=document.createElement("a");v.href=g;var b=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(b)>-1}n.default=h,n.sanitize=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),o=i(23),l=f(o),u=i(107),d=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function m(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var g=function(){function y(v){var b=this;p(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.togglePicker();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var w=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),b.hasAttribute("value")&&x.setAttribute("data-value",b.getAttribute("value")),b.textContent&&x.setAttribute("data-label",b.textContent),x.addEventListener("click",function(){w.selectItem(x,!0)}),x.addEventListener("keydown",function(j){switch(j.keyCode){case l.default.keys.ENTER:w.selectItem(x,!0),j.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=d.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(x){var j=b.buildItem(x);w.appendChild(j),x.selected===!0&&b.selectItem(j)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(w){b.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(b!==x&&(x!=null&&x.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var x=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),y}();n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=U(a),o=i(5),l=U(o),u=i(4),d=U(u),f=i(16),p=U(f),h=i(25),m=U(h),g=i(24),y=U(g),v=i(35),b=U(v),w=i(6),x=U(w),j=i(22),O=U(j),N=i(7),E=U(N),P=i(55),C=U(P),S=i(42),A=U(S),I=i(23),D=U(I);function U(J){return J&&J.__esModule?J:{default:J}}l.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":p.default,"blots/container":m.default,"blots/cursor":y.default,"blots/embed":b.default,"blots/inline":x.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":C.default,"modules/history":A.default,"modules/keyboard":D.default}),s.default.register(d.default,p.default,y.default,x.default,O.default,E.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function o(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},o.prototype.deleteAt=function(l,u){var d=this.isolate(l,u);d.remove()},o.prototype.formatAt=function(l,u,d,f){var p=this.isolate(l,u);if(a.query(d,a.Scope.BLOT)!=null&&f)p.wrap(d,f);else if(a.query(d,a.Scope.ATTRIBUTE)!=null){var h=a.create(this.statics.scope);p.wrap(h),h.format(d,f)}},o.prototype.insertAt=function(l,u,d){var f=d==null?a.create("text",u):a.create(u,d),p=this.split(l);this.parent.insertBefore(f,p)},o.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},o.prototype.isolate=function(l,u){var d=this.split(l);return d.split(u),d},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,u){var d=typeof l=="string"?a.create(l,u):l;return d.replace(this),d},o.prototype.split=function(l,u){return l===0?this:this.next},o.prototype.update=function(l,u){},o.prototype.wrap=function(l,u){var d=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},o.blotName="abstract",o}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),s=i(32),o=i(33),l=i(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var p=a.default.keys(this.domNode),h=s.default.keys(this.domNode),m=o.default.keys(this.domNode);p.concat(h).concat(m).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof a.default&&(f.attributes[y.attrName]=y)})},d.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(h){var m=p.attributes[h].value(p.domNode);f.format(h,m)})},d.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){p.attributes[h].remove(p.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,h){return p[h]=f.attributes[h].value(f.domNode),p},{})},d}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function o(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(d+"-")===0})}var l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},d.prototype.remove=function(f){var p=o(f,this.keyName);p.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var p=o(f,this.keyName)[0]||"",h=p.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},d}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function o(u){var d=u.split("-"),f=d.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return d[0]+f}var l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var h=p.split(":");return h[0].trim()})},d.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[o(this.keyName)]=p,!0):!1},d.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var p=f.style[o(this.keyName)];return this.canAdd(f,p)?p:""},d}(s.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,d){s(this,l),this.quill=u,this.options=d,this.modules={}}return a(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();o.DEFAULTS={modules:{}},o.themes={default:o},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,w){for(var x=0;x<w.length;x++){var j=w[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,x){return w&&v(b.prototype,w),x&&v(b,x),b}}(),s=function v(b,w,x){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:v(O,w,x)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(x)}},o=i(0),l=f(o),u=i(7),d=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var g="\uFEFF",y=function(v){m(b,v);function b(w){p(this,b);var x=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(j){x.contentNode.appendChild(j)}),x.leftGuard=document.createTextNode(g),x.rightGuard=document.createTextNode(g),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return a(b,[{key:"index",value:function(x,j){return x===this.leftGuard?0:x===this.rightGuard?1:s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,j)}},{key:"restore",value:function(x){var j=void 0,O=void 0,N=x.data.split(g).join("");if(x===this.leftGuard)if(this.prev instanceof d.default){var E=this.prev.length();this.prev.insertAt(E,N),j={startNode:this.prev.domNode,startOffset:E+N.length}}else O=document.createTextNode(N),this.parent.insertBefore(l.default.create(O),this),j={startNode:O,startOffset:N.length};else x===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,N),j={startNode:this.next.domNode,startOffset:N.length}):(O=document.createTextNode(N),this.parent.insertBefore(l.default.create(O),this.next),j={startNode:O,startOffset:N.length}));return x.data=g,j}},{key:"update",value:function(x,j){var O=this;x.forEach(function(N){if(N.type==="characterData"&&(N.target===O.leftGuard||N.target===O.rightGuard)){var E=O.restore(N.target);E&&(j.range=E)}})}}]),b}(l.default.Embed);n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=d,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),s=l(a),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=d,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function v(b,w){for(var x=0;x<w.length;x++){var j=w[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,x){return w&&v(b.prototype,w),x&&v(b,x),b}}(),s=function v(b,w,x){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:v(O,w,x)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(x)}},o=i(0),l=u(o);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new l.default.Attributor.Class("font","ql-font",h),g=function(v){p(b,v);function b(){return d(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(x){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),b}(l.default.Attributor.Style),y=new g("font","font-family",h);n.FontStyle=y,n.FontClass=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),s=o(a);function o(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function w(x,j){for(var O=0;O<j.length;O++){var N=j[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,j,O){return j&&w(x.prototype,j),O&&w(x,O),x}}(),s=i(0),o=p(s),l=i(5),u=p(l),d=i(9),f=p(d);function p(w){return w&&w.__esModule?w:{default:w}}function h(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function m(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function g(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var y=function(w){g(x,w);function x(j,O){h(this,x);var N=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,j,O));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(u.default.events.EDITOR_CHANGE,function(E,P,C,S){E!==u.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||S===u.default.sources.USER?N.record(P,C):N.transform(P))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return a(x,[{key:"change",value:function(O,N){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[N].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],u.default.sources.USER),this.ignoreChange=!1;var P=b(E[O]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,N){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(N),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var C=this.stack.undo.pop();E=E.compose(C.undo),O=C.redo.compose(O)}else this.lastRecorded=P;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(N){N.undo=O.transform(N.undo,!0),N.redo=O.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=O.transform(N.undo,!0),N.redo=O.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(w){var x=w.ops[w.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(j){return o.default.query(j,o.default.Scope.BLOCK)!=null}):!1}function b(w){var x=w.reduce(function(O,N){return O+=N.delete||0,O},0),j=w.length()-x;return v(w)&&(j-=1),j}n.default=y,n.getLastChangeIndex=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function R(B,z){for(var K=0;K<z.length;K++){var q=z[K];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(B,q.key,q)}}return function(B,z,K){return z&&R(B.prototype,z),K&&R(B,K),B}}(),s=function R(B,z,K){B===null&&(B=Function.prototype);var q=Object.getOwnPropertyDescriptor(B,z);if(q===void 0){var Q=Object.getPrototypeOf(B);return Q===null?void 0:R(Q,z,K)}else{if("value"in q)return q.value;var ae=q.get;return ae===void 0?void 0:ae.call(K)}},o=i(3),l=P(o),u=i(2),d=P(u),f=i(8),p=P(f),h=i(23),m=P(h),g=i(34),y=P(g),v=i(59),b=P(v),w=i(60),x=P(w),j=i(28),O=P(j),N=i(61),E=P(N);function P(R){return R&&R.__esModule?R:{default:R}}function C(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function S(R,B){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:R}function A(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(R,B):R.__proto__=B)}var I=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],J=["1","2","3",!1],X=["small",!1,"large","huge"],H=function(R){A(B,R);function B(z,K){C(this,B);var q=S(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,K)),Q=function ae(Z){if(!document.body.contains(z.root))return document.body.removeEventListener("click",ae);q.tooltip!=null&&!q.tooltip.root.contains(Z.target)&&document.activeElement!==q.tooltip.textbox&&!q.quill.hasFocus()&&q.tooltip.hide(),q.pickers!=null&&q.pickers.forEach(function(le){le.container.contains(Z.target)||le.close()})};return z.emitter.listenDOM("click",document.body,Q),q}return a(B,[{key:"addModule",value:function(K){var q=s(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(q),q}},{key:"buildButtons",value:function(K,q){K.forEach(function(Q){var ae=Q.getAttribute("class")||"";ae.split(/\s+/).forEach(function(Z){if(Z.startsWith("ql-")&&(Z=Z.slice(3),q[Z]!=null))if(Z==="direction")Q.innerHTML=q[Z][""]+q[Z].rtl;else if(typeof q[Z]=="string")Q.innerHTML=q[Z];else{var le=Q.value||"";le!=null&&q[Z][le]&&(Q.innerHTML=q[Z][le])}})})}},{key:"buildPickers",value:function(K,q){var Q=this;this.pickers=K.map(function(Z){if(Z.classList.contains("ql-align"))return Z.querySelector("option")==null&&$(Z,I),new x.default(Z,q.align);if(Z.classList.contains("ql-background")||Z.classList.contains("ql-color")){var le=Z.classList.contains("ql-background")?"background":"color";return Z.querySelector("option")==null&&$(Z,D,le==="background"?"#ffffff":"#000000"),new b.default(Z,q[le])}else return Z.querySelector("option")==null&&(Z.classList.contains("ql-font")?$(Z,U):Z.classList.contains("ql-header")?$(Z,J):Z.classList.contains("ql-size")&&$(Z,X)),new O.default(Z)});var ae=function(){Q.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,ae)}}]),B}(y.default);H.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var K=new FileReader;K.onload=function(q){var Q=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain(Q.index).delete(Q.length).insert({image:q.target.result}),p.default.sources.USER),B.quill.setSelection(Q.index+1,p.default.sources.SILENT),z.value=""},K.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(R){A(B,R);function B(z,K){C(this,B);var q=S(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,K));return q.textbox=q.root.querySelector('input[type="text"]'),q.listen(),q}return a(B,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(q){m.default.match(q,"enter")?(K.save(),q.preventDefault()):m.default.match(q,"escape")&&(K.cancel(),q.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),q!=null?this.textbox.value=q:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,p.default.sources.USER)),this.quill.root.scrollTop=q;break}case"video":K=V(K);case"formula":{if(!K)break;var Q=this.quill.getSelection(!0);if(Q!=null){var ae=Q.index+Q.length;this.quill.insertEmbed(ae,this.root.getAttribute("data-mode"),K,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ae+1," ",p.default.sources.USER),this.quill.setSelection(ae+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(E.default);function V(R){var B=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":R}function $(R,B){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(K){var q=document.createElement("option");K===z?q.setAttribute("selected","selected"):q.setAttribute("value",K),R.appendChild(q)})}n.BaseTooltip=W,n.default=H},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},s.prototype.contains=function(o){for(var l,u=this.iterator();l=u();)if(l===o)return!0;return!1},s.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},s.prototype.offset=function(o){for(var l=0,u=this.head;u!=null;){if(u===o)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},s.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},s.prototype.find=function(o,l){l===void 0&&(l=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(o<f||l&&o===f&&(u.next==null||u.next.length()!==0))return[u,o];o-=f}return[null,0]},s.prototype.forEach=function(o){for(var l,u=this.iterator();l=u();)o(l)},s.prototype.forEachAt=function(o,l,u){if(!(l<=0))for(var d=this.find(o),f=d[0],p=d[1],h,m=o-p,g=this.iterator(f);(h=g())&&m<o+l;){var y=h.length();o>m?u(h,o-m,Math.min(l,m+y-o)):u(h,0,Math.min(y,o+l-m)),m+=y}},s.prototype.map=function(o){return this.reduce(function(l,u){return l.push(o(u)),l},[])},s.prototype.reduce=function(o,l){for(var u,d=this.iterator();u=d();)l=o(l,u);return l},s}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){a(p,f);function p(h){var m=f.call(this,h)||this;return m.scroll=m,m.observer=new MutationObserver(function(g){m.update(g)}),m.observer.observe(m.domNode,l),m.attach(),m}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(h,m){this.update(),h===0&&m===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,h,m)},p.prototype.formatAt=function(h,m,g,y){this.update(),f.prototype.formatAt.call(this,h,m,g,y)},p.prototype.insertAt=function(h,m,g){this.update(),f.prototype.insertAt.call(this,h,m,g)},p.prototype.optimize=function(h,m){var g=this;h===void 0&&(h=[]),m===void 0&&(m={}),f.prototype.optimize.call(this,m);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var v=function(j,O){O===void 0&&(O=!0),!(j==null||j===g)&&j.domNode.parentNode!=null&&(j.domNode[o.DATA_KEY].mutations==null&&(j.domNode[o.DATA_KEY].mutations=[]),O&&v(j.parent))},b=function(j){j.domNode[o.DATA_KEY]==null||j.domNode[o.DATA_KEY].mutations==null||(j instanceof s.default&&j.children.forEach(b),j.optimize(m))},w=h,x=0;w.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(j){var O=o.find(j.target,!0);O!=null&&(O.domNode===j.target&&(j.type==="childList"?(v(o.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(N){var E=o.find(N,!1);v(E,!1),E instanceof s.default&&E.children.forEach(function(P){v(P,!1)})})):j.type==="attributes"&&v(O.prev)),v(O))}),this.children.forEach(b),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)h.push(y.pop())}},p.prototype.update=function(h,m){var g=this;m===void 0&&(m={}),h=h||this.observer.takeRecords(),h.map(function(y){var v=o.find(y.target,!0);return v==null?null:v.domNode[o.DATA_KEY].mutations==null?(v.domNode[o.DATA_KEY].mutations=[y],v):(v.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],m)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,m),this.optimize(h,m)},p.blotName="scroll",p.defaultChild="block",p.scope=o.Scope.BLOCK_BLOT,p.tagName="DIV",p}(s.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var h in p)p.hasOwnProperty(h)&&(f[h]=p[h])};return function(f,p){d(f,p);function h(){this.constructor=f}f.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),o=i(1);function l(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var p in d)if(d[p]!==f[p])return!1;return!0}var u=function(d){a(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return d.formats.call(this,p)},f.prototype.format=function(p,h){var m=this;p===this.statics.blotName&&!h?(this.children.forEach(function(g){g instanceof s.default||(g=g.wrap(f.blotName,!0)),m.attributes.copy(g)}),this.unwrap()):d.prototype.format.call(this,p,h)},f.prototype.formatAt=function(p,h,m,g){if(this.formats()[m]!=null||o.query(m,o.Scope.ATTRIBUTE)){var y=this.isolate(p,h);y.format(m,g)}else d.prototype.formatAt.call(this,p,h,m,g)},f.prototype.optimize=function(p){d.prototype.optimize.call(this,p);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var m=this.next;m instanceof f&&m.prev===this&&l(h,m.formats())&&(m.moveChildren(this),m.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),o=i(1),l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var p=o.query(d.blotName).tagName;if(f.tagName!==p)return u.formats.call(this,f)},d.prototype.format=function(f,p){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(d.blotName):u.prototype.format.call(this,f,p))},d.prototype.formatAt=function(f,p,h,m){o.query(h,o.Scope.BLOCK)!=null?this.format(h,m):u.prototype.formatAt.call(this,f,p,h,m)},d.prototype.insertAt=function(f,p,h){if(h==null||o.query(p,o.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,p,h);else{var m=this.split(f),g=o.create(p,h);m.parent.insertBefore(g,m)}},d.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,p)},d.blotName="block",d.scope=o.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){l(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),o=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){l.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,p,h){d===0&&f===this.length()?this.format(p,h):l.prototype.formatAt.call(this,d,f,p,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);n.default=o},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),o=i(1),l=function(u){a(d,u);function d(f){var p=u.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},d.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},d.prototype.index=function(f,p){return this.domNode===f?p:-1},d.prototype.insertAt=function(f,p,h){h==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,p,h)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,p){return[this.domNode,f]},d.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var h=o.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},d.prototype.update=function(f,p){var h=this;f.some(function(m){return m.type==="characterData"&&m.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=o.Scope.INLINE_BLOT,d}(s.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:s.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=o.length;var d=u.indexOf(o,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],p,h=0;h<d;h++)if(p=u[h],l.call(f,p,h,u))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,s=0;function o(x,j,O){if(x==j)return x?[[s,x]]:[];(O<0||x.length<O)&&(O=null);var N=f(x,j),E=x.substring(0,N);x=x.substring(N),j=j.substring(N),N=p(x,j);var P=x.substring(x.length-N);x=x.substring(0,x.length-N),j=j.substring(0,j.length-N);var C=l(x,j);return E&&C.unshift([s,E]),P&&C.push([s,P]),m(C),O!=null&&(C=v(C,O)),C=b(C),C}function l(x,j){var O;if(!x)return[[a,j]];if(!j)return[[i,x]];var N=x.length>j.length?x:j,E=x.length>j.length?j:x,P=N.indexOf(E);if(P!=-1)return O=[[a,N.substring(0,P)],[s,E],[a,N.substring(P+E.length)]],x.length>j.length&&(O[0][0]=O[2][0]=i),O;if(E.length==1)return[[i,x],[a,j]];var C=h(x,j);if(C){var S=C[0],A=C[1],I=C[2],D=C[3],U=C[4],J=o(S,I),X=o(A,D);return J.concat([[s,U]],X)}return u(x,j)}function u(x,j){for(var O=x.length,N=j.length,E=Math.ceil((O+N)/2),P=E,C=2*E,S=new Array(C),A=new Array(C),I=0;I<C;I++)S[I]=-1,A[I]=-1;S[P+1]=0,A[P+1]=0;for(var D=O-N,U=D%2!=0,J=0,X=0,H=0,W=0,V=0;V<E;V++){for(var $=-V+J;$<=V-X;$+=2){var R=P+$,B;$==-V||$!=V&&S[R-1]<S[R+1]?B=S[R+1]:B=S[R-1]+1;for(var z=B-$;B<O&&z<N&&x.charAt(B)==j.charAt(z);)B++,z++;if(S[R]=B,B>O)X+=2;else if(z>N)J+=2;else if(U){var K=P+D-$;if(K>=0&&K<C&&A[K]!=-1){var q=O-A[K];if(B>=q)return d(x,j,B,z)}}}for(var Q=-V+H;Q<=V-W;Q+=2){var K=P+Q,q;Q==-V||Q!=V&&A[K-1]<A[K+1]?q=A[K+1]:q=A[K-1]+1;for(var ae=q-Q;q<O&&ae<N&&x.charAt(O-q-1)==j.charAt(N-ae-1);)q++,ae++;if(A[K]=q,q>O)W+=2;else if(ae>N)H+=2;else if(!U){var R=P+D-Q;if(R>=0&&R<C&&S[R]!=-1){var B=S[R],z=P+B-R;if(q=O-q,B>=q)return d(x,j,B,z)}}}}return[[i,x],[a,j]]}function d(x,j,O,N){var E=x.substring(0,O),P=j.substring(0,N),C=x.substring(O),S=j.substring(N),A=o(E,P),I=o(C,S);return A.concat(I)}function f(x,j){if(!x||!j||x.charAt(0)!=j.charAt(0))return 0;for(var O=0,N=Math.min(x.length,j.length),E=N,P=0;O<E;)x.substring(P,E)==j.substring(P,E)?(O=E,P=O):N=E,E=Math.floor((N-O)/2+O);return E}function p(x,j){if(!x||!j||x.charAt(x.length-1)!=j.charAt(j.length-1))return 0;for(var O=0,N=Math.min(x.length,j.length),E=N,P=0;O<E;)x.substring(x.length-E,x.length-P)==j.substring(j.length-E,j.length-P)?(O=E,P=O):N=E,E=Math.floor((N-O)/2+O);return E}function h(x,j){var O=x.length>j.length?x:j,N=x.length>j.length?j:x;if(O.length<4||N.length*2<O.length)return null;function E(X,H,W){for(var V=X.substring(W,W+Math.floor(X.length/4)),$=-1,R="",B,z,K,q;($=H.indexOf(V,$+1))!=-1;){var Q=f(X.substring(W),H.substring($)),ae=p(X.substring(0,W),H.substring(0,$));R.length<ae+Q&&(R=H.substring($-ae,$)+H.substring($,$+Q),B=X.substring(0,W-ae),z=X.substring(W+Q),K=H.substring(0,$-ae),q=H.substring($+Q))}return R.length*2>=X.length?[B,z,K,q,R]:null}var P=E(O,N,Math.ceil(O.length/4)),C=E(O,N,Math.ceil(O.length/2)),S;if(!P&&!C)return null;C?P?S=P[4].length>C[4].length?P:C:S=C:S=P;var A,I,D,U;x.length>j.length?(A=S[0],I=S[1],D=S[2],U=S[3]):(D=S[0],U=S[1],A=S[2],I=S[3]);var J=S[4];return[A,I,D,U,J]}function m(x){x.push([s,""]);for(var j=0,O=0,N=0,E="",P="",C;j<x.length;)switch(x[j][0]){case a:N++,P+=x[j][1],j++;break;case i:O++,E+=x[j][1],j++;break;case s:O+N>1?(O!==0&&N!==0&&(C=f(P,E),C!==0&&(j-O-N>0&&x[j-O-N-1][0]==s?x[j-O-N-1][1]+=P.substring(0,C):(x.splice(0,0,[s,P.substring(0,C)]),j++),P=P.substring(C),E=E.substring(C)),C=p(P,E),C!==0&&(x[j][1]=P.substring(P.length-C)+x[j][1],P=P.substring(0,P.length-C),E=E.substring(0,E.length-C))),O===0?x.splice(j-N,O+N,[a,P]):N===0?x.splice(j-O,O+N,[i,E]):x.splice(j-O-N,O+N,[i,E],[a,P]),j=j-O-N+(O?1:0)+(N?1:0)+1):j!==0&&x[j-1][0]==s?(x[j-1][1]+=x[j][1],x.splice(j,1)):j++,N=0,O=0,E="",P="";break}x[x.length-1][1]===""&&x.pop();var S=!1;for(j=1;j<x.length-1;)x[j-1][0]==s&&x[j+1][0]==s&&(x[j][1].substring(x[j][1].length-x[j-1][1].length)==x[j-1][1]?(x[j][1]=x[j-1][1]+x[j][1].substring(0,x[j][1].length-x[j-1][1].length),x[j+1][1]=x[j-1][1]+x[j+1][1],x.splice(j-1,1),S=!0):x[j][1].substring(0,x[j+1][1].length)==x[j+1][1]&&(x[j-1][1]+=x[j+1][1],x[j][1]=x[j][1].substring(x[j+1][1].length)+x[j+1][1],x.splice(j+1,1),S=!0)),j++;S&&m(x)}var g=o;g.INSERT=a,g.DELETE=i,g.EQUAL=s,r.exports=g;function y(x,j){if(j===0)return[s,x];for(var O=0,N=0;N<x.length;N++){var E=x[N];if(E[0]===i||E[0]===s){var P=O+E[1].length;if(j===P)return[N+1,x];if(j<P){x=x.slice();var C=j-O,S=[E[0],E[1].slice(0,C)],A=[E[0],E[1].slice(C)];return x.splice(N,1,S,A),[N+1,x]}else O=P}}throw new Error("cursor_pos is out of bounds!")}function v(x,j){var O=y(x,j),N=O[1],E=O[0],P=N[E],C=N[E+1];if(P==null)return x;if(P[0]!==s)return x;if(C!=null&&P[1]+C[1]===C[1]+P[1])return N.splice(E,2,C,P),w(N,E,2);if(C!=null&&C[1].indexOf(P[1])===0){N.splice(E,2,[C[0],P[1]],[0,P[1]]);var S=C[1].slice(P[1].length);return S.length>0&&N.splice(E+2,0,[C[0],S]),w(N,E,3)}else return x}function b(x){for(var j=!1,O=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},N=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},E=2;E<x.length;E+=1)x[E-2][0]===s&&N(x[E-2][1])&&x[E-1][0]===i&&O(x[E-1][1])&&x[E][0]===a&&O(x[E][1])&&(j=!0,x[E-1][1]=x[E-2][1].slice(-1)+x[E-1][1],x[E][1]=x[E-2][1].slice(-1)+x[E][1],x[E-2][1]=x[E-2][1].slice(0,-1));if(!j)return x;for(var P=[],E=0;E<x.length;E+=1)x[E][1].length>0&&P.push(x[E]);return P}function w(x,j,O){for(var N=j+O-1;N>=0&&N>=j-1;N--)if(N+1<x.length){var E=x[N],P=x[N+1];E[0]===P[1]&&x.splice(N,2,[E[0],E[1]+P[1]])}return x}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var s=[];for(var o in a)s.push(o);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:s,n.supported=a;function a(o){return Object.prototype.toString.call(o)=="[object Arguments]"}n.unsupported=s;function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function o(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)i.call(f,p)&&d.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d,f){var p=a?a+d:d,h=this._events[p];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,y=new Array(g);m<g;m++)y[m]=h[m].fn;return y},l.prototype.emit=function(d,f,p,h,m,g){var y=a?a+d:d;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,x;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,p),!0;case 4:return v.fn.call(v.context,f,p,h),!0;case 5:return v.fn.call(v.context,f,p,h,m),!0;case 6:return v.fn.call(v.context,f,p,h,m,g),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];v.fn.apply(v.context,w)}else{var j=v.length,O;for(x=0;x<j;x++)switch(v[x].once&&this.removeListener(d,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,f);break;case 3:v[x].fn.call(v[x].context,f,p);break;case 4:v[x].fn.call(v[x].context,f,p,h);break;default:if(!w)for(O=1,w=new Array(b-1);O<b;O++)w[O-1]=arguments[O];v[x].fn.apply(v[x].context,w)}}return!0},l.prototype.on=function(d,f,p){var h=new o(f,p||this),m=a?a+d:d;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.once=function(d,f,p){var h=new o(f,p||this,!0),m=a?a+d:d;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.removeListener=function(d,f,p,h){var m=a?a+d:d;if(!this._events[m])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var g=this._events[m];if(g.fn)g.fn===f&&(!h||g.once)&&(!p||g.context===p)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==f||h&&!g[y].once||p&&g[y].context!==p)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=a?a+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},s=function(){function xe(fe,he){var pe=[],be=!0,Ce=!1,De=void 0;try{for(var Ie=fe[Symbol.iterator](),He;!(be=(He=Ie.next()).done)&&(pe.push(He.value),!(he&&pe.length===he));be=!0);}catch(Ze){Ce=!0,De=Ze}finally{try{!be&&Ie.return&&Ie.return()}finally{if(Ce)throw De}}return pe}return function(fe,he){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return xe(fe,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function xe(fe,he){for(var pe=0;pe<he.length;pe++){var be=he[pe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(fe,be.key,be)}}return function(fe,he,pe){return he&&xe(fe.prototype,he),pe&&xe(fe,pe),fe}}(),l=i(3),u=A(l),d=i(2),f=A(d),p=i(0),h=A(p),m=i(5),g=A(m),y=i(10),v=A(y),b=i(9),w=A(b),x=i(36),j=i(37),O=i(13),N=A(O),E=i(26),P=i(38),C=i(39),S=i(40);function A(xe){return xe&&xe.__esModule?xe:{default:xe}}function I(xe,fe,he){return fe in xe?Object.defineProperty(xe,fe,{value:he,enumerable:!0,configurable:!0,writable:!0}):xe[fe]=he,xe}function D(xe,fe){if(!(xe instanceof fe))throw new TypeError("Cannot call a class as a function")}function U(xe,fe){if(!xe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:xe}function J(xe,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);xe.prototype=Object.create(fe&&fe.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(xe,fe):xe.__proto__=fe)}var X=(0,v.default)("quill:clipboard"),H="__ql-matcher",W=[[Node.TEXT_NODE,Be],[Node.TEXT_NODE,ve],["br",ge],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,We],["li",ke],["b",ae.bind(ae,"bold")],["i",ae.bind(ae,"italic")],["style",de]],V=[x.AlignAttribute,P.DirectionAttribute].reduce(function(xe,fe){return xe[fe.keyName]=fe,xe},{}),$=[x.AlignStyle,j.BackgroundStyle,E.ColorStyle,P.DirectionStyle,C.FontStyle,S.SizeStyle].reduce(function(xe,fe){return xe[fe.keyName]=fe,xe},{}),R=function(xe){J(fe,xe);function fe(he,pe){D(this,fe);var be=U(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,he,pe));return be.quill.root.addEventListener("paste",be.onPaste.bind(be)),be.container=be.quill.addContainer("ql-clipboard"),be.container.setAttribute("contenteditable",!0),be.container.setAttribute("tabindex",-1),be.matchers=[],W.concat(be.options.matchers).forEach(function(Ce){var De=s(Ce,2),Ie=De[0],He=De[1];!pe.matchVisual&&He===ie||be.addMatcher(Ie,He)}),be}return o(fe,[{key:"addMatcher",value:function(pe,be){this.matchers.push([pe,be])}},{key:"convert",value:function(pe){if(typeof pe=="string")return this.container.innerHTML=pe.replace(/\>\r?\n +\</g,"><"),this.convert();var be=this.quill.getFormat(this.quill.selection.savedRange.index);if(be[N.default.blotName]){var Ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Ce,I({},N.default.blotName,be[N.default.blotName]))}var De=this.prepareMatching(),Ie=s(De,2),He=Ie[0],Ze=Ie[1],$e=Q(this.container,He,Ze);return K($e,`
`)&&$e.ops[$e.ops.length-1].attributes==null&&($e=$e.compose(new f.default().retain($e.length()-1).delete(1))),X.log("convert",this.container.innerHTML,$e),this.container.innerHTML="",$e}},{key:"dangerouslyPasteHTML",value:function(pe,be){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof pe=="string")this.quill.setContents(this.convert(pe),be),this.quill.setSelection(0,g.default.sources.SILENT);else{var De=this.convert(be);this.quill.updateContents(new f.default().retain(pe).concat(De),Ce),this.quill.setSelection(pe+De.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(pe){var be=this;if(!(pe.defaultPrevented||!this.quill.isEnabled())){var Ce=this.quill.getSelection(),De=new f.default().retain(Ce.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){De=De.concat(be.convert()).delete(Ce.length),be.quill.updateContents(De,g.default.sources.USER),be.quill.setSelection(De.length()-Ce.length,g.default.sources.SILENT),be.quill.scrollingContainer.scrollTop=Ie,be.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var pe=this,be=[],Ce=[];return this.matchers.forEach(function(De){var Ie=s(De,2),He=Ie[0],Ze=Ie[1];switch(He){case Node.TEXT_NODE:Ce.push(Ze);break;case Node.ELEMENT_NODE:be.push(Ze);break;default:[].forEach.call(pe.container.querySelectorAll(He),function($e){$e[H]=$e[H]||[],$e[H].push(Ze)});break}}),[be,Ce]}}]),fe}(w.default);R.DEFAULTS={matchers:[],matchVisual:!0};function B(xe,fe,he){return(typeof fe>"u"?"undefined":a(fe))==="object"?Object.keys(fe).reduce(function(pe,be){return B(pe,be,fe[be])},xe):xe.reduce(function(pe,be){return be.attributes&&be.attributes[fe]?pe.push(be):pe.insert(be.insert,(0,u.default)({},I({},fe,he),be.attributes))},new f.default)}function z(xe){if(xe.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return xe[fe]||(xe[fe]=window.getComputedStyle(xe))}function K(xe,fe){for(var he="",pe=xe.ops.length-1;pe>=0&&he.length<fe.length;--pe){var be=xe.ops[pe];if(typeof be.insert!="string")break;he=be.insert+he}return he.slice(-1*fe.length)===fe}function q(xe){if(xe.childNodes.length===0)return!1;var fe=z(xe);return["block","list-item"].indexOf(fe.display)>-1}function Q(xe,fe,he){return xe.nodeType===xe.TEXT_NODE?he.reduce(function(pe,be){return be(xe,pe)},new f.default):xe.nodeType===xe.ELEMENT_NODE?[].reduce.call(xe.childNodes||[],function(pe,be){var Ce=Q(be,fe,he);return be.nodeType===xe.ELEMENT_NODE&&(Ce=fe.reduce(function(De,Ie){return Ie(be,De)},Ce),Ce=(be[H]||[]).reduce(function(De,Ie){return Ie(be,De)},Ce)),pe.concat(Ce)},new f.default):new f.default}function ae(xe,fe,he){return B(he,xe,!0)}function Z(xe,fe){var he=h.default.Attributor.Attribute.keys(xe),pe=h.default.Attributor.Class.keys(xe),be=h.default.Attributor.Style.keys(xe),Ce={};return he.concat(pe).concat(be).forEach(function(De){var Ie=h.default.query(De,h.default.Scope.ATTRIBUTE);Ie!=null&&(Ce[Ie.attrName]=Ie.value(xe),Ce[Ie.attrName])||(Ie=V[De],Ie!=null&&(Ie.attrName===De||Ie.keyName===De)&&(Ce[Ie.attrName]=Ie.value(xe)||void 0),Ie=$[De],Ie!=null&&(Ie.attrName===De||Ie.keyName===De)&&(Ie=$[De],Ce[Ie.attrName]=Ie.value(xe)||void 0))}),Object.keys(Ce).length>0&&(fe=B(fe,Ce)),fe}function le(xe,fe){var he=h.default.query(xe);if(he==null)return fe;if(he.prototype instanceof h.default.Embed){var pe={},be=he.value(xe);be!=null&&(pe[he.blotName]=be,fe=new f.default().insert(pe,he.formats(xe)))}else typeof he.formats=="function"&&(fe=B(fe,he.blotName,he.formats(xe)));return fe}function ge(xe,fe){return K(fe,`
`)||fe.insert(`
`),fe}function de(){return new f.default}function ke(xe,fe){var he=h.default.query(xe);if(he==null||he.blotName!=="list-item"||!K(fe,`
`))return fe;for(var pe=-1,be=xe.parentNode;!be.classList.contains("ql-clipboard");)(h.default.query(be)||{}).blotName==="list"&&(pe+=1),be=be.parentNode;return pe<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:pe}))}function ve(xe,fe){return K(fe,`
`)||(q(xe)||fe.length()>0&&xe.nextSibling&&q(xe.nextSibling))&&fe.insert(`
`),fe}function ie(xe,fe){if(q(xe)&&xe.nextElementSibling!=null&&!K(fe,`

`)){var he=xe.offsetHeight+parseFloat(z(xe).marginTop)+parseFloat(z(xe).marginBottom);xe.nextElementSibling.offsetTop>xe.offsetTop+he*1.5&&fe.insert(`
`)}return fe}function We(xe,fe){var he={},pe=xe.style||{};return pe.fontStyle&&z(xe).fontStyle==="italic"&&(he.italic=!0),pe.fontWeight&&(z(xe).fontWeight.startsWith("bold")||parseInt(z(xe).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(fe=B(fe,he)),parseFloat(pe.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Be(xe,fe){var he=xe.data;if(xe.parentNode.tagName==="O:P")return fe.insert(he.trim());if(he.trim().length===0&&xe.parentNode.classList.contains("ql-clipboard"))return fe;if(!z(xe.parentNode).whiteSpace.startsWith("pre")){var pe=function(Ce,De){return De=De.replace(/[^\u00a0]/g,""),De.length<1&&Ce?" ":De};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,pe.bind(pe,!0)),(xe.previousSibling==null&&q(xe.parentNode)||xe.previousSibling!=null&&q(xe.previousSibling))&&(he=he.replace(/^\s+/,pe.bind(pe,!1))),(xe.nextSibling==null&&q(xe.parentNode)||xe.nextSibling!=null&&q(xe.nextSibling))&&(he=he.replace(/\s+$/,pe.bind(pe,!1)))}return fe.insert(he)}n.default=R,n.matchAttributor=Z,n.matchBlot=le,n.matchNewline=ve,n.matchSpacing=ie,n.matchText=Be},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(6),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"optimize",value:function(v){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function S(A,I){var D=[],U=!0,J=!1,X=void 0;try{for(var H=A[Symbol.iterator](),W;!(U=(W=H.next()).done)&&(D.push(W.value),!(I&&D.length===I));U=!0);}catch(V){J=!0,X=V}finally{try{!U&&H.return&&H.return()}finally{if(J)throw X}}return D}return function(A,I){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return S(A,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(A,I){for(var D=0;D<I.length;D++){var U=I[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,I,D){return I&&S(A.prototype,I),D&&S(A,D),A}}(),o=i(2),l=v(o),u=i(0),d=v(u),f=i(5),p=v(f),h=i(10),m=v(h),g=i(9),y=v(g);function v(S){return S&&S.__esModule?S:{default:S}}function b(S,A,I){return A in S?Object.defineProperty(S,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):S[A]=I,S}function w(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function x(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function j(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var O=(0,m.default)("quill:toolbar"),N=function(S){j(A,S);function A(I,D){w(this,A);var U=x(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,D));if(Array.isArray(U.options.container)){var J=document.createElement("div");P(J,U.options.container),I.container.parentNode.insertBefore(J,I.container),U.container=J}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var X;return X=O.error("Container required for toolbar",U.options),x(U,X)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(H){U.addHandler(H,U.options.handlers[H])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(H){U.attach(H)}),U.quill.on(p.default.events.EDITOR_CHANGE,function(H,W){H===p.default.events.SELECTION_CHANGE&&U.update(W)}),U.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var H=U.quill.selection.getRange(),W=a(H,1),V=W[0];U.update(V)}),U}return s(A,[{key:"addHandler",value:function(D,U){this.handlers[D]=U}},{key:"attach",value:function(D){var U=this,J=[].find.call(D.classList,function(H){return H.indexOf("ql-")===0});if(J){if(J=J.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[J]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[J]==null){O.warn("ignoring attaching to disabled format",J,D);return}if(d.default.query(J)==null){O.warn("ignoring attaching to nonexistent format",J,D);return}}var X=D.tagName==="SELECT"?"change":"click";D.addEventListener(X,function(H){var W=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var V=D.options[D.selectedIndex];V.hasAttribute("selected")?W=!1:W=V.value||!1}else D.classList.contains("ql-active")?W=!1:W=D.value||!D.hasAttribute("value"),H.preventDefault();U.quill.focus();var $=U.quill.selection.getRange(),R=a($,1),B=R[0];if(U.handlers[J]!=null)U.handlers[J].call(U,W);else if(d.default.query(J).prototype instanceof d.default.Embed){if(W=prompt("Enter "+J),!W)return;U.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(b({},J,W)),p.default.sources.USER)}else U.quill.format(J,W,p.default.sources.USER);U.update(B)}),this.controls.push([J,D])}}},{key:"update",value:function(D){var U=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(J){var X=a(J,2),H=X[0],W=X[1];if(W.tagName==="SELECT"){var V=void 0;if(D==null)V=null;else if(U[H]==null)V=W.querySelector("option[selected]");else if(!Array.isArray(U[H])){var $=U[H];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),V=W.querySelector('option[value="'+$+'"]')}V==null?(W.value="",W.selectedIndex=-1):V.selected=!0}else if(D==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var R=U[H]===W.getAttribute("value")||U[H]!=null&&U[H].toString()===W.getAttribute("value")||U[H]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",R)}else W.classList.toggle("ql-active",U[H]!=null)})}}]),A}(y.default);N.DEFAULTS={};function E(S,A,I){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+A),I!=null&&(D.value=I),S.appendChild(D)}function P(S,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(I){var D=document.createElement("span");D.classList.add("ql-formats"),I.forEach(function(U){if(typeof U=="string")E(D,U);else{var J=Object.keys(U)[0],X=U[J];Array.isArray(X)?C(D,J,X):E(D,J,X)}}),S.appendChild(D)})}function C(S,A,I){var D=document.createElement("select");D.classList.add("ql-"+A),I.forEach(function(U){var J=document.createElement("option");U!==!1?J.setAttribute("value",U):J.setAttribute("selected","selected"),D.appendChild(J)}),S.appendChild(D)}N.DEFAULTS={container:null,handlers:{clean:function(){var A=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&A.quill.format(U,!1)})}else this.quill.removeFormat(I,p.default.sources.USER)},direction:function(A){var I=this.quill.getFormat().align;A==="rtl"&&I==null?this.quill.format("align","right",p.default.sources.USER):!A&&I==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",A,p.default.sources.USER)},indent:function(A){var I=this.quill.getSelection(),D=this.quill.getFormat(I),U=parseInt(D.indent||0);if(A==="+1"||A==="-1"){var J=A==="+1"?1:-1;D.direction==="rtl"&&(J*=-1),this.quill.format("indent",U+J,p.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,p.default.sources.USER)},list:function(A){var I=this.quill.getSelection(),D=this.quill.getFormat(I);A==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",A,p.default.sources.USER)}}},n.default=N,n.addControls=P},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(28),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(y,v){d(this,g);var b=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return b.label.innerHTML=v,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),b}return a(g,[{key:"buildItem",value:function(v){var b=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,v);return b.style.backgroundColor=v.getAttribute("value")||"",b}},{key:"selectItem",value:function(v,b){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,b);var w=this.label.querySelector(".ql-color-label"),x=v&&v.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=x:w.style.fill=x)}}]),g}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(28),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(y,v){d(this,g);var b=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=v[w.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return a(g,[{key:"selectItem",value:function(v,b){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,b),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),g}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,d){var f=this;s(this,l),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,p=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),g=0;if(m.right>h.right&&(g=h.right-m.right,this.root.style.left=f+g+"px"),m.left<h.left&&(g=h.left-m.left,this.root.style.left=f+g+"px"),m.bottom>h.bottom){var y=m.bottom-m.top,v=d.bottom-d.top+y;this.root.style.top=p-v+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(S,A){var I=[],D=!0,U=!1,J=void 0;try{for(var X=S[Symbol.iterator](),H;!(D=(H=X.next()).done)&&(I.push(H.value),!(A&&I.length===A));D=!0);}catch(W){U=!0,J=W}finally{try{!D&&X.return&&X.return()}finally{if(U)throw J}}return I}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return C(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function C(S,A,I){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,A);if(D===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:C(U,A,I)}else{if("value"in D)return D.value;var J=D.get;return J===void 0?void 0:J.call(I)}},o=function(){function C(S,A){for(var I=0;I<A.length;I++){var D=A[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,A,I){return A&&C(S.prototype,A),I&&C(S,I),S}}(),l=i(3),u=w(l),d=i(8),f=w(d),p=i(43),h=w(p),m=i(27),g=w(m),y=i(15),v=i(41),b=w(v);function w(C){return C&&C.__esModule?C:{default:C}}function x(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function j(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function O(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(C){O(S,C);function S(A,I){x(this,S),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=N);var D=j(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,I));return D.quill.container.classList.add("ql-snow"),D}return o(S,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),b.default),this.tooltip=new P(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,U){I.handlers.link.call(I,!U.format.link)})}}]),S}(h.default);E.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var A=this.quill.getSelection();if(A==null||A.length==0)return;var I=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var D=this.quill.theme.tooltip;D.edit("link",I)}else this.quill.format("link",!1)}}}}});var P=function(C){O(S,C);function S(A,I){x(this,S);var D=j(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,I));return D.preview=D.root.querySelector("a.ql-preview"),D}return o(S,[{key:"listen",value:function(){var I=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(I.linkRange!=null){var U=I.linkRange;I.restoreFocus(),I.quill.formatText(U,"link",!1,f.default.sources.USER),delete I.linkRange}D.preventDefault(),I.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(D,U,J){if(D!=null){if(D.length===0&&J===f.default.sources.USER){var X=I.quill.scroll.descendant(g.default,D.index),H=a(X,2),W=H[0],V=H[1];if(W!=null){I.linkRange=new y.Range(D.index-V,W.length());var $=g.default.formats(W.domNode);I.preview.textContent=$,I.preview.setAttribute("href",$),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(p.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),s=be(a),o=i(36),l=i(38),u=i(64),d=i(65),f=be(d),p=i(66),h=be(p),m=i(67),g=be(m),y=i(37),v=i(26),b=i(39),w=i(40),x=i(56),j=be(x),O=i(68),N=be(O),E=i(27),P=be(E),C=i(69),S=be(C),A=i(70),I=be(A),D=i(71),U=be(D),J=i(72),X=be(J),H=i(73),W=be(H),V=i(13),$=be(V),R=i(74),B=be(R),z=i(75),K=be(z),q=i(57),Q=be(q),ae=i(41),Z=be(ae),le=i(28),ge=be(le),de=i(59),ke=be(de),ve=i(60),ie=be(ve),We=i(61),Be=be(We),xe=i(108),fe=be(xe),he=i(62),pe=be(he);function be(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":b.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":$.default,"formats/header":h.default,"formats/list":g.default,"formats/bold":j.default,"formats/code":V.Code,"formats/italic":N.default,"formats/link":P.default,"formats/script":S.default,"formats/strike":I.default,"formats/underline":U.default,"formats/image":X.default,"formats/video":W.default,"formats/list/item":m.ListItem,"modules/formula":B.default,"modules/syntax":K.default,"modules/toolbar":Q.default,"themes/bubble":fe.default,"themes/snow":pe.default,"ui/icons":Z.default,"ui/picker":ge.default,"ui/icon-picker":ie.default,"ui/color-picker":ke.default,"ui/tooltip":Be.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function g(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&g(y.prototype,v),b&&g(y,b),y}}(),s=function g(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:g(x,v,b)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(b)}},o=i(0),l=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){p(y,g);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"add",value:function(b,w){if(w==="+1"||w==="-1"){var x=this.value(b)||0;w=w==="+1"?x+1:x-1}return w===0?(this.remove(b),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,b,w)}},{key:"canAdd",value:function(b,w){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,b,w)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,b,parseInt(w))}},{key:"value",value:function(b){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b))||void 0}}]),y}(l.default.Attributor.Class),m=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function u(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&h(m.prototype,g),y&&h(m,y),m}}(),s=i(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function f(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var p=function(h){f(m,h);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),m}(o.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function x(j,O){for(var N=0;N<O.length;N++){var E=O[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}return function(j,O,N){return O&&x(j.prototype,O),N&&x(j,N),j}}(),s=function x(j,O,N){j===null&&(j=Function.prototype);var E=Object.getOwnPropertyDescriptor(j,O);if(E===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:x(P,O,N)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(N)}},o=i(0),l=h(o),u=i(4),d=h(u),f=i(25),p=h(f);function h(x){return x&&x.__esModule?x:{default:x}}function m(x,j,O){return j in x?Object.defineProperty(x,j,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[j]=O,x}function g(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")}function y(x,j){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:x}function v(x,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(x,j):x.__proto__=j)}var b=function(x){v(j,x);function j(){return g(this,j),y(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"format",value:function(N,E){N===w.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,E){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,E),this):(this.parent.unwrap(),s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,N,E))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:s(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,N)}}]),j}(d.default);b.blotName="list-item",b.tagName="LI";var w=function(x){v(j,x),a(j,null,[{key:"create",value:function(N){var E=N==="ordered"?"OL":"UL",P=s(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,E);return(N==="checked"||N==="unchecked")&&P.setAttribute("data-checked",N==="checked"),P}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(O){g(this,j);var N=y(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,O)),E=function(C){if(C.target.parentNode===O){var S=N.statics.formats(O),A=l.default.find(C.target);S==="checked"?A.format("list","unchecked"):S==="unchecked"&&A.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),N}return a(j,[{key:"format",value:function(N,E){this.children.length>0&&this.children.tail.format(N,E)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,E){if(N instanceof b)s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,N,E);else{var P=E==null?this.length():E.offset(this),C=this.split(P);C.parent.insertBefore(N,C)}}},{key:"optimize",value:function(N){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,N);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);N.moveChildren(E),this.appendChild(E)}s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,N)}}]),j}(p.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[b],n.ListItem=b,n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function u(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(6),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),g}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function u(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function u(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(0),l=d(o),u=i(27);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=["alt","height","width"],g=function(y){h(v,y);function v(){return f(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"format",value:function(w,x){m.indexOf(w)>-1?x?this.domNode.setAttribute(w,x):this.domNode.removeAttribute(w):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,x)}}],[{key:"create",value:function(w){var x=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return typeof w=="string"&&x.setAttribute("src",this.sanitize(w)),x}},{key:"formats",value:function(w){return m.reduce(function(x,j){return w.hasAttribute(j)&&(x[j]=w.getAttribute(j)),x},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(l.default.Embed);g.blotName="image",g.tagName="IMG",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(4),l=i(27),u=d(l);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=["height","width"],g=function(y){h(v,y);function v(){return f(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"format",value:function(w,x){m.indexOf(w)>-1?x?this.domNode.setAttribute(w,x):this.domNode.removeAttribute(w):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,x)}}],[{key:"create",value:function(w){var x=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(w)),x}},{key:"formats",value:function(w){return m.reduce(function(x,j){return w.hasAttribute(j)&&(x[j]=w.getAttribute(j)),x},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function w(x,j){for(var O=0;O<j.length;O++){var N=j[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,j,O){return j&&w(x.prototype,j),O&&w(x,O),x}}(),s=function w(x,j,O){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,j);if(N===void 0){var E=Object.getPrototypeOf(x);return E===null?void 0:w(E,j,O)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(O)}},o=i(35),l=h(o),u=i(5),d=h(u),f=i(9),p=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function g(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function y(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var v=function(w){y(x,w);function x(){return m(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(O){var N=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",O)),N}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),x}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var b=function(w){y(x,w),a(x,null,[{key:"register",value:function(){d.default.register(v,!0)}}]);function x(){m(this,x);var j=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return x}(p.default);n.FormulaBlot=v,n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function O(N,E){for(var P=0;P<E.length;P++){var C=E[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,E,P){return E&&O(N.prototype,E),P&&O(N,P),N}}(),s=function O(N,E,P){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,E);if(C===void 0){var S=Object.getPrototypeOf(N);return S===null?void 0:O(S,E,P)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(P)}},o=i(0),l=g(o),u=i(5),d=g(u),f=i(9),p=g(f),h=i(13),m=g(h);function g(O){return O&&O.__esModule?O:{default:O}}function y(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function v(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:O}function b(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var w=function(O){b(N,O);function N(){return y(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),N}(m.default);w.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),j=function(O){b(N,O),a(N,null,[{key:"register",value:function(){d.default.register(x,!0),d.default.register(w,!0)}}]);function N(E,P){y(this,N);var C=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,E,P));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return C.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){C.highlight(),S=null},C.options.interval)}),C.highlight(),C}return a(N,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(S){S.highlight(P.options.highlight)}),this.quill.update(d.default.sources.SILENT),C!=null&&this.quill.setSelection(C,d.default.sources.SILENT)}}}]),N}(p.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var N=window.hljs.highlightAuto(O);return N.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=x,n.default=j},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function N(E,P,C){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,P);if(S===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:N(A,P,C)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(C)}},s=function(){function N(E,P){for(var C=0;C<P.length;C++){var S=P[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,P,C){return P&&N(E.prototype,P),C&&N(E,C),E}}(),o=i(3),l=y(o),u=i(8),d=y(u),f=i(43),p=y(f),h=i(15),m=i(41),g=y(m);function y(N){return N&&N.__esModule?N:{default:N}}function v(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function b(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function w(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(N){w(E,N);function E(P,C){v(this,E),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=x);var S=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,C));return S.quill.container.classList.add("ql-bubble"),S}return s(E,[{key:"extendToolbar",value:function(C){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),g.default)}}]),E}(p.default);j.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(N){w(E,N);function E(P,C){v(this,E);var S=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,C));return S.quill.on(d.default.events.EDITOR_CHANGE,function(A,I,D,U){if(A===d.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&U===d.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var J=S.quill.getLines(I.index,I.length);if(J.length===1)S.position(S.quill.getBounds(I));else{var X=J[J.length-1],H=S.quill.getIndex(X),W=Math.min(X.length()-1,I.index+I.length-H),V=S.quill.getBounds(new h.Range(H,W));S.position(V)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(E,[{key:"listen",value:function(){var C=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var S=C.quill.getSelection();S!=null&&C.position(C.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var S=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,C),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",S===0)return S;A.style.marginLeft=-1*S-A.offsetWidth/2+"px"}}]),E}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=j},function(r,n,i){r.exports=i(63)}]).default})})(Y8);var IJ=Y8.exports,RJ=ia&&ia.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dv=ia&&ia.__assign||function(){return dv=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dv.apply(this,arguments)},MJ=ia&&ia.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n},Ty=ia&&ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ns=Ty(T),DJ=Ty(wy),fh=Ty(LJ),bk=Ty(IJ),BJ=function(e){RJ(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,s,o,l){var u,d,f,p;a==="text-change"?(d=(u=n).onEditorChangeText)===null||d===void 0||d.call(u,n.editor.root.innerHTML,s,l,n.unprivilegedEditor):a==="selection-change"&&((p=(f=n).onEditorChangeSelection)===null||p===void 0||p.call(f,s,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return t.prototype.validateProps=function(r){var n;if(Ns.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ns.default.Children.count(r.children)){var i=Ns.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var s=this.getEditorContents(),o=(a=r.value,a??"");this.isEqualValue(o,s)||this.setEditorContents(this.editor,o)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),MJ(this.cleanProps,this.dirtyProps).some(function(l){return!fh.default(r[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!fh.default(r[i],n.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var o=this.regenerationSnapshot,a=o.delta,l=o.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),xk(function(){return i.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var i=new bk.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?fh.default(r.ops,n.ops):fh.default(r,n)},t.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),xk(function(){return i.setEditorSelection(r,a)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=DJ.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,s=this.state.generation,o={key:s,ref:function(l){r.editingArea=l}};return Ns.default.Children.count(i)?Ns.default.cloneElement(Ns.default.Children.only(i),o):a?Ns.default.createElement("pre",dv({},o)):Ns.default.createElement("div",dv({},o))},t.prototype.render=function(){var r;return Ns.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,i,a){var s,o;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(o=(s=this.props).onChange)===null||o===void 0||o.call(s,r,n,i,a))}},t.prototype.onEditorChangeSelection=function(r,n,i){var a,s,o,l,u,d;if(this.editor){var f=this.getEditorSelection(),p=!f&&r,h=f&&!r;fh.default(r,f)||(this.selection=r,(s=(a=this.props).onChangeSelection)===null||s===void 0||s.call(a,r,n,i),p?(l=(o=this.props).onFocus)===null||l===void 0||l.call(o,r,n,i):h&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,f,n,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=bk.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Ns.default.Component);function xk(e){Promise.resolve().then(e)}var FJ=BJ;const E0=$s(FJ),X8=(e="noah-smart-fitness-watch")=>`simulation_data_${e}`,J8=(e="noah-smart-fitness-watch")=>`simulation_progress_${e}`,$J="noah_simulation_data",UJ="noah_simulation_progress",yi=(e,t,r="noah-smart-fitness-watch")=>{try{const n=Kp(r);return n[e]={...t,savedAt:new Date().toISOString()},localStorage.setItem(X8(r),JSON.stringify(n)),!0}catch(n){return console.error("Error saving task data:",n),!1}},Ma=(e,t="noah-smart-fitness-watch")=>{try{return Kp(t)[e]||null}catch(r){return console.error("Error getting task data:",r),null}},Kp=(e="noah-smart-fitness-watch")=>{try{const t=localStorage.getItem(X8(e));if(t)return JSON.parse(t);if(e==="noah-smart-fitness-watch"){const r=localStorage.getItem($J);if(r)return JSON.parse(r)}return{}}catch(t){return console.error("Error getting all task data:",t),{}}},ua=(e,t="noah-smart-fitness-watch")=>{try{const r=fl(t);return r.completedTasks=[...new Set([...r.completedTasks,e])],r.lastUpdated=new Date().toISOString(),localStorage.setItem(J8(t),JSON.stringify(r)),!0}catch(r){return console.error("Error marking task complete:",r),!1}},fl=(e="noah-smart-fitness-watch")=>{try{const t=localStorage.getItem(J8(e));if(t)return JSON.parse(t);if(e==="noah-smart-fitness-watch"){const r=localStorage.getItem(UJ);if(r)return JSON.parse(r)}return{completedTasks:[],startedAt:new Date().toISOString(),lastUpdated:null}}catch(t){return console.error("Error getting progress:",t),{completedTasks:[],startedAt:new Date().toISOString(),lastUpdated:null}}},wk=(e="noah-smart-fitness-watch",t=null)=>{const r=fl(e);return(t||["task1","task2","task3","task4","task5","task6","task7"]).every(i=>r.completedTasks.includes(i))},Wc={task1:{targetMarket:["persona","target","age","demographic","segment","user","customer"],userNeeds:["need","requirement","want","desire","pain","problem","challenge"],competitive:["competitor","competitive","differentiator","advantage","unique","vs","versus"],constraints:["regulatory","hipaa","privacy","battery","price","cost","budget","constraint","limit","regulation"]},task6:{battery:["battery","power","charge","life","endurance"],accuracy:["accuracy","accurate","step","count","sensor","measurement","precise"],retention:["retention","churn","drop","leave","abandon"]}},zJ=e=>Math.round(e/5*100),Hc=(e,t)=>{if(!e)return 0;const r=e.toLowerCase(),n=t.filter(i=>r.includes(i.toLowerCase())).length;return Math.min(n/t.length,1)},B_=e=>{const{targetMarket:t,userNeeds:r,competitiveDiff:n,constraints:i}=e,a=`${t||""} ${r||""} ${n||""} ${i||""}`.toLowerCase(),s=Math.min(Hc(t,Wc.task1.targetMarket)*5,5)+(t&&t.length>50?1:0),o=Math.min(Hc(r,Wc.task1.userNeeds)*5,5)+(r&&r.split(",").length>=3?1:0),l=Math.min(Hc(n,Wc.task1.competitive)*5,5)+(n&&n.length>30?.5:0),u=Math.min(Hc(i||a,Wc.task1.constraints)*5,5),d={targetMarket:Math.min(s,5),userNeeds:Math.min(o,5),competitive:Math.min(l,5),constraints:Math.min(u,5)},f=d.targetMarket*.3+d.userNeeds*.3+d.competitive*.2+d.constraints*.2;return{score:zJ(f),breakdown:d,strengths:_u(d),improvements:ju(d)}},F_=e=>{const{selectedRoles:t,techStack:r}=e;let n=0;const i={},a=t==null?void 0:t.some(b=>b.id==="embedded-eng"),s=t==null?void 0:t.some(b=>b.id==="compliance"),o=t==null?void 0:t.some(b=>b.id==="backend-eng"),l=t==null?void 0:t.some(b=>b.id==="mobile-dev"),u=t==null?void 0:t.some(b=>b.id==="ux-designer"),d=((a?1:0)*.2+(s?1:0)*.2+(o?1:0)*.15+(l?1:0)*.15+(u?1:0)*.15+((t==null?void 0:t.length)>=5?.15:0))*5;i.roleCoverage=d,n+=d*.4;const f=(r==null?void 0:r.backend)&&r.backend.length>0,p=(r==null?void 0:r.database)&&r.database.length>0,h=(r==null?void 0:r.cloud)&&r.cloud.length>0,m=((f?1:0)*.33+(p?1:0)*.33+(h?1:0)*.34)*5;i.stackSuitability=m,n+=m*.3;const y=(e.hiringTimeline&&parseInt(e.hiringTimeline)>0?4:2)+(e.hiringTimeline&&parseInt(e.hiringTimeline)>=8?1:0);i.resourcesTimeline=y,n+=y*.2;const v=e.budget?4:2;return i.costAwareness=v,n+=v*.1,{score:Math.min(Math.round(n),100),breakdown:i,warnings:[!a&&"Warning: Embedded Engineer is essential for IoT device development",!s&&"Warning: Regulatory/Compliance role is critical for healthcare products"].filter(Boolean),strengths:_u(i),improvements:ju(i)}},$_=e=>{const{phases:t}=e;let r=0;const n={},i=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("discovery")||g.name.toLowerCase().includes("ideation")),a=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("development")||g.name.toLowerCase().includes("build")),s=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("test")||g.name.toLowerCase().includes("certification")),o=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("deploy")||g.name.toLowerCase().includes("launch")),l=((i?1:0)*.25+(a?1:0)*.25+(s?1:0)*.25+(o?1:0)*.25)*5;n.completeness=l,r+=l*.35;const u=(t==null?void 0:t.reduce((g,y)=>g+(parseInt(y.duration)||0),0))||0,d=u>=12&&u<=52?5:u>=8&&u<12?3:u>52?2:1;n.durations=d,r+=d*.25;const p=((t==null?void 0:t.some(g=>{var y;return g.name.toLowerCase().includes("mvp")||((y=g.deliverables)==null?void 0:y.toLowerCase().includes("mvp"))}))?3:1)+((t==null?void 0:t.length)>=4?2:1);n.prioritization=p,r+=p*.25;const m=(t==null?void 0:t.some(g=>g.risks&&g.risks.length>0))||e.overallRisks?4:2;return n.riskIdentification=m,r+=m*.15,{score:Math.min(Math.round(r),100),breakdown:n,warnings:[u<12&&"Warning: Timeline seems too short for IoT + app development",!s&&"Warning: Testing/certification phase is critical for healthcare devices"].filter(Boolean),strengths:_u(n),improvements:ju(n)}},U_=e=>{const{explanation:t}=e;let r=0;const n={},i=t&&t.length>50?4:2;n.userFlow=i,r+=i*.3;const s=((t==null?void 0:t.toLowerCase().includes("metric"))||(t==null?void 0:t.toLowerCase().includes("data"))?2:1)+(t&&t.length>100?2:1);n.glanceability=s,r+=s*.25;const l=(t==null?void 0:t.toLowerCase().includes("accessibility"))||(t==null?void 0:t.toLowerCase().includes("font"))||(t==null?void 0:t.toLowerCase().includes("contrast"))?4:2;n.accessibility=l,r+=l*.15;const d=t&&t.length>50?4:1;return n.rationale=d,r+=d*.3,{score:Math.min(Math.round(r),100),breakdown:n,warnings:[!t&&"Warning: Explanation text is required for full credit"].filter(Boolean),strengths:_u(n),improvements:ju(n)}},z_=e=>{const{positioning:t,pricing:r,channels:n,ambassador:i,ambassadorJustification:a}=e;let s=0;const o={},l=t&&t.length>20?4:2;o.positioning=l,s+=l*.3;const u=n&&n.length>0,d=e.kpis&&e.kpis.length>0,f=(u?2:1)+(d?2:1);o.channelsKPIs=f,s+=f*.3;const p=i&&i.id,h=a&&a.length>30,m=(p?2:0)+(h?3:1);o.ambassador=m,s+=m*.25;const g=r?4:2;return o.pricing=g,s+=g*.15,{score:Math.min(Math.round(s),100),breakdown:o,strengths:_u(o),improvements:ju(o)}},q_=e=>{const{insights:t,prioritizedActions:r,customerReplies:n}=e;let i=0;const a={},s=(t==null?void 0:t.toLowerCase())||"",o=Hc(s,Wc.task6.battery)>0,l=Hc(s,Wc.task6.accuracy)>0,u=Hc(s,Wc.task6.retention)>0,d=((o?1:0)*.4+(l?1:0)*.4+(u?.2:0))*5;a.insights=d,i+=d*.4;const f=r&&r.length>=3,p=r==null?void 0:r.some(w=>w.toLowerCase().includes("battery")||w.toLowerCase().includes("firmware")),h=(f?2:1)+(p?3:1);a.prioritization=h,i+=h*.3;const m=n&&n.length>=2,g=(n==null?void 0:n.map(w=>w.length))||[],y=g.length>0?g.reduce((w,x)=>w+x,0)/g.length:0,v=n==null?void 0:n.some(w=>w.toLowerCase().includes("sorry")||w.toLowerCase().includes("apologize")||w.toLowerCase().includes("understand")),b=(m?2:0)+(y>50?2:1)+(v?1:0);return a.communication=b,i+=b*.3,{score:Math.min(Math.round(i),100),breakdown:a,strengths:_u(a),improvements:ju(a)}},W_=e=>{const{pitch:t,consolidatedReport:r}=e;let n=0;const i={},a=(r==null?void 0:r.toLowerCase().includes("kpi"))||(r==null?void 0:r.toLowerCase().includes("metric")),s=(r==null?void 0:r.toLowerCase().includes("roadmap"))||(r==null?void 0:r.toLowerCase().includes("timeline")),o=(r==null?void 0:r.toLowerCase().includes("budget"))||(r==null?void 0:r.toLowerCase().includes("cost")),l=((a?1:0)*.33+(s?1:0)*.33+(o?1:0)*.34)*5;i.synthesis=l,n+=l*.4;const u=(t==null?void 0:t.length)||0,d=(t==null?void 0:t.toLowerCase().includes("invest"))||(t==null?void 0:t.toLowerCase().includes("fund"))||(t==null?void 0:t.toLowerCase().includes("support")),f=(u>100?2:1)+(u>200?2:1)+(d?1:0);i.pitch=f,n+=f*.4;const h=(t==null?void 0:t.toLowerCase().includes("next"))||(r==null?void 0:r.toLowerCase().includes("next"))||(r==null?void 0:r.toLowerCase().includes("action"))?4:2;return i.nextSteps=h,n+=h*.2,{score:Math.min(Math.round(n),100),breakdown:i,strengths:_u(i),improvements:ju(i)}},_u=(e,t)=>{const r=[],n=Object.values(e).reduce((i,a)=>i+a,0)/Object.keys(e).length;return n>=4&&r.push("Strong overall performance across all criteria"),Object.values(e).some(i=>i>=4.5)&&r.push("Excellent performance in key areas"),n>=3.5&&r.push("Good understanding of core concepts"),r.length>0?r:["Completed the task"]},ju=(e,t)=>{const r=[],n=Object.values(e).reduce((i,a)=>i+a,0)/Object.keys(e).length;return n<3&&r.push("Consider providing more detailed responses"),Object.values(e).some(i=>i<2)&&r.push("Some areas need more attention to detail"),n<4&&r.push("Review the example answers for guidance"),r.length>0?r:["Continue practicing"]},Z8=e=>{const t=sH;let r=0,n=0;return Object.keys(t).forEach(i=>{var l;const a=i.replace("task",""),s=((l=e[`task${a}`])==null?void 0:l.score)||0,o=t[i]/100;r+=s*o,n+=o}),Math.round(r/n)},qJ=e=>{const{selectedOption:t,budgetRemaining:r}=e;let n=60;return(t==="B"||t==="D")&&(n+=10),t==="C"&&(n+=15),{score:Math.min(n,100),breakdown:{decision:n*.5,budgetManagement:n*.3,signalQuality:n*.2},strengths:["Made a decision under pressure","Explored initial signals"],improvements:["Consider budget implications for future loops"]}},WJ=e=>{const{selectedOption:t}=e;let r=65;return t==="B"||t==="C"?r+=20:t==="A"&&(r+=10),{score:Math.min(r,100),breakdown:{strategicThinking:r*.4,dataAnalysis:r*.3,budgetManagement:r*.3},strengths:["Chose a strategic follow-up method"],improvements:["Consider which signals complement your first loop"]}},HJ=e=>{const{selectedOption:t}=e;let r=50;return t==="A"?r=95:t==="B"?r=60:t==="C"?r=55:t==="D"&&(r=50),{score:Math.min(r,100),breakdown:{decisionQuality:r*.5,stakeholderAlignment:r*.3,evidenceBased:r*.2},strengths:t==="A"?["Excellent persona choice - aligns with market reality and evidence"]:["Made a decisive choice under pressure"],improvements:t==="A"?["Continue validating this persona"]:["Consider evidence strength and market viability when choosing personas"]}},KJ=e=>{const{selectedOption:t,budgetRemaining:r}=e;let n=70;return t==="C"?n=95:t==="A"?n=85:t==="B"?n=75:t==="D"&&(n=70),r>=5e3&&(n+=5),{score:Math.min(n,100),breakdown:{validationMethod:n*.4,budgetManagement:n*.3,signalStrength:n*.3},strengths:["Completed validation experiment","Delivered results under pressure"],improvements:["Consider conversion signals for strongest validation"]}},Q8=e=>{const t={"Product Sense":0,"Technical Feasibility":0,"Teaming & Planning":0,UX:0,"GTM & Marketing":0,"Data Insights":0,Communication:0},r={...t};return Object.keys(K4).forEach(n=>{var o;const i=n.replace("task",""),a=((o=e[`task${i}`])==null?void 0:o.score)||0,s=K4[n];Object.keys(s).forEach(l=>{const u=s[l];t[l]+=a*u,r[l]+=u})}),Object.keys(t).forEach(n=>{r[n]>0&&(t[n]=Math.round(t[n]/r[n]))}),t},eL=e=>{const{selectedOption:t}=e,n=t==="opt4",i=n?100:0;return{score:i,breakdown:{selection:i},strengths:n?["Correctly identified the headline that matches the brand tone (friendly, modern, reassuring)","Recognized the importance of making saving fun and approachable for Gen Z"]:[],improvements:n?[]:["Consider the target audience (Gen Z) and brand tone (friendly, modern, reassuring)",'The correct answer emphasizes making saving "fun" which aligns with Gen Z values',"Review the brief: goal is to build trust + get signups with a friendly, modern tone"],feedback:n?"Excellent choice! This headline captures the friendly, modern tone while making saving approachable for Gen Z.":"Not quite. Consider which headline best matches a friendly, modern, reassuring tone for Gen Z."}},tL=e=>{const{response:t}=e;if(!t)return{score:0,breakdown:{},strengths:[],improvements:["Please provide an answer"],feedback:"No response provided"};const r=t.toLowerCase();let n=0;const i={};(r.includes("conversion")||r.includes("low conversion"))&&(n+=30,i.conversion=30),(r.includes("churn")||r.includes("high churn"))&&(n+=20,i.churn=20),(r.includes("email")||r.includes("click rate"))&&(n+=10,i.email=10),t.trim().split(/\s+/).filter(Boolean).length>=12&&(n+=10,i.length=10);const s=["optimize","checkout","cart","mobile","drop","funnel"];let o=0;s.forEach(d=>{r.includes(d)&&(o+=5)}),o=Math.min(o,30),n+=o,o>0&&(i.keywords=o),n=Math.min(n,100);const l=[],u=[];return n>=70?(l.push("Identified key conversion and churn issues"),l.push("Demonstrated understanding of campaign metrics")):n>=40?(l.push("Recognized some important metrics"),u.push("Consider investigating conversion rates and churn more deeply")):(u.push("Focus on the most critical problem: low conversion and high churn"),u.push("Consider how email click rates and traffic relate to conversion")),!r.includes("conversion")&&!r.includes("churn")&&u.push("The most critical issues are low conversion and high churn - these should be prioritized"),{score:n,breakdown:i,strengths:l,improvements:u,feedback:n>=70?"Great analysis! You identified the key problems: conversion and churn.":"Good start. Consider focusing on conversion rates and churn as the primary concerns."}},rL=e=>{const{response:t}=e;if(!t)return{score:0,breakdown:{},strengths:[],improvements:["Please provide an answer"],feedback:"No response provided"};const r=t.toLowerCase();let n=0;const i={};(r.includes("auto-categorize")||r.includes("automation")||r.includes("automatic")||r.includes("auto categorize"))&&(n+=30,i.automation=30),r.includes("time")&&(r.includes("save")||r.includes("waste")||r.includes("saving")||r.includes("efficient"))&&(n+=20,i.timeSaving=20),(r.includes("daily")||r.includes("consistent")||r.includes("regular")||r.includes("every day"))&&(n+=10,i.dailyUse=10),(r.includes("effort")||r.includes("easy")||r.includes("simple")||r.includes("convenient"))&&(n+=10,i.effort=10),(r.includes("receipt")||r.includes("manual"))&&(n+=10,i.receipt=10),n+=20,i.base=20,n=Math.min(n,100);const a=[],s=[];return n>=70?(a.push("Correctly identified automation as the key value"),a.push("Understood the time-saving benefit")):n>=40?(a.push("Recognized some customer needs"),s.push("Focus on what the customer explicitly mentioned: auto-categorization")):(s.push("The customer values automation - specifically auto-categorizing receipts"),s.push("Consider the pain point: manual entry is time-consuming")),{score:n,breakdown:i,strengths:a,improvements:s,feedback:n>=70?"Excellent insight! You identified that the customer values automation and time-saving.":"Good attempt. The customer specifically mentioned auto-categorization as the key value."}},nL=e=>{const{selectedOption:t}=e,n=t==="opt1",i=n?100:0;return{score:i,breakdown:{selection:i},strengths:n?["Correctly identified the best keyword for the target audience (parents teaching teens)",'Recognized that "budgeting apps for teens" directly matches the search intent']:[],improvements:n?[]:["Consider the target audience: parents who want to teach teens money skills","The keyword should directly match what parents would search for",'"budgeting apps for teens" is the most specific and relevant keyword for this goal'],feedback:n?"Perfect! This keyword directly targets parents searching for budgeting tools for their teens.":"Not quite. Think about what parents would search for when looking to teach teens about money."}},iL=e=>{const{response:t}=e;if(!t)return{score:0,breakdown:{},strengths:[],improvements:["Please provide a reflection"],feedback:"No response provided"};const r=t.toLowerCase();let n=0;const i={},a=t.trim().split(/\s+/).filter(Boolean).length;a>=30?(n+=30,i.length=30):a>=20?(n+=20,i.length=20):(n+=10,i.length=10),["creative","analyst","marketer","customer","seo","strategist","coordinator","insights"].some(m=>r.includes(m))&&(n+=30,i.roleMention=30),["because","i liked","i enjoy","strength","reason","why","appeal"].some(m=>r.includes(m))&&(n+=20,i.reason=20),["apply","use","practice","implement","work","career"].some(m=>r.includes(m))&&(n+=10,i.application=10),n=Math.min(n,100);const p=[],h=[];return n>=70?(p.push("Well-structured reflection with clear reasoning"),p.push("Demonstrated understanding of different marketing roles")):n>=40?(p.push("Good reflection"),h.push("Consider mentioning which specific role you liked and why"),h.push("Add more detail about how you might apply these skills")):(h.push("Expand your reflection to 3-4 sentences (30+ words)"),h.push("Mention which marketing role you found most interesting"),h.push("Explain why you liked that role and how you might apply the skills")),{score:n,breakdown:i,strengths:p,improvements:h,feedback:n>=70?"Excellent reflection! You clearly articulated your preferences and reasoning.":"Good start. Consider expanding your reflection with more specific details about which role you liked and why."}},VJ=Object.freeze(Object.defineProperty({__proto__:null,calculateFinalScore:Z8,calculateSkillBreakdown:Q8,validateArgoTask1:eL,validateArgoTask2:tL,validateArgoTask3:rL,validateArgoTask4:nL,validateArgoTask5:iL,validatePersonaTask1:qJ,validatePersonaTask2:WJ,validatePersonaTask3:HJ,validatePersonaTask4:KJ,validateTask1:B_,validateTask2:F_,validateTask3:$_,validateTask4:U_,validateTask5:z_,validateTask6:q_,validateTask7:W_},Symbol.toStringTag,{value:"Module"})),_k=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(""),[p,h]=T.useState(""),[m,g]=T.useState(!1),[y,v]=T.useState(!1),[b,w]=T.useState(!1),[x,j]=T.useState(null);T.useEffect(()=>{const P=Ma(n);P&&(o(P.targetMarket||""),u(P.userNeeds||""),f(P.competitiveDiff||""),h(P.constraints||""),g(P.fileUploaded||!1),w(P.submitted||!1))},[n]);const O=P=>{P.target.files[0]&&(g(!0),setTimeout(()=>{alert("File uploaded successfully!")},100))},N=()=>{const P={targetMarket:s,userNeeds:l,competitiveDiff:d,constraints:p,fileUploaded:m};yi(n,{...P,submitted:!0});const C=B_(P);j(C),w(!0),ua(n),r(n),alert("Task 1 completed successfully!")},E={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]};return c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:c.jsxs("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),c.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})]})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Task 1: Ideation & Market Research"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Validate your ability to define target segments, identify user needs, analyze competitors, and understand product constraints for the Smart Fitness Watch."})]})]}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Brand Constraints"})]}),c.jsxs("ul",{className:"text-base text-gray-700 space-y-2 ml-9",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600 font-bold",children:""})," Battery life goal: 5-7 days"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600 font-bold",children:""})," Medical data privacy emphasis (HIPAA considerations)"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600 font-bold",children:""})," Price ceiling: 8,00012,000 or $100150"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600 font-bold",children:""})," Must be comfortable for all-day wear"]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Target Personas"})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:rH.map(P=>c.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-gradient-to-br from-white to-gray-50 hover:shadow-lg transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center text-3xl",children:P.avatar}),c.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:P.name})]}),c.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"Age:"})," ",P.ageRange]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"Goals:"})," ",P.goals]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"Pain Points:"})," ",P.painPoints]})]})]},P.id))})]}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Industry Statistics"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Market Size",value:S0.marketSize},{label:"Growth Rate",value:S0.growthRate},{label:"Avg Price",value:S0.averagePrice},{label:"Battery Expectation",value:S0.batteryExpectation}].map((P,C)=>c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[c.jsx("div",{className:"text-xs text-gray-600 mb-1 uppercase tracking-wide",children:P.label}),c.jsx("div",{className:"font-bold text-gray-900 text-lg",children:P.value})]},C))})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:c.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Top Competitors"})]}),c.jsx("div",{className:"space-y-4",children:nH.map((P,C)=>c.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-5 bg-gradient-to-br from-white to-gray-50 hover:shadow-md transition-all",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:P.name}),c.jsx("span",{className:"text-sm font-semibold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:P.price})]}),c.jsx("ul",{className:"text-sm text-gray-700 space-y-2",children:P.features.map((S,A)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-orange-500 mt-1",children:""}),c.jsx("span",{children:S})]},A))})]},C))})]}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Your Tasks"})]}),c.jsxs("ol",{className:"space-y-3 text-base text-gray-700",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"1."}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-gray-900",children:"Define target market and primary persona"})," (max 150 words)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"2."}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-gray-900",children:"List top 5 user needs"})," and how the watch will serve those needs"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"3."}),c.jsx("span",{children:c.jsx("strong",{className:"text-gray-900",children:"Identify 3 key competitive differentiators"})})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"4."}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-gray-900",children:"Upload optional supporting research"})," or paste market brief below"]})]})]})]}),c.jsxs("div",{className:"space-y-8 mb-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"1"}),"Target Market & Primary Persona (max 150 words)"]}),c.jsx(E0,{theme:"snow",value:s,onChange:o,modules:E,placeholder:"Describe your target market segment and primary persona...",className:"bg-white rounded-lg"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-green-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"2"}),"Top 5 User Needs & How Watch Serves Them"]}),c.jsx(E0,{theme:"snow",value:l,onChange:u,modules:E,placeholder:"List user needs and explain how the watch addresses each...",className:"bg-white rounded-lg"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"3"}),"Key Competitive Differentiators"]}),c.jsx(E0,{theme:"snow",value:d,onChange:f,modules:E,placeholder:"Identify 3 key ways your product will differentiate from competitors...",className:"bg-white rounded-lg"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 border-2 border-orange-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-orange-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"4"}),"Feasibility & Constraints Awareness"]}),c.jsx(E0,{theme:"snow",value:p,onChange:h,modules:E,placeholder:"Discuss regulatory, pricing, technical constraints and how you'll address them...",className:"bg-white rounded-lg"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 border-2 border-gray-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Optional: Upload Market Research Document (PDF/PNG)"]}),c.jsx("input",{type:"file",accept:".pdf,.png,.jpg",onChange:O,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-6 file:rounded-xl file:border-0 file:text-sm file:font-bold file:bg-gradient-to-r file:from-blue-500 file:to-indigo-600 file:text-white hover:file:from-blue-600 hover:file:to-indigo-700 file:shadow-lg file:cursor-pointer"}),m&&c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-green-600 font-semibold bg-green-50 px-4 py-2 rounded-lg",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"File uploaded successfully"]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>v(!y),className:"flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl hover:from-blue-600 hover:to-indigo-700 font-semibold shadow-lg hover:shadow-xl transition-all",children:[c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),y?"Hide":"Show"," Example Answer"]}),y&&c.jsxs("div",{className:"mt-4 p-6 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200 text-base text-gray-700 space-y-3",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"Target Market:"})," Primary persona is the Young Fitness Enthusiast (25-35), tech-savvy professionals who want accurate fitness tracking and health monitoring."]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"User Needs:"})," 1) Accurate step counting, 2) Heart rate monitoring during workouts, 3) Sleep quality tracking, 4) Long battery life, 5) Comfortable all-day wear."]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"Differentiators:"})," 1) Medical-grade sensors at consumer price, 2) HIPAA-compliant data privacy, 3) 7-day battery life vs competitors' 2-3 days."]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-gray-900",children:"Constraints:"})," Must comply with healthcare regulations, maintain price under $150, ensure battery life meets expectations, and prioritize data privacy."]})]})]}),x&&c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),c.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["Task Score: ",c.jsxs("span",{className:"text-green-600",children:[x.score,"/100"]})]})]}),x.strengths.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Strengths:"}),c.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:x.strengths.map((P,C)=>c.jsx("li",{children:P},C))})]}),x.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Areas for Improvement:"}),c.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:x.improvements.map((P,C)=>c.jsx("li",{children:P},C))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-2 border-gray-200",children:[c.jsxs("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:N,disabled:b,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transition-all",children:b?"Completed ":"Submit Task"}),b&&i&&c.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 font-bold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:["Next Task",c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},jk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState([]),[l,u]=T.useState({}),[d,f]=T.useState({backend:"",database:"",mobile:"",embedded:"",cloud:"",analytics:""}),[p,h]=T.useState(""),[m,g]=T.useState(""),[y,v]=T.useState(!1),[b,w]=T.useState(null);T.useEffect(()=>{const N=Ma(n);N&&(o(N.selectedRoles||[]),u(N.roleDetails||{}),f(N.techStack||d),h(N.hiringTimeline||""),g(N.budget||""),v(N.submitted||!1))},[n]);const x=N=>{if(s.find(E=>E.id===N.id)){o(s.filter(P=>P.id!==N.id));const E={...l};delete E[N.id],u(E)}else o([...s,N]),u({...l,[N.id]:{ftePercent:100,experience:"senior",timeline:"",budget:""}})},j=(N,E,P)=>{u({...l,[N]:{...l[N],[E]:P}})},O=()=>{const N={selectedRoles:s,roleDetails:l,techStack:d,hiringTimeline:p,budget:m};yi(n,{...N,submitted:!0});const E=F_(N);w(E),v(!0),ua(n),r(n),alert("Task 2 completed successfully!")};return c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Task 2: Team Composition & Tech Stack"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Specify the team you will form, roles, headcount, and tech stack choices for building the Smart Fitness Watch."})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:c.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Select Team Roles"})]}),c.jsx("div",{className:"flex flex-wrap gap-3",children:iH.map(N=>{const E=s.find(P=>P.id===N.id);return c.jsxs("button",{onClick:()=>x(N),className:`px-5 py-3 rounded-xl border-2 transition-all font-semibold shadow-md hover:shadow-lg ${E?"bg-gradient-to-r from-blue-500 to-indigo-600 border-blue-600 text-white shadow-lg transform scale-105":"bg-white border-gray-200 text-gray-700 hover:border-blue-300 hover:bg-blue-50"} ${N.essential?"ring-2 ring-yellow-400":""}`,children:[N.name," ",N.essential&&c.jsx("span",{className:"text-yellow-300",children:""})]},N.id)})}),c.jsxs("p",{className:"text-sm text-gray-600 mt-3 flex items-center gap-2",children:[c.jsx("span",{className:"text-yellow-500",children:""})," Essential roles"]})]}),s.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Role Details"})]}),c.jsx("div",{className:"space-y-4",children:s.map(N=>{var E,P,C,S;return c.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-gradient-to-br from-white to-gray-50 hover:shadow-lg transition-all",children:[c.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-4",children:N.name}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"FTE %"}),c.jsxs("select",{value:((E=l[N.id])==null?void 0:E.ftePercent)||100,onChange:A=>j(N.id,"ftePercent",parseInt(A.target.value)),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:100,children:"100% (Full-time)"}),c.jsx("option",{value:50,children:"50% (Part-time)"}),c.jsx("option",{value:25,children:"25% (Contractor)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Experience Level"}),c.jsxs("select",{value:((P=l[N.id])==null?void 0:P.experience)||"senior",onChange:A=>j(N.id,"experience",A.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"junior",children:"Junior"}),c.jsx("option",{value:"mid",children:"Mid-level"}),c.jsx("option",{value:"senior",children:"Senior"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Hiring Timeline (weeks)"}),c.jsx("input",{type:"number",value:((C=l[N.id])==null?void 0:C.timeline)||"",onChange:A=>j(N.id,"timeline",A.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., 8"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Budget Allocation (optional)"}),c.jsx("input",{type:"text",value:((S=l[N.id])==null?void 0:S.budget)||"",onChange:A=>j(N.id,"budget",A.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., $80K-$120K"})]})]})]},N.id)})})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Technology Stack"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Backend Language"}),c.jsxs("select",{value:d.backend,onChange:N=>f({...d,backend:N.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"",children:"Select..."}),Xu.backend.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Database"}),c.jsxs("select",{value:d.database,onChange:N=>f({...d,database:N.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"",children:"Select..."}),Xu.database.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Mobile Stack"}),c.jsxs("select",{value:d.mobile,onChange:N=>f({...d,mobile:N.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"",children:"Select..."}),Xu.mobile.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Embedded Platform"}),c.jsxs("select",{value:d.embedded,onChange:N=>f({...d,embedded:N.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"",children:"Select..."}),Xu.embedded.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Cloud Provider"}),c.jsxs("select",{value:d.cloud,onChange:N=>f({...d,cloud:N.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"",children:"Select..."}),Xu.cloud.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Analytics Tools"}),c.jsxs("select",{value:d.analytics,onChange:N=>f({...d,analytics:N.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[c.jsx("option",{value:"",children:"Select..."}),Xu.analytics.map(N=>c.jsx("option",{value:N,children:N},N))]})]})]})]}),c.jsxs("div",{className:"mb-8 space-y-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Estimated Hiring Timeline (weeks)"}),c.jsx("input",{type:"number",value:p,onChange:N=>h(N.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., 12"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Approximate Budget Band (optional)"}),c.jsx("input",{type:"text",value:m,onChange:N=>g(N.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., $500K-$800K"})]})]}),b&&c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),c.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["Task Score: ",c.jsxs("span",{className:"text-green-600",children:[b.score,"/100"]})]})]}),b.warnings&&b.warnings.length>0&&c.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border-2 border-yellow-300 rounded-xl",children:b.warnings.map((N,E)=>c.jsxs("p",{className:"text-base text-yellow-800 font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.725-1.36 3.49 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),N]},E))}),b.strengths.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Strengths:"}),c.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:b.strengths.map((N,E)=>c.jsx("li",{children:N},E))})]}),b.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Areas for Improvement:"}),c.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:b.improvements.map((N,E)=>c.jsx("li",{children:N},E))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-2 border-gray-200",children:[c.jsxs("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:O,disabled:y,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transition-all",children:y?"Completed ":"Submit Task"}),y&&i&&c.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 font-bold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:["Next Task",c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},GJ=[{id:1,name:"Ideation & Discovery",duration:4,deliverables:"",acceptanceCriteria:"",risks:"",color:"#3b82f6"},{id:2,name:"Development (MVP)",duration:16,deliverables:"",acceptanceCriteria:"",risks:"",color:"#10b981"},{id:3,name:"Testing & Certification",duration:8,deliverables:"",acceptanceCriteria:"",risks:"",color:"#f59e0b"},{id:4,name:"Deployment & Monitoring",duration:4,deliverables:"",acceptanceCriteria:"",risks:"",color:"#ef4444"},{id:5,name:"Marketing & Launch",duration:6,deliverables:"",acceptanceCriteria:"",risks:"",color:"#8b5cf6"}],Nk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(GJ),[l,u]=T.useState(""),[d,f]=T.useState(!1),[p,h]=T.useState(null),[m,g]=T.useState(new Set([1,2,3,4,5])),[y,v]=T.useState("timeline"),b=T.useRef(null),w=T.useRef(null);T.useEffect(()=>{const A=Ma(n);A&&A.phases&&(o(A.phases),u(A.overallRisks||""),f(A.submitted||!1),A.expandedPhases&&g(new Set(A.expandedPhases)))},[n]),T.useEffect(()=>(b.current&&!w.current&&!d&&y==="list"&&(w.current=new mt(b.current,{animation:200,handle:".drag-handle",ghostClass:"opacity-50",chosenClass:"ring-2 ring-blue-500",onEnd:A=>{const I=[...s],[D]=I.splice(A.oldIndex,1);I.splice(A.newIndex,0,D),o(I)}})),()=>{w.current&&(w.current.destroy(),w.current=null)}),[s,d,y]);const x=(A,I,D)=>{const U=s.map(J=>J.id===A?{...J,[I]:D}:J);o(U),yi(n,{phases:U,overallRisks:l,expandedPhases:Array.from(m)})},j=(A,I)=>{const D=parseInt(I)||0,U=s.map(J=>J.id===A?{...J,duration:Math.max(0,D)}:J);o(U),yi(n,{phases:U,overallRisks:l,expandedPhases:Array.from(m)})},O=A=>{const I=new Set(m);I.has(A)?I.delete(A):I.add(A),g(I),yi(n,{phases:s,overallRisks:l,expandedPhases:Array.from(I)})},N=()=>{let A=0;return s.map(I=>{const D=A;return A+=I.duration||0,{...I,startWeek:D,endWeek:A}})},E=()=>{const A={phases:s,overallRisks:l};yi(n,{...A,submitted:!0,expandedPhases:Array.from(m)});const I=$_(A);h(I),f(!0),ua(n),r(n)},P=s.reduce((A,I)=>A+(I.duration||0),0),C=N(),S=Math.max(P,40);return c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Task 3: Roadmap & Phases"}),c.jsx("p",{className:"text-gray-700",children:"Break down the work into phases, estimate timelines, and define deliverables and acceptance criteria."})]}),c.jsxs("div",{className:"mb-6 flex gap-4 items-center",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"View:"}),c.jsx("button",{onClick:()=>v("timeline"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${y==="timeline"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Timeline View"}),c.jsx("button",{onClick:()=>v("list"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${y==="list"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" List View"})]}),c.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Total Timeline"}),c.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:[P," weeks (",Math.round(P/4.33)," months)"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mt-3 shadow-inner",children:c.jsx("div",{className:"bg-gradient-to-r from-primary to-accent h-6 rounded-full transition-all duration-500 shadow-lg",style:{width:`${Math.min(P/52*100,100)}%`}})}),P<12&&c.jsx("p",{className:"text-sm text-yellow-700 mt-3 font-semibold",children:" Warning: Timeline seems short for IoT + app development"}),P>52&&c.jsx("p",{className:"text-sm text-orange-700 mt-3 font-semibold",children:" Consider breaking into smaller phases or reducing scope"})]}),y==="timeline"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Visual Timeline (Gantt Chart)"}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200 overflow-x-auto",children:[c.jsx("div",{className:"mb-4 flex gap-1",children:Array.from({length:Math.min(S,52)},(A,I)=>c.jsx("div",{className:"flex-1 text-center",children:I%4===0&&c.jsxs("div",{className:"text-xs text-gray-600 font-semibold border-t-2 border-gray-300 pt-1",children:["W",I]})},I))}),c.jsx("div",{className:"space-y-3",children:C.map((A,I)=>{const D=A.duration/S*100,U=A.startWeek/S*100;return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:A.color}}),c.jsx("span",{className:"font-semibold text-gray-900 min-w-[200px]",children:A.name}),c.jsxs("span",{className:"text-sm text-gray-600",children:[A.duration," weeks"]})]}),c.jsx("div",{className:"relative h-12 bg-gray-200 rounded-lg overflow-hidden",children:c.jsx("div",{className:"absolute h-full rounded-lg shadow-md transition-all duration-300 flex items-center justify-center text-white font-semibold text-sm",style:{left:`${U}%`,width:`${D}%`,backgroundColor:A.color,minWidth:"60px"},children:A.duration>2&&`${A.duration}w`})})]},A.id)})})]}),c.jsx("div",{className:"mt-6 space-y-4",children:s.map(A=>c.jsxs("div",{className:"border-2 rounded-xl overflow-hidden transition-all",style:{borderColor:m.has(A.id)?A.color:"#e5e7eb"},children:[c.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>O(A.id),style:{backgroundColor:m.has(A.id)?`${A.color}10`:"white"},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:A.color}}),c.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:A.name})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration:"}),c.jsx("input",{type:"range",min:"0",max:"24",value:A.duration,onChange:I=>j(A.id,I.target.value),className:"w-32"}),c.jsx("input",{type:"number",min:"0",max:"24",value:A.duration,onChange:I=>j(A.id,I.target.value),className:"w-16 px-2 py-1 border-2 border-gray-300 rounded-lg font-semibold"}),c.jsx("span",{className:"text-sm text-gray-600",children:"weeks"})]}),c.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:m.has(A.id)?"":""})]})]})}),m.has(A.id)&&c.jsx("div",{className:"p-6 bg-white border-t-2",style:{borderColor:A.color},children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Primary Deliverables"}),c.jsx("textarea",{value:A.deliverables,onChange:I=>x(A.id,"deliverables",I.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"e.g., MVP hardware prototype, mobile app v1.0, regulatory approval..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Acceptance Criteria"}),c.jsx("textarea",{value:A.acceptanceCriteria,onChange:I=>x(A.id,"acceptanceCriteria",I.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"e.g., Battery life  5 days, step accuracy within 5%, FDA approval received..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Key Risks & Mitigations (optional)"}),c.jsx("textarea",{value:A.risks,onChange:I=>x(A.id,"risks",I.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"e.g., Supply chain delays - mitigate with multiple suppliers..."})]})]})})]},A.id))})]}),y==="list"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[" ",c.jsx("strong",{children:"Tip:"})," Drag phases by the handle () to reorder them. Adjust durations with the sliders."]})}),c.jsx("div",{ref:b,className:"space-y-4",children:s.map((A,I)=>c.jsxs("div",{className:"border-2 rounded-xl p-5 bg-white hover:shadow-lg transition-all",style:{borderColor:A.color},children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"drag-handle cursor-move text-gray-400 hover:text-gray-600 text-2xl",children:""}),c.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:A.color}}),c.jsx("h3",{className:"flex-1 font-bold text-gray-900 text-lg",children:A.name}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration:"}),c.jsx("input",{type:"range",min:"0",max:"24",value:A.duration,onChange:D=>j(A.id,D.target.value),className:"w-32"}),c.jsx("input",{type:"number",min:"0",max:"24",value:A.duration,onChange:D=>j(A.id,D.target.value),className:"w-16 px-2 py-1 border-2 border-gray-300 rounded-lg font-semibold"}),c.jsx("span",{className:"text-sm text-gray-600",children:"weeks"})]}),c.jsx("button",{onClick:()=>O(A.id),className:"text-gray-500 hover:text-gray-700 px-3",children:m.has(A.id)?"":""})]}),m.has(A.id)&&c.jsxs("div",{className:"mt-4 pt-4 border-t-2 space-y-4",style:{borderColor:A.color},children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Primary Deliverables"}),c.jsx("textarea",{value:A.deliverables,onChange:D=>x(A.id,"deliverables",D.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"e.g., MVP hardware prototype, mobile app v1.0, regulatory approval..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Acceptance Criteria"}),c.jsx("textarea",{value:A.acceptanceCriteria,onChange:D=>x(A.id,"acceptanceCriteria",D.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"e.g., Battery life  5 days, step accuracy within 5%, FDA approval received..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Key Risks & Mitigations (optional)"}),c.jsx("textarea",{value:A.risks,onChange:D=>x(A.id,"risks",D.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"e.g., Supply chain delays - mitigate with multiple suppliers..."})]})]})]},A.id))})]}),c.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl border-2 border-yellow-200",children:[c.jsx("label",{className:"block text-base font-bold text-gray-900 mb-3",children:" Overall Project Risks & Mitigation Strategy"}),c.jsx("textarea",{value:l,onChange:A=>{u(A.target.value),yi(n,{phases:s,overallRisks:A.target.value,expandedPhases:Array.from(m)})},className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",rows:"4",placeholder:"Identify key risks across the project and how you'll mitigate them..."})]}),p&&c.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",p.score,"/100"]}),p.warnings&&p.warnings.length>0&&c.jsx("div",{className:"mb-2",children:p.warnings.map((A,I)=>c.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",A]},I))}),p.strengths.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((A,I)=>c.jsx("li",{children:A},I))})]}),p.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((A,I)=>c.jsx("li",{children:A},I))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:E,disabled:d,className:"px-8 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Task"}),d&&i&&c.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Next Task "})]})]})]})})},YJ=({onDrawingChange:e,initialDrawing:t=null})=>{const r=T.useRef(null),n=T.useRef(null),[i,a]=T.useState(!1),[s,o]=T.useState("pen"),[l,u]=T.useState("#000000"),[d,f]=T.useState(3),[p,h]=T.useState(null);T.useEffect(()=>{const j=r.current;if(!j)return;const O=j.getContext("2d");if(j.width=j.offsetWidth,j.height=600,O.strokeStyle=l,O.lineWidth=d,O.lineCap="round",O.lineJoin="round",t){const N=new Image;N.onload=()=>{O.clearRect(0,0,j.width,j.height),O.drawImage(N,0,0)},N.src=t}},[t]),T.useEffect(()=>{const j=r.current;if(!j)return;const O=j.getContext("2d");O.strokeStyle=l,O.lineWidth=d},[l,d]);const m=j=>{const N=r.current.getBoundingClientRect(),E=j.clientX!==void 0?j.clientX:j.touches&&j.touches[0]?j.touches[0].clientX:0,P=j.clientY!==void 0?j.clientY:j.touches&&j.touches[0]?j.touches[0].clientY:0;return{x:E-N.left,y:P-N.top}},g=j=>{j.preventDefault(),a(!0);const N=r.current.getContext("2d"),{x:E,y:P}=m(j);N.beginPath(),N.moveTo(E,P)},y=j=>{if(!i)return;j.preventDefault();const N=r.current.getContext("2d"),{x:E,y:P}=m(j);s==="eraser"?(N.globalCompositeOperation="destination-out",N.lineWidth=d*2):(N.globalCompositeOperation="source-over",N.lineWidth=d,N.strokeStyle=l),N.lineTo(E,P),N.stroke(),n.current||(n.current=setTimeout(()=>{b(),n.current=null},500))},v=j=>{j&&j.preventDefault(),i&&(a(!1),n.current&&(clearTimeout(n.current),n.current=null),b())},b=async()=>{const j=r.current;if(j)try{const O=j.toDataURL("image/png");h(O),e&&e(O)}catch(O){console.error("Error saving drawing:",O)}},w=()=>{const j=r.current;if(!j)return;j.getContext("2d").clearRect(0,0,j.width,j.height),h(null),e&&e(null)},x=async()=>{const j=r.current;if(j)try{return j.toDataURL("image/png")}catch(O){return console.error("Error exporting image:",O),null}};return Sg.useImperativeHandle(Sg.forwardRef(()=>null),()=>({exportAsImage:x})),c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Tool:"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>o("pen"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${s==="pen"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Pen"}),c.jsx("button",{onClick:()=>o("eraser"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${s==="eraser"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Eraser"}),c.jsx("button",{onClick:w,className:"px-4 py-2 rounded-lg font-semibold text-sm bg-white text-red-600 border-2 border-red-300 hover:bg-red-50 transition-all",children:" Clear"})]})]}),s==="pen"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Color:"}),c.jsx("input",{type:"color",value:l,onChange:j=>u(j.target.value),className:"w-12 h-10 rounded-lg border-2 border-gray-300 cursor-pointer"}),c.jsx("div",{className:"flex gap-1",children:["#000000","#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"].map(j=>c.jsx("button",{onClick:()=>u(j),className:`w-8 h-8 rounded-lg border-2 ${l===j?"border-gray-900 scale-110":"border-gray-300"}`,style:{backgroundColor:j},title:j},j))})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Size:"}),c.jsx("input",{type:"range",min:"1",max:"10",value:d,onChange:j=>f(parseInt(j.target.value)),className:"w-24"}),c.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[d,"px"]})]})]})}),c.jsx("div",{className:"border-4 border-gray-300 rounded-xl bg-white shadow-inner overflow-hidden",children:c.jsx("canvas",{ref:r,onMouseDown:g,onMouseMove:y,onMouseUp:v,onMouseLeave:v,onTouchStart:g,onTouchMove:y,onTouchEnd:v,className:"w-full cursor-crosshair",style:{height:"600px",touchAction:"none"}})}),p&&c.jsx("p",{className:"mt-2 text-sm text-green-600 font-medium",children:" Drawing saved"})]})},Sk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,simulation:s,taskData:o})=>{const[l,u]=T.useState("draw"),[d,f]=T.useState(!1),[p,h]=T.useState(null),[m,g]=T.useState(null),[y,v]=T.useState(""),[b,w]=T.useState(!1),[x,j]=T.useState(null);T.useEffect(()=>{const P=Ma(n);P&&(u(P.inputMethod||"draw"),f(P.fileUploaded||!1),h(P.uploadedFile||null),g(P.drawingData||null),v(P.explanation||""),w(P.submitted||!1))},[n]);const O=async P=>{const C=P.target.files[0];if(C){const S=new FileReader;S.onloadend=()=>{const A=S.result;h(A),f(!0),g(null)},S.readAsDataURL(C)}},N=P=>{g(P),P&&(f(!1),h(null))},E=()=>{if(!m&&!d){alert("Please either draw a wireframe or upload a file before submitting.");return}const P={inputMethod:l,fileUploaded:d,uploadedFile:p,drawingData:m,explanation:y,hasWireframe:!!(m||d)};yi(n,{...P,submitted:!0});const C=U_(P);j(C),w(!0),ua(n),r(n)};return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task 4: Low-fidelity Wireframe / UX Sketch"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"Sketch 3 key screens for the Smart Fitness Watch app: onboarding, home summary, and activity detail."}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Design Requirements"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Onboarding screen:"})," Welcome flow, permissions setup, initial configuration"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Home summary:"})," Daily metrics overview, key stats at a glance"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Activity detail:"})," Detailed view of steps, heart rate, sleep data"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Design Tips"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsx("li",{children:" Show key metrics prominently on each screen"}),c.jsx("li",{children:" Consider accessibility (font sizes, color contrast)"}),c.jsx("li",{children:" Design for glanceability - users should see info quickly"}),c.jsx("li",{children:" Think about edge cases (empty states, error messages)"})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[c.jsx("label",{className:"block text-base font-bold text-gray-900 mb-4",children:"Choose Input Method"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>u("draw"),className:`flex-1 px-6 py-4 rounded-xl font-semibold transition-all ${l==="draw"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg transform scale-105":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Draw on Whiteboard"}),c.jsx("button",{onClick:()=>u("upload"),className:`flex-1 px-6 py-4 rounded-xl font-semibold transition-all ${l==="upload"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg transform scale-105":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Upload File"})]})]}),l==="draw"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-base font-bold text-gray-900 mb-4",children:"Draw Your Wireframe"}),c.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200",children:c.jsx(YJ,{onDrawingChange:N,initialDrawing:m})}),m&&c.jsx("p",{className:"mt-2 text-sm text-green-600 font-medium",children:" Drawing saved automatically"}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Draw your wireframe directly on the canvas above. Your drawing is saved automatically."})]}),l==="upload"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-base font-bold text-gray-900 mb-2",children:"Upload Wireframe/Sketch (PNG, JPG, or PDF)"}),c.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.pdf",onChange:O,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-6 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-primary file:to-accent file:text-white hover:file:opacity-90 transition-all"}),d&&p&&c.jsxs("div",{className:"mt-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[c.jsx("p",{className:"text-sm text-green-700 font-semibold mb-2",children:" File uploaded successfully"}),c.jsx("img",{src:p,alt:"Uploaded wireframe",className:"max-w-full h-auto rounded-lg border-2 border-gray-200",style:{maxHeight:"300px"}})]}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"You can sketch on paper and take a photo, use a design tool, or create a simple wireframe."})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Explanation of Design Choices (50-150 words)"}),c.jsx("textarea",{value:y,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"6",placeholder:"Explain your design rationale: Why did you prioritize certain information? How does the layout support user needs? What accessibility considerations did you make?..."}),c.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[y.length," characters"]})]}),x&&c.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",x.score,"/100"]}),x.warnings&&x.warnings.length>0&&c.jsx("div",{className:"mb-2",children:x.warnings.map((P,C)=>c.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",P]},C))}),x.strengths.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:x.strengths.map((P,C)=>c.jsx("li",{children:P},C))})]}),x.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:x.improvements.map((P,C)=>c.jsx("li",{children:P},C))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:E,disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Completed ":"Submit Task"}),b&&i&&c.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Next Task "})]})]})]})})},kk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(""),[p,h]=T.useState(""),[m,g]=T.useState(null),[y,v]=T.useState(""),[b,w]=T.useState(!1),[x,j]=T.useState(!1),[O,N]=T.useState(null);T.useEffect(()=>{const C=Ma(n);C&&(o(C.positioning||""),u(C.pricing||""),f(C.channels||""),h(C.kpis||""),g(C.selectedAmbassador||null),v(C.ambassadorJustification||""),w(C.fileUploaded||!1),j(C.submitted||!1))},[n]);const E=C=>{C.target.files[0]&&(w(!0),setTimeout(()=>{alert("Creative uploaded successfully!")},100))},P=()=>{const C={positioning:s,pricing:l,channels:d,kpis:p,ambassador:m,ambassadorJustification:y,fileUploaded:b};yi(n,{...C,submitted:!0});const S=z_(C);N(S),j(!0),ua(n),r(n),alert("Task 5 completed successfully!")};return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task 5: Go-To-Market Strategy & Partnerships"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"Craft your marketing positioning, select distribution channels, choose an ambassador, and define pricing strategy."}),c.jsxs("div",{className:"space-y-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Positioning Statement (1 sentence)"}),c.jsx("input",{type:"text",value:s,onChange:C=>o(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., 'Noah Smart Watch: Medical-grade health monitoring at consumer prices, designed for active lifestyles.'"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Pricing Model"}),c.jsxs("select",{value:l,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{value:"",children:"Select pricing model..."}),c.jsx("option",{value:"one-time",children:"One-time purchase ($100-$150)"}),c.jsx("option",{value:"subscription",children:"Subscription + device ($50 device + $10/month)"}),c.jsx("option",{value:"care-plan",children:"Care plan bundle ($120/year includes device + premium features)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Distribution Channels"}),c.jsx("textarea",{value:d,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",placeholder:"e.g., Direct-to-consumer (website), Pharmacies, Retail partnerships (Best Buy, Target), Healthcare provider partnerships..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Launch Channels & KPIs"}),c.jsx("textarea",{value:p,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",placeholder:"e.g., Social media campaigns, influencer partnerships, PR launch event. KPIs: 10K pre-orders in first month, 4.5+ app store rating, 30% conversion rate..."})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Select Brand Ambassador"}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:aH.map(C=>c.jsxs("div",{onClick:()=>g(C),className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${(m==null?void 0:m.id)===C.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:C.name}),c.jsx("p",{className:"text-sm text-gray-600",children:C.type})]}),c.jsx("span",{className:"text-xs text-gray-500",children:C.cost})]}),c.jsx("p",{className:"text-sm text-gray-700 mb-2",children:C.profile}),c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Reach:"})," ",C.reach]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Fit:"})," ",C.fit]})]})]},C.id))}),m&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Justify Your Ambassador Choice (30-80 words)"}),c.jsx("textarea",{value:y,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",placeholder:"Explain why this ambassador aligns with your target persona and budget..."})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Optional: Upload One-Liner Creative / Tagline"}),c.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.pdf",onChange:E,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),b&&c.jsx("p",{className:"mt-2 text-sm text-green-600",children:" File uploaded successfully"})]}),O&&c.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",O.score,"/100"]}),O.strengths.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:O.strengths.map((C,S)=>c.jsx("li",{children:C},S))})]}),O.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:O.improvements.map((C,S)=>c.jsx("li",{children:C},S))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:P,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Completed ":"Submit Task"}),x&&i&&c.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Next Task "})]})]})]})})};function aL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=aL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=aL(e))&&(n&&(n+=" "),n+=t);return n}var XJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function H_(e){if(typeof e!="string")return!1;var t=XJ;return t.includes(e)}var JJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function sL(e){if(typeof e!="string")return!1;var t=JJ;return t.includes(e)}function oL(e){return typeof e=="string"&&e.startsWith("data-")}function da(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sL(n)||oL(n)});return Object.fromEntries(t)}function lu(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return da(t)}return typeof e=="object"&&!Array.isArray(e)?da(e):null}function _i(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sL(n)||oL(n)||H_(n)});return Object.fromEntries(t)}function ZJ(e){return e==null?null:T.isValidElement(e)?_i(e.props):typeof e=="object"&&!Array.isArray(e)?_i(e):null}var QJ=["children","width","height","viewBox","className","style","title","desc"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function eZ(e,t){if(e==null)return{};var r,n,i=tZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lL=T.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=eZ(e,QJ),f=a||{width:n,height:i,x:0,y:0},p=zt("recharts-surface",s);return T.createElement("svg",gw({},_i(d),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),T.createElement("title",null,l),T.createElement("desc",null,u),r)}),rZ=["children","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(null,arguments)}function nZ(e,t){if(e==null)return{};var r,n,i=iZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tn=T.forwardRef((e,t)=>{var{children:r,className:n}=e,i=nZ(e,rZ),a=zt("recharts-layer",n);return T.createElement("g",vw({className:a},_i(i),{ref:t}),r)}),aZ=T.createContext(null);function ar(e){return function(){return e}}const cL=Math.cos,fv=Math.sin,hs=Math.sqrt,hv=Math.PI,Ly=2*hv,yw=Math.PI,bw=2*yw,Tc=1e-6,sZ=bw-Tc;function uL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oZ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uL;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class lZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uL:oZ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,d=s-t,f=o-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Tc)if(!(Math.abs(f*l-u*d)>Tc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,m=i-o,g=l*l+u*u,y=h*h+m*m,v=Math.sqrt(g),b=Math.sqrt(p),w=a*Math.tan((yw-Math.acos((g+p-y)/(2*v*b)))/2),x=w/b,j=w/v;Math.abs(x-1)>Tc&&this._append`L${t+x*d},${r+x*f}`,this._append`A${a},${a},0,0,${+(f*h>d*m)},${this._x1=t+j*l},${this._y1=r+j*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,d=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Tc||Math.abs(this._y1-d)>Tc)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%bw+bw),p>sZ?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Tc&&this._append`A${n},${n},0,${+(p>=yw)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function K_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lZ(t)}function V_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dL(e){this._context=e}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iy(e){return new dL(e)}function fL(e){return e[0]}function hL(e){return e[1]}function pL(e,t){var r=ar(!0),n=null,i=Iy,a=null,s=K_(o);e=typeof e=="function"?e:e===void 0?fL:ar(e),t=typeof t=="function"?t:t===void 0?hL:ar(t);function o(l){var u,d=(l=V_(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,u,l),+t(f,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ar(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ar(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function O0(e,t,r){var n=null,i=ar(!0),a=null,s=Iy,o=null,l=K_(u);e=typeof e=="function"?e:e===void 0?fL:ar(+e),t=typeof t=="function"?t:ar(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?hL:ar(+r);function u(f){var p,h,m,g=(f=V_(f)).length,y,v=!1,b,w=new Array(g),x=new Array(g);for(a==null&&(o=s(b=l())),p=0;p<=g;++p){if(!(p<g&&i(y=f[p],p,f))===v)if(v=!v)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=p-1;m>=h;--m)o.point(w[m],x[m]);o.lineEnd(),o.areaEnd()}v&&(w[p]=+e(y,p,f),x[p]=+t(y,p,f),o.point(n?+n(y,p,f):w[p],r?+r(y,p,f):x[p]))}if(b)return o=null,b+""||null}function d(){return pL().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ar(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class mL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cZ(e){return new mL(e,!0)}function uZ(e){return new mL(e,!1)}const G_={draw(e,t){const r=hs(t/hv);e.moveTo(r,0),e.arc(0,0,r,0,Ly)}},dZ={draw(e,t){const r=hs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gL=hs(1/3),fZ=gL*2,hZ={draw(e,t){const r=hs(t/fZ),n=r*gL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},pZ={draw(e,t){const r=hs(t),n=-r/2;e.rect(n,n,r,r)}},mZ=.8908130915292852,vL=fv(hv/10)/fv(7*hv/10),gZ=fv(Ly/10)*vL,vZ=-cL(Ly/10)*vL,yZ={draw(e,t){const r=hs(t*mZ),n=gZ*r,i=vZ*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Ly*a/5,o=cL(s),l=fv(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},sx=hs(3),bZ={draw(e,t){const r=-hs(t/(sx*3));e.moveTo(0,r*2),e.lineTo(-sx*r,-r),e.lineTo(sx*r,-r),e.closePath()}},Na=-.5,Sa=hs(3)/2,xw=1/hs(12),xZ=(xw/2+1)*3,wZ={draw(e,t){const r=hs(t/xZ),n=r/2,i=r*xw,a=n,s=r*xw+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Na*n-Sa*i,Sa*n+Na*i),e.lineTo(Na*a-Sa*s,Sa*a+Na*s),e.lineTo(Na*o-Sa*l,Sa*o+Na*l),e.lineTo(Na*n+Sa*i,Na*i-Sa*n),e.lineTo(Na*a+Sa*s,Na*s-Sa*a),e.lineTo(Na*o+Sa*l,Na*l-Sa*o),e.closePath()}};function _Z(e,t){let r=null,n=K_(i);e=typeof e=="function"?e:ar(e||G_),t=typeof t=="function"?t:ar(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ar(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ar(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function pv(){}function mv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yL(e){this._context=e}yL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jZ(e){return new yL(e)}function bL(e){this._context=e}bL.prototype={areaStart:pv,areaEnd:pv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NZ(e){return new bL(e)}function xL(e){this._context=e}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SZ(e){return new xL(e)}function wL(e){this._context=e}wL.prototype={areaStart:pv,areaEnd:pv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function kZ(e){return new wL(e)}function Ak(e){return e<0?-1:1}function Ek(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(Ak(a)+Ak(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Ok(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ox(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function gv(e){this._context=e}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ox(this,this._t0,Ok(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ox(this,Ok(this,r=Ek(this,e,t)),r);break;default:ox(this,this._t0,r=Ek(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _L(e){this._context=new jL(e)}(_L.prototype=Object.create(gv.prototype)).point=function(e,t){gv.prototype.point.call(this,t,e)};function jL(e){this._context=e}jL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function AZ(e){return new gv(e)}function EZ(e){return new _L(e)}function NL(e){this._context=e}NL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Pk(e),i=Pk(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pk(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function OZ(e){return new NL(e)}function Ry(e,t){this._context=e,this._t=t}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function PZ(e){return new Ry(e,.5)}function CZ(e){return new Ry(e,0)}function TZ(e){return new Ry(e,1)}function Yd(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ww(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function LZ(e,t){return e[t]}function IZ(e){const t=[];return t.key=e,t}function RZ(){var e=ar([]),t=ww,r=Yd,n=LZ;function i(a){var s=Array.from(e.apply(this,arguments),IZ),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=V_(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ar(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ar(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ww:typeof a=="function"?a:ar(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Yd,i):r},i}function MZ(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Yd(e,t)}}function DZ(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Yd(e,t)}}function BZ(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,m=0;m<o;++m){var g=e[t[m]],y=g[n][1]||0,v=g[n-1][1]||0;h+=y-v}l+=f,u+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Yd(e,t)}}var My={},SL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(SL);var Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Y_);var Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Dy);var By={},kL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(kL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kL,r=Dy;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(By);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SL,r=Y_,n=Dy,i=By;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(My);var FZ=My.get;const cu=$s(FZ);var Pn=e=>e===0?0:e>0?1:-1,ds=e=>typeof e=="number"&&e!=+e,So=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!ds(e),Ds=e=>tt(e)||typeof e=="string",$Z=0,wp=e=>{var t=++$Z;return"".concat(e||"").concat(t)},ai=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var a;if(So(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return ds(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},AL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function vr(e,t,r){return tt(e)&&tt(t)?e+r*(t-e):t}function EL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):cu(n,t))===r)}var wr=e=>e===null||typeof e>"u",Vp=e=>wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function UZ(e){return e!=null}function Nu(){}var zZ=["type","size","sizeType"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(null,arguments)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KZ(e,t){if(e==null)return{};var r,n,i=VZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OL={symbolCircle:G_,symbolCross:dZ,symbolDiamond:hZ,symbolSquare:pZ,symbolStar:yZ,symbolTriangle:bZ,symbolWye:wZ},GZ=Math.PI/180,YZ=e=>{var t="symbol".concat(Vp(e));return OL[t]||G_},XZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*GZ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JZ=(e,t)=>{OL["symbol".concat(Vp(e))]=t},PL=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=KZ(e,zZ),a=Tk(Tk({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=YZ(s),h=_Z().type(p).size(XZ(r,n,s)),m=h();if(m!==null)return m},{className:l,cx:u,cy:d}=a,f=_i(a);return tt(u)&&tt(d)&&tt(r)?T.createElement("path",_w({},f,{className:zt("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};PL.registerSymbol=JZ;var CL=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,X_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{H_(i)&&(n[i]=a=>r[i](r,a))}),n},ZZ=(e,t,r)=>n=>(e(t,r,n),null),Fy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];H_(i)&&typeof a=="function"&&(n||(n={}),n[i]=ZZ(a,t,r))}),n};function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t){var r=QZ({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}var TL={},LL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(LL);var J_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(J_);var IL={},$y={},RL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(RL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RL;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})($y);var ML={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ML);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=ML;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(IL);var DL={},BL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My;function r(n){return function(i){return t.get(i,n)}}e.property=r})(BL);var FL={},Z_={},$L={},Q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Q_);var ej={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ej);var tj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(tj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_,r=ej,n=tj;function i(d,f,p){return typeof p!="function"?i(d,f,()=>{}):a(d,f,function h(m,g,y,v,b,w){const x=p(m,g,y,v,b,w);return x!==void 0?!!x:a(m,g,h,w)},new Map)}function a(d,f,p,h){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,p,h);case"function":return Object.keys(f).length>0?a(d,{...f},p,h):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,p,h){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,h);if(f instanceof Map)return o(d,f,p,h);if(f instanceof Set)return u(d,f,p,h);const m=Object.keys(f);if(d==null)return m.length===0;if(m.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let g=0;g<m.length;g++){const y=m[g];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!p(d[y],f[y],y,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function o(d,f,p,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[m,g]of f.entries()){const y=d.get(m);if(p(y,g,m,d,f,h)===!1)return!1}return!0}function l(d,f,p,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const m=new Set;for(let g=0;g<f.length;g++){const y=f[g];let v=!1;for(let b=0;b<d.length;b++){if(m.has(b))continue;const w=d[b];let x=!1;if(p(w,y,g,d,f,h)&&(x=!0),x){m.add(b),v=!0;break}}if(!v)return!1}return!0}function u(d,f,p,h){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,h):!1}e.isMatchWith=i,e.isSetMatch=u})($L);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Z_);var UL={},rj={},zL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(zL);var nj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(nj);var ij={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",x="[object BigUint64Array]",j="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",E="[object BigInt64Array]",P="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=x,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=P,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=N,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(ij);var qL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(qL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zL,r=nj,n=ij,i=ej,a=qL;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,p,h=new Map,m=void 0){const g=m==null?void 0:m(d,f,p,h);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const y=new Array(d.length);h.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,p,h,m);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;h.set(d,y);for(const[v,b]of d)y.set(v,o(b,v,p,h,m));return y}if(d instanceof Set){const y=new Set;h.set(d,y);for(const v of d)y.add(o(v,void 0,p,h,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,p,h,m);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,y),l(y,d,p,h,m),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return h.set(d,y),l(y,d,p,h,m),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return h.set(d,y),l(y,d,p,h,m),y}if(d instanceof Error){const y=new d.constructor;return h.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,p,h,m),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return h.set(d,y),l(y,d,p,h,m),y}if(d instanceof Number){const y=new Number(d.valueOf());return h.set(d,y),l(y,d,p,h,m),y}if(d instanceof String){const y=new String(d.valueOf());return h.set(d,y),l(y,d,p,h,m),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return h.set(d,y),l(y,d,p,h,m),y}return d}function l(d,f,p=d,h,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=o(f[v],v,p,h,m))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(rj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rj;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(UL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z_,r=UL;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(FL);var WL={},HL={},KL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rj,r=ij;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const d=a==null?void 0:a(s,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(KL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(HL);var VL={},aj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(aj);var GL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(GL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_,r=aj,n=GL,i=By;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(VL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z_,r=Dy,n=HL,i=My,a=VL;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(WL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_,r=BL,n=FL,i=WL;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(DL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LL,r=J_,n=IL,i=DL;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(TL);var nQ=TL.uniqBy;const Ik=$s(nQ);function iQ(e,t,r){return t===!0?Ik(e,r):typeof t=="function"?Ik(e,t):e}var YL={exports:{}},XL={},JL={exports:{}},ZL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd=T;function aQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sQ=typeof Object.is=="function"?Object.is:aQ,oQ=Xd.useState,lQ=Xd.useEffect,cQ=Xd.useLayoutEffect,uQ=Xd.useDebugValue;function dQ(e,t){var r=t(),n=oQ({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return cQ(function(){i.value=r,i.getSnapshot=t,lx(i)&&a({inst:i})},[e,r,t]),lQ(function(){return lx(i)&&a({inst:i}),e(function(){lx(i)&&a({inst:i})})},[e]),uQ(r),r}function lx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sQ(e,r)}catch{return!0}}function fQ(e,t){return t()}var hQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fQ:dQ;ZL.useSyncExternalStore=Xd.useSyncExternalStore!==void 0?Xd.useSyncExternalStore:hQ;JL.exports=ZL;var pQ=JL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=T,mQ=pQ;function gQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vQ=typeof Object.is=="function"?Object.is:gQ,yQ=mQ.useSyncExternalStore,bQ=Uy.useRef,xQ=Uy.useEffect,wQ=Uy.useMemo,_Q=Uy.useDebugValue;XL.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=bQ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=wQ(function(){function l(h){if(!u){if(u=!0,d=h,h=n(h),i!==void 0&&s.hasValue){var m=s.value;if(i(m,h))return f=m}return f=h}if(m=f,vQ(d,h))return m;var g=n(h);return i!==void 0&&i(m,g)?(d=h,m):(d=h,f=g)}var u=!1,d,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=yQ(e,a[0],a[1]);return xQ(function(){s.hasValue=!0,s.value=o},[o]),_Q(o),o};YL.exports=XL;var jQ=YL.exports,sj=T.createContext(null),NQ=e=>e,_r=()=>{var e=T.useContext(sj);return e?e.store.dispatch:NQ},gg=()=>{},SQ=()=>gg,kQ=(e,t)=>e===t;function rt(e){var t=T.useContext(sj);return jQ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SQ,t?t.store.getState:gg,t?t.store.getState:gg,t?e:gg,kQ)}function AQ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function EQ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function OQ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Rk=e=>Array.isArray(e)?e:[e];function PQ(e){const t=Array.isArray(e[0])?e[0]:e;return OQ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function CQ(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var TQ=class{constructor(e){this.value=e}deref(){return this.value}},LQ=typeof WeakRef<"u"?WeakRef:TQ,IQ=0,Mk=1;function P0(){return{s:IQ,v:void 0,o:null,p:null}}function QL(e,t={}){let r=P0();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,h=l;p<h;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(m);y===void 0?(o=P0(),g.set(m,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(m);y===void 0?(o=P0(),g.set(m,o)):o=y}}const u=o;let d;if(o.s===Mk)d=o.v;else if(d=e.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new LQ(d):d}return u.s=Mk,u.v=d,d}return s.clearCache=()=>{r=P0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function RQ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),AQ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:h=QL,argsMemoizeOptions:m=[]}=d,g=Rk(p),y=Rk(m),v=PQ(i),b=f(function(){return a++,u.apply(null,arguments)},...g),w=h(function(){s++;const j=CQ(v,arguments);return o=b.apply(null,j),o},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Se=RQ(QL),MQ=Object.assign((e,t=Se)=>{EQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>MQ}),e7={},t7={},r7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(r7);var n7={},oj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(oj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oj,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(n7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r7,r=n7,n=By;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const u=(h,m)=>{let g=h;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},d=(h,m)=>m==null||h==null?m:typeof h=="object"&&"key"in h?Object.hasOwn(m,h.key)?m[h.key]:u(m,h.path):typeof h=="function"?h(m):Array.isArray(h)?u(m,h):typeof m=="object"?m[h]:m,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(m=>d(m,h))})).slice().sort((h,m)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(h.criteria[g],m.criteria[g],o[g]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=i})(t7);var i7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(r,0),i}e.flatten=t})(i7);var lj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aj,r=$y,n=Q_,i=tj;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(lj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t7,r=i7,n=lj;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(e7);var DQ=e7.sortBy;const zy=$s(DQ);var a7=e=>e.legend.settings,BQ=e=>e.legend.size,FQ=e=>e.legend.payload;Se([FQ,a7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?zy(n,r):n});var C0=1;function $Q(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>C0||Math.abs(s.left-t.left)>C0||Math.abs(s.top-t.top)>C0||Math.abs(s.width-t.width)>C0)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function zn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var UQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dk=UQ,cx=()=>Math.random().toString(36).substring(7).split("").join("."),zQ={INIT:`@@redux/INIT${cx()}`,REPLACE:`@@redux/REPLACE${cx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cx()}`},vv=zQ;function cj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function s7(e,t,r){if(typeof e!="function")throw new Error(zn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zn(1));return r(s7)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((y,v)=>{s.set(v,y)}))}function d(){if(l)throw new Error(zn(3));return i}function f(y){if(typeof y!="function")throw new Error(zn(4));if(l)throw new Error(zn(5));let v=!0;u();const b=o++;return s.set(b,y),function(){if(v){if(l)throw new Error(zn(6));v=!1,u(),s.delete(b),a=null}}}function p(y){if(!cj(y))throw new Error(zn(7));if(typeof y.type>"u")throw new Error(zn(8));if(typeof y.type!="string")throw new Error(zn(17));if(l)throw new Error(zn(9));try{l=!0,i=n(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(zn(10));n=y,p({type:vv.REPLACE})}function m(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(zn(11));function b(){const x=v;x.next&&x.next(d())}return b(),{unsubscribe:y(b)}},[Dk](){return this}}}return p({type:vv.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:h,[Dk]:m}}function qQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vv.INIT})>"u")throw new Error(zn(12));if(typeof r(void 0,{type:vv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zn(13))})}function o7(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{qQ(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],p=r[f],h=s[f],m=p(h,o);if(typeof m>"u")throw o&&o.type,new Error(zn(14));u[f]=m,l=l||m!==h}return l=l||n.length!==Object.keys(s).length,l?u:s}}function yv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function WQ(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(zn(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=yv(...o)(i.dispatch),{...i,dispatch:a}}}function l7(e){return cj(e)&&"type"in e&&typeof e.type=="string"}var c7=Symbol.for("immer-nothing"),Bk=Symbol.for("immer-draftable"),fa=Symbol.for("immer-state");function ss(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _p=Object.getPrototypeOf;function uu(e){return!!e&&!!e[fa]}function ko(e){var t;return e?u7(e)||Array.isArray(e)||!!e[Bk]||!!((t=e.constructor)!=null&&t[Bk])||Gp(e)||Wy(e):!1}var HQ=Object.prototype.constructor.toString(),Fk=new WeakMap;function u7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Fk.get(r);return n===void 0&&(n=Function.toString.call(r),Fk.set(r,n)),n===HQ}function bv(e,t,r=!0){qy(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function qy(e){const t=e[fa];return t?t.type_:Array.isArray(e)?1:Gp(e)?2:Wy(e)?3:0}function jw(e,t){return qy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d7(e,t,r){const n=qy(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function KQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gp(e){return e instanceof Map}function Wy(e){return e instanceof Set}function Lc(e){return e.copy_||e.base_}function Nw(e,t){if(Gp(e))return new Map(e);if(Wy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=u7(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fa];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(_p(e),n)}else{const n=_p(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function uj(e,t=!1){return Hy(e)||uu(e)||!ko(e)||(qy(e)>1&&Object.defineProperties(e,{set:T0,add:T0,clear:T0,delete:T0}),Object.freeze(e),t&&Object.values(e).forEach(r=>uj(r,!0))),e}function VQ(){ss(2)}var T0={value:VQ};function Hy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var GQ={};function du(e){const t=GQ[e];return t||ss(0,e),t}var jp;function f7(){return jp}function YQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $k(e,t){t&&(du("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sw(e){kw(e),e.drafts_.forEach(XQ),e.drafts_=null}function kw(e){e===jp&&(jp=e.parent_)}function Uk(e){return jp=YQ(jp,e)}function XQ(e){const t=e[fa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fa].modified_&&(Sw(t),ss(4)),ko(e)&&(e=xv(t,e),t.parent_||wv(t,e)),t.patches_&&du("Patches").generateReplacementPatches_(r[fa].base_,e,t.patches_,t.inversePatches_)):e=xv(t,r,[]),Sw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c7?e:void 0}function xv(e,t,r){if(Hy(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[fa];if(!i)return bv(t,(a,s)=>qk(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return wv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),bv(s,(l,u)=>qk(e,i,a,l,u,r,o),n),wv(e,a,!1),r&&e.patches_&&du("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function qk(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Hy(i);if(!(o&&!s)){if(uu(i)){const l=a&&t&&t.type_!==3&&!jw(t.assigned_,n)?a.concat(n):void 0,u=xv(e,i,l);if(d7(r,n,u),uu(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(ko(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;xv(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Gp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&wv(e,i)}}}function wv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uj(t,r)}function JQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:f7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=dj;r&&(i=[n],a=Np);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var dj={get(e,t){if(t===fa)return e;const r=Lc(e);if(!jw(r,t))return ZQ(e,r,t);const n=r[t];return e.finalized_||!ko(n)?n:n===ux(e.base_,t)?(dx(e),e.copy_[t]=Ew(n,e)):n},has(e,t){return t in Lc(e)},ownKeys(e){return Reflect.ownKeys(Lc(e))},set(e,t,r){const n=h7(Lc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ux(Lc(e),t),a=i==null?void 0:i[fa];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(KQ(r,i)&&(r!==void 0||jw(e.base_,t)))return!0;dx(e),Aw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ux(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dx(e),Aw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Lc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ss(11)},getPrototypeOf(e){return _p(e.base_)},setPrototypeOf(){ss(12)}},Np={};bv(dj,(e,t)=>{Np[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Np.deleteProperty=function(e,t){return Np.set.call(this,e,t,void 0)};Np.set=function(e,t,r){return dj.set.call(this,e[0],t,r,e[0])};function ux(e,t){const r=e[fa];return(r?Lc(r):e)[t]}function ZQ(e,t,r){var i;const n=h7(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function h7(e,t){if(!(t in e))return;let r=_p(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_p(r)}}function Aw(e){e.modified_||(e.modified_=!0,e.parent_&&Aw(e.parent_))}function dx(e){e.copy_||(e.copy_=Nw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&ss(6),n!==void 0&&typeof n!="function"&&ss(7);let i;if(ko(t)){const a=Uk(this),s=Ew(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Sw(a):kw(a)}return $k(a,n),zk(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===c7&&(i=void 0),this.autoFreeze_&&uj(i,!0),n){const a=[],s=[];du("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else ss(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ko(e)||ss(8),uu(e)&&(e=yo(e));const t=Uk(this),r=Ew(e,void 0);return r[fa].isManual_=!0,kw(t),r}finishDraft(e,t){const r=e&&e[fa];(!r||!r.isManual_)&&ss(9);const{scope_:n}=r;return $k(n,t),zk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=du("Patches").applyPatches_;return uu(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Ew(e,t){const r=Gp(e)?du("MapSet").proxyMap_(e,t):Wy(e)?du("MapSet").proxySet_(e,t):JQ(e,t);return(t?t.scope_:f7()).drafts_.push(r),r}function yo(e){return uu(e)||ss(10,e),p7(e)}function p7(e){if(!ko(e)||Hy(e))return e;const t=e[fa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Nw(e,!0);return bv(r,(i,a)=>{d7(r,i,p7(a))},n),t&&(t.finalized_=!1),r}var Ow=new QQ,m7=Ow.produce,eee=Ow.setUseStrictIteration.bind(Ow);function g7(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var tee=g7(),ree=g7,nee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yv:yv.apply(null,arguments)};function Da(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(la(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>l7(n)&&n.type===e,r}var v7=class Ch extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ch.prototype)}static get[Symbol.species](){return Ch}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ch(...t[0].concat(this)):new Ch(...t.concat(this))}};function Wk(e){return ko(e)?m7(e,()=>{}):e}function L0(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function iee(e){return typeof e=="boolean"}var aee=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new v7;return r&&(iee(r)?s.push(tee):s.push(ree(r.extraArgument))),s},y7="RTK_autoBatch",xn=()=>e=>({payload:e,meta:{[y7]:!0}}),Hk=e=>t=>{setTimeout(t,e)},b7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Hk(10):e.type==="callback"?e.queueNotification:Hk(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),p=n.subscribe(f);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[y7]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(d)}finally{i=!0}}})},see=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new v7(e);return n&&i.push(b7(typeof n=="object"?n:void 0)),i};function oee(e){const t=aee(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(cj(r))o=o7(r);else throw new Error(la(1));let l;typeof n=="function"?l=n(t):l=t();let u=yv;i&&(u=nee({trace:!1,...typeof i=="object"&&i}));const d=WQ(...l),f=see(d);let p=typeof s=="function"?s(f):f();const h=u(...p);return s7(o,a,h)}function x7(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(la(28));if(o in t)throw new Error(la(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}eee(!1);function lee(e){return typeof e=="function"}function cee(e,t){let[r,n,i]=x7(t),a;if(lee(e))a=()=>Wk(e());else{const o=Wk(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(uu(d)){const h=f(d,l);return h===void 0?d:h}else{if(ko(d))return m7(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return s.getInitialState=a,s}var uee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dee=(e=21)=>{let t="",r=e;for(;r--;)t+=uee[Math.random()*64|0];return t},fee=Symbol.for("rtk-slice-createasyncthunk");function hee(e,t){return`${e}/${t}`}function pee({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[fee];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(la(11));const o=(typeof i.reducers=="function"?i.reducers(gee()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(x,j){const O=typeof x=="string"?x:x.type;if(!O)throw new Error(la(12));if(O in u.sliceCaseReducersByType)throw new Error(la(13));return u.sliceCaseReducersByType[O]=j,d},addMatcher(x,j){return u.sliceMatchers.push({matcher:x,reducer:j}),d},exposeAction(x,j){return u.actionCreators[x]=j,d},exposeCaseReducer(x,j){return u.sliceCaseReducersByName[x]=j,d}};l.forEach(x=>{const j=o[x],O={reducerName:x,type:hee(a,x),createNotation:typeof i.reducers=="function"};yee(j)?xee(O,j,d,t):vee(O,j,d)});function f(){const[x={},j=[],O=void 0]=typeof i.extraReducers=="function"?x7(i.extraReducers):[i.extraReducers],N={...x,...u.sliceCaseReducersByType};return cee(i.initialState,E=>{for(let P in N)E.addCase(P,N[P]);for(let P of u.sliceMatchers)E.addMatcher(P.matcher,P.reducer);for(let P of j)E.addMatcher(P.matcher,P.reducer);O&&E.addDefaultCase(O)})}const p=x=>x,h=new Map,m=new WeakMap;let g;function y(x,j){return g||(g=f()),g(x,j)}function v(){return g||(g=f()),g.getInitialState()}function b(x,j=!1){function O(E){let P=E[x];return typeof P>"u"&&j&&(P=L0(m,O,v)),P}function N(E=p){const P=L0(h,j,()=>new WeakMap);return L0(P,E,()=>{const C={};for(const[S,A]of Object.entries(i.selectors??{}))C[S]=mee(A,E,()=>L0(m,E,v),j);return C})}return{reducerPath:x,getSelectors:N,get selectors(){return N(O)},selectSlice:O}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(x,{reducerPath:j,...O}={}){const N=j??s;return x.inject({reducerPath:N,reducer:y},O),{...w,...b(N,!0)}}};return w}}function mee(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Di=pee();function gee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function vee({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!bee(n))throw new Error(la(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Da(e,s):Da(e))}function yee(e){return e._reducerDefinitionType==="asyncThunk"}function bee(e){return e._reducerDefinitionType==="reducerWithPrepare"}function xee({type:e,reducerName:t},r,n,i){if(!i)throw new Error(la(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||I0,pending:o||I0,rejected:l||I0,settled:u||I0})}function I0(){}var wee="task",w7="listener",_7="completed",fj="cancelled",_ee=`task-${fj}`,jee=`task-${_7}`,Pw=`${w7}-${fj}`,Nee=`${w7}-${_7}`,Ky=class{constructor(e){Ut(this,"name","TaskAbortError");Ut(this,"message");this.code=e,this.message=`${wee} ${fj} (reason: ${e})`}},hj=(e,t)=>{if(typeof e!="function")throw new TypeError(la(32))},_v=()=>{},j7=(e,t=_v)=>(e.catch(t),e),N7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Zc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qc=e=>{if(e.aborted){const{reason:t}=e;throw new Ky(t)}};function S7(e,t){let r=_v;return new Promise((n,i)=>{const a=()=>i(new Ky(e.reason));if(e.aborted){a();return}r=N7(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=_v})}var See=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ky?"cancelled":"rejected",error:r}}finally{t==null||t()}},jv=e=>t=>j7(S7(e,t).then(r=>(Qc(e),r))),k7=e=>{const t=jv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Td}=Object,Kk={},Vy="listenerMiddleware",kee=(e,t)=>{const r=n=>N7(e,()=>Zc(n,e.reason));return(n,i)=>{hj(n);const a=new AbortController;r(a);const s=See(async()=>{Qc(e),Qc(a.signal);const o=await n({pause:jv(a.signal),delay:k7(a.signal),signal:a.signal});return Qc(a.signal),o},()=>Zc(a,jee));return i!=null&&i.autoJoin&&t.push(s.catch(_v)),{result:jv(e)(s),cancel(){Zc(a,_ee)}}}},Aee=(e,t)=>{const r=async(n,i)=>{Qc(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await S7(t,Promise.race(o));return Qc(t),l}finally{a()}};return(n,i)=>j7(r(n,i))},A7=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Da(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(la(21));return hj(a),{predicate:i,type:t,effect:a}},E7=Td(e=>{const{type:t,predicate:r,effect:n}=A7(e);return{id:dee(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(la(22))}}},{withTypes:()=>E7}),Vk=(e,t)=>{const{type:r,effect:n,predicate:i}=A7(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Cw=e=>{e.pending.forEach(t=>{Zc(t,Pw)})},Eee=(e,t)=>()=>{for(const r of t.keys())Cw(r);e.clear()},Gk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},O7=Td(Da(`${Vy}/add`),{withTypes:()=>O7}),Oee=Da(`${Vy}/removeAll`),P7=Td(Da(`${Vy}/remove`),{withTypes:()=>P7}),Pee=(...e)=>{console.error(`${Vy}/error`,...e)},Yp=(e={})=>{const t=new Map,r=new Map,n=h=>{const m=r.get(h)??0;r.set(h,m+1)},i=h=>{const m=r.get(h)??1;m===1?r.delete(h):r.set(h,m-1)},{extra:a,onError:s=Pee}=e;hj(s);const o=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),m=>{h.unsubscribe(),m!=null&&m.cancelActive&&Cw(h)}),l=h=>{const m=Vk(t,h)??E7(h);return o(m)};Td(l,{withTypes:()=>l});const u=h=>{const m=Vk(t,h);return m&&(m.unsubscribe(),h.cancelActive&&Cw(m)),!!m};Td(u,{withTypes:()=>u});const d=async(h,m,g,y)=>{const v=new AbortController,b=Aee(l,v.signal),w=[];try{h.pending.add(v),n(h),await Promise.resolve(h.effect(m,Td({},g,{getOriginalState:y,condition:(x,j)=>b(x,j).then(Boolean),take:b,delay:k7(v.signal),pause:jv(v.signal),extra:a,signal:v.signal,fork:kee(v.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((x,j,O)=>{x!==v&&(Zc(x,Pw),O.delete(x))})},cancel:()=>{Zc(v,Pw),h.pending.delete(v)},throwIfCancelled:()=>{Qc(v.signal)}})))}catch(x){x instanceof Ky||Gk(s,x,{raisedBy:"effect"})}finally{await Promise.all(w),Zc(v,Nee),i(h),h.pending.delete(v)}},f=Eee(t,r);return{middleware:h=>m=>g=>{if(!l7(g))return m(g);if(O7.match(g))return l(g.payload);if(Oee.match(g)){f();return}if(P7.match(g))return u(g.payload);let y=h.getState();const v=()=>{if(y===Kk)throw new Error(la(23));return y};let b;try{if(b=m(g),t.size>0){const w=h.getState(),x=Array.from(t.values());for(const j of x){let O=!1;try{O=j.predicate(g,w,y)}catch(N){O=!1,Gk(s,N,{raisedBy:"predicate"})}O&&d(j,g,h,v)}}}finally{y=Kk}return b},startListening:l,stopListening:u,clearListeners:f}};function la(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Cee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},C7=Di({name:"chartLayout",initialState:Cee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Tee,setLayout:Lee,setChartSize:Iee,setScale:Ree}=C7.actions,Mee=C7.reducer;function T7(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){Dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t,r){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,r){return wr(e)||wr(t)?r:Ds(t)?cu(e,t,r):typeof t=="function"?t(e):r}var $ee=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&tt(e[a]))return wd(wd({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&tt(e[s]))return wd(wd({},e),{},{[s]:e[s]+(i||0)})}return e},Vl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",L7=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},I7=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:h}=e;if(!s)return null;var m=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=h==="angleAxis"&&a&&a.length>=2?Pn(a[0]-a[1])*2*g:g,f||p){var y=(f||p||[]).map((v,b)=>{var w=n?n.indexOf(v):v;return{coordinate:s(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!ds(v.coordinate))}return l&&u?u.map((v,b)=>({coordinate:s(v)+g,value:v,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((v,b)=>({coordinate:s(v)+g,value:v,offset:g,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+g,value:n?n[v]:v,index:b,offset:g}))},Xk=1e-4,Uee=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Xk,a=Math.max(n[0],n[1])+Xk,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},zee=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(i[0]=r),(!tt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},qee=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=ds(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},Wee=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=ds(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Hee={sign:qee,expand:MZ,none:Yd,silhouette:DZ,wiggle:BZ,positive:Wee},Kee=(e,t,r)=>{var n=Hee[r],i=RZ().keys(t).value((a,s)=>Number(or(a,s,0))).order(ww).offset(n);return i(e)};function Vee(e){return e==null?void 0:String(e)}function Jk(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wr(i[t.dataKey])){var o=EL(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=or(i,wr(s)?t.dataKey:s);return wr(l)?null:t.scale(l)}var Zk=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=or(a,t.dataKey,t.scale.domain()[s]);return wr(o)?null:t.scale(o)-i/2+n},Gee=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Yee=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Xee=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Jee=(e,t,r)=>{if(e!=null)return Xee(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var d=T7(u,t,r),f=Yee(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=zy(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function t6(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return wd(wd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function yf(e,t){if(e)return String(e);if(typeof t=="string")return t}var Zee=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Qee=(e,t)=>t==="centric"?e.angle:e.radius,Mo=e=>e.layout.width,Do=e=>e.layout.height,ete=e=>e.layout.scale,R7=e=>e.layout.margin,Gy=Se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yy=Se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),M7="data-recharts-item-index",D7="data-recharts-item-data-key",Xp=60;function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ite=e=>e.brush.height;function ate(e){var t=Yy(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xp;return r+i}return r},0)}function ste(e){var t=Yy(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xp;return r+i}return r},0)}function ote(e){var t=Gy(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function lte(e){var t=Gy(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _n=Se([Mo,Do,R7,ite,ate,ste,ote,lte,a7,BQ],(e,t,r,n,i,a,s,o,l,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=R0(R0({},f),d),h=p.bottom;p.bottom+=n,p=$ee(p,l,u);var m=e-p.left-p.right,g=t-p.top-p.bottom;return R0(R0({brushBottom:h},p),{},{width:Math.max(m,0),height:Math.max(g,0)})}),cte=Se(_n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),pj=Se(Mo,Do,(e,t)=>({x:0,y:0,width:e,height:t})),ute=T.createContext(null),oi=()=>T.useContext(ute)!=null,Xy=e=>e.brush,Jy=Se([Xy,_n,R7],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:tt(e.width)?e.width:t.width})),B7={},F7={},$7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),g()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},m=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{m(),s=void 0,o=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=p==null;h(),l&&w&&d()};return v.schedule=h,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})($7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$7;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...g){d=n.apply(this,g),f=null},i,{edges:u}),h=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,g),d)},m=()=>(p.flush(),d);return h.cancel=p.cancel,h.flush=m,h}e.debounce=r})(F7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(B7);var dte=B7.throttle;const fte=$s(dte);var Nv=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},U7=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=So(n)?e:Number(n),l=So(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},hte={width:0,height:0,overflow:"visible"},pte={width:0,overflowX:"visible"},mte={height:0,overflowY:"visible"},gte={},vte=e=>{var{width:t,height:r}=e,n=So(t),i=So(r);return n&&i?hte:n?pte:i?mte:gte};function yte(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Xr(e){return Number.isFinite(e)}function Bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=xte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7=T.createContext({width:-1,height:-1});function _te(e){return Bs(e.width)&&Bs(e.height)}function q7(e){var{children:t,width:r,height:n}=e,i=T.useMemo(()=>({width:r,height:n}),[r,n]);return _te(i)?T.createElement(z7.Provider,{value:i},t):null}var mj=()=>T.useContext(z7),jte=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:h,style:m={}}=e,g=T.useRef(null),y=T.useRef();y.current=h,T.useImperativeHandle(t,()=>g.current);var[v,b]=T.useState({containerWidth:n.width,containerHeight:n.height}),w=T.useCallback((E,P)=>{b(C=>{var S=Math.round(E),A=Math.round(P);return C.containerWidth===S&&C.containerHeight===A?C:{containerWidth:S,containerHeight:A}})},[]);T.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Nu;var E=A=>{var I,{width:D,height:U}=A[0].contentRect;w(D,U),(I=y.current)===null||I===void 0||I.call(y,D,U)};d>0&&(E=fte(E,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(E),{width:C,height:S}=g.current.getBoundingClientRect();return w(C,S),P.observe(g.current),()=>{P.disconnect()}},[w,d]);var{containerWidth:x,containerHeight:j}=v;Nv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:N}=U7(x,j,{width:i,height:a,aspect:r,maxHeight:l});return Nv(O!=null&&O>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,N,i,a,s,o,r),T.createElement("div",{id:f?"".concat(f):void 0,className:zt("recharts-responsive-container",p),style:i6(i6({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},T.createElement("div",{style:vte({width:i,height:a})},T.createElement(q7,{width:O,height:N},u)))}),Lw=T.forwardRef((e,t)=>{var r=mj();if(Bs(r.width)&&Bs(r.height))return e.children;var{width:n,height:i}=yte({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=U7(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(a)&&tt(s)?T.createElement(q7,{width:a,height:s},e.children):T.createElement(jte,Tw({},e,{width:n,height:i,ref:t}))});function W7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Zy=()=>{var e,t=oi(),r=rt(cte),n=rt(Jy),i=(e=rt(Xy))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Nte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},H7=()=>{var e;return(e=rt(_n))!==null&&e!==void 0?e:Nte},K7=()=>rt(Mo),V7=()=>rt(Do),Rt=e=>e.layout.layoutType,Jp=()=>rt(Rt),Ste=()=>{var e=Jp();return e!==void 0},Qy=e=>{var t=_r(),r=oi(),{width:n,height:i}=e,a=mj(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),T.useEffect(()=>{!r&&Bs(s)&&Bs(o)&&t(Iee({width:s,height:o}))},[t,r,s,o]),null},kte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},G7=Di({name:"legend",initialState:kte,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xn()},removeLegendPayload:{reducer(e,t){var r=yo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:xn()}}}),{setLegendSize:qye,setLegendSettings:Wye,addLegendPayload:Y7,removeLegendPayload:X7}=G7.actions,Ate=G7.reducer;function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(null,arguments)}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(n){Ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ete(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cte(e){return Array.isArray(e)&&Ds(e[0])&&Ds(e[1])?e.join(" ~ "):e}var Tte=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,h=()=>{if(a&&a.length){var j={padding:0,margin:0},O=(o?zy(a,o):a).map((N,E)=>{if(N.type==="none")return null;var P=N.formatter||s||Cte,{value:C,name:S}=N,A=C,I=S;if(P){var D=P(C,S,N,E,a);if(Array.isArray(D))[A,I]=D;else if(D!=null)A=D;else return null}var U=fx({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:U},Ds(I)?T.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Ds(I)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},A),T.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},m=fx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=fx({margin:0},i),y=!wr(d),v=y?d:"",b=zt("recharts-default-tooltip",l),w=zt("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var x=p?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Iw({className:b,style:m},x),T.createElement("p",{className:w,style:g},T.isValidElement(v)?v:"".concat(v)),h())},hh="recharts-tooltip-wrapper",Lte={visibility:"hidden"};function Ite(e){var{coordinate:t,translateX:r,translateY:n}=e;return zt(hh,{["".concat(hh,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(hh,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(hh,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(hh,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function s6(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&tt(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var p=l[n];if(p==null)return 0;if(s[n]){var h=d,m=p;return h<m?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var g=f+o,y=p+u;return g>y?Math.max(d,p):Math.max(f,p)}function Rte(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Mte(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=s6({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=s6({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Rte({translateX:d,translateY:f,useTranslate3d:o})):u=Lte,{cssProperties:u,cssClasses:Ite({translateX:d,translateY:f,coordinate:r})}}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){Rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rw(e,t,r){return(t=Dte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dte(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fte extends T.PureComponent{constructor(){super(...arguments),Rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Rw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=Mte({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:h}),x=v?{}:M0(M0({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=M0(M0({},x),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:y},a)}}var $te=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gl={devToolsEnabled:!1,isSsr:$te()},J7=()=>{var e;return(e=rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(null,arguments)}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u6={curveBasisClosed:NZ,curveBasisOpen:SZ,curveBasis:jZ,curveBumpX:cZ,curveBumpY:uZ,curveLinearClosed:kZ,curveLinear:Iy,curveMonotoneX:AZ,curveMonotoneY:EZ,curveNatural:OZ,curveStep:PZ,curveStepAfter:TZ,curveStepBefore:CZ},Sv=e=>Xr(e.x)&&Xr(e.y),d6=e=>e.base!=null&&Sv(e.base)&&Sv(e),ph=e=>e.x,mh=e=>e.y,Wte=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Vp(e));return(r==="curveMonotone"||r==="curveBump")&&t?u6["".concat(r).concat(t==="vertical"?"Y":"X")]:u6[r]||Iy},Hte=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=Wte(t,i),o=a?r.filter(Sv):r,l;if(Array.isArray(n)){var u=r.map((h,m)=>c6(c6({},h),{},{base:n[m]}));i==="vertical"?l=O0().y(mh).x1(ph).x0(h=>h.base.x):l=O0().x(ph).y1(mh).y0(h=>h.base.y);var d=l.defined(d6).curve(s),f=a?u.filter(d6):u;return d(f)}i==="vertical"&&tt(n)?l=O0().y(mh).x1(ph).x0(n):tt(n)?l=O0().x(ph).y1(mh).y0(n):l=pL().x(ph).y(mh);var p=l.defined(Sv).curve(s);return p(o)},gj=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Hte(e):n;return T.createElement("path",Mw({},da(e),X_(e),{className:zt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Kte=["x","y","top","left","width","height","className"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(null,arguments)}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(n){Gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gte(e,t,r){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=Xte(e,"string");return typeof t=="symbol"?t:t+""}function Xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jte(e,t){if(e==null)return{};var r,n,i=Zte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qte=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),ere=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Jte(e,Kte),u=Vte({x:t,y:r,top:n,left:i,width:a,height:s},l);return!tt(t)||!tt(r)||!tt(a)||!tt(s)||!tt(n)||!tt(i)?null:T.createElement("path",Dw({},_i(u),{className:zt("recharts-cross",o),d:Qte(t,r,a,s,n,i)}))};function tre(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function h6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(r),!0).forEach(function(n){rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rre(e,t,r){return(t=nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var are=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Z7=(e,t,r)=>e.map(n=>"".concat(are(n)," ").concat(t,"ms ").concat(r)).join(","),sre=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Sp=(e,t)=>Object.keys(t).reduce((r,n)=>p6(p6({},r),{},{[n]:e(n,t[n])}),{});function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return(t=lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv=(e,t,r)=>e+(t-e)*r,Bw=e=>{var{from:t,to:r}=e;return t!==r},Q7=(e,t,r)=>{var n=Sp((i,a)=>{if(Bw(a)){var[s,o]=e(a.from,a.to,a.velocity);return bn(bn({},a),{},{from:s,velocity:o})}return a},t);return r<1?Sp((i,a)=>Bw(a)?bn(bn({},a),{},{velocity:kv(a.velocity,n[i].velocity,r),from:kv(a.from,n[i].from,r)}):a,t):Q7(e,n,r-1)};function ure(e,t,r,n,i,a){var s,o=n.reduce((p,h)=>bn(bn({},p),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Sp((p,h)=>h.from,o),u=()=>!Object.values(o).filter(Bw).length,d=null,f=p=>{s||(s=p);var h=p-s,m=h/r.dt;o=Q7(r,o,m),i(bn(bn(bn({},e),t),l())),s=p,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function dre(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>bn(bn({},f),{},{[p]:[e[p],t[p]]}),{}),u,d=f=>{u||(u=f);var p=(f-u)/n,h=Sp((g,y)=>kv(...y,r(p)),l);if(a(bn(bn(bn({},e),t),h)),p<1)o=s.setTimeout(d);else{var m=Sp((g,y)=>kv(...y,r(1)),l);a(bn(bn(bn({},e),t),m))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const fre=(e,t,r,n,i,a)=>{var s=sre(e,t);return r==null?()=>(i(bn(bn({},e),t)),()=>{}):r.isStepper===!0?ure(e,t,r,s,i,a):dre(e,t,r,n,s,i,a)};var Av=1e-4,eI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],tI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),g6=(e,t)=>r=>{var n=eI(e,t);return tI(n,r)},hre=(e,t)=>r=>{var n=eI(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return tI(i,r)},pre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},mre=(e,t,r,n)=>{var i=g6(e,r),a=g6(t,n),s=hre(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var h=i(f)-d,m=s(f);if(Math.abs(h-d)<Av||m<Av)return a(f);f=o(f-h/m)}return a(f)};return l.isStepper=!1,l},v6=function(){return mre(...pre(...arguments))},gre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,d=l*n,f=l+(u-d)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<Av&&Math.abs(f)<Av?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},vre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return v6(e);case"spring":return gre();default:if(e.split("(")[0]==="cubic-bezier")return v6(e)}return typeof e=="function"?e:null};function yre(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class bre{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function xre(){return yre(new bre)}var wre=T.createContext(xre);function _re(e,t){var r=T.useContext(wre);return T.useMemo(()=>t??r(e),[e,t,r])}var jre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},y6={t:0},hx={t:1};function Zp(e){var t=In(e,jre),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=_re(t.animationId,t.animationManager),[f,p]=T.useState(r?y6:hx),h=T.useRef(null);return T.useEffect(()=>{r||p(hx)},[r]),T.useEffect(()=>{if(!r||!n)return Nu;var m=fre(y6,hx,vre(a),i,p,d.getTimeoutController()),g=()=>{h.current=m()};return d.start([l,s,g,i,o]),()=>{d.stop(),h.current&&h.current(),o()}},[r,n,i,a,s,l,o,d]),u(f.t)}function Qp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(wp(t)),n=T.useRef(e);return n.current!==e&&(r.current=wp(t),n.current=e),r.current}var Nre=["radius"],Sre=["radius"];function b6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(r),!0).forEach(function(n){kre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kre(e,t,r){return(t=Are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function w6(e,t){if(e==null)return{};var r,n,i=Ore(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ore(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _6=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);u="M ".concat(e,",").concat(t+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*h,`
            L `).concat(e+r,",").concat(t+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},j6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rI=e=>{var t=In(e,j6),r=T.useRef(null),[n,i]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=T.useRef(o),v=T.useRef(l),b=T.useRef(a),w=T.useRef(s),x=T.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),j=Qp(x,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=zt("recharts-rectangle",d);if(!g){var N=_i(t),{radius:E}=N,P=w6(N,Nre);return T.createElement("path",Ev({},P,{radius:typeof u=="number"?u:void 0,className:O,d:_6(a,s,o,l,u)}))}var C=y.current,S=v.current,A=b.current,I=w.current,D="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),J=Z7(["strokeDasharray"],p,typeof f=="string"?f:j6.animationEasing);return T.createElement(Zp,{animationId:j,key:j,canBegin:n>0,duration:p,easing:f,isActive:g,begin:h},X=>{var H=vr(C,o,X),W=vr(S,l,X),V=vr(A,a,X),$=vr(I,s,X);r.current&&(y.current=H,v.current=W,b.current=V,w.current=$);var R;m?X>0?R={transition:J,strokeDasharray:U}:R={strokeDasharray:D}:R={strokeDasharray:U};var B=_i(t),{radius:z}=B,K=w6(B,Sre);return T.createElement("path",Ev({},K,{radius:typeof u=="number"?u:void 0,className:O,d:_6(V,$,H,W,u),ref:r,style:x6(x6({},R),t.style)}))})};function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ov=Math.PI/180,Lre=e=>e*180/Math.PI,sn=(e,t,r,n)=>({x:e+Math.cos(-Ov*n)*r,y:t+Math.sin(-Ov*n)*r}),nI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ire=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},Rre=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=Ire({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:Lre(l),angleInRadian:l}},Mre=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Dre=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},Bre=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=Rre({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Mre(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?S6(S6({},t),{},{radius:i,angle:Dre(d,t)}):null};function iI(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=sn(t,r,n,i),o=sn(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(null,arguments)}var Fre=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},D0=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/Ov,f=l?i:i+a*d,p=sn(t,r,u,f),h=sn(t,r,n,f),m=l?i-a*d:i,g=sn(t,r,u*Math.cos(d*Ov),m);return{center:p,circleTangency:h,lineTangency:g,theta:d}},aI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=Fre(a,s),l=a+o,u=sn(t,r,i,a),d=sn(t,r,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=sn(t,r,n,a),h=sn(t,r,n,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},$re=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=Pn(u-l),{circleTangency:f,lineTangency:p,theta:h}=D0({cx:t,cy:r,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:y}=D0({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-u):Math.abs(l-u)-h-y;if(v<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):aI({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:x,theta:j}=D0({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:N,theta:E}=D0({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),P=o?Math.abs(l-u):Math.abs(l-u)-j-E;if(P<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},Ure={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sI=e=>{var t=In(e,Ure),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var p=zt("recharts-sector",f),h=a-i,m=ai(s,h,0,!0),g;return m>0&&Math.abs(u-d)<360?g=$re({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):g=aI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),T.createElement("path",Fw({},_i(t),{className:p,d:g}))};function zre(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(CL(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=sn(n,i,a,o),u=sn(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return iI(t)}}var oI={},lI={},cI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oj;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lj,r=lI;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(oI);var qre=oI.range;const uI=$s(qre);function Il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vj(e){let t,r,n;e.length!==2?(t=Il,r=(o,l)=>Il(e(o),l),n=(o,l)=>e(o)-l):(t=e===Il||e===Wre?e:Hre,r=e,n=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Hre(){return 0}function dI(e){return e===null?NaN:+e}function*Kre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Vre=vj(Il),em=Vre.right;vj(dI).center;class k6 extends Map{constructor(t,r=Xre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(A6(this,t))}has(t){return super.has(A6(this,t))}set(t,r){return super.set(Gre(this,t),r)}delete(t){return super.delete(Yre(this,t))}}function A6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Gre({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Yre({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Xre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jre(e=Il){if(e===Il)return fI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Zre=Math.sqrt(50),Qre=Math.sqrt(10),ene=Math.sqrt(2);function Pv(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Zre?10:a>=Qre?5:a>=ene?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?Pv(e,t,r*2):[o,l,u]}function $w(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Pv(t,e,r):Pv(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Uw(e,t,r){return t=+t,e=+e,r=+r,Pv(e,t,r)[2]}function zw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Uw(t,e,r):Uw(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function E6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function O6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hI(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?fI:Jre(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/l+p)),m=Math.min(n,Math.floor(t+(l-u)*f/l+p));hI(e,t,h,m,i)}const a=e[t];let s=r,o=n;for(gh(e,r,t),i(e[n],a)>0&&gh(e,r,n);s<o;){for(gh(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?gh(e,r,o):(++o,gh(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function gh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function tne(e,t,r){if(e=Float64Array.from(Kre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return O6(e);if(t>=1)return E6(e);var n,i=(n-1)*t,a=Math.floor(i),s=E6(hI(e,a).subarray(0,a+1)),o=O6(e.subarray(a+1));return s+(o-s)*(i-a)}}function rne(e,t,r=dI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function nne(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function $a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qw=Symbol("implicit");function yj(){var e=new k6,t=[],r=[],n=qw;function i(a){let s=e.get(a);if(s===void 0){if(n!==qw)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new k6;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return yj(t,r).unknown(n)},$a.apply(i,arguments),i}function bj(){var e=yj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=i<n,m=h?i:n,g=h?n:i;a=(g-m)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(p-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var y=nne(p).map(function(v){return m+a*v});return r(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return bj(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},$a.apply(f(),arguments)}function pI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pI(t())},e}function ine(){return pI(bj.apply(null,arguments).paddingInner(1))}function xj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tm(){}var kp=.7,Cv=1/kp,Ld="\\s*([+-]?\\d+)\\s*",Ap="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ane=/^#([0-9a-f]{3,8})$/,sne=new RegExp(`^rgb\\(${Ld},${Ld},${Ld}\\)$`),one=new RegExp(`^rgb\\(${Rs},${Rs},${Rs}\\)$`),lne=new RegExp(`^rgba\\(${Ld},${Ld},${Ld},${Ap}\\)$`),cne=new RegExp(`^rgba\\(${Rs},${Rs},${Rs},${Ap}\\)$`),une=new RegExp(`^hsl\\(${Ap},${Rs},${Rs}\\)$`),dne=new RegExp(`^hsla\\(${Ap},${Rs},${Rs},${Ap}\\)$`),P6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xj(tm,Ep,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:C6,formatHex:C6,formatHex8:fne,formatHsl:hne,formatRgb:T6,toString:T6});function C6(){return this.rgb().formatHex()}function fne(){return this.rgb().formatHex8()}function hne(){return gI(this).formatHsl()}function T6(){return this.rgb().formatRgb()}function Ep(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ane.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?L6(t):r===3?new Li(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?B0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?B0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sne.exec(e))?new Li(t[1],t[2],t[3],1):(t=one.exec(e))?new Li(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lne.exec(e))?B0(t[1],t[2],t[3],t[4]):(t=cne.exec(e))?B0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=une.exec(e))?M6(t[1],t[2]/100,t[3]/100,1):(t=dne.exec(e))?M6(t[1],t[2]/100,t[3]/100,t[4]):P6.hasOwnProperty(e)?L6(P6[e]):e==="transparent"?new Li(NaN,NaN,NaN,0):null}function L6(e){return new Li(e>>16&255,e>>8&255,e&255,1)}function B0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Li(e,t,r,n)}function pne(e){return e instanceof tm||(e=Ep(e)),e?(e=e.rgb(),new Li(e.r,e.g,e.b,e.opacity)):new Li}function Ww(e,t,r,n){return arguments.length===1?pne(e):new Li(e,t,r,n??1)}function Li(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xj(Li,Ww,mI(tm,{brighter(e){return e=e==null?Cv:Math.pow(Cv,e),new Li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kp:Math.pow(kp,e),new Li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Li(eu(this.r),eu(this.g),eu(this.b),Tv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I6,formatHex:I6,formatHex8:mne,formatRgb:R6,toString:R6}));function I6(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}`}function mne(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}${Kc((isNaN(this.opacity)?1:this.opacity)*255)}`}function R6(){const e=Tv(this.opacity);return`${e===1?"rgb(":"rgba("}${eu(this.r)}, ${eu(this.g)}, ${eu(this.b)}${e===1?")":`, ${e})`}`}function Tv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kc(e){return e=eu(e),(e<16?"0":"")+e.toString(16)}function M6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new os(e,t,r,n)}function gI(e){if(e instanceof os)return new os(e.h,e.s,e.l,e.opacity);if(e instanceof tm||(e=Ep(e)),!e)return new os;if(e instanceof os)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new os(s,o,l,e.opacity)}function gne(e,t,r,n){return arguments.length===1?gI(e):new os(e,t,r,n??1)}function os(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xj(os,gne,mI(tm,{brighter(e){return e=e==null?Cv:Math.pow(Cv,e),new os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kp:Math.pow(kp,e),new os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Li(px(e>=240?e-240:e+120,i,n),px(e,i,n),px(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new os(D6(this.h),F0(this.s),F0(this.l),Tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tv(this.opacity);return`${e===1?"hsl(":"hsla("}${D6(this.h)}, ${F0(this.s)*100}%, ${F0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function D6(e){return e=(e||0)%360,e<0?e+360:e}function F0(e){return Math.max(0,Math.min(1,e||0))}function px(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const wj=e=>()=>e;function vne(e,t){return function(r){return e+r*t}}function yne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bne(e){return(e=+e)==1?vI:function(t,r){return r-t?yne(t,r,e):wj(isNaN(t)?r:t)}}function vI(e,t){var r=t-e;return r?vne(e,r):wj(isNaN(e)?t:e)}const B6=function e(t){var r=bne(t);function n(i,a){var s=r((i=Ww(i)).r,(a=Ww(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=vI(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function xne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function wne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _ne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=bf(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function jne(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Lv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Nne(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=bf(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Hw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mx=new RegExp(Hw.source,"g");function Sne(e){return function(){return e}}function kne(e){return function(t){return e(t)+""}}function Ane(e,t){var r=Hw.lastIndex=mx.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Hw.exec(e))&&(i=mx.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Lv(n,i)})),r=mx.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?kne(l[0].x):Sne(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function bf(e,t){var r=typeof t,n;return t==null||r==="boolean"?wj(t):(r==="number"?Lv:r==="string"?(n=Ep(t))?(t=n,B6):Ane:t instanceof Ep?B6:t instanceof Date?jne:wne(t)?xne:Array.isArray(t)?_ne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nne:Lv)(e,t)}function _j(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ene(e,t){t===void 0&&(t=e,e=bf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function One(e){return function(){return e}}function Iv(e){return+e}var F6=[0,1];function xi(e){return e}function Kw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:One(isNaN(t)?NaN:.5)}function Pne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Cne(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Kw(i,n),a=r(s,a)):(n=Kw(n,i),a=r(a,s)),function(o){return a(n(o))}}function Tne(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Kw(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=em(e,o,1,n)-1;return a[l](i[l](o))}}function rm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function e1(){var e=F6,t=F6,r=bf,n,i,a,s=xi,o,l,u;function d(){var p=Math.min(e.length,t.length);return s!==xi&&(s=Pne(e[0],e[p-1])),o=p>2?Tne:Cne,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((u||(u=o(t,e.map(n),Lv)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Iv),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=_j,d()},f.clamp=function(p){return arguments.length?(s=p?!0:xi,d()):s!==xi},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,d()}}function jj(){return e1()(xi,xi)}function Lne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zd(e){return e=Rv(Math.abs(e)),e?e[1]:NaN}function Ine(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Rne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Mne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Op(e){if(!(t=Mne.exec(e)))throw new Error("invalid format: "+e);var t;return new Nj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Op.prototype=Nj.prototype;function Nj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dne(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var yI;function Bne(e,t){var r=Rv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(yI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Rv(e,Math.max(0,t+a-1))[0]}function $6(e,t){var r=Rv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const U6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$6(e*100,t),r:$6,s:Bne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function z6(e){return e}var q6=Array.prototype.map,W6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fne(e){var t=e.grouping===void 0||e.thousands===void 0?z6:Ine(q6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?z6:Rne(q6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Op(f);var p=f.fill,h=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,x=f.trim,j=f.type;j==="n"?(b=!0,j="g"):U6[j]||(w===void 0&&(w=12),x=!0,j="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=g==="$"?n:/[%p]/.test(j)?s:"",E=U6[j],P=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(S){var A=O,I=N,D,U,J;if(j==="c")I=E(S)+I,S="";else{S=+S;var X=S<0||1/S<0;if(S=isNaN(S)?l:E(Math.abs(S),w),x&&(S=Dne(S)),X&&+S==0&&m!=="+"&&(X=!1),A=(X?m==="("?m:o:m==="-"||m==="("?"":m)+A,I=(j==="s"?W6[8+yI/3]:"")+I+(X&&m==="("?")":""),P){for(D=-1,U=S.length;++D<U;)if(J=S.charCodeAt(D),48>J||J>57){I=(J===46?i+S.slice(D+1):S.slice(D))+I,S=S.slice(0,D);break}}}b&&!y&&(S=t(S,1/0));var H=A.length+S.length+I.length,W=H<v?new Array(v-H+1).join(p):"";switch(b&&y&&(S=t(W+S,W.length?v-I.length:1/0),W=""),h){case"<":S=A+S+I+W;break;case"=":S=A+W+S+I;break;case"^":S=W.slice(0,H=W.length>>1)+A+S+I+W.slice(H);break;default:S=W+A+S+I;break}return a(S)}return C.toString=function(){return f+""},C}function d(f,p){var h=u((f=Op(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Zd(p)/3)))*3,g=Math.pow(10,-m),y=W6[8+m/3];return function(v){return h(g*v)+y}}return{format:u,formatPrefix:d}}var $0,Sj,bI;$ne({thousands:",",grouping:[3],currency:["$",""]});function $ne(e){return $0=Fne(e),Sj=$0.format,bI=$0.formatPrefix,$0}function Une(e){return Math.max(0,-Zd(Math.abs(e)))}function zne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zd(t)/3)))*3-Zd(Math.abs(e)))}function qne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zd(t)-Zd(e))+1}function xI(e,t,r,n){var i=zw(e,t,r),a;switch(n=Op(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=zne(i,s))&&(n.precision=a),bI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=qne(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Une(i))&&(n.precision=a-(n.type==="%")*2);break}}return Sj(n)}function Yl(e){var t=e.domain;return e.ticks=function(r){var n=t();return $w(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return xI(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Uw(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function wI(){var e=jj();return e.copy=function(){return rm(e,wI())},$a.apply(e,arguments),Yl(e)}function _I(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Iv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _I(e).unknown(t)},e=arguments.length?Array.from(e,Iv):[0,1],Yl(r)}function jI(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function H6(e){return Math.log(e)}function K6(e){return Math.exp(e)}function Wne(e){return-Math.log(-e)}function Hne(e){return-Math.exp(-e)}function Kne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vne(e){return e===10?Kne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V6(e){return(t,r)=>-e(-t,r)}function kj(e){const t=e(H6,K6),r=t.domain;let n=10,i,a;function s(){return i=Gne(n),a=Vne(n),r()[0]<0?(i=V6(i),a=V6(a),e(Wne,Hne)):e(H6,K6),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=i(u),h=i(d),m,g;const y=o==null?10:+o;let v=[];if(!(n%1)&&h-p<y){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(m=1;m<n;++m)if(g=p<0?m/a(-p):m*a(p),!(g<u)){if(g>d)break;v.push(g)}}else for(;p<=h;++p)for(m=n-1;m>=1;--m)if(g=p>0?m/a(-p):m*a(p),!(g<u)){if(g>d)break;v.push(g)}v.length*2<y&&(v=$w(u,d,y))}else v=$w(p,h,Math.min(h-p,y)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Op(l)).precision==null&&(l.trim=!0),l=Sj(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(jI(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function NI(){const e=kj(e1()).domain([1,10]);return e.copy=()=>rm(e,NI()).base(e.base()),$a.apply(e,arguments),e}function G6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Y6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Aj(e){var t=1,r=e(G6(t),Y6(t));return r.constant=function(n){return arguments.length?e(G6(t=+n),Y6(t)):t},Yl(r)}function SI(){var e=Aj(e1());return e.copy=function(){return rm(e,SI()).constant(e.constant())},$a.apply(e,arguments)}function X6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Xne(e){return e<0?-e*e:e*e}function Ej(e){var t=e(xi,xi),r=1;function n(){return r===1?e(xi,xi):r===.5?e(Yne,Xne):e(X6(r),X6(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Yl(t)}function Oj(){var e=Ej(e1());return e.copy=function(){return rm(e,Oj()).exponent(e.exponent())},$a.apply(e,arguments),e}function Jne(){return Oj.apply(null,arguments).exponent(.5)}function J6(e){return Math.sign(e)*e*e}function Zne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kI(){var e=jj(),t=[0,1],r=!1,n;function i(a){var s=Zne(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(J6(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Iv)).map(J6)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$a.apply(i,arguments),Yl(i)}function AI(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=rne(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[em(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Il),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return AI().domain(e).range(t).unknown(n)},$a.apply(a,arguments)}function EI(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[em(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return EI().domain([e,t]).range(i).unknown(a)},$a.apply(Yl(s),arguments)}function OI(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[em(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return OI().domain(e).range(t).unknown(r)},$a.apply(i,arguments)}const gx=new Date,vx=new Date;function jn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>jn(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(gx.setTime(+a),vx.setTime(+s),e(gx),e(vx),Math.floor(r(gx,vx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Mv=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Mv);Mv.range;const po=1e3,Ca=po*60,mo=Ca*60,Ao=mo*24,Pj=Ao*7,Z6=Ao*30,yx=Ao*365,Vc=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCSeconds());Vc.range;const Cj=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po)},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getMinutes());Cj.range;const Tj=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getUTCMinutes());Tj.range;const Lj=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po-e.getMinutes()*Ca)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getHours());Lj.range;const Ij=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getUTCHours());Ij.range;const nm=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/Ao,e=>e.getDate()-1);nm.range;const t1=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>e.getUTCDate()-1);t1.range;const PI=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>Math.floor(e/Ao));PI.range;function Su(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/Pj)}const r1=Su(0),Dv=Su(1),Qne=Su(2),eie=Su(3),Qd=Su(4),tie=Su(5),rie=Su(6);r1.range;Dv.range;Qne.range;eie.range;Qd.range;tie.range;rie.range;function ku(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Pj)}const n1=ku(0),Bv=ku(1),nie=ku(2),iie=ku(3),ef=ku(4),aie=ku(5),sie=ku(6);n1.range;Bv.range;nie.range;iie.range;ef.range;aie.range;sie.range;const Rj=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rj.range;const Mj=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mj.range;const Eo=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Eo.range;const Oo=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Oo.range;function CI(e,t,r,n,i,a){const s=[[Vc,1,po],[Vc,5,5*po],[Vc,15,15*po],[Vc,30,30*po],[a,1,Ca],[a,5,5*Ca],[a,15,15*Ca],[a,30,30*Ca],[i,1,mo],[i,3,3*mo],[i,6,6*mo],[i,12,12*mo],[n,1,Ao],[n,2,2*Ao],[r,1,Pj],[t,1,Z6],[t,3,3*Z6],[e,1,yx]];function o(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:l(u,d,f),m=h?h.range(u,+d+1):[];return p?m.reverse():m}function l(u,d,f){const p=Math.abs(d-u)/f,h=vj(([,,y])=>y).right(s,p);if(h===s.length)return e.every(zw(u/yx,d/yx,f));if(h===0)return Mv.every(Math.max(zw(u,d,f),1));const[m,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return m.every(g)}return[o,l]}const[oie,lie]=CI(Oo,Mj,n1,PI,Ij,Tj),[cie,uie]=CI(Eo,Rj,r1,nm,Lj,Cj);function bx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function die(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=yh(i),d=bh(i),f=yh(a),p=bh(a),h=yh(s),m=bh(s),g=yh(o),y=bh(o),v=yh(l),b=bh(l),w={a:X,A:H,b:W,B:V,c:null,d:iA,e:iA,f:Iie,g:Wie,G:Kie,H:Cie,I:Tie,j:Lie,L:TI,m:Rie,M:Mie,p:$,q:R,Q:oA,s:lA,S:Die,u:Bie,U:Fie,V:$ie,w:Uie,W:zie,x:null,X:null,y:qie,Y:Hie,Z:Vie,"%":sA},x={a:B,A:z,b:K,B:q,c:null,d:aA,e:aA,f:Jie,g:oae,G:cae,H:Gie,I:Yie,j:Xie,L:II,m:Zie,M:Qie,p:Q,q:ae,Q:oA,s:lA,S:eae,u:tae,U:rae,V:nae,w:iae,W:aae,x:null,X:null,y:sae,Y:lae,Z:uae,"%":sA},j={a:C,A:S,b:A,B:I,c:D,d:rA,e:rA,f:Aie,g:tA,G:eA,H:nA,I:nA,j:jie,L:kie,m:_ie,M:Nie,p:P,q:wie,Q:Oie,s:Pie,S:Sie,u:gie,U:vie,V:yie,w:mie,W:bie,x:U,X:J,y:tA,Y:eA,Z:xie,"%":Eie};w.x=O(r,w),w.X=O(n,w),w.c=O(t,w),x.x=O(r,x),x.X=O(n,x),x.c=O(t,x);function O(Z,le){return function(ge){var de=[],ke=-1,ve=0,ie=Z.length,We,Be,xe;for(ge instanceof Date||(ge=new Date(+ge));++ke<ie;)Z.charCodeAt(ke)===37&&(de.push(Z.slice(ve,ke)),(Be=Q6[We=Z.charAt(++ke)])!=null?We=Z.charAt(++ke):Be=We==="e"?" ":"0",(xe=le[We])&&(We=xe(ge,Be)),de.push(We),ve=ke+1);return de.push(Z.slice(ve,ke)),de.join("")}}function N(Z,le){return function(ge){var de=vh(1900,void 0,1),ke=E(de,Z,ge+="",0),ve,ie;if(ke!=ge.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(le&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(ve=xx(vh(de.y,0,1)),ie=ve.getUTCDay(),ve=ie>4||ie===0?Bv.ceil(ve):Bv(ve),ve=t1.offset(ve,(de.V-1)*7),de.y=ve.getUTCFullYear(),de.m=ve.getUTCMonth(),de.d=ve.getUTCDate()+(de.w+6)%7):(ve=bx(vh(de.y,0,1)),ie=ve.getDay(),ve=ie>4||ie===0?Dv.ceil(ve):Dv(ve),ve=nm.offset(ve,(de.V-1)*7),de.y=ve.getFullYear(),de.m=ve.getMonth(),de.d=ve.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ie="Z"in de?xx(vh(de.y,0,1)).getUTCDay():bx(vh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ie+5)%7:de.w+de.U*7-(ie+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,xx(de)):bx(de)}}function E(Z,le,ge,de){for(var ke=0,ve=le.length,ie=ge.length,We,Be;ke<ve;){if(de>=ie)return-1;if(We=le.charCodeAt(ke++),We===37){if(We=le.charAt(ke++),Be=j[We in Q6?le.charAt(ke++):We],!Be||(de=Be(Z,ge,de))<0)return-1}else if(We!=ge.charCodeAt(de++))return-1}return de}function P(Z,le,ge){var de=u.exec(le.slice(ge));return de?(Z.p=d.get(de[0].toLowerCase()),ge+de[0].length):-1}function C(Z,le,ge){var de=h.exec(le.slice(ge));return de?(Z.w=m.get(de[0].toLowerCase()),ge+de[0].length):-1}function S(Z,le,ge){var de=f.exec(le.slice(ge));return de?(Z.w=p.get(de[0].toLowerCase()),ge+de[0].length):-1}function A(Z,le,ge){var de=v.exec(le.slice(ge));return de?(Z.m=b.get(de[0].toLowerCase()),ge+de[0].length):-1}function I(Z,le,ge){var de=g.exec(le.slice(ge));return de?(Z.m=y.get(de[0].toLowerCase()),ge+de[0].length):-1}function D(Z,le,ge){return E(Z,t,le,ge)}function U(Z,le,ge){return E(Z,r,le,ge)}function J(Z,le,ge){return E(Z,n,le,ge)}function X(Z){return s[Z.getDay()]}function H(Z){return a[Z.getDay()]}function W(Z){return l[Z.getMonth()]}function V(Z){return o[Z.getMonth()]}function $(Z){return i[+(Z.getHours()>=12)]}function R(Z){return 1+~~(Z.getMonth()/3)}function B(Z){return s[Z.getUTCDay()]}function z(Z){return a[Z.getUTCDay()]}function K(Z){return l[Z.getUTCMonth()]}function q(Z){return o[Z.getUTCMonth()]}function Q(Z){return i[+(Z.getUTCHours()>=12)]}function ae(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var le=O(Z+="",w);return le.toString=function(){return Z},le},parse:function(Z){var le=N(Z+="",!1);return le.toString=function(){return Z},le},utcFormat:function(Z){var le=O(Z+="",x);return le.toString=function(){return Z},le},utcParse:function(Z){var le=N(Z+="",!0);return le.toString=function(){return Z},le}}}var Q6={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,fie=/^%/,hie=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function pie(e){return e.replace(hie,"\\$&")}function yh(e){return new RegExp("^(?:"+e.map(pie).join("|")+")","i")}function bh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mie(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gie(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vie(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yie(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bie(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function eA(e,t,r){var n=Rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tA(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wie(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _ie(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rA(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jie(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nA(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Nie(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Sie(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kie(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Aie(e,t,r){var n=Rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Eie(e,t,r){var n=fie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Oie(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Pie(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iA(e,t){return Ft(e.getDate(),t,2)}function Cie(e,t){return Ft(e.getHours(),t,2)}function Tie(e,t){return Ft(e.getHours()%12||12,t,2)}function Lie(e,t){return Ft(1+nm.count(Eo(e),e),t,3)}function TI(e,t){return Ft(e.getMilliseconds(),t,3)}function Iie(e,t){return TI(e,t)+"000"}function Rie(e,t){return Ft(e.getMonth()+1,t,2)}function Mie(e,t){return Ft(e.getMinutes(),t,2)}function Die(e,t){return Ft(e.getSeconds(),t,2)}function Bie(e){var t=e.getDay();return t===0?7:t}function Fie(e,t){return Ft(r1.count(Eo(e)-1,e),t,2)}function LI(e){var t=e.getDay();return t>=4||t===0?Qd(e):Qd.ceil(e)}function $ie(e,t){return e=LI(e),Ft(Qd.count(Eo(e),e)+(Eo(e).getDay()===4),t,2)}function Uie(e){return e.getDay()}function zie(e,t){return Ft(Dv.count(Eo(e)-1,e),t,2)}function qie(e,t){return Ft(e.getFullYear()%100,t,2)}function Wie(e,t){return e=LI(e),Ft(e.getFullYear()%100,t,2)}function Hie(e,t){return Ft(e.getFullYear()%1e4,t,4)}function Kie(e,t){var r=e.getDay();return e=r>=4||r===0?Qd(e):Qd.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function Vie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function aA(e,t){return Ft(e.getUTCDate(),t,2)}function Gie(e,t){return Ft(e.getUTCHours(),t,2)}function Yie(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function Xie(e,t){return Ft(1+t1.count(Oo(e),e),t,3)}function II(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function Jie(e,t){return II(e,t)+"000"}function Zie(e,t){return Ft(e.getUTCMonth()+1,t,2)}function Qie(e,t){return Ft(e.getUTCMinutes(),t,2)}function eae(e,t){return Ft(e.getUTCSeconds(),t,2)}function tae(e){var t=e.getUTCDay();return t===0?7:t}function rae(e,t){return Ft(n1.count(Oo(e)-1,e),t,2)}function RI(e){var t=e.getUTCDay();return t>=4||t===0?ef(e):ef.ceil(e)}function nae(e,t){return e=RI(e),Ft(ef.count(Oo(e),e)+(Oo(e).getUTCDay()===4),t,2)}function iae(e){return e.getUTCDay()}function aae(e,t){return Ft(Bv.count(Oo(e)-1,e),t,2)}function sae(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function oae(e,t){return e=RI(e),Ft(e.getUTCFullYear()%100,t,2)}function lae(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function cae(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ef(e):ef.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function uae(){return"+0000"}function sA(){return"%"}function oA(e){return+e}function lA(e){return Math.floor(+e/1e3)}var Ju,MI,DI;dae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dae(e){return Ju=die(e),MI=Ju.format,Ju.parse,DI=Ju.utcFormat,Ju.utcParse,Ju}function fae(e){return new Date(e)}function hae(e){return e instanceof Date?+e:+new Date(+e)}function Dj(e,t,r,n,i,a,s,o,l,u){var d=jj(),f=d.invert,p=d.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),b=u("%b %d"),w=u("%B"),x=u("%Y");function j(O){return(l(O)<O?h:o(O)<O?m:s(O)<O?g:a(O)<O?y:n(O)<O?i(O)<O?v:b:r(O)<O?w:x)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?p(Array.from(O,hae)):p().map(fae)},d.ticks=function(O){var N=p();return e(N[0],N[N.length-1],O??10)},d.tickFormat=function(O,N){return N==null?j:u(N)},d.nice=function(O){var N=p();return(!O||typeof O.range!="function")&&(O=t(N[0],N[N.length-1],O??10)),O?p(jI(N,O)):d},d.copy=function(){return rm(d,Dj(e,t,r,n,i,a,s,o,l,u))},d}function pae(){return $a.apply(Dj(cie,uie,Eo,Rj,r1,nm,Lj,Cj,Vc,MI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mae(){return $a.apply(Dj(oie,lie,Oo,Mj,n1,t1,Ij,Tj,Vc,DI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i1(){var e=0,t=1,r,n,i,a,s=xi,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var h,m;return arguments.length?([h,m]=p,s=f(h,m),u):[s(0),s(1)]}}return u.range=d(bf),u.rangeRound=d(_j),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BI(){var e=Yl(i1()(xi));return e.copy=function(){return Xl(e,BI())},Bo.apply(e,arguments)}function FI(){var e=kj(i1()).domain([1,10]);return e.copy=function(){return Xl(e,FI()).base(e.base())},Bo.apply(e,arguments)}function $I(){var e=Aj(i1());return e.copy=function(){return Xl(e,$I()).constant(e.constant())},Bo.apply(e,arguments)}function Bj(){var e=Ej(i1());return e.copy=function(){return Xl(e,Bj()).exponent(e.exponent())},Bo.apply(e,arguments)}function gae(){return Bj.apply(null,arguments).exponent(.5)}function UI(){var e=[],t=xi;function r(n){if(n!=null&&!isNaN(n=+n))return t((em(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Il),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>tne(e,a/n))},r.copy=function(){return UI(t).domain(e)},Bo.apply(r,arguments)}function a1(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=xi,d,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,u=Ene(g,[v,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=m(bf),h.rangeRound=m(_j),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function zI(){var e=Yl(a1()(xi));return e.copy=function(){return Xl(e,zI())},Bo.apply(e,arguments)}function qI(){var e=kj(a1()).domain([.1,1,10]);return e.copy=function(){return Xl(e,qI()).base(e.base())},Bo.apply(e,arguments)}function WI(){var e=Aj(a1());return e.copy=function(){return Xl(e,WI()).constant(e.constant())},Bo.apply(e,arguments)}function Fj(){var e=Ej(a1());return e.copy=function(){return Xl(e,Fj()).exponent(e.exponent())},Bo.apply(e,arguments)}function vae(){return Fj.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bj,scaleDiverging:zI,scaleDivergingLog:qI,scaleDivergingPow:Fj,scaleDivergingSqrt:vae,scaleDivergingSymlog:WI,scaleIdentity:_I,scaleImplicit:qw,scaleLinear:wI,scaleLog:NI,scaleOrdinal:yj,scalePoint:ine,scalePow:Oj,scaleQuantile:AI,scaleQuantize:EI,scaleRadial:kI,scaleSequential:BI,scaleSequentialLog:FI,scaleSequentialPow:Bj,scaleSequentialQuantile:UI,scaleSequentialSqrt:gae,scaleSequentialSymlog:$I,scaleSqrt:Jne,scaleSymlog:SI,scaleThreshold:OI,scaleTime:pae,scaleUtc:mae,tickFormat:xI},Symbol.toStringTag,{value:"Module"}));var Jl=e=>e.chartData,$j=Se([Jl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),s1=(e,t,r,n)=>n?$j(e):Jl(e);function fu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Xr(t)&&Xr(r))return!0}return!1}function cA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function HI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Xr(r))i=r;else if(typeof r=="function")return;if(Xr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(fu(s))return s}}function yae(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fu(n))return cA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(tt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Qk.test(i)){var l=Qk.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(tt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&e6.test(a)){var d=e6.exec(a);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[s,o];if(fu(p))return t==null?p:cA(p,t,r)}}}var xf=1e9,bae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zj,xr=!0,Ba="[DecimalError] ",tu=Ba+"Invalid argument: ",Uj=Ba+"Exponent out of range: ",wf=Math.floor,Ic=Math.pow,xae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,An=1e7,fr=7,KI=9007199254740991,Fv=wf(KI/fr),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return bo(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return er(bo(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return cn(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(na))throw Error(Ba+"NaN");if(r.s<1)throw Error(Ba+(r.s?"NaN":"-Infinity"));return r.eq(na)?new n(0):(xr=!1,t=bo(Pp(r,a),Pp(e,a),a),xr=!0,er(t,i))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YI(t,e):VI(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ba+"NaN");return r.s?(xr=!1,t=bo(r,e,0,1).times(e),xr=!0,r.minus(t)):er(new n(r),i)};Xe.naturalExponential=Xe.exp=function(){return GI(this)};Xe.naturalLogarithm=Xe.ln=function(){return Pp(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VI(t,e):YI(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tu+e);if(t=cn(i)+1,n=i.d.length-1,r=n*fr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ba+"NaN")}for(e=cn(o),xr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ps(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=wf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(bo(o,a,s+2)).times(.5),Ps(a.d).slice(0,s)===(t=Ps(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(er(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return xr=!0,er(n,r)};Xe.times=Xe.mul=function(e){var t,r,n,i,a,s,o,l,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=p.length,u=h.length,l<u&&(a=p,p=h,h=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+t,a[i--]=o%An|0,t=o/An|0;a[i]=(a[i]+t)%An|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,xr?er(e,f.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fs(e,0,xf),t===void 0?t=n.rounding:Fs(t,0,8),er(r,e+cn(r)+1,t))};Xe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=hu(n,!0):(Fs(e,0,xf),t===void 0?t=i.rounding:Fs(t,0,8),n=er(new i(n),e+1,t),r=hu(n,!0,e+1)),r};Xe.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?hu(i):(Fs(e,0,xf),t===void 0?t=a.rounding:Fs(t,0,8),n=er(new a(i),e+cn(i)+1,t),r=hu(n.abs(),!1,e+cn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return er(new t(e),cn(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(na);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ba+"Infinity");return o}if(o.eq(na))return o;if(n=l.precision,e.eq(na))return er(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=KI){for(i=new l(na),t=Math.ceil(n/fr+4),xr=!1;r%2&&(i=i.times(o),dA(i.d,t)),r=wf(r/2),r!==0;)o=o.times(o),dA(o.d,t);return xr=!0,e.s<0?new l(na).div(i):er(i,n)}}else if(a<0)throw Error(Ba+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,xr=!1,i=e.times(Pp(o,n+u)),xr=!0,i=GI(i),i.s=a,i};Xe.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=cn(i),n=hu(i,r<=a.toExpNeg||r>=a.toExpPos)):(Fs(e,1,xf),t===void 0?t=a.rounding:Fs(t,0,8),i=er(new a(i),e,t),r=cn(i),n=hu(i,e<=r||r<=a.toExpNeg,e)),n};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fs(e,1,xf),t===void 0?t=n.rounding:Fs(t,0,8)),er(new n(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cn(e),r=e.constructor;return hu(e,t<=r.toExpNeg||t>=r.toExpPos)};function VI(e,t){var r,n,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),xr?er(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/fr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/An|0,l[a]%=An;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,xr?er(t,f):t}function Fs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tu+e)}function Ps(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=fr-n.length,r&&(a+=hl(r)),a+=n;s=e[t],n=s+"",r=fr-n.length,r&&(a+=hl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var bo=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%An|0,s=a/An|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*An+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,p,h,m,g,y,v,b,w,x,j,O,N,E,P=n.constructor,C=n.s==i.s?1:-1,S=n.d,A=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Ba+"Division by zero");for(l=n.e-i.e,N=A.length,j=S.length,h=new P(C),m=h.d=[],u=0;A[u]==(S[u]||0);)++u;if(A[u]>(S[u]||0)&&--l,a==null?b=a=P.precision:s?b=a+(cn(n)-cn(i))+1:b=a,b<0)return new P(0);if(b=b/fr+2|0,u=0,N==1)for(d=0,A=A[0],b++;(u<j||d)&&b--;u++)w=d*An+(S[u]||0),m[u]=w/A|0,d=w%A|0;else{for(d=An/(A[0]+1)|0,d>1&&(A=e(A,d),S=e(S,d),N=A.length,j=S.length),x=N,g=S.slice(0,N),y=g.length;y<N;)g[y++]=0;E=A.slice(),E.unshift(0),O=A[0],A[1]>=An/2&&++O;do d=0,o=t(A,g,N,y),o<0?(v=g[0],N!=y&&(v=v*An+(g[1]||0)),d=v/O|0,d>1?(d>=An&&(d=An-1),f=e(A,d),p=f.length,y=g.length,o=t(f,g,p,y),o==1&&(d--,r(f,N<p?E:A,p))):(d==0&&(o=d=1),f=A.slice()),p=f.length,p<y&&f.unshift(0),r(g,f,y),o==-1&&(y=g.length,o=t(A,g,N,y),o<1&&(d++,r(g,N<y?E:A,y))),y=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[y++]=S[x]||0:(g=[S[x]],y=1);while((x++<j||g[0]!==void 0)&&b--)}return m[0]||m.shift(),h.e=l,er(h,s?a+cn(h)+1:a)}}();function GI(e,t){var r,n,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(cn(e)>16)throw Error(Uj+cn(e));if(!e.s)return new d(na);for(xr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ic(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(na),d.precision=o;;){if(i=er(i.times(e),o),r=r.times(++l),s=a.plus(bo(i,r,o)),Ps(s.d).slice(0,o)===Ps(a.d).slice(0,o)){for(;u--;)a=er(a.times(a),o);return d.precision=f,t==null?(xr=!0,er(a,f)):a}a=s}}function cn(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function wx(e,t,r){if(t>e.LN10.sd())throw xr=!0,r&&(e.precision=r),Error(Ba+"LN10 precision limit exceeded");return er(new e(e.LN10),t)}function hl(e){for(var t="";e--;)t+="0";return t}function Pp(e,t){var r,n,i,a,s,o,l,u,d,f=1,p=10,h=e,m=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(Ba+(h.s?"NaN":"-Infinity"));if(h.eq(na))return new g(0);if(t==null?(xr=!1,u=y):u=t,h.eq(10))return t==null&&(xr=!0),wx(g,u);if(u+=p,g.precision=u,r=Ps(m),n=r.charAt(0),a=cn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ps(h.d),n=r.charAt(0),f++;a=cn(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=wx(g,u+2,y).times(a+""),h=Pp(new g(n+"."+r.slice(1)),u-p).plus(l),g.precision=y,t==null?(xr=!0,er(h,y)):h;for(o=s=h=bo(h.minus(na),h.plus(na),u),d=er(h.times(h),u),i=3;;){if(s=er(s.times(d),u),l=o.plus(bo(s,new g(i),u)),Ps(l.d).slice(0,u)===Ps(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(wx(g,u+2,y).times(a+""))),o=bo(o,new g(f),u),g.precision=y,t==null?(xr=!0,er(o,y)):o;o=l,i+=2}}function uA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=wf(r/fr),e.d=[],n=(r+1)%fr,r<0&&(n+=fr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=fr;n<i;)e.d.push(+t.slice(n,n+=fr));t=t.slice(n),n=fr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),xr&&(e.e>Fv||e.e<-Fv))throw Error(Uj+r)}else e.s=0,e.e=0,e.d=[0];return e}function er(e,t,r){var n,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=fr,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/fr),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=fr,i=n-fr+s}if(r!==void 0&&(a=Ic(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Ic(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=cn(e),f.length=1,t=t-a-1,f[0]=Ic(10,(fr-t%fr)%fr),e.e=wf(-t/fr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ic(10,fr-n),f[d]=i>0?(u/Ic(10,s-i)%Ic(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==An&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=An)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(xr&&(e.e>Fv||e.e<-Fv))throw Error(Uj+cn(e));return e}function YI(e,t){var r,n,i,a,s,o,l,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),xr?er(t,h):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(h/fr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=An-1;--l[a],l[i]+=An}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,xr?er(t,h):t):new p(0)}function hu(e,t,r){var n,i=cn(e),a=Ps(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+hl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+hl(-i-1)+a,r&&(n=r-s)>0&&(a+=hl(n))):i>=s?(a+=hl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+hl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=hl(n))),e.s<0?"-"+a:a}function dA(e,t){if(e.length>t)return e.length=t,!0}function XI(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return uA(s,a.toString())}else if(typeof a!="string")throw Error(tu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,xae.test(a))uA(s,a);else throw Error(tu+a)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XI,i.config=i.set=wae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function wae(e){if(!e||typeof e!="object")throw Error(Ba+"Object expected");var t,r,n,i=["precision",1,xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(wf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(tu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tu+r+": "+n);return this}var zj=XI(bae);na=new zj(1);const Vt=zj;var _ae=e=>e,JI={},ZI=e=>e===JI,fA=e=>function t(){return arguments.length===0||arguments.length===1&&ZI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},QI=(e,t)=>e===1?t:fA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==JI).length;return a>=e?t(...n):QI(e-a,fA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(d=>ZI(d)?o.shift():d);return t(...u,...o)}))}),o1=e=>QI(e.length,e),Vw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},jae=o1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Nae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _ae;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Gw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eR=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,r=e(...i)),r}};function tR(e){var t;return e===0?t=1:t=Math.floor(new Vt(e).abs().log(10).toNumber())+1,t}function rR(e,t,r){for(var n=new Vt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}o1((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});o1((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});o1((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var nR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},iR=(e,t,r)=>{if(e.lte(0))return new Vt(0);var n=tR(e.toNumber()),i=new Vt(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Vt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new Vt(l.toNumber()):new Vt(Math.ceil(l.toNumber()))},Sae=(e,t,r)=>{var n=new Vt(1),i=new Vt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Vt(10).pow(tR(e)-1),i=new Vt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Vt(Math.floor(e)))}else e===0?i=new Vt(Math.floor((t-1)/2)):r||(i=new Vt(Math.floor(e)));var s=Math.floor((t-1)/2),o=Nae(jae(l=>i.add(new Vt(l-s).mul(n)).toNumber()),Vw);return o(0,t)},aR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var s=iR(new Vt(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Vt(0):(o=new Vt(t).add(r).div(2),o=o.sub(new Vt(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Vt(r).sub(o).div(s).toNumber()),d=l+u+1;return d>n?aR(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:s,tickMin:o.sub(new Vt(l).mul(s)),tickMax:o.add(new Vt(u).mul(s))})};function kae(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=nR([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...Vw(0,n-1).map(()=>1/0)]:[...Vw(0,n-1).map(()=>-1/0),o];return t>r?Gw(l):l}if(s===o)return Sae(s,n,i);var{step:u,tickMin:d,tickMax:f}=aR(s,o,a,i,0),p=rR(d,f.add(new Vt(.1).mul(u)),u);return t>r?Gw(p):p}function Aae(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=nR([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=iR(new Vt(s).sub(a).div(o-1),i,0),u=[...rR(new Vt(a),new Vt(s),l),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?Gw(u):u}var Eae=eR(kae),Oae=eR(Aae),sR=e=>e.rootProps.maxBarSize,Pae=e=>e.rootProps.barGap,oR=e=>e.rootProps.barCategoryGap,Cae=e=>e.rootProps.barSize,im=e=>e.rootProps.stackOffset,qj=e=>e.options.chartName,Wj=e=>e.rootProps.syncId,lR=e=>e.rootProps.syncMethod,Hj=e=>e.options.eventEmitter,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ea={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},l1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Tae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:lo.reversed,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:lo.type,unit:void 0},Lae={allowDataOverflow:ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,ticks:void 0,type:ea.type,unit:void 0},Iae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:lo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Rae={allowDataOverflow:ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,ticks:void 0,type:"category",unit:void 0},Kj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Iae:Tae,Vj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Rae:Lae,c1=e=>e.polarOptions,Gj=Se([Mo,Do,_n],nI),cR=Se([c1,Gj],(e,t)=>{if(e!=null)return ai(e.innerRadius,t,0)}),uR=Se([c1,Gj],(e,t)=>{if(e!=null)return ai(e.outerRadius,t,t*.8)}),Mae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dR=Se([c1],Mae);Se([Kj,dR],l1);var fR=Se([Gj,cR,uR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Se([Vj,fR],l1);var hR=Se([Rt,c1,cR,uR,Mo,Do],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:ai(s,i,i/2),cy:ai(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),jr=(e,t)=>t,am=(e,t,r)=>r;function Yj(e){return e==null?void 0:e.id}function pR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var d=Yj(o);u.forEach((f,p)=>{var h=a==null||i?p:String(or(f,a,null)),m=or(f,o.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[d]:m}),s.set(h,g)})}}),Array.from(s.values())}function u1(e){return e.stackId!=null&&e.dataKey!=null}var d1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function f1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Dae(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Nn=e=>{var t=Rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_f=e=>e.tooltip.settings.axisId;function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bae(e,t,r){return(t=Fae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fae(e){var t=$ae(e,"string");return typeof t=="symbol"?t:t+""}function $ae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yw=[0,"auto"],Ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mR=(e,t)=>e.cartesianAxis.xAxis[t],Fo=(e,t)=>{var r=mR(e,t);return r??Ji},Zi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xp},gR=(e,t)=>e.cartesianAxis.yAxis[t],$o=(e,t)=>{var r=gR(e,t);return r??Zi},Uae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Uae},Pr=(e,t,r)=>{switch(t){case"xAxis":return Fo(e,r);case"yAxis":return $o(e,r);case"zAxis":return Xj(e,r);case"angleAxis":return Kj(e,r);case"radiusAxis":return Vj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zae=(e,t,r)=>{switch(t){case"xAxis":return Fo(e,r);case"yAxis":return $o(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sm=(e,t,r)=>{switch(t){case"xAxis":return Fo(e,r);case"yAxis":return $o(e,r);case"angleAxis":return Kj(e,r);case"radiusAxis":return Vj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Jj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var h1=e=>e.graphicalItems.cartesianItems,qae=Se([jr,am],Jj),Zj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),om=Se([h1,Pr,qae],Zj,{memoizeOptions:{resultEqualityCheck:f1}}),yR=Se([om],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(u1)),bR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Wae=Se([om],bR),Qj=e=>e.map(t=>t.data).filter(Boolean).flat(1),Hae=Se([om],Qj,{memoizeOptions:{resultEqualityCheck:f1}}),eN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},tN=Se([Hae,s1],eN),rN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:or(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:or(i,n)}))):e.map(n=>({value:n})),p1=Se([tN,Pr,om],rN);function xR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vg(e){if(Ds(e)||e instanceof Date){var t=Number(e);if(Xr(t))return t}}function pA(e){if(Array.isArray(e)){var t=[vg(e[0]),vg(e[1])];return fu(t)?t:void 0}var r=vg(e);if(r!=null)return[r,r]}function Po(e){return e.map(vg).filter(UZ)}function Kae(e,t,r){return!r||typeof t!="number"||ds(t)?[]:r.length?Po(r.flatMap(n=>{var i=or(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Xr(a)||!Xr(s)))return[t-a,t+s]})):[]}var Sn=e=>{var t=Nn(e),r=_f(e);return sm(e,t,r)},wR=Se([Sn],e=>e==null?void 0:e.dataKey),Vae=Se([yR,s1,Sn],pR),_R=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(Yj);return[s,{stackedData:Kee(e,l,r),graphicalItems:o}]}))},Xw=Se([Vae,yR,im],_R),jR=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=Jee(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Gae=Se([Pr],e=>e.allowDataOverflow),nN=e=>{var t;if(e==null||!("domain"in e))return Yw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Po(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Yw},iN=Se([Pr],nN),aN=Se([iN,Gae],HI),Yae=Se([Xw,Jl,jr,aN],jR,{memoizeOptions:{resultEqualityCheck:d1}}),m1=e=>e.errorBars,Xae=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>xR(r,n)),Uv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},sN=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,d,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(v=>xR(i,v)),p=or(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),h=Kae(o,p,f);if(h.length>=2){var m=Math.min(...h),g=Math.max(...h);(a==null||m<a)&&(a=m),(s==null||g>s)&&(s=g)}var y=pA(p);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=pA(or(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Xr(a)&&Xr(s))return[a,s]},Jae=Se([tN,Pr,Wae,m1,jr],sN,{memoizeOptions:{resultEqualityCheck:d1}});function Zae(e){var{value:t}=e;if(Ds(t)||t instanceof Date)return t}var Qae=(e,t,r)=>{var n=e.map(Zae).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&AL(n))?uI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},NR=e=>e.referenceElements.dots,jf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),ese=Se([NR,jr,am],jf),SR=e=>e.referenceElements.areas,tse=Se([SR,jr,am],jf),kR=e=>e.referenceElements.lines,rse=Se([kR,jr,am],jf),AR=(e,t)=>{var r=Po(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nse=Se(ese,jr,AR),ER=(e,t)=>{var r=Po(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ise=Se([tse,jr],ER);function ase(e){var t;if(e.x!=null)return Po([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Po(r)}function sse(e){var t;if(e.y!=null)return Po([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Po(r)}var OR=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?ase(n):sse(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ose=Se([rse,jr],OR),lse=Se(nse,ose,ise,(e,t,r)=>Uv(e,r,t)),oN=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Uv(n,a,i):Uv(a,i);return yae(t,u,e.allowDataOverflow)},cse=Se([Pr,iN,aN,Yae,Jae,lse,Rt,jr],oN,{memoizeOptions:{resultEqualityCheck:d1}}),use=[0,1],lN=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Vl(t,a);if(u&&o==null){var d;return uI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?Qae(n,e,u):i==="expand"?use:s}},cN=Se([Pr,Rt,tN,p1,im,jr,cse],lN),PR=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Vp(a));return o in Th?o:"point"}}},Nf=Se([Pr,Rt,vR,qj,jr],PR);function dse(e){if(e!=null){if(e in Th)return Th[e]();var t="scale".concat(Vp(e));if(t in Th)return Th[t]()}}function uN(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=dse(t);if(i!=null){var a=i.domain(r).range(n);return Uee(a),a}}}var dN=(e,t,r)=>{var n=nN(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fu(e))return Eae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fu(e))return Oae(e,t.tickCount,t.allowDecimals)}},fN=Se([cN,sm,Nf],dN),hN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fu(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},fse=Se([Pr,cN,fN,jr],hN),hse=Se(p1,Pr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Po(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),CR=Se(hse,Rt,oR,_n,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Xr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ai(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),pse=(e,t)=>{var r=Fo(e,t);return r==null||typeof r.padding!="string"?0:CR(e,"xAxis",t,r.padding)},mse=(e,t)=>{var r=$o(e,t);return r==null||typeof r.padding!="string"?0:CR(e,"yAxis",t,r.padding)},gse=Se(Fo,pse,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),vse=Se($o,mse,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),yse=Se([_n,gse,Jy,Xy,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),bse=Se([_n,Rt,vse,Jy,Xy,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lm=(e,t,r,n)=>{var i;switch(t){case"xAxis":return yse(e,r,n);case"yAxis":return bse(e,r,n);case"zAxis":return(i=Xj(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return dR(e);case"radiusAxis":return fR(e,r);default:return}},TR=Se([Pr,lm],l1),Sf=Se([Pr,Nf,fse,TR],uN);Se([om,m1,jr],Xae);function LR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var g1=(e,t)=>t,v1=(e,t,r)=>r,xse=Se(Gy,g1,v1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(LR)),wse=Se(Yy,g1,v1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(LR)),IR=(e,t)=>({width:e.width,height:t.height}),_se=(e,t)=>{var r=typeof t.width=="number"?t.width:Xp;return{width:r,height:e.height}},RR=Se(_n,Fo,IR),jse=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Nse=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Sse=Se(Do,_n,xse,g1,v1,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=IR(t,o);s==null&&(s=jse(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),kse=Se(Mo,_n,wse,g1,v1,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=_se(t,o);s==null&&(s=Nse(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Ase=(e,t)=>{var r=Fo(e,t);if(r!=null)return Sse(e,r.orientation,r.mirror)},Ese=Se([_n,Fo,Ase,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Ose=(e,t)=>{var r=$o(e,t);if(r!=null)return kse(e,r.orientation,r.mirror)},Pse=Se([_n,$o,Ose,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),MR=Se(_n,$o,(e,t)=>{var r=typeof t.width=="number"?t.width:Xp;return{width:r,height:e.height}}),mA=(e,t,r)=>{switch(t){case"xAxis":return RR(e,r).width;case"yAxis":return MR(e,r).height;default:return}},DR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Vl(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&AL(l))return l}},pN=Se([Rt,p1,Pr,jr],DR),BR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Vl(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},mN=Se([Rt,p1,sm,jr],BR),gA=Se([Rt,zae,Nf,Sf,pN,mN,lm,fN,jr],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=Vl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),Cse=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=Vl(e,l),{type:d,ticks:f,tickCount:p}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/h:0;m=l==="angleAxis"&&a!=null&&a.length>=2?Pn(a[0]-a[1])*2*m:m;var g=f||i;if(g){var y=g.map((v,b)=>{var w=s?s.indexOf(v):v;return{index:b,coordinate:n(w)+m,value:v,offset:m}});return y.filter(v=>Xr(v.coordinate))}return u&&o?o.map((v,b)=>({coordinate:n(v)+m,value:v,index:b,offset:m})).filter(v=>Xr(v.coordinate)):n.ticks?n.ticks(p).map(v=>({coordinate:n(v)+m,value:v,offset:m})):n.domain().map((v,b)=>({coordinate:n(v)+m,value:s?s[v]:v,index:b,offset:m}))}},FR=Se([Rt,sm,Nf,Sf,fN,lm,pN,mN,jr],Cse),Tse=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Vl(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Pn(n[0]-n[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},Dl=Se([Rt,sm,Sf,lm,pN,mN,jr],Tse),Bl=Se(Pr,Sf,(e,t)=>{if(!(e==null||t==null))return $v($v({},e),{},{scale:t})}),Lse=Se([Pr,Nf,cN,TR],uN);Se((e,t,r)=>Xj(e,r),Lse,(e,t)=>{if(!(e==null||t==null))return $v($v({},e),{},{scale:t})});var Ise=Se([Rt,Gy,Yy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$R=e=>e.options.defaultTooltipEventType,UR=e=>e.options.validateTooltipEventTypes;function zR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function gN(e,t){var r=$R(e),n=UR(e);return zR(t,r,n)}function Rse(e){return rt(t=>gN(t,e))}var qR=(e,t)=>{var r,n=Number(t);if(!(ds(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Mse=e=>e.tooltip.settings,bl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Dse={itemInteraction:{click:bl,hover:bl},axisInteraction:{click:bl,hover:bl},keyboardInteraction:bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WR=Di({name:"tooltip",initialState:Dse,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xn()},removeTooltipEntrySettings:{reducer(e,t){var r=yo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:xn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Bse,removeTooltipEntrySettings:Fse,setTooltipSettingsState:$se,setActiveMouseOverItemIndex:HR,mouseLeaveItem:Use,mouseLeaveChart:KR,setActiveClickItemIndex:zse,setMouseOverAxisIndex:VR,setMouseClickAxisIndex:qse,setSyncInteraction:Jw,setKeyboardInteraction:Zw}=WR.actions,Wse=WR.reducer;function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){Hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t,r){return(t=Kse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kse(e){var t=Vse(e,"string");return typeof t=="symbol"?t:t+""}function Vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gse(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Yse(e){return e.index!=null}var GR=(e,t,r,n)=>{if(t==null)return bl;var i=Gse(e,t,r);if(i==null)return bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Yse(i)){if(a)return U0(U0({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return U0(U0({},bl),{},{coordinate:i.coordinate})},vN=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Xr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},YR=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},XR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},cm=e=>e.options.tooltipPayloadSearcher,kf=e=>e.tooltip;function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){Xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t,r){return(t=Jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jse(e){var t=Zse(e,"string");return typeof t=="symbol"?t:t+""}function Zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qse(e,t){return e??t}var JR=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((p,h)=>{var m,{dataDefinedOnItem:g,settings:y}=h,v=Qse(g,o),b=Array.isArray(v)?T7(v,u,d):v,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:n,x=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?j=EL(b,n,i):j=a(b,t,l,x),Array.isArray(j))j.forEach(N=>{var E=bA(bA({},y),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});p.push(t6({tooltipEntrySettings:E,dataKey:N.dataKey,payload:N.payload,value:or(N.payload,N.dataKey),name:N.name}))});else{var O;p.push(t6({tooltipEntrySettings:y,dataKey:w,payload:j,value:or(j,w),name:(O=or(j,x))!==null&&O!==void 0?O:y==null?void 0:y.name}))}return p},f)}},yN=Se([Sn,Rt,vR,qj,Nn],PR),eoe=Se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),toe=Se([Nn,_f],Jj),um=Se([eoe,Sn,toe],Zj,{memoizeOptions:{resultEqualityCheck:f1}}),roe=Se([um],e=>e.filter(u1)),noe=Se([um],Qj,{memoizeOptions:{resultEqualityCheck:f1}}),Af=Se([noe,Jl],eN),ioe=Se([roe,Jl,Sn],pR),bN=Se([Af,Sn,um],rN),ZR=Se([Sn],nN),aoe=Se([Sn],e=>e.allowDataOverflow),QR=Se([ZR,aoe],HI),soe=Se([um],e=>e.filter(u1)),ooe=Se([ioe,soe,im],_R),loe=Se([ooe,Jl,Nn,QR],jR),coe=Se([um],bR),uoe=Se([Af,Sn,coe,m1,Nn],sN,{memoizeOptions:{resultEqualityCheck:d1}}),doe=Se([NR,Nn,_f],jf),foe=Se([doe,Nn],AR),hoe=Se([SR,Nn,_f],jf),poe=Se([hoe,Nn],ER),moe=Se([kR,Nn,_f],jf),goe=Se([moe,Nn],OR),voe=Se([foe,goe,poe],Uv),yoe=Se([Sn,ZR,QR,loe,uoe,voe,Rt,Nn],oN),eM=Se([Sn,Rt,Af,bN,im,Nn,yoe],lN),boe=Se([eM,Sn,yN],dN),xoe=Se([Sn,eM,boe,Nn],hN),tM=e=>{var t=Nn(e),r=_f(e),n=!1;return lm(e,t,r,n)},rM=Se([Sn,tM],l1),nM=Se([Sn,yN,xoe,rM],uN),woe=Se([Rt,bN,Sn,Nn],DR),_oe=Se([Rt,bN,Sn,Nn],BR),joe=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=Vl(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pn(i[0]-i[1])*2*f:f,u&&s?s.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:a?a[p]:p,index:h,offset:f}))}}},Uo=Se([Rt,Sn,yN,nM,tM,woe,_oe,Nn],joe),xN=Se([$R,UR,Mse],(e,t,r)=>zR(r.shared,e,t)),iM=e=>e.tooltip.settings.trigger,wN=e=>e.tooltip.settings.defaultIndex,y1=Se([kf,xN,iM,wN],GR),Fl=Se([y1,Af],vN),aM=Se([Uo,Fl],qR),sM=Se([y1],e=>{if(e)return e.dataKey}),oM=Se([kf,xN,iM,wN],XR),Noe=Se([Mo,Do,Rt,_n,Uo,wN,oM,cm],YR),Soe=Se([y1,Noe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),koe=Se([y1],e=>e.active),Aoe=Se([oM,Fl,Jl,wR,aM,cm,xN],JR),Eoe=Se([Aoe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){Ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ooe(e,t,r){return(t=Poe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Toe=()=>rt(Sn),Loe=()=>{var e=Toe(),t=rt(Uo),r=rt(nM);return Jd(!e||!r?void 0:wA(wA({},e),{},{scale:r}),t)};function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){Ioe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ioe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Moe(e,"string");return typeof t=="symbol"?t:t+""}function Moe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Doe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Boe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Zu(Zu(Zu({},n),sn(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Zu(Zu(Zu({},n),sn(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Foe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var lM=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Pn(d-u)!==Pn(f-d)){var h=[];if(Pn(f-d)===Pn(i[1]-i[0])){p=f;var m=d+i[1]-i[0];h[0]=Math.min(m,(m+u)/2),h[1]=Math.max(m,(m+u)/2)}else{p=u;var g=f+i[1]-i[0];h[0]=Math.min(d,(g+d)/2),h[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:s}=r[l]);break}}else{var v=Math.min(u,f),b=Math.max(u,f);if(e>(v+d)/2&&e<=(b+d)/2){({index:s}=r[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},$oe=()=>rt(qj),_N=(e,t)=>t,cM=(e,t,r)=>r,jN=(e,t,r,n)=>n,Uoe=Se(Uo,e=>zy(e,t=>t.coordinate)),NN=Se([kf,_N,cM,jN],GR),uM=Se([NN,Af],vN),zoe=(e,t,r)=>{if(t!=null){var n=kf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dM=Se([kf,_N,cM,jN],XR),zv=Se([Mo,Do,Rt,_n,Uo,jN,dM,cm],YR),qoe=Se([NN,zv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),fM=Se([Uo,uM],qR),Woe=Se([dM,uM,Jl,wR,fM,cm,_N],JR),Hoe=Se([NN],e=>({isActive:e.active,activeIndex:e.index})),Koe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&Foe(e,s)){var o=Zee(e,t),l=lM(o,a,i,r,n),u=Doe(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},Voe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=Bre(e,r);if(o){var l=Qee(o,t),u=lM(l,s,a,n,i),d=Boe(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},Goe=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Koe(e,t,n,i,a,s,o):Voe(e,t,r,n,i,a,s)},Yoe=Se(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Xoe=Se(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(on)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Dae}});function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zoe(e){var t=Qoe(e,"string");return typeof t=="symbol"?t:t+""}function Qoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ele={},tle={zIndexMap:Object.values(on).reduce((e,t)=>NA(NA({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),ele)},rle=new Set(Object.values(on));function nle(e){return rle.has(e)}var hM=Di({name:"zIndex",initialState:tle,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!nle(r)&&delete e.zIndexMap[r])},prepare:xn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:xn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:xn()}}}),{registerZIndexPortal:ile,unregisterZIndexPortal:ale,registerZIndexPortalId:sle,unregisterZIndexPortalId:ole}=hM.actions,lle=hM.reducer;function Bi(e){var{zIndex:t,children:r}=e,n=Ste(),i=n&&t!==void 0&&t!==0,a=oi(),s=_r();T.useLayoutEffect(()=>i?(s(ile({zIndex:t})),()=>{s(ale({zIndex:t}))}):Nu,[s,t,i]);var o=rt(u=>Yoe(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?wy.createPortal(r,l):null}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(null,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cle(e,t,r){return(t=ule(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ule(e){var t=dle(e,"string");return typeof t=="symbol"?t:t+""}function dle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fle(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return T.isValidElement(t)?T.cloneElement(t,n):T.createElement(r,n)}function hle(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=r,p=n,h=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var m,g,y;if(d==="ScatterChart")m=f,g=ere,y=on.cursorLine;else if(d==="BarChart")m=tre(o,f,a,s),g=rI,y=on.cursorRectangle;else if(o==="radial"&&CL(f)){var{cx:v,cy:b,radius:w,startAngle:x,endAngle:j}=iI(f);m={cx:v,cy:b,startAngle:x,endAngle:j,innerRadius:w,outerRadius:w},g=sI,y=on.cursorLine}else m={points:zre(o,f,a)},g=gj,y=on.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,N=z0(z0(z0(z0({stroke:"#ccc",pointerEvents:"none"},a),m),lu(l)),{},{payload:p,payloadIndex:h,className:zt("recharts-tooltip-cursor",O)});return T.createElement(Bi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},T.createElement(fle,{cursor:l,cursorComp:g,cursorProps:N}))}function ple(e){var t=Loe(),r=H7(),n=Jp(),i=$oe();return t==null||r==null||n==null||i==null?null:T.createElement(hle,Qw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var pM=T.createContext(null),mle=()=>T.useContext(pM),mM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||l,p),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,m=new Array(h);p<h;p++)m[p]=f[p].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,p,h,m){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,p),!0;case 5:return y.fn.call(y.context,d,f,p,h),!0;case 6:return y.fn.call(y.context,d,f,p,h,m),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var x=y.length,j;for(w=0;w<x;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,p);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var m=this._events[h];if(m.fn)m.fn===d&&(!p||m.once)&&(!f||m.context===f)&&s(this,h);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==d||p&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(mM);var gle=mM.exports;const vle=$s(gle);var Cp=new vle,e5="recharts.syncEvent.tooltip",kA="recharts.syncEvent.brush";function SN(e,t){if(t){var r=Number.parseInt(t,10);if(!ds(r))return e==null?void 0:e[r]}}var yle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gM=Di({name:"options",initialState:yle,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ble=gM.reducer,{createEventEmitter:xle}=gM.actions;function wle(e){return e.tooltip.syncInteraction}var _le={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vM=Di({name:"chartData",initialState:_le,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:AA,setDataStartEndIndexes:jle,setComputedData:Hye}=vM.actions,Nle=vM.reducer,Sle=["x","y"];function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){kle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t,r){return(t=Ale(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ale(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ole(e,t){if(e==null)return{};var r,n,i=Ple(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ple(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cle(){var e=rt(Wj),t=rt(Hj),r=_r(),n=rt(lR),i=rt(Uo),a=Jp(),s=Zy(),o=rt(l=>l.rootProps.className);T.useEffect(()=>{if(e==null)return Nu;var l=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var p;if(s&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:m,y:g}=h,y=Ole(h,Sle),{x:v,y:b,width:w,height:x}=d.payload.sourceViewBox,j=Qu(Qu({},y),{},{x:s.x+(w?(m-v)/w:0)*s.width,y:s.y+(x?(g-b)/x:0)*s.height});r(Qu(Qu({},d),{},{payload:Qu(Qu({},d.payload),{},{coordinate:j})}))}else r(d);return}if(i!=null){var O;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(i,N);O=i[E]}else n==="value"&&(O=i.find(J=>String(J.value)===d.payload.label));var{coordinate:P}=d.payload;if(O==null||d.payload.active===!1||P==null||s==null){r(Jw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:S}=P,A=Math.min(C,s.x+s.width),I=Math.min(S,s.y+s.height),D={x:a==="horizontal"?O.coordinate:A,y:a==="horizontal"?I:O.coordinate},U=Jw({active:d.payload.active,coordinate:D,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(U)}}};return Cp.on(e5,l),()=>{Cp.off(e5,l)}},[o,r,t,e,n,i,a,s])}function Tle(){var e=rt(Wj),t=rt(Hj),r=_r();T.useEffect(()=>{if(e==null)return Nu;var n=(i,a,s)=>{t!==s&&e===i&&r(jle(a))};return Cp.on(kA,n),()=>{Cp.off(kA,n)}},[r,t,e])}function Lle(){var e=_r();T.useEffect(()=>{e(xle())},[e]),Cle(),Tle()}function Ile(e,t,r,n,i,a){var s=rt(h=>zoe(h,e,t)),o=rt(Hj),l=rt(Wj),u=rt(lR),d=rt(wle),f=d==null?void 0:d.active,p=Zy();T.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=Jw({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p});Cp.emit(e5,l,h,o)}},[f,r,s,i,n,o,l,u,a,p])}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){Rle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rle(e,t,r){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mle(e){var t=Dle(e,"string");return typeof t=="symbol"?t:t+""}function Dle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ble(e){return e.dataKey}function Fle(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(Tte,t)}var CA=[],$le={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function t5(e){var t,r,n=In(e,$le),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:h,reverseDirection:m,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:x,portal:j,axisId:O}=n,N=_r(),E=typeof x=="number"?String(x):x;T.useEffect(()=>{N($se({shared:b,trigger:w,axisId:O,active:i,defaultIndex:E}))},[N,b,w,O,i,E]);var P=Zy(),C=J7(),S=Rse(b),{activeIndex:A,isActive:I}=(t=rt(Q=>Hoe(Q,S,w,E)))!==null&&t!==void 0?t:{},D=rt(Q=>Woe(Q,S,w,E)),U=rt(Q=>fM(Q,S,w,E)),J=rt(Q=>qoe(Q,S,w,E)),X=D,H=mle(),W=(r=i??I)!==null&&r!==void 0?r:!1,[V,$]=$Q([X,W]),R=S==="axis"?U:void 0;Ile(S,w,J,R,A,W);var B=j??H;if(B==null||P==null||S==null)return null;var z=X??CA;W||(z=CA),u&&z.length&&(z=iQ(z.filter(Q=>Q.value!=null&&(Q.hide!==!0||n.includeHidden)),p,Ble));var K=z.length>0,q=T.createElement(Fte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:W,coordinate:J,hasPayload:K,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:P,wrapperStyle:y,lastBoundingBox:V,innerRef:$,hasPortalFromProps:!!j},Fle(l,PA(PA({},n),{},{payload:z,label:R,active:W,activeIndex:A,coordinate:J,accessibilityLayer:C})));return T.createElement(T.Fragment,null,wy.createPortal(q,B),W&&T.createElement(ple,{cursor:v,tooltipEventType:S,coordinate:J,payload:z,index:A}))}var tf=e=>null;tf.displayName="Cell";function Ule(e,t,r){return(t=zle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zle(e){var t=qle(e,"string");return typeof t=="symbol"?t:t+""}function qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wle{constructor(t){Ule(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){Kle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kle(e,t,r){return(t=Vle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vle(e){var t=Gle(e,"string");return typeof t=="symbol"?t:t+""}function Gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yle={cacheSize:2e3,enableCache:!0},yM=Hle({},Yle),LA=new Wle(yM.cacheSize),Xle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IA="recharts_measurement_span";function Jle(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var RA=(e,t)=>{try{var r=document.getElementById(IA);r||(r=document.createElement("span"),r.setAttribute("id",IA),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Xle,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gl.isSsr)return{width:0,height:0};if(!yM.enableCache)return RA(t,r);var n=Jle(t,r),i=LA.get(n);if(i)return i;var a=RA(t,r);return LA.set(n,a),a},MA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ece=Object.keys(bM),_d="NaN";function tce(e,t){return e*bM[t]}class Oi{static parse(t){var r,[,n,i]=(r=Qle.exec(t))!==null&&r!==void 0?r:[];return new Oi(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ds(t)&&(this.unit=""),r!==""&&!Zle.test(r)&&(this.num=NaN,this.unit=""),ece.includes(r)&&(this.num=tce(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Oi(NaN,""):new Oi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Oi(NaN,""):new Oi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Oi(NaN,""):new Oi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Oi(NaN,""):new Oi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ds(this.num)}}function xM(e){if(e.includes(_d))return _d;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=MA.exec(t))!==null&&r!==void 0?r:[],s=Oi.parse(n??""),o=Oi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return _d;t=t.replace(MA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=DA.exec(t))!==null&&u!==void 0?u:[],h=Oi.parse(d??""),m=Oi.parse(p??""),g=f==="+"?h.add(m):h.subtract(m);if(g.isNaN())return _d;t=t.replace(DA,g.toString())}return t}var BA=/\(([^()]*)\)/;function rce(e){for(var t=e,r;(r=BA.exec(t))!=null;){var[,n]=r;t=t.replace(BA,xM(n))}return t}function nce(e){var t=e.replace(/\s+/g,"");return t=rce(t),t=xM(t),t}function ice(e){try{return nce(e)}catch{return _d}}function _x(e){var t=ice(e.slice(5,-1));return t===_d?"":t}var ace=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sce=["dx","dy","angle","className","breakAll"];function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r5.apply(null,arguments)}function FA(e,t){if(e==null)return{};var r,n,i=oce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wM=/[ \f\n\r\t\v\u2028\u2029]+/,_M=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];wr(t)||(r?i=t.toString().split(""):i=t.toString().split(wM));var a=i.map(o=>({word:o,width:Xh(o,n).width})),s=r?0:Xh("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function lce(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var jM=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),NM=e=>e.reduce((t,r)=>t.width>r.width?t:r),cce="",$A=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=_M({breakAll:r,style:n,children:l+cce});if(!u)return[!1,[]];var d=jM(u.wordsWithComputedWidth,a,s,o),f=d.length>i||NM(d).width>Number(a);return[f,d]},uce=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=tt(a),d=String(s),f=jM(t,n,r,i);if(!u||i)return f;var p=f.length>a||NM(f).width>Number(n);if(!p)return f;for(var h=0,m=d.length-1,g=0,y;h<=m&&g<=d.length-1;){var v=Math.floor((h+m)/2),b=v-1,[w,x]=$A(d,b,l,o,a,n,r,i),[j]=$A(d,v,l,o,a,n,r,i);if(!w&&!j&&(h=v+1),w&&j&&(m=v-1),!w&&j){y=x;break}g++}return y||f},UA=e=>{var t=wr(e)?[]:e.toString().split(wM);return[{words:t,width:void 0}]},dce=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Gl.isSsr){var o,l,u=_M({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return UA(n);return uce({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return UA(n)},SM="#808080",fce={breakAll:!1,capHeight:"0.71em",fill:SM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},b1=T.forwardRef((e,t)=>{var r=In(e,fce),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=r,f=FA(r,ace),p=T.useMemo(()=>dce({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:h,dy:m,angle:g,className:y,breakAll:v}=f,b=FA(f,sce);if(!Ds(n)||!Ds(i)||p.length===0)return null;var w=Number(n)+(tt(h)?h:0),x=Number(i)+(tt(m)?m:0);if(!Xr(w)||!Xr(x))return null;var j;switch(d){case"start":j=_x("calc(".concat(s,")"));break;case"middle":j=_x("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=_x("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(l){var N=p[0].width,{width:E}=f;O.push("scale(".concat(tt(E)&&tt(N)?E/N:1,")"))}return g&&O.push("rotate(".concat(g,", ").concat(w,", ").concat(x,")")),O.length&&(b.transform=O.join(" ")),T.createElement("text",r5({},_i(b),{ref:t,x:w,y:x,className:zt("recharts-text",y),textAnchor:u,fill:o.includes("url")?SM:o}),p.map((P,C)=>{var S=P.words.join(v?"":" ");return T.createElement("tspan",{x:w,dy:C===0?j:a,key:"".concat(S,"-").concat(C)},S)}))});b1.displayName="Text";var hce=["labelRef"];function pce(e,t){if(e==null)return{};var r,n,i=mce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gce(e,t,r){return(t=vce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vce(e){var t=yce(e,"string");return typeof t=="symbol"?t:t+""}function yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}var kM=T.createContext(null),bce=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=T.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return T.createElement(kM.Provider,{value:l},o)},AM=()=>{var e=T.useContext(kM),t=Zy();return e||W7(t)},xce=T.createContext(null),wce=()=>{var e=T.useContext(xce),t=rt(hR);return e||t},_ce=e=>{var{value:t,formatter:r}=e,n=wr(e.children)?t:e.children;return typeof r=="function"?r(n):n},kN=e=>e!=null&&typeof e=="function",jce=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Nce=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:h}=i,m=(u+d)/2,g=jce(f,p),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=h;break;case"insideEnd":v=p-y*a,b=!h;break;case"end":v=p+y*a,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=sn(o,l,m,v),x=sn(o,l,m,v+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(x.x,",").concat(x.y),O=wr(e.id)?wp("recharts-radial-line-"):e.id;return T.createElement("text",co({},n,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:O,d:j})),T.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Sce=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=sn(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:h,y:m}=sn(n,i,p,u);return{x:h,y:m,textAnchor:"middle",verticalAnchor:"middle"}},n5=e=>"cx"in e&&tt(e.cx),kce=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!n5(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,p=s+(l-u)/2,h=(f+p)/2,m=(l+u)/2,g=f+l/2,y=d>=0?1:-1,v=y*n,b=y>0?"end":"start",w=y>0?"start":"end",x=l>=0?1:-1,j=x*n,O=x>0?"end":"start",N=x>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:b};return Wr(Wr({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var P={x:p+u/2,y:o+d+v,textAnchor:"middle",verticalAnchor:w};return Wr(Wr({},P),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var C={x:h-j,y:o+d/2,textAnchor:O,verticalAnchor:"middle"};return Wr(Wr({},C),a?{width:Math.max(C.x-a.x,0),height:d}:{})}if(i==="right"){var S={x:h+m+j,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Wr(Wr({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:d}:{})}var A=a?{width:m,height:d}:{};return i==="insideLeft"?Wr({x:h+j,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},A):i==="insideRight"?Wr({x:h+m-j,y:o+d/2,textAnchor:O,verticalAnchor:"middle"},A):i==="insideTop"?Wr({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:w},A):i==="insideBottom"?Wr({x:p+u/2,y:o+d-v,textAnchor:"middle",verticalAnchor:b},A):i==="insideTopLeft"?Wr({x:f+j,y:o+v,textAnchor:N,verticalAnchor:w},A):i==="insideTopRight"?Wr({x:f+l-j,y:o+v,textAnchor:O,verticalAnchor:w},A):i==="insideBottomLeft"?Wr({x:p+j,y:o+d-v,textAnchor:N,verticalAnchor:b},A):i==="insideBottomRight"?Wr({x:p+u-j,y:o+d-v,textAnchor:O,verticalAnchor:b},A):i&&typeof i=="object"&&(tt(i.x)||So(i.x))&&(tt(i.y)||So(i.y))?Wr({x:s+ai(i.x,m),y:o+ai(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):Wr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Ace={offset:5,zIndex:on.label};function pl(e){var t=In(e,Ace),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=wce(),f=AM(),p=n==="center"?f:d??f,h,m,g;if(r==null?h=p:n5(r)?h=r:h=W7(r),!h||wr(i)&&wr(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var y=Wr(Wr({},t),{},{viewBox:h});if(T.isValidElement(s)){var{labelRef:v}=y,b=pce(y,hce);return T.cloneElement(s,b)}if(typeof s=="function"){if(m=T.createElement(s,y),T.isValidElement(m))return m}else m=_ce(t);var w=_i(t);if(n5(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Nce(t,n,m,w,h);g=Sce(h,t.offset,t.position)}else g=kce(t,h);return T.createElement(Bi,{zIndex:t.zIndex},T.createElement(b1,co({ref:u,className:zt("recharts-label",o)},w,g,{textAnchor:lce(w.textAnchor)?w.textAnchor:g.textAnchor,breakAll:l}),m))}pl.displayName="Label";var Ece=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(pl,co({key:"label-implicit"},n)):Ds(e)?T.createElement(pl,co({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===pl?T.cloneElement(e,Wr({key:"label-implicit"},n)):T.createElement(pl,co({key:"label-implicit",content:e},n)):kN(e)?T.createElement(pl,co({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(pl,co({},e,{key:"label-implicit"},n)):null};function Oce(e){var{label:t,labelRef:r}=e,n=AM();return Ece(t,n,r)||null}var EM={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(OM);var PM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(PM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM,r=PM,n=$y;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(EM);var Pce=EM.last;const Cce=$s(Pce);var Tce=["valueAccessor"],Lce=["dataKey","clockWise","id","textBreakAll","zIndex"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}function qA(e,t){if(e==null)return{};var r,n,i=Ice(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ice(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rce=e=>Array.isArray(e.value)?Cce(e.value):e.value,CM=T.createContext(void 0),TM=CM.Provider,LM=T.createContext(void 0),Mce=LM.Provider;function Dce(){return T.useContext(CM)}function Bce(){return T.useContext(LM)}function yg(e){var{valueAccessor:t=Rce}=e,r=qA(e,Tce),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=qA(r,Lce),u=Dce(),d=Bce(),f=u||d;return!f||!f.length?null:T.createElement(Bi,{zIndex:o??on.label},T.createElement(Tn,{className:"recharts-label-list"},f.map((p,h)=>{var m,g=wr(n)?t(p,h):or(p&&p.payload,n),y=wr(a)?{}:{id:"".concat(a,"-").concat(h)};return T.createElement(pl,qv({key:"label-".concat(h)},_i(p),l,y,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:s,viewBox:p.viewBox,index:h,zIndex:0}))})))}yg.displayName="LabelList";function AN(e){var{label:t}=e;return t?t===!0?T.createElement(yg,{key:"labelList-implicit"}):T.isValidElement(t)||kN(t)?T.createElement(yg,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(yg,qv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function i5(){return i5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i5.apply(null,arguments)}var IM=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=zt("recharts-dot",i);return tt(t)&&tt(r)&&tt(n)?T.createElement("circle",i5({},da(e),X_(e),{className:a,cx:t,cy:r,r:n})):null},RM=e=>e.graphicalItems.polarItems,Fce=Se([jr,am],Jj),x1=Se([RM,Pr,Fce],Zj),$ce=Se([x1],Qj),w1=Se([$ce,$j],eN),Uce=Se([w1,Pr,x1],rN);Se([w1,Pr,x1],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=or(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:or(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var WA=()=>{},zce=Se([w1,Pr,x1,m1,jr],sN),qce=Se([Pr,iN,aN,WA,zce,WA,Rt,jr],oN),MM=Se([Pr,Rt,w1,Uce,im,jr,qce],lN),Wce=Se([MM,Pr,Nf],dN);Se([Pr,MM,Wce,jr],hN);var Hce={radiusAxis:{},angleAxis:{}},DM=Di({name:"polarAxis",initialState:Hce,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Kye,removeRadiusAxis:Vye,addAngleAxis:Gye,removeAngleAxis:Yye}=DM.actions,Kce=DM.reducer;function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){Vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vce(e,t,r){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gce(e){var t=Yce(e,"string");return typeof t=="symbol"?t:t+""}function Yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xce=(e,t)=>t,EN=Se([RM,Xce],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Jce=[],ON=(e,t,r)=>(r==null?void 0:r.length)===0?Jce:r,BM=Se([$j,EN,ON],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>KA(KA({},t.presentationProps),a.props))),i!=null)return i}}),Zce=Se([BM,EN,ON],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=or(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:yf(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Qce=Se([BM,EN,ON,_n],(e,t,r,n)=>{if(!(t==null||e==null))return Xue({offset:n,pieSettings:t,displayedData:e,cells:r})}),FM={exports:{}},tr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN=Symbol.for("react.transitional.element"),CN=Symbol.for("react.portal"),_1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),N1=Symbol.for("react.profiler"),S1=Symbol.for("react.consumer"),k1=Symbol.for("react.context"),A1=Symbol.for("react.forward_ref"),E1=Symbol.for("react.suspense"),O1=Symbol.for("react.suspense_list"),P1=Symbol.for("react.memo"),C1=Symbol.for("react.lazy"),eue=Symbol.for("react.view_transition"),tue=Symbol.for("react.client.reference");function Ua(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PN:switch(e=e.type,e){case _1:case N1:case j1:case E1:case O1:case eue:return e;default:switch(e=e&&e.$$typeof,e){case k1:case A1:case C1:case P1:return e;case S1:return e;default:return t}}case CN:return t}}}tr.ContextConsumer=S1;tr.ContextProvider=k1;tr.Element=PN;tr.ForwardRef=A1;tr.Fragment=_1;tr.Lazy=C1;tr.Memo=P1;tr.Portal=CN;tr.Profiler=N1;tr.StrictMode=j1;tr.Suspense=E1;tr.SuspenseList=O1;tr.isContextConsumer=function(e){return Ua(e)===S1};tr.isContextProvider=function(e){return Ua(e)===k1};tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PN};tr.isForwardRef=function(e){return Ua(e)===A1};tr.isFragment=function(e){return Ua(e)===_1};tr.isLazy=function(e){return Ua(e)===C1};tr.isMemo=function(e){return Ua(e)===P1};tr.isPortal=function(e){return Ua(e)===CN};tr.isProfiler=function(e){return Ua(e)===N1};tr.isStrictMode=function(e){return Ua(e)===j1};tr.isSuspense=function(e){return Ua(e)===E1};tr.isSuspenseList=function(e){return Ua(e)===O1};tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_1||e===N1||e===j1||e===E1||e===O1||typeof e=="object"&&e!==null&&(e.$$typeof===C1||e.$$typeof===P1||e.$$typeof===k1||e.$$typeof===S1||e.$$typeof===A1||e.$$typeof===tue||e.getModuleId!==void 0)};tr.typeOf=Ua;FM.exports=tr;var rue=FM.exports,VA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GA=null,jx=null,$M=e=>{if(e===GA&&Array.isArray(jx))return jx;var t=[];return T.Children.forEach(e,r=>{wr(r)||(rue.isFragment(r)?t=t.concat($M(r.props.children)):t.push(r))}),jx=t,GA=e,t};function TN(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>VA(i)):n=[VA(t)],$M(e).forEach(i=>{var a=cu(i,"type.displayName")||cu(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var UM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(zM);var nue=zM.isPlainObject;const iue=$s(nue);function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}var JA=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},lue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cue=e=>{var t=In(e,lue),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=T.useRef(null),[h,m]=T.useState(-1),g=T.useRef(i),y=T.useRef(a),v=T.useRef(s),b=T.useRef(r),w=T.useRef(n),x=Qp(e,"trapezoid-");if(T.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var D=p.current.getTotalLength();D&&m(D)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=zt("recharts-trapezoid",o);if(!f)return T.createElement("g",null,T.createElement("path",Wv({},_i(t),{className:j,d:JA(r,n,i,a,s)})));var O=g.current,N=y.current,E=v.current,P=b.current,C=w.current,S="0px ".concat(h===-1?1:h,"px"),A="".concat(h,"px 0px"),I=Z7(["strokeDasharray"],u,l);return T.createElement(Zp,{animationId:x,key:x,canBegin:h>0,duration:u,easing:l,isActive:f,begin:d},D=>{var U=vr(O,i,D),J=vr(N,a,D),X=vr(E,s,D),H=vr(P,r,D),W=vr(C,n,D);p.current&&(g.current=U,y.current=J,v.current=X,b.current=H,w.current=W);var V=D>0?{transition:I,strokeDasharray:A}:{strokeDasharray:S};return T.createElement("path",Wv({},_i(t),{className:j,d:JA(H,W,U,J,X),ref:p,style:XA(XA({},V),t.style)}))})},uue=["option","shapeType","propTransformer","activeClassName","isActive"];function due(e,t){if(e==null)return{};var r,n,i=fue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return(t=pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pue(e){var t=mue(e,"string");return typeof t=="symbol"?t:t+""}function mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gue(e,t){return Hv(Hv({},t),e)}function vue(e,t){return e==="symbols"}function QA(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(rI,r);case"trapezoid":return T.createElement(cue,r);case"sector":return T.createElement(sI,r);case"symbols":if(vue(t))return T.createElement(PL,r);break;case"curve":return T.createElement(gj,r);default:return null}}function yue(e){return T.isValidElement(e)?e.props:e}function LN(e){var{option:t,shapeType:r,propTransformer:n=gue,activeClassName:i="recharts-active-shape",isActive:a}=e,s=due(e,uue),o;if(T.isValidElement(t))o=T.cloneElement(t,Hv(Hv({},s),yue(t)));else if(typeof t=="function")o=t(s);else if(iue(t)&&typeof t!="boolean"){var l=n(t,s);o=T.createElement(QA,{shapeType:r,elementProps:l})}else{var u=s;o=T.createElement(QA,{shapeType:r,elementProps:u})}return a?T.createElement(Tn,{className:i},o):o}var IN=(e,t)=>{var r=_r();return(n,i)=>a=>{e==null||e(n,i,a),r(HR({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},RN=e=>{var t=_r();return(r,n)=>i=>{e==null||e(r,n,i),t(Use())}},MN=(e,t)=>{var r=_r();return(n,i)=>a=>{e==null||e(n,i,a),r(zse({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function DN(e){var{fn:t,args:r}=e,n=_r(),i=oi();return T.useLayoutEffect(()=>{if(!i){var a=t(r);return n(Bse(a)),()=>{n(Fse(a))}}},[t,r,n,i]),null}function qM(e){var{legendPayload:t}=e,r=_r(),n=oi();return T.useLayoutEffect(()=>n?Nu:(r(Y7(t)),()=>{r(X7(t))}),[r,n,t]),null}function bue(e){var{legendPayload:t}=e,r=_r(),n=rt(Rt);return T.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?Nu:(r(Y7(t)),()=>{r(X7(t))}),[r,n,t]),null}var Nx,xue=()=>{var[e]=T.useState(()=>wp("uid-"));return e},wue=(Nx=eP.useId)!==null&&Nx!==void 0?Nx:xue;function WM(e,t){var r=wue();return t||(e?"".concat(e,"-").concat(r):r)}var _ue=T.createContext(void 0),BN=e=>{var{id:t,type:r,children:n}=e,i=WM("recharts-".concat(r),t);return T.createElement(_ue.Provider,{value:i},n(i))},jue={cartesianItems:[],polarItems:[]},HM=Di({name:"graphicalItems",initialState:jue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=yo(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:xn()},removeCartesianGraphicalItem:{reducer(e,t){var r=yo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:xn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xn()},removePolarGraphicalItem:{reducer(e,t){var r=yo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:xn()}}}),{addCartesianGraphicalItem:Nue,replaceCartesianGraphicalItem:Sue,removeCartesianGraphicalItem:kue,addPolarGraphicalItem:Aue,removePolarGraphicalItem:Eue}=HM.actions,Oue=HM.reducer;function KM(e){var t=_r(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(Nue(e)):r.current!==e&&t(Sue({prev:r.current,next:e})),r.current=e},[t,e]),T.useLayoutEffect(()=>()=>{r.current&&(t(kue(r.current)),r.current=null)},[t]),null}function Pue(e){var t=_r();return T.useLayoutEffect(()=>(t(Aue(e)),()=>{t(Eue(e))}),[t,e]),null}var Cue=["onMouseEnter","onClick","onMouseLeave"],Tue=["id"],Lue=["id"];function FN(e,t){if(e==null)return{};var r,n,i=Iue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Iue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){Rue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rue(e,t,r){return(t=Mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mue(e){var t=Due(e,"string");return typeof t=="symbol"?t:t+""}function Due(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(null,arguments)}function Bue(e){var t=T.useMemo(()=>TN(e.children,tf),[e.children]),r=rt(n=>Zce(n,e.id,t));return r==null?null:T.createElement(bue,{legendPayload:r})}function Fue(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:yf(o,t),hide:l,type:u,color:s,unit:""}}}var $ue=(e,t)=>e>t?"start":e<t?"end":"middle",Uue=(e,t,r)=>ai(typeof t=="function"?t(e):t,r,r*.8),zue=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=nI(a,s),l=i+ai(e.cx,a,a/2),u=n+ai(e.cy,s,s/2),d=ai(e.innerRadius,o,0),f=Uue(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},que=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Wue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Hue=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var r=zt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return T.createElement(gj,$l({},t,{type:"linear",className:r}))},Kue=(e,t,r)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),T.isValidElement(n)))return n;var i=zt("recharts-pie-label-text",Wue(e));return T.createElement(b1,$l({},t,{alignmentBaseline:"middle",className:i}),n)};function Vue(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=da(r),l=lu(i),u=lu(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((p,h)=>{var m=(p.startAngle+p.endAngle)/2,g=sn(p.cx,p.cy,p.outerRadius+d,m),y=yr(yr(yr(yr({},o),p),{},{stroke:"none"},l),{},{index:h,textAnchor:$ue(g.x,p.cx)},g),v=yr(yr(yr(yr({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:h,points:[sn(p.cx,p.cy,p.outerRadius,m),g],key:"line"});return T.createElement(Bi,{zIndex:on.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},T.createElement(Tn,null,a&&Hue(a,v),Kue(i,y,or(p,s))))});return T.createElement(Tn,{className:"recharts-pie-labels"},f)}function Gue(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(AN,{label:i}):T.createElement(Vue,{sectors:t,props:r,showLabels:n})}function Yue(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=rt(Fl),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,u=FN(i,Cue),d=IN(s,i.dataKey),f=RN(l),p=MN(o,i.dataKey);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((h,m)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var g=r&&String(m)===a,y=a?n:null,v=g?r:y,b=yr(yr({},h),{},{stroke:h.stroke,tabIndex:-1,[M7]:m,[D7]:i.dataKey});return T.createElement(Tn,$l({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(m),tabIndex:-1,className:"recharts-pie-sector"},Fy(u,h,m),{onMouseEnter:d(h,m),onMouseLeave:f(h,m),onClick:p(h,m)}),T.createElement(LN,$l({option:v,isActive:g,shapeType:"sector"},b)))}))}function Xue(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=r,p=Math.abs(r.minAngle),h=que(o,l),m=Math.abs(h),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(O=>or(O,u,0)!==0).length,v=(m>=360?y:y-1)*g,b=m-y*p-v,w=n.reduce((O,N)=>{var E=or(N,u,0);return O+(tt(E)?E:0)},0),x;if(w>0){var j;x=n.map((O,N)=>{var E=or(O,u,0),P=or(O,d,N),C=zue(r,a,O),S=(tt(E)?E:0)/w,A,I=yr(yr({},O),i&&i[N]&&i[N].props);N?A=j.endAngle+Pn(h)*g*(E!==0?1:0):A=o;var D=A+Pn(h)*((E!==0?p:0)+S*b),U=(A+D)/2,J=(C.innerRadius+C.outerRadius)/2,X=[{name:P,value:E,payload:I,dataKey:u,type:f}],H=sn(C.cx,C.cy,J,U);return j=yr(yr(yr(yr({},r.presentationProps),{},{percent:S,cornerRadius:typeof s=="string"?parseFloat(s):s,name:P,tooltipPayload:X,midAngle:U,middleRadius:J,tooltipPosition:H},I),C),{},{value:E,startAngle:A,endAngle:D,payload:I,paddingAngle:Pn(h)*g}),j})}return x}function Jue(e){var{showLabels:t,sectors:r,children:n}=e,i=T.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return T.createElement(Mce,{value:t?i:void 0},n)}function Zue(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,p=Qp(t,"recharts-pie-"),h=r.current,[m,g]=T.useState(!1),y=T.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),v=T.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return T.createElement(Jue,{showLabels:!m,sectors:n},T.createElement(Zp,{animationId:p,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:v,onAnimationEnd:y,key:p},b=>{var w=[],x=n&&n[0],j=x==null?void 0:x.startAngle;return n==null||n.forEach((O,N)=>{var E=h&&h[N],P=N>0?cu(O,"paddingAngle",0):0;if(E){var C=vr(E.endAngle-E.startAngle,O.endAngle-O.startAngle,b),S=yr(yr({},O),{},{startAngle:j+P,endAngle:j+C+P});w.push(S),j=S.endAngle}else{var{endAngle:A,startAngle:I}=O,D=vr(0,A-I,b),U=yr(yr({},O),{},{startAngle:j+P,endAngle:j+D+P});w.push(U),j=U.endAngle}}),r.current=w,T.createElement(Tn,null,T.createElement(Yue,{sectors:w,activeShape:l,inactiveShape:u,allOtherPieProps:t}))}),T.createElement(Gue,{showLabels:!m,sectors:n,props:t}),t.children)}var Que={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Gl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:on.area};function ede(e){var{id:t}=e,r=FN(e,Tue),{hide:n,className:i,rootTabIndex:a}=e,s=T.useMemo(()=>TN(e.children,tf),[e.children]),o=rt(d=>Qce(d,t,s)),l=T.useRef(null),u=zt("recharts-pie",i);return n||o==null?(l.current=null,T.createElement(Tn,{tabIndex:a,className:u})):T.createElement(Bi,{zIndex:e.zIndex},T.createElement(DN,{fn:Fue,args:yr(yr({},e),{},{sectors:o})}),T.createElement(Tn,{tabIndex:a,className:u},T.createElement(Zue,{props:yr(yr({},r),{},{sectors:o}),previousSectorsRef:l})))}function VM(e){var t=In(e,Que),{id:r}=t,n=FN(t,Lue),i=da(n);return T.createElement(BN,{id:r,type:"pie"},a=>T.createElement(T.Fragment,null,T.createElement(Pue,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),T.createElement(Bue,$l({},n,{id:a})),T.createElement(ede,$l({},n,{id:a}))))}VM.displayName="Pie";var tde=["points"];function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rde(e,t,r){return(t=nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nde(e){var t=ide(e,"string");return typeof t=="symbol"?t:t+""}function ide(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function ade(e,t){if(e==null)return{};var r,n,i=sde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ode(e){var{option:t,dotProps:r,className:n}=e;if(T.isValidElement(t))return T.cloneElement(t,r);if(typeof t=="function")return t(r);var i=zt(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=ade(a,tde);return T.createElement(IM,Kv({},o,{className:i}))}function lde(e,t){return e==null?!1:t?!0:e.length===1}function cde(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=on.scatter}=e;if(!lde(t,r))return null;var d=UM(r),f=ZJ(r),p=t.map((m,g)=>{var y,v,b=Sx(Sx(Sx({r:3},s),f),{},{index:g,cx:(y=m.x)!==null&&y!==void 0?y:void 0,cy:(v=m.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:m.value,payload:m.payload,points:t});return T.createElement(ode,{key:"dot-".concat(g),option:r,dotProps:b,className:i})}),h={};return o&&l!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),T.createElement(Bi,{zIndex:u},T.createElement(Tn,Kv({className:n},h),p))}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){ude(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ude(e,t,r){return(t=dde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hde={xAxis:{},yAxis:{},zAxis:{}},GM=Di({name:"cartesianAxis",initialState:hde,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=nE(nE({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:pde,removeXAxis:mde,addYAxis:gde,removeYAxis:vde,addZAxis:Xye,removeZAxis:Jye,updateYAxisWidth:yde}=GM.actions,bde=GM.reducer,xde=Se([_n],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wde=Se([xde,Mo,Do],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$N=()=>rt(wde),_de=()=>rt(Eoe);function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){jde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jde(e,t,r){return(t=Nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nde(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kde=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},o=kx(kx(kx({},s),lu(i)),X_(i)),l;return T.isValidElement(i)?l=T.cloneElement(i,o):typeof i=="function"?l=i(o):l=T.createElement(IM,o),T.createElement(Tn,{className:"recharts-active-dot"},l)};function Ade(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,zIndex:a=on.activeDot}=e,s=rt(Fl),o=_de();if(t==null||o==null)return null;var l=t.find(u=>o.includes(u.payload));return wr(l)?null:T.createElement(Bi,{zIndex:a},T.createElement(kde,{point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n}))}var Ede="Invariant failed";function Ode(e,t){throw new Error(Ede)}var Pde=["x","y"];function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a5.apply(null,arguments)}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){Cde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cde(e,t,r){return(t=Tde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tde(e){var t=Lde(e,"string");return typeof t=="symbol"?t:t+""}function Lde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ide(e,t){if(e==null)return{};var r,n,i=Rde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mde(e,t){var{x:r,y:n}=e,i=Ide(e,Pde),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),p=parseInt(f,10);return xh(xh(xh(xh(xh({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Vv(e){return T.createElement(LN,a5({shapeType:"rectangle",propTransformer:Mde,activeClassName:"recharts-active-bar"},e))}var Dde=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(tt(t))return t;var a=tt(n)||wr(n);return a?t(n,i):(a||Ode(),r)}},Bde={},YM=Di({name:"errorBars",initialState:Bde,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Zye,replaceErrorBar:Qye,removeErrorBar:e1e}=YM.actions,Fde=YM.reducer,$de=["children"];function Ude(e,t){if(e==null)return{};var r,n,i=zde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Wde=T.createContext(qde);function XM(e){var{children:t}=e,r=Ude(e,$de);return T.createElement(Wde.Provider,{value:r},t)}function UN(e,t){var r,n,i=rt(u=>Fo(u,e)),a=rt(u=>$o(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ji.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Zi.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function JM(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=$N(),{needClipX:a,needClipY:s,needClip:o}=UN(t,r);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}function Hde(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Xr(e.zIndex)?e.zIndex:t}var Kde=["onMouseEnter","onMouseLeave","onClick"],Vde=["value","background","tooltipPosition"],Gde=["id"],Yde=["onMouseEnter","onClick","onMouseLeave"];function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(null,arguments)}function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){Xde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xde(e,t,r){return(t=Jde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jde(e){var t=Zde(e,"string");return typeof t=="symbol"?t:t+""}function Zde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gv(e,t){if(e==null)return{};var r,n,i=Qde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var efe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:yf(r,t),payload:e}]};function tfe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:yf(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function rfe(e){var t=rt(Fl),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Gv(a,Kde),d=IN(s,n),f=RN(o),p=MN(l,n);if(!i||r==null)return null;var h=lu(i);return T.createElement(Bi,{zIndex:Hde(i,on.barBackground)},r.map((m,g)=>{var{value:y,background:v,tooltipPosition:b}=m,w=Gv(m,Vde);if(!v)return null;var x=d(m,g),j=f(m,g),O=p(m,g),N=vi(vi(vi(vi(vi({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},v),h),Fy(u,m,g)),{},{onMouseEnter:x,onMouseLeave:j,onClick:O,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return T.createElement(Vv,Co({key:"background-bar-".concat(g)},N))}))}function nfe(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return vi(vi({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return T.createElement(TM,{value:t?i:void 0},r)}function ife(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=rt(Fl),l=rt(sM),u=r&&String(a)===o&&(l==null||s===l),d=u?r:t;return u?T.createElement(Bi,{zIndex:on.activeBar},T.createElement(Vv,Co({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):T.createElement(Vv,Co({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function afe(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return T.createElement(Vv,Co({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function sfe(e){var t,{data:r,props:n}=e,i=(t=da(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Gv(i,Gde),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:p}=n,h=Gv(n,Yde),m=IN(d,l),g=RN(p),y=MN(f,l);return r?T.createElement(T.Fragment,null,r.map((v,b)=>T.createElement(Tn,Co({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b),className:"recharts-bar-rectangle"},Fy(h,v,b),{onMouseEnter:m(v,b),onMouseLeave:g(v,b),onClick:y(v,b)}),u?T.createElement(ife,{shape:o,activeBar:u,baseProps:s,entry:v,index:b,dataKey:l}):T.createElement(afe,{shape:o,baseProps:s,entry:v,index:b,dataKey:l})))):null}function ofe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,p=Qp(t,"recharts-bar-"),[h,m]=T.useState(!1),g=!h,y=T.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),v=T.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return T.createElement(nfe,{showLabels:g,rects:n},T.createElement(Zp,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:v,key:p},b=>{var w=b===1?n:n==null?void 0:n.map((x,j)=>{var O=f&&f[j];if(O)return vi(vi({},x),{},{x:vr(O.x,x.x,b),y:vr(O.y,x.y,b),width:vr(O.width,x.width,b),height:vr(O.height,x.height,b)});if(i==="horizontal"){var N=vr(0,x.height,b),E=vr(x.stackedBarStart,x.y,b);return vi(vi({},x),{},{y:E,height:N})}var P=vr(0,x.width,b),C=vr(x.stackedBarStart,x.x,b);return vi(vi({},x),{},{width:P,x:C})});return b>0&&(r.current=w??null),w==null?null:T.createElement(Tn,null,T.createElement(sfe,{props:t,data:w}))}),T.createElement(AN,{label:t.label}),t.children)}function lfe(e){var t=T.useRef(null);return T.createElement(ofe,{previousRectanglesRef:t,props:e})}var ZM=0,cfe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:or(e,t)}};class ufe extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var d=zt("recharts-bar",i),f=u;return T.createElement(Tn,{className:d,id:u},o&&T.createElement("defs",null,T.createElement(JM,{clipPathId:f,xAxisId:a,yAxisId:s})),T.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},T.createElement(rfe,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),T.createElement(lfe,this.props)))}}var dfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Gl.isSsr,legendType:"rect",minPointSize:ZM,xAxisId:0,yAxisId:0,zIndex:on.bar};function ffe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=UN(t,r),p=Jp(),h=oi(),m=TN(e.children,tf),g=rt(b=>$fe(b,t,r,h,e.id,m));if(p!=="vertical"&&p!=="horizontal")return null;var y,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?y=0:y=p==="vertical"?v.height/2:v.width/2,T.createElement(XM,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:cfe,errorBarOffset:y},T.createElement(ufe,Co({},e,{layout:p,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function hfe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:p,cells:h,parentViewBox:m,dataStartIndex:g}=e,y=t==="horizontal"?o:s,v=d?y.scale.domain():null,b=Gee({numericAxis:y}),w=y.scale(b);return f.map((x,j)=>{var O,N,E,P,C,S;d?O=zee(d[j+g],v):(O=or(x,r),Array.isArray(O)||(O=[b,O]));var A=Dde(n,ZM)(O[1],j);if(t==="horizontal"){var I,[D,U]=[o.scale(O[0]),o.scale(O[1])];N=Zk({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:x,index:j}),E=(I=U??D)!==null&&I!==void 0?I:void 0,P=i.size;var J=D-U;if(C=ds(J)?0:J,S={x:N,y:p.top,width:P,height:p.height},Math.abs(A)>0&&Math.abs(C)<Math.abs(A)){var X=Pn(C||A)*(Math.abs(A)-Math.abs(C));E-=X,C+=X}}else{var[H,W]=[s.scale(O[0]),s.scale(O[1])];if(N=H,E=Zk({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:x,index:j}),P=W-H,C=i.size,S={x:p.left,y:E,width:p.width,height:C},Math.abs(A)>0&&Math.abs(P)<Math.abs(A)){var V=Pn(P||A)*(Math.abs(A)-Math.abs(P));P+=V}}if(N==null||E==null||P==null||C==null)return null;var $=vi(vi({},x),{},{stackedBarStart:w,x:N,y:E,width:P,height:C,value:d?O:O[1],payload:x,background:S,tooltipPosition:{x:N+P/2,y:E+C/2},parentViewBox:m},h&&h[j]&&h[j].props);return $}).filter(Boolean)}function pfe(e){var t=In(e,dfe),r=oi();return T.createElement(BN,{id:t.id,type:"bar"},n=>T.createElement(T.Fragment,null,T.createElement(qM,{legendPayload:efe(t)}),T.createElement(DN,{fn:tfe,args:t}),T.createElement(KM,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Vee(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),T.createElement(Bi,{zIndex:t.zIndex},T.createElement(ffe,Co({},t,{id:n})))))}var QM=T.memo(pfe);QM.displayName="Bar";function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){mfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mfe(e,t,r){return(t=gfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gfe(e){var t=vfe(e,"string");return typeof t=="symbol"?t:t+""}function vfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yfe=(e,t)=>t,bfe=(e,t,r)=>r,xfe=(e,t,r,n)=>n,wfe=(e,t,r,n,i)=>i,dm=Se([h1,wfe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),_fe=Se([dm],e=>e==null?void 0:e.maxBarSize),jfe=(e,t,r,n,i,a)=>a,lE=(e,t,r)=>{var n=r??e;if(!wr(n))return ai(n,t,0)},Nfe=Se([Rt,h1,yfe,bfe,xfe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Sfe=(e,t,r,n)=>{var i=Rt(e);return i==="horizontal"?Xw(e,"yAxis",r,n):Xw(e,"xAxis",t,n)},kfe=(e,t,r)=>{var n=Rt(e);return n==="horizontal"?mA(e,"xAxis",t):mA(e,"yAxis",r)},Afe=(e,t,r)=>{var n={},i=e.filter(u1),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,p=f.map(m=>m.dataKey),h=lE(t,r,f[0].barSize);return{stackId:d,dataKeys:p,barSize:h}}),l=a.map(u=>{var d=[u.dataKey].filter(p=>p!=null),f=lE(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},Efe=Se([Nfe,Cae,kfe],Afe),Ofe=(e,t,r,n,i)=>{var a,s,o=dm(e,t,r,n,i);if(o!=null){var l=Rt(e),u=sR(e),{maxBarSize:d}=o,f=wr(d)?u:d,p,h;return l==="horizontal"?(p=Bl(e,"xAxis",t,n),h=Dl(e,"xAxis",t,n)):(p=Bl(e,"yAxis",r,n),h=Dl(e,"yAxis",r,n)),(a=(s=Jd(p,h,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},eD=(e,t,r,n)=>{var i=Rt(e),a,s;return i==="horizontal"?(a=Bl(e,"xAxis",t,n),s=Dl(e,"xAxis",t,n)):(a=Bl(e,"yAxis",r,n),s=Dl(e,"yAxis",r,n)),Jd(a,s)};function Pfe(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=ai(e,r,0,!0),o,l=[];if(Xr(n[0].barSize)){var u=!1,d=r/a,f=n.reduce((v,b)=>v+(b.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=a*d);var p=(r-f)/2>>0,h={offset:p-s,size:0};o=n.reduce((v,b)=>{var w,x={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+s,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},j=[...v,x];return h=j[j.length-1].position,j},l)}else{var m=ai(t,r,0,!0);r-2*m-(a-1)*s<=0&&(s=0);var g=(r-2*m-(a-1)*s)/a;g>1&&(g>>=0);var y=Xr(i)?Math.min(g,i):g;o=n.reduce((v,b,w)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+s)*w+(g-y)/2,size:y}}],l)}return o}}var Cfe=(e,t,r,n,i,a,s)=>{var o=wr(s)?t:s,l=Pfe(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>q0(q0({},u),{},{position:q0(q0({},u.position),{},{offset:u.position.offset-i/2})}))),l},Tfe=Se([Efe,sR,Pae,oR,Ofe,eD,_fe],Cfe),Lfe=(e,t,r,n)=>Bl(e,"xAxis",t,n),Ife=(e,t,r,n)=>Bl(e,"yAxis",r,n),Rfe=(e,t,r,n)=>Dl(e,"xAxis",t,n),Mfe=(e,t,r,n)=>Dl(e,"yAxis",r,n),Dfe=Se([Tfe,dm],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Bfe=(e,t)=>{var r=Yj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},Ffe=Se([Sfe,dm],Bfe),$fe=Se([_n,pj,Lfe,Ife,Rfe,Mfe,Dfe,Rt,s1,eD,Ffe,dm,jfe],(e,t,r,n,i,a,s,o,l,u,d,f,p)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=f,v;if(y!=null&&y.length>0?v=y:v=h==null?void 0:h.slice(m,g+1),v!=null)return hfe({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:v,offset:e,cells:p,dataStartIndex:m})}}),tD=e=>{var{chartData:t}=e,r=_r(),n=oi();return T.useEffect(()=>n?()=>{}:(r(AA(t)),()=>{r(AA(void 0))}),[t,r,n]),null},cE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rD=Di({name:"brush",initialState:cE,reducers:{setBrushSettings(e,t){return t.payload==null?cE:t.payload}}}),{setBrushSettings:t1e}=rD.actions,Ufe=rD.reducer;function zfe(e,t,r){return(t=qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qfe(e){var t=Wfe(e,"string");return typeof t=="symbol"?t:t+""}function Wfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zN{static create(t){return new zN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}zfe(zN,"EPS",1e-4);function Hfe(e){return(e%180+180)%180}var Kfe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Hfe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Vfe={dots:[],areas:[],lines:[]},nD=Di({name:"referenceElements",initialState:Vfe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=yo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=yo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=yo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:r1e,removeDot:n1e,addArea:i1e,removeArea:a1e,addLine:s1e,removeLine:o1e}=nD.actions,Gfe=nD.reducer,Yfe=T.createContext(void 0),Xfe=e=>{var{children:t}=e,[r]=T.useState("".concat(wp("recharts"),"-clip")),n=$N();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return T.createElement(Yfe.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function rf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function iD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Jfe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Kfe(n,r)}function Zfe(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Yv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Qfe(e,t){return iD(e,t+1)}function ehe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:iD(n,u)};var g=l,y,v=()=>(y===void 0&&(y=r(m,g)),y),b=m.coordinate,w=l===0||Yv(e,b,v,d,o);w||(l=0,d=s,u+=1),w&&(d=b+e*(v()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){the(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function the(e,t,r){return(t=rhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rhe(e){var t=nhe(e,"string");return typeof t=="symbol"?t:t+""}function nhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ihe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var h=a[p],m,g=()=>(m===void 0&&(m=r(h,p)),m);if(p===s-1){var y=e*(h.coordinate+e*g()/2-l);a[p]=h=ri(ri({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else a[p]=h=ri(ri({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var v=Yv(e,h.tickCoord,g,o,l);v&&(l=h.tickCoord-e*(g()/2+i),a[p]=ri(ri({},h),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function ahe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=n[o-1],f=r(d,o-1),p=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=ri(ri({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var h=Yv(e,d.tickCoord,()=>f,l,u);h&&(u=d.tickCoord-e*(f/2+i),s[o-1]=ri(ri({},d),{},{isShow:!0}))}}for(var m=a?o-1:o,g=function(b){var w=s[b],x,j=()=>(x===void 0&&(x=r(w,b)),x);if(b===0){var O=e*(w.coordinate-e*j()/2-l);s[b]=w=ri(ri({},w),{},{tickCoord:O<0?w.coordinate-O*e:w.coordinate})}else s[b]=w=ri(ri({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=Yv(e,w.tickCoord,j,l,u);N&&(l=w.tickCoord+e*(j()/2+i),s[b]=ri(ri({},w),{},{isShow:!0}))}},y=0;y<m;y++)g(y);return s}function qN(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(tt(l)||Gl.isSsr){var p;return(p=Qfe(i,tt(l)?l:0))!==null&&p!==void 0?p:[]}var h=[],m=o==="top"||o==="bottom"?"width":"height",g=d&&m==="width"?Xh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,x)=>{var j=typeof u=="function"?u(w.value,x):w.value;return m==="width"?Jfe(Xh(j,{fontSize:t,letterSpacing:r}),g,f):Xh(j,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Pn(i[1].coordinate-i[0].coordinate):1,b=Zfe(a,v,m);return l==="equidistantPreserveStart"?ehe(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=ahe(v,b,y,i,s,l==="preserveStartEnd"):h=ihe(v,b,y,i,s),h.filter(w=>w.isShow))}var she=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},ohe=["axisLine","width","height","className","hide","ticks","axisType"],lhe=["viewBox"],che=["viewBox"];function s5(e,t){if(e==null)return{};var r,n,i=uhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(null,arguments)}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dhe(e,t,r){return(t=fhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fhe(e){var t=hhe(e,"string");return typeof t=="symbol"?t:t+""}function hhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function phe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=rn(rn(rn({},l),da(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=rn(rn({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=rn(rn({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return T.createElement("line",pu({},u,{className:zt("recharts-cartesian-axis-line",cu(o,"className"))}))}function mhe(e,t,r,n,i,a,s,o,l){var u,d,f,p,h,m,g=o?-1:1,y=e.tickSize||s,v=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,p=r+ +!o*i,f=p-g*y,m=f-g*l,h=v;break;case"left":f=p=e.coordinate,d=t+ +!o*n,u=d-g*y,h=u-g*l,m=v;break;case"right":f=p=e.coordinate,d=t+ +o*n,u=d+g*y,h=u+g*l,m=v;break;default:u=d=e.coordinate,p=r+ +o*i,f=p+g*y,m=f+g*l,h=v;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:h,y:m}}}function ghe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function vhe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function yhe(e){var{option:t,tickProps:r,value:n}=e,i,a=zt(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))i=T.cloneElement(t,rn(rn({},r),{},{className:a}));else if(typeof t=="function")i=t(rn(rn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=zt(s,t==null?void 0:t.className)),i=T.createElement(b1,pu({},r,{className:s}),n)}return i}var bhe=T.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:h,width:m,height:g,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:x,events:j,axisType:O}=e,N=qN(rn(rn({},x),{},{ticks:r}),b,w),E=ghe(d,f),P=vhe(d,f),C=da(x),S=lu(n),A={};typeof i=="object"&&(A=i);var I=rn(rn({},C),{},{fill:"none"},A),D=N.map(X=>rn({entry:X},mhe(X,p,h,m,g,d,y,f,v))),U=D.map(X=>{var{entry:H,line:W}=X;return T.createElement(Tn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&T.createElement("line",pu({},I,W,{className:zt("recharts-cartesian-axis-tick-line",cu(i,"className"))})))}),J=D.map((X,H)=>{var{entry:W,tick:V}=X,$=rn(rn(rn(rn({textAnchor:E,verticalAnchor:P},C),{},{stroke:"none",fill:a},S),V),{},{index:H,payload:W,visibleTicksCount:N.length,tickFormatter:s,padding:l},u);return T.createElement(Tn,pu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Fy(j,W,H)),n&&T.createElement(yhe,{option:n,tickProps:$,value:"".concat(typeof s=="function"?s(W.value,H):W.value).concat(o||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},J.length>0&&T.createElement(Bi,{zIndex:on.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},J)),U.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},U))}),xhe=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=s5(e,ohe),[d,f]=T.useState(""),[p,h]=T.useState(""),m=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return she({ticks:m.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=T.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=v;var b=v[0];if(b){var w=window.getComputedStyle(b),x=w.fontSize,j=w.letterSpacing;(x!==d||j!==p)&&(f(x),h(j))}}},[d,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:T.createElement(Bi,{zIndex:e.zIndex},T.createElement(Tn,{className:zt("recharts-cartesian-axis",a)},T.createElement(phe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:da(e)}),T.createElement(bhe,{ref:g,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),T.createElement(bce,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},T.createElement(Oce,{label:e.label,labelRef:e.labelRef}),e.children)))}),whe=T.memo(xhe,(e,t)=>{var{viewBox:r}=e,n=s5(e,lhe),{viewBox:i}=t,a=s5(t,che);return rf(r,i)&&rf(n,a)}),HN=T.forwardRef((e,t)=>{var r=In(e,WN);return T.createElement(whe,pu({},r,{ref:t}))});HN.displayName="CartesianAxis";var _he=["x1","y1","x2","y2","key"],jhe=["offset"],Nhe=["xAxisId","yAxisId"],She=["xAxisId","yAxisId"];function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){khe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function khe(e,t,r){return(t=Ahe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ahe(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(null,arguments)}function Xv(e,t){if(e==null)return{};var r,n,i=Ohe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ohe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Phe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return T.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function aD(e){var{option:t,lineItemProps:r}=e,n;if(T.isValidElement(t))n=T.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,d=Xv(r,_he),f=(i=da(d))!==null&&i!==void 0?i:{},{offset:p}=f,h=Xv(f,jhe);n=T.createElement("line",Gc({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function Che(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Xv(e,Nhe),l=i.map((u,d)=>{var f=ii(ii({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return T.createElement(aD,{key:"line-".concat(d),option:n,lineItemProps:f})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function The(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Xv(e,She),l=i.map((u,d)=>{var f=ii(ii({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return T.createElement(aD,{option:n,lineItemProps:f,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lhe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var h=!u[p+1],m=h?i+s-f:u[p+1]-f;if(m<=0)return null;var g=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Ihe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var h=!u[p+1],m=h?i+s-f:u[p+1]-f;if(m<=0)return null;var g=p%r.length;return T.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:m,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Rhe=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return L7(qN(ii(ii(ii({},WN),r),{},{ticks:I7(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Mhe=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return L7(qN(ii(ii(ii({},WN),r),{},{ticks:I7(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Dhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function KN(e){var t=K7(),r=V7(),n=H7(),i=ii(ii({},In(e,Dhe)),{},{x:tt(e.x)?e.x:n.left,y:tt(e.y)?e.y:n.top,width:tt(e.width)?e.width:n.width,height:tt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:h}=i,m=oi(),g=rt(P=>gA(P,"xAxis",a,m)),y=rt(P=>gA(P,"yAxis",s,m));if(!Bs(u)||!Bs(d)||!tt(o)||!tt(l))return null;var v=i.verticalCoordinatesGenerator||Rhe,b=i.horizontalCoordinatesGenerator||Mhe,{horizontalPoints:w,verticalPoints:x}=i;if((!w||!w.length)&&typeof b=="function"){var j=p&&p.length,O=b({yAxis:y?ii(ii({},y),{},{ticks:j?p:y.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Nv(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}if((!x||!x.length)&&typeof v=="function"){var N=h&&h.length,E=v({xAxis:g?ii(ii({},g),{},{ticks:N?h:g.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Nv(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(x=E)}return T.createElement(Bi,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Phe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(Lhe,Gc({},i,{horizontalPoints:w})),T.createElement(Ihe,Gc({},i,{verticalPoints:x})),T.createElement(Che,Gc({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:y})),T.createElement(The,Gc({},i,{offset:n,verticalPoints:x,xAxis:g,yAxis:y}))))}KN.displayName="CartesianGrid";var sD=(e,t,r,n)=>Bl(e,"xAxis",t,n),oD=(e,t,r,n)=>Dl(e,"xAxis",t,n),lD=(e,t,r,n)=>Bl(e,"yAxis",r,n),cD=(e,t,r,n)=>Dl(e,"yAxis",r,n),Bhe=Se([Rt,sD,lD,oD,cD],(e,t,r,n,i)=>Vl(e,"xAxis")?Jd(t,n,!1):Jd(r,i,!1)),Fhe=(e,t,r,n,i)=>i;function $he(e){return e.type==="line"}var Uhe=Se([h1,Fhe],(e,t)=>e.filter($he).find(r=>r.id===t)),zhe=Se([Rt,sD,lD,oD,cD,Uhe,Bhe,s1],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:p}=a,h;if(p!=null&&p.length>0?h=p:h=l==null?void 0:l.slice(u,d+1),h!=null)return cpe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}});function qhe(e){var t=lu(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var Whe=["id"],Hhe=["type","layout","connectNulls","needClip","shape"],Khe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(null,arguments)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){Vhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vhe(e,t,r){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ghe(e){var t=Yhe(e,"string");return typeof t=="symbol"?t:t+""}function Yhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VN(e,t){if(e==null)return{};var r,n,i=Xhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jhe=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:yf(r,t),payload:e}]};function Zhe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:yf(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var uD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Qhe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var epe=(e,t,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return uD(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>a){o=[...r.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...Qhe(r,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function tpe(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,l=VN(n,Whe),u=da(l);return T.createElement(cde,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function rpe(e){var{showLabels:t,children:r,points:n}=e,i=T.useMemo(()=>n==null?void 0:n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Es(Es({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return T.createElement(TM,{value:t?i:void 0},r)}function pE(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,f=VN(a,Hhe),p=Es(Es({},_i(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,(n==null?void 0:n.length)>1&&T.createElement(LN,Tp({shapeType:"curve",option:d},p,{pathRef:r})),T.createElement(tpe,{points:n,clipPathId:t,props:a}))}function npe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function ipe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:h,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=i.current,b=Qp(r,"recharts-line-"),[w,x]=T.useState(!1),j=!w,O=T.useCallback(()=>{typeof g=="function"&&g(),x(!1)},[g]),N=T.useCallback(()=>{typeof y=="function"&&y(),x(!0)},[y]),E=npe(n.current),P=a.current;return T.createElement(rpe,{points:s,showLabels:j},r.children,T.createElement(Zp,{animationId:b,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:O,onAnimationStart:N,key:b},C=>{var S=vr(P,E+P,C),A=Math.min(S,E),I;if(l)if(o){var D="".concat(o).split(/[,\s]+/gim).map(X=>parseFloat(X));I=epe(A,E,D)}else I=uD(E,A);else I=o==null?void 0:String(o);if(v){var U=v.length/s.length,J=C===1?s:s.map((X,H)=>{var W=Math.floor(H*U);if(v[W]){var V=v[W];return Es(Es({},X),{},{x:vr(V.x,X.x,C),y:vr(V.y,X.y,C)})}return p?Es(Es({},X),{},{x:vr(h*2,X.x,C),y:vr(m/2,X.y,C)}):Es(Es({},X),{},{x:X.x,y:X.y})});return i.current=J,T.createElement(pE,{props:r,points:J,clipPathId:t,pathRef:n,strokeDasharray:I})}return C>0&&E>0&&(i.current=s,a.current=A),T.createElement(pE,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:I})}),T.createElement(AN,{label:r.label}))}function ape(e){var{clipPathId:t,props:r}=e,n=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(ipe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var spe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:or(e.payload,t)}};class ope extends T.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:f,needClip:p,zIndex:h}=this.props;if(t)return null;var m=zt("recharts-line",i),g=f,{r:y,strokeWidth:v}=qhe(r),b=UM(r),w=y*2+v;return T.createElement(Bi,{zIndex:h},T.createElement(Tn,{className:m},p&&T.createElement("defs",null,T.createElement(JM,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&T.createElement("clipPath",{id:"clipPath-dots-".concat(g)},T.createElement("rect",{x:l-w/2,y:o-w/2,width:u+w,height:d+w}))),T.createElement(XM,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:spe,errorBarOffset:0},T.createElement(ape,{props:this.props,clipPathId:g}))),T.createElement(Ade,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var dD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Gl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:on.line};function lpe(e){var t=In(e,dD),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:h,yAxisId:m,id:g}=t,y=VN(t,Khe),{needClip:v}=UN(h,m),b=$N(),w=Jp(),x=oi(),j=rt(C=>zhe(C,h,m,x,g));if(w!=="horizontal"&&w!=="vertical"||j==null||b==null)return null;var{height:O,width:N,x:E,y:P}=b;return T.createElement(ope,Tp({},y,{id:g,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:h,yAxisId:m,points:j,layout:w,height:O,width:N,left:E,top:P,needClip:v}))}function cpe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=or(u,s);if(t==="horizontal"){var p=Jk({axis:r,ticks:i,bandSize:o,entry:u,index:d}),h=wr(f)?null:n.scale(f);return{x:p,y:h,value:f,payload:u}}var m=wr(f)?null:r.scale(f),g=Jk({axis:n,ticks:a,bandSize:o,entry:u,index:d});return m==null||g==null?null:{x:m,y:g,value:f,payload:u}}).filter(Boolean)}function upe(e){var t=In(e,dD),r=oi();return T.createElement(BN,{id:t.id,type:"line"},n=>T.createElement(T.Fragment,null,T.createElement(qM,{legendPayload:Jhe(t)}),T.createElement(DN,{fn:Zhe,args:t}),T.createElement(KM,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),T.createElement(lpe,Tp({},t,{id:n}))))}var fD=T.memo(upe);fD.displayName="Line";var dpe=["dangerouslySetInnerHTML","ticks"],fpe=["id"],hpe=["domain"],ppe=["domain"];function o5(){return o5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o5.apply(null,arguments)}function Jv(e,t){if(e==null)return{};var r,n,i=mpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gpe(e){var t=_r();return T.useLayoutEffect(()=>(t(pde(e)),()=>{t(mde(e))}),[e,t]),null}var vpe=e=>{var{xAxisId:t,className:r}=e,n=rt(pj),i=oi(),a="xAxis",s=rt(y=>Sf(y,a,t,i)),o=rt(y=>FR(y,a,t,i)),l=rt(y=>RR(y,t)),u=rt(y=>Ese(y,t)),d=rt(y=>mR(y,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,h=Jv(e,dpe),{id:m}=d,g=Jv(d,fpe);return T.createElement(HN,o5({},h,g,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:zt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},ype={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:Ji.allowDuplicatedCategory,height:Ji.height,hide:!1,mirror:Ji.mirror,orientation:Ji.orientation,padding:Ji.padding,reversed:Ji.reversed,scale:Ji.scale,tickCount:Ji.tickCount,type:Ji.type,xAxisId:0},bpe=e=>{var t,r,n,i,a,s=In(e,ype);return T.createElement(T.Fragment,null,T.createElement(gpe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),T.createElement(vpe,s))},xpe=(e,t)=>{var{domain:r}=e,n=Jv(e,hpe),{domain:i}=t,a=Jv(t,ppe);return rf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:rf({domain:r},{domain:i}):!1},GN=T.memo(bpe,xpe);GN.displayName="XAxis";var wpe=["dangerouslySetInnerHTML","ticks"],_pe=["id"],jpe=["domain"],Npe=["domain"];function l5(){return l5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l5.apply(null,arguments)}function Zv(e,t){if(e==null)return{};var r,n,i=Spe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Spe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kpe(e){var t=_r();return T.useLayoutEffect(()=>(t(gde(e)),()=>{t(vde(e))}),[e,t]),null}var Ape=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=T.useRef(null),s=T.useRef(null),o=rt(pj),l=oi(),u=_r(),d="yAxis",f=rt(j=>Sf(j,d,t,l)),p=rt(j=>MR(j,t)),h=rt(j=>Pse(j,t)),m=rt(j=>FR(j,d,t,l)),g=rt(j=>gR(j,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!p||kN(i)||T.isValidElement(i)||g==null)){var j=a.current;if(j){var O=j.getCalculatedWidth();Math.round(p.width)!==Math.round(O)&&u(yde({id:t,width:O}))}}},[m,p,u,i,t,n,g]),p==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=Zv(e,wpe),{id:w}=g,x=Zv(g,_pe);return T.createElement(HN,l5({},b,x,{ref:a,labelRef:s,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:zt("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:m,axisType:d}))},Epe={allowDataOverflow:Zi.allowDataOverflow,allowDecimals:Zi.allowDecimals,allowDuplicatedCategory:Zi.allowDuplicatedCategory,hide:!1,mirror:Zi.mirror,orientation:Zi.orientation,padding:Zi.padding,reversed:Zi.reversed,scale:Zi.scale,tickCount:Zi.tickCount,type:Zi.type,width:Zi.width,yAxisId:0},Ope=e=>{var t,r,n,i,a,s=In(e,Epe);return T.createElement(T.Fragment,null,T.createElement(kpe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),T.createElement(Ape,s))},Ppe=(e,t)=>{var{domain:r}=e,n=Zv(e,jpe),{domain:i}=t,a=Zv(t,Npe);return rf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:rf({domain:r},{domain:i}):!1},YN=T.memo(Ope,Ppe);YN.displayName="YAxis";var Cpe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=T;function Tpe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lpe=typeof Object.is=="function"?Object.is:Tpe,Ipe=fm.useSyncExternalStore,Rpe=fm.useRef,Mpe=fm.useEffect,Dpe=fm.useMemo,Bpe=fm.useDebugValue;Cpe.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Rpe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Dpe(function(){function l(h){if(!u){if(u=!0,d=h,h=n(h),i!==void 0&&s.hasValue){var m=s.value;if(i(m,h))return f=m}return f=h}if(m=f,Lpe(d,h))return m;var g=n(h);return i!==void 0&&i(m,g)?(d=h,m):(d=h,f=g)}var u=!1,d,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Ipe(e,a[0],a[1]);return Mpe(function(){s.hasValue=!0,s.value=o},[o]),Bpe(o),o};function Fpe(e){e()}function $pe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fpe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mE={notify(){},get:()=>[]};function Upe(e,t){let r,n=mE,i=0,a=!1;function s(g){d();const y=n.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(l),n=$pe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=mE)}function p(){a||(a=!0,d())}function h(){a&&(a=!1,f())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return m}var zpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qpe=zpe(),Wpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hpe=Wpe(),Kpe=()=>qpe||Hpe?T.useLayoutEffect:T.useEffect,Vpe=Kpe(),Ax=Symbol.for("react-redux-context"),Ex=typeof globalThis<"u"?globalThis:{};function Gpe(){if(!T.createContext)return{};const e=Ex[Ax]??(Ex[Ax]=new Map);let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var Ype=Gpe();function Xpe(e){const{children:t,context:r,serverState:n,store:i}=e,a=T.useMemo(()=>{const l=Upe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=T.useMemo(()=>i.getState(),[i]);Vpe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||Ype;return T.createElement(o.Provider,{value:a},t)}var Jpe=Xpe,Zpe=(e,t)=>t,XN=Se([Zpe,Rt,hR,Nn,rM,Uo,Uoe,_n],Goe),JN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hD=Da("mouseClick"),pD=Yp();pD.startListening({actionCreator:hD,effect:(e,t)=>{var r=e.payload,n=XN(t.getState(),JN(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qse({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var c5=Da("mouseMove"),mD=Yp();mD.startListening({actionCreator:c5,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=gN(n,n.tooltip.settings.shared),a=XN(n,JN(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(VR({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(KR()))}});var gE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},gD=Di({name:"rootProps",initialState:gE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:gE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),Qpe=gD.reducer,{updateOptions:eme}=gD.actions,vD=Di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tme}=vD.actions,rme=vD.reducer,yD=Da("keyDown"),bD=Da("focus"),ZN=Yp();ZN.startListening({actionCreator:yD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(vN(i,Af(r))),o=Uo(r);if(a==="Enter"){var l=zv(r,"axis","hover",String(i.index));t.dispatch(Zw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=Ise(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=s+f*d;if(!(o==null||p>=o.length||p<0)){var h=zv(r,"axis","hover",String(p));t.dispatch(Zw({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});ZN.startListening({actionCreator:bD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=zv(r,"axis","hover",String(a));t.dispatch(Zw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ka=Da("externalEvent"),xD=Yp();xD.startListening({actionCreator:ka,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Soe(r),activeDataKey:sM(r),activeIndex:Fl(r),activeLabel:aM(r),activeTooltipIndex:Fl(r),isTooltipActive:koe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var nme=Se([kf],e=>e.tooltipItemPayloads),ime=Se([nme,cm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),wD=Da("touchMove"),_D=Yp();_D.startListening({actionCreator:wD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=gN(n,n.tooltip.settings.shared);if(i==="axis"){var a=XN(n,JN({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(VR({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(M7),d=(s=l.getAttribute(D7))!==null&&s!==void 0?s:void 0,f=ime(t.getState(),u,d);t.dispatch(HR({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var ame=o7({brush:Ufe,cartesianAxis:bde,chartData:Nle,errorBars:Fde,graphicalItems:Oue,layout:Mee,legend:Ate,options:ble,polarAxis:Kce,polarOptions:rme,referenceElements:Gfe,rootProps:Qpe,tooltip:Wse,zIndex:lle}),sme=function(t){return oee({reducer:ame,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([pD.middleware,mD.middleware,ZN.middleware,xD.middleware,_D.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(b7({type:"raf"}))},devTools:Gl.devToolsEnabled})};function jD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=oi(),a=T.useRef(null);if(i)return r;a.current==null&&(a.current=sme(t));var s=sj;return T.createElement(Jpe,{context:s,store:a.current},r)}function ND(e){var{layout:t,margin:r}=e,n=_r(),i=oi();return T.useEffect(()=>{i||(n(Lee(t)),n(Tee(r)))},[n,i,t,r]),null}function SD(e){var t=_r();return T.useEffect(()=>{t(eme(e))},[t,e]),null}function vE(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=WM("".concat(n).concat(t)),a=_r();return T.useLayoutEffect(()=>(a(sle({zIndex:t,elementId:i,isPanorama:r})),()=>{a(ole({zIndex:t,isPanorama:r}))}),[a,t,i,r]),T.createElement("g",{id:i})}function yE(e){var{children:t,isPanorama:r}=e,n=rt(Xoe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(vE,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>T.createElement(vE,{key:s,zIndex:s,isPanorama:r})))}var ome=["children"];function lme(e,t){if(e==null)return{};var r,n,i=cme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}var ume={width:"100%",height:"100%",display:"block"},dme=T.forwardRef((e,t)=>{var r=K7(),n=V7(),i=J7();if(!Bs(r)||!Bs(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),T.createElement(lL,Qv({},s,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:ume,ref:t}),a)}),fme=e=>{var{children:t}=e,r=rt(Jy);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return T.createElement(lL,{width:n,height:i,x:s,y:a},t)},bE=T.forwardRef((e,t)=>{var{children:r}=e,n=lme(e,ome),i=oi();return i?T.createElement(fme,null,T.createElement(yE,{isPanorama:!0},r)):T.createElement(dme,Qv({ref:t},n),T.createElement(yE,{isPanorama:!1},r))});function hme(){var e=_r(),[t,r]=T.useState(null),n=rt(ete);return T.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Xr(a)&&a!==n&&e(Ree(a))}},[t,e,n]),r}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){mme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mme(e,t,r){return(t=gme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gme(e){var t=vme(e,"string");return typeof t=="symbol"?t:t+""}function vme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(null,arguments)}var yme=()=>(Lle(),null);function ey(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bme=T.forwardRef((e,t)=>{var r,n,i=T.useRef(null),[a,s]=T.useState({containerWidth:ey((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ey((n=e.style)===null||n===void 0?void 0:n.height)}),o=T.useCallback((u,d)=>{s(f=>{var p=Math.round(u),h=Math.round(d);return f.containerWidth===p&&f.containerHeight===h?f:{containerWidth:p,containerHeight:h}})},[]),l=T.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var p=m=>{var{width:g,height:y}=m[0].contentRect;o(g,y)},h=new ResizeObserver(p);h.observe(u),i.current=h}},[t,o]);return T.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(Qy,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",mu({ref:l},e)))}),xme=T.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=T.useState({containerWidth:ey(r),containerHeight:ey(n)}),s=T.useCallback((l,u)=>{a(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),o=T.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(Qy,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",mu({ref:o},e)))}),wme=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return T.createElement(T.Fragment,null,T.createElement(Qy,{width:r,height:n}),T.createElement("div",mu({ref:t},e)))}),_me=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return So(r)||So(n)?T.createElement(xme,mu({},e,{ref:t})):T.createElement(wme,mu({},e,{ref:t}))});function jme(e){return e===!0?bme:_me}var Nme=T.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:m,onTouchStart:g,style:y,width:v,responsive:b,dispatchTouchEvents:w=!0}=e,x=T.useRef(null),j=_r(),[O,N]=T.useState(null),[E,P]=T.useState(null),C=hme(),S=mj(),A=(S==null?void 0:S.width)>0?S.width:v,I=(S==null?void 0:S.height)>0?S.height:i,D=T.useCallback(Z=>{C(Z),typeof t=="function"&&t(Z),N(Z),P(Z),Z!=null&&(x.current=Z)},[C,t,N,P]),U=T.useCallback(Z=>{j(hD(Z)),j(ka({handler:a,reactEvent:Z}))},[j,a]),J=T.useCallback(Z=>{j(c5(Z)),j(ka({handler:u,reactEvent:Z}))},[j,u]),X=T.useCallback(Z=>{j(KR()),j(ka({handler:d,reactEvent:Z}))},[j,d]),H=T.useCallback(Z=>{j(c5(Z)),j(ka({handler:f,reactEvent:Z}))},[j,f]),W=T.useCallback(()=>{j(bD())},[j]),V=T.useCallback(Z=>{j(yD(Z.key))},[j]),$=T.useCallback(Z=>{j(ka({handler:s,reactEvent:Z}))},[j,s]),R=T.useCallback(Z=>{j(ka({handler:o,reactEvent:Z}))},[j,o]),B=T.useCallback(Z=>{j(ka({handler:l,reactEvent:Z}))},[j,l]),z=T.useCallback(Z=>{j(ka({handler:p,reactEvent:Z}))},[j,p]),K=T.useCallback(Z=>{j(ka({handler:g,reactEvent:Z}))},[j,g]),q=T.useCallback(Z=>{w&&j(wD(Z)),j(ka({handler:m,reactEvent:Z}))},[j,w,m]),Q=T.useCallback(Z=>{j(ka({handler:h,reactEvent:Z}))},[j,h]),ae=jme(b);return T.createElement(pM.Provider,{value:O},T.createElement(aZ.Provider,{value:E},T.createElement(ae,{width:A??(y==null?void 0:y.width),height:I??(y==null?void 0:y.height),className:zt("recharts-wrapper",n),style:pme({position:"relative",cursor:"default",width:A,height:I},y),onClick:U,onContextMenu:$,onDoubleClick:R,onFocus:W,onKeyDown:V,onMouseDown:B,onMouseEnter:J,onMouseLeave:X,onMouseMove:H,onMouseUp:z,onTouchEnd:Q,onTouchMove:q,onTouchStart:K,ref:D},T.createElement(yme,null),r)))}),Sme=["width","height","responsive","children","className","style","compact","title","desc"];function kme(e,t){if(e==null)return{};var r,n,i=Ame(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ame(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kD=T.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=kme(e,Sme),p=da(f);return l?T.createElement(T.Fragment,null,T.createElement(Qy,{width:r,height:n}),T.createElement(bE,{otherAttributes:p,title:u,desc:d},a)):T.createElement(Nme,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(bE,{otherAttributes:p,title:u,desc:d,ref:t},T.createElement(Xfe,null,a)))});function u5(){return u5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u5.apply(null,arguments)}var Eme={top:5,right:5,bottom:5,left:5},Ome={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eme,reverseStackOrder:!1,syncMethod:"index",responsive:!1},AD=T.forwardRef(function(t,r){var n,i=In(t.categoricalChartProps,Ome),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return T.createElement(jD,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},T.createElement(tD,{chartData:u.data}),T.createElement(ND,{layout:i.layout,margin:i.margin}),T.createElement(SD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(kD,u5({},i,{ref:r})))}),Pme=["axis"],Cme=T.forwardRef((e,t)=>T.createElement(AD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pme,tooltipPayloadSearcher:SN,categoricalChartProps:e,ref:t})),Tme=["axis","item"],Lme=T.forwardRef((e,t)=>T.createElement(AD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tme,tooltipPayloadSearcher:SN,categoricalChartProps:e,ref:t}));function Ime(e){var t=_r();return T.useEffect(()=>{t(tme(e))},[t,e]),null}var Rme=["layout"];function d5(){return d5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d5.apply(null,arguments)}function Mme(e,t){if(e==null)return{};var r,n,i=Dme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Dme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bme={top:5,right:5,bottom:5,left:5},Fme={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bme,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},$me=T.forwardRef(function(t,r){var n,i=In(t.categoricalChartProps,Fme),{layout:a}=i,s=Mme(i,Rme),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(jD,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},T.createElement(tD,{chartData:i.data}),T.createElement(ND,{layout:a,margin:i.margin}),T.createElement(SD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(Ime,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(kD,d5({},s,{ref:r})))}),Ume=["item"],zme={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qme=T.forwardRef((e,t)=>{var r=In(e,zme);return T.createElement($me,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ume,tooltipPayloadSearcher:SN,categoricalChartProps:r,ref:t})});const wE=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,u]=T.useState([]),[d,f]=T.useState(["",""]),[p,h]=T.useState(!1),[m,g]=T.useState(null);T.useEffect(()=>{const x=Ma(n);x&&(o(x.insights||""),u(x.prioritizedActions||[]),f(x.customerReplies||["",""]),h(x.submitted||!1))},[n]);const y=x=>{l.includes(x)?u(l.filter(j=>j!==x)):l.length<3&&u([...l,x])},v=(x,j)=>{const O=[...d];O[x]=j,f(O)},b=()=>{const x={insights:s,prioritizedActions:l.map(O=>{var N;return((N=H4.find(E=>E.id===O))==null?void 0:N.label)||O}),customerReplies:d};yi(n,{...x,submitted:!0});const j=q_(x);g(j),h(!0),ua(n),r(n),alert("Task 6 completed successfully!")},w=gn.reviews.filter(x=>x.sentiment==="negative").slice(0,2);return c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Task 6: Post-Launch Analytics & Customer Responses"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Analyze post-launch data, prioritize actions, and respond to customer feedback."})]})]}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Daily Active Users (30 Days)"})]}),c.jsx("div",{className:"bg-white rounded-xl p-4 border border-blue-200",children:c.jsx(Lw,{width:"100%",height:250,children:c.jsxs(Cme,{data:gn.dau,children:[c.jsx(KN,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(GN,{dataKey:"day",label:{value:"Day",position:"insideBottom",offset:-5},stroke:"#6b7280"}),c.jsx(YN,{label:{value:"Users",angle:-90,position:"insideLeft"},stroke:"#6b7280"}),c.jsx(t5,{contentStyle:{backgroundColor:"#fff",border:"2px solid #3b82f6",borderRadius:"8px"},labelStyle:{color:"#1f2937",fontWeight:"bold"}}),c.jsx(fD,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:5}})]})})})]}),c.jsx("div",{className:"mb-8 grid grid-cols-2 md:grid-cols-3 gap-4",children:[{label:"Onboarding Completion",value:gn.metrics.onboardingCompletion,unit:"%",color:"green"},{label:"Setup Drop-off",value:gn.metrics.setupDropoff,unit:"%",color:"red"},{label:"Crash Rate",value:gn.metrics.crashRate,unit:"%",color:"gray"},{label:"Avg Session Time",value:gn.metrics.avgSessionTime,unit:" min",color:"blue"},{label:"7-Day Retention",value:gn.metrics.retention7Day,unit:"%",color:"yellow"},{label:"30-Day Retention",value:gn.metrics.retention30Day,unit:"%",color:"red"}].map((x,j)=>c.jsxs("div",{className:`p-5 bg-gradient-to-br from-white to-gray-50 rounded-xl border-2 ${x.color==="green"?"border-green-200":x.color==="red"?"border-red-200":x.color==="yellow"?"border-yellow-200":"border-gray-200"} hover:shadow-lg transition-all`,children:[c.jsx("div",{className:"text-xs text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:x.label}),c.jsxs("div",{className:`text-3xl font-bold ${x.color==="green"?"text-green-600":x.color==="red"?"text-red-600":x.color==="yellow"?"text-yellow-600":"text-gray-900"}`,children:[x.value,x.unit]})]},j))}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Net Promoter Score (NPS)"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[gn.nps.promoters,"%"]}),c.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Promoters"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[gn.nps.passives,"%"]}),c.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Passives"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[gn.nps.detractors,"%"]}),c.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Detractors"})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mb-4 shadow-inner",children:c.jsxs("div",{className:"flex h-6 rounded-full overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600",style:{width:`${gn.nps.promoters}%`}}),c.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600",style:{width:`${gn.nps.passives}%`}}),c.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600",style:{width:`${gn.nps.detractors}%`}})]})}),c.jsx("div",{className:"text-center",children:c.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["NPS = ",gn.nps.promoters,"% - ",gn.nps.detractors,"% =",c.jsx("span",{className:"ml-2 text-red-600",children:gn.nps.promoters-gn.nps.detractors})]})})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sample User Reviews"})]}),c.jsx("div",{className:"space-y-4",children:gn.reviews.map(x=>c.jsxs("div",{className:`p-6 rounded-xl border-2 ${x.sentiment==="positive"?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300":"bg-gradient-to-r from-red-50 to-pink-50 border-red-300"} hover:shadow-lg transition-all`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsxs("div",{className:"flex text-yellow-400 text-xl",children:["".repeat(x.rating),"".repeat(5-x.rating)]}),c.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${x.sentiment==="positive"?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:x.sentiment})]}),c.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:x.text})]},x.id))})]}),c.jsxs("div",{className:"space-y-8 mb-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"1"}),"Summarize Top 3 Insights (max 150 words)"]}),c.jsx("textarea",{value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:"5",placeholder:"What are the biggest problems? What patterns do you see in the data?..."})]}),c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-green-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"2"}),"Prioritize Next 3 Actions (select in order of priority)"]}),c.jsx("div",{className:"space-y-3",children:H4.map(x=>{const j=l.includes(x.id),O=l.indexOf(x.id)+1;return c.jsx("button",{onClick:()=>y(x.id),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${j?"border-green-500 bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg transform scale-105":"border-gray-200 bg-white hover:border-green-300 hover:bg-green-50"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-base font-semibold",children:x.label}),j&&c.jsxs("span",{className:"px-3 py-1 bg-white text-green-600 rounded-lg text-sm font-bold shadow-md",children:["Priority ",O]})]})},x.id)})}),c.jsxs("p",{className:"text-sm text-gray-600 mt-4 font-semibold",children:["Selected: ",c.jsxs("span",{className:"text-green-600",children:[l.length,"/3"]})," actions"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"3"}),"Draft Customer Replies (select 2 negative reviews to respond to)"]}),c.jsx("div",{className:"space-y-5",children:w.map((x,j)=>{var O;return c.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-5 bg-white",children:[c.jsx("div",{className:"mb-4 p-4 bg-red-50 rounded-lg border border-red-200",children:c.jsxs("p",{className:"text-base text-gray-700 italic font-medium",children:['"',x.text,'"']})}),c.jsx("textarea",{value:d[j]||"",onChange:N=>v(j,N.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:"4",placeholder:"Write a professional, empathetic response addressing their concern..."}),c.jsxs("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:[((O=d[j])==null?void 0:O.length)||0," characters (max 150 words recommended)"]})]},x.id)})})]})]}),m&&c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),c.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["Task Score: ",c.jsxs("span",{className:"text-green-600",children:[m.score,"/100"]})]})]}),m.strengths.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Strengths:"}),c.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:m.strengths.map((x,j)=>c.jsx("li",{children:x},j))})]}),m.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Areas for Improvement:"}),c.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:m.improvements.map((x,j)=>c.jsx("li",{children:x},j))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-2 border-gray-200",children:[c.jsxs("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:b,disabled:p,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transition-all",children:p?"Completed ":"Submit Task"}),p&&i&&c.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 font-bold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:["Next Task",c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},_E=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState({kpis:!1,roadmap:!1,budget:!1}),[p,h]=T.useState(!1),[m,g]=T.useState(null);T.useEffect(()=>{var j,O,N,E,P,C,S,A;const b=Kp(),w=`
# Noah Smart Fitness Watch - Project Summary

## Market Research (Task 1)
${((j=b.task1)==null?void 0:j.targetMarket)||"Not completed"}

## Team & Tech Stack (Task 2)
${((N=(O=b.task2)==null?void 0:O.selectedRoles)==null?void 0:N.map(I=>I.name).join(", "))||"Not completed"}

## Roadmap (Task 3)
${((P=(E=b.task3)==null?void 0:E.phases)==null?void 0:P.map(I=>`${I.name}: ${I.duration} weeks`).join(`
`))||"Not completed"}

## Design (Task 4)
${((C=b.task4)==null?void 0:C.explanation)||"Not completed"}

## GTM Strategy (Task 5)
${((S=b.task5)==null?void 0:S.positioning)||"Not completed"}

## Post-Launch Analysis (Task 6)
${((A=b.task6)==null?void 0:A.insights)||"Not completed"}
    `.trim();o(w);const x=Ma(n);x&&(u(x.pitch||""),f(x.checklist||d),h(x.submitted||!1))},[n]);const y=b=>{f({...d,[b]:!d[b]})},v=()=>{const b={consolidatedReport:s,pitch:l,checklist:d};yi(n,{...b,submitted:!0});const w=W_(b);g(w),h(!0),ua(n),r(n),alert("Task 7 completed! You can now view your final report and certificate.")};return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task 7: Final Submission & Reflection"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"Consolidate your project work, reflect on trade-offs, and create a 2-minute investor pitch."}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Consolidated Project Report (auto-filled, editable)"}),c.jsx("textarea",{value:s,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm",rows:"12"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This report consolidates your work from all previous tasks. Edit as needed."})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"2-Minute Investor Pitch Script (max 300 words)"}),c.jsx("textarea",{value:l,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"8",placeholder:"Write a compelling pitch that covers: problem, solution, market opportunity, business model, ask..."}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," characters (approximately ",Math.round(l.length/5)," words)"]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Final Checklist"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:d.kpis,onChange:()=>y("kpis"),className:"w-4 h-4 text-blue-600 rounded"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Did you include success KPIs?"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:d.roadmap,onChange:()=>y("roadmap"),className:"w-4 h-4 text-blue-600 rounded"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Did you include 3-month roadmap?"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:d.budget,onChange:()=>y("budget"),className:"w-4 h-4 text-blue-600 rounded"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Did you include budget estimates?"})]})]})]}),m&&c.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",m.score,"/100"]}),m.strengths.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:m.strengths.map((b,w)=>c.jsx("li",{children:b},w))})]}),m.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:m.improvements.map((b,w)=>c.jsx("li",{children:b},w))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),c.jsx("div",{className:"flex gap-3",children:c.jsx("button",{onClick:v,disabled:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Completed ":"Submit Final Task"})})]})]})})},Wme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var w,x,j;const[l,u]=T.useState(null),[d,f]=T.useState(!1),[p,h]=T.useState(null),m=(o==null?void 0:o.slug)||"noah-smart-fitness-watch";T.useEffect(()=>{const O=Ma(n,m);O?(u(O.selectedOption||null),f(O.submitted||!1),O.validationResult&&h(O.validationResult)):(u(null),f(!1),h(null))},[n,m]);const g=()=>{if(!l){alert("Please select an option before submitting.");return}yi(n,{...{selectedOption:l},submitted:!0},m),ua(n,m),r(n),f(!0)},y=((w=s==null?void 0:s.config)==null?void 0:w.options)||[],v=((x=s==null?void 0:s.config)==null?void 0:x.instruction)||"",b=((j=s==null?void 0:s.config)==null?void 0:j.prompt)||"";return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:(s==null?void 0:s.name)||"Multiple Choice Question"}),v&&c.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:c.jsx("p",{className:"text-gray-800 leading-relaxed",children:v})}),b&&c.jsx("div",{className:"mb-6",children:c.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:b})}),c.jsx("div",{className:"space-y-4 mb-6",children:y.map(O=>c.jsxs("label",{className:`flex items-start p-5 rounded-xl border-2 cursor-pointer transition-all ${l===O.id?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:[c.jsx("input",{type:"radio",name:`mcq-${n}`,value:O.id,checked:l===O.id,onChange:()=>u(O.id),className:"mt-1 mr-4 w-5 h-5 text-purple-600",disabled:d}),c.jsx("span",{className:"text-gray-800 text-lg flex-1",children:O.text})]},O.id))}),p&&c.jsxs("div",{className:`mb-6 p-4 rounded-xl border-2 ${p.score===100?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Score: ",p.score,"/100"]}),p.feedback&&c.jsx("p",{className:"text-sm text-gray-700",children:p.feedback}),p.strengths&&p.strengths.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((O,N)=>c.jsx("li",{children:O},N))})]}),p.improvements&&p.improvements.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((O,N)=>c.jsx("li",{children:O},N))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:g,disabled:d||!l,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Answer"}),d&&i&&c.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Next Task "})]})]})]})})},Hme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var O,N,E,P,C;const[l,u]=T.useState(""),[d,f]=T.useState(!1),[p,h]=T.useState(null),m=(o==null?void 0:o.slug)||"noah-smart-fitness-watch";T.useEffect(()=>{const S=Ma(n,m);S?(u(S.response||""),f(S.submitted||!1),S.validationResult&&h(S.validationResult)):(u(""),f(!1),h(null))},[n,m]);const g=()=>{var D;const S=((D=s==null?void 0:s.config)==null?void 0:D.minWords)||5,A=l.trim().split(/\s+/).filter(Boolean).length;if(A<S){alert(`Please write at least ${S} words.`);return}yi(n,{...{response:l,wordCount:A},submitted:!0},m),ua(n,m),r(n),f(!0)},y=l.trim().split(/\s+/).filter(Boolean).length,v=((O=s==null?void 0:s.config)==null?void 0:O.minWords)||5,b=((N=s==null?void 0:s.config)==null?void 0:N.maxWords)||null,w=((E=s==null?void 0:s.config)==null?void 0:E.instruction)||"",x=((P=s==null?void 0:s.config)==null?void 0:P.prompt)||"",j=((C=s==null?void 0:s.config)==null?void 0:C.referenceData)||null;return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.name}),w&&c.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:c.jsx("p",{className:"text-gray-800 leading-relaxed",children:w})}),j&&c.jsxs("div",{className:"mb-6 p-6 bg-blue-50 rounded-xl border-2 border-blue-200",children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:" Data Summary"}),c.jsx("ul",{className:"space-y-2 text-gray-700",children:Object.entries(j).map(([S,A])=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"font-semibold capitalize",children:[S,":"]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${A==="High"?"bg-green-100 text-green-700":A==="Low"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:A})]},S))})]}),x&&c.jsx("div",{className:"mb-6",children:c.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:x})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Your Response",` (Minimum ${v} words${b?`, Maximum ${b} words`:""})`]}),c.jsx("textarea",{value:l,onChange:S=>u(S.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"4",placeholder:"Type your answer here...",disabled:d}),c.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[c.jsxs("p",{className:`text-sm ${y<v?"text-red-600":"text-gray-600"}`,children:[y," word",y!==1?"s":"",y<v&&` (Need ${v-y} more)`]}),b&&y>b&&c.jsxs("p",{className:"text-sm text-red-600",children:["Exceeds maximum by ",y-b," words"]})]})]}),p&&c.jsxs("div",{className:"mb-6 p-4 rounded-xl border-2 bg-green-50 border-green-200",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Score: ",p.score,"/100"]}),p.strengths&&p.strengths.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((S,A)=>c.jsx("li",{children:S},A))})]}),p.improvements&&p.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((S,A)=>c.jsx("li",{children:S},A))})]}),p.feedback&&c.jsx("p",{className:"text-sm text-gray-700 mt-2",children:p.feedback})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:g,disabled:d||y<v||b&&y>b,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Answer"}),d&&i&&c.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Next Task "})]})]})]})})},Kme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var x,j,O;const[l,u]=T.useState(""),[d,f]=T.useState(!1),[p,h]=T.useState(null),m=(o==null?void 0:o.slug)||"noah-smart-fitness-watch";T.useEffect(()=>{const N=Ma(n,m);N?(u(N.response||""),f(N.submitted||!1),N.validationResult&&h(N.validationResult)):(u(""),f(!1),h(null))},[n,m]);const g=()=>{var C;const N=((C=s==null?void 0:s.config)==null?void 0:C.minWords)||20,E=l.trim().split(/\s+/).filter(Boolean).length;if(E<N){alert(`Please write at least ${N} words (3-4 sentences).`);return}yi(n,{...{response:l,wordCount:E},submitted:!0},m),ua(n,m),r(n),f(!0)},y=l.trim().split(/\s+/).filter(Boolean).length,v=((x=s==null?void 0:s.config)==null?void 0:x.minWords)||20,b=((j=s==null?void 0:s.config)==null?void 0:j.instruction)||"",w=((O=s==null?void 0:s.config)==null?void 0:O.prompt)||"";return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:(s==null?void 0:s.name)||"Reflection"}),b&&c.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:c.jsx("p",{className:"text-gray-800 leading-relaxed",children:b})}),w&&c.jsx("div",{className:"mb-6",children:c.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:w})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Your Reflection (Minimum ",v," words - 3-4 sentences)"]}),c.jsx("textarea",{value:l,onChange:N=>u(N.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"6",placeholder:"Write your reflection here...",disabled:d}),c.jsxs("p",{className:`mt-2 text-sm ${y<v?"text-red-600":"text-gray-600"}`,children:[y," word",y!==1?"s":"",y<v&&` (Need ${v-y} more)`]})]}),p&&c.jsxs("div",{className:"mb-6 p-4 rounded-xl border-2 bg-green-50 border-green-200",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Score: ",p.score,"/100"]}),p.feedback&&c.jsx("p",{className:"text-sm text-gray-700 mb-2",children:p.feedback}),p.strengths&&p.strengths.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((N,E)=>c.jsx("li",{children:N},E))})]}),p.improvements&&p.improvements.length>0&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((N,E)=>c.jsx("li",{children:N},E))})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:g,disabled:d||y<v,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Reflection"}),d&&i&&c.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"View Report "})]})]})]})})},Vme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var D,U,J,X,H;const[l,u]=T.useState(null),[d,f]=T.useState(!1),[p,h]=T.useState(!1),[m,g]=T.useState(15e3),[y,v]=T.useState([]),b=(o==null?void 0:o.slug)||"persona-finding";T.useEffect(()=>{const W=Ma(n,b);if(W)u(W.selectedOption||null),f(W.submitted||!1),h(W.showFeedback||!1),g(W.budgetRemaining||15e3),v(W.choicesHistory||[]);else{let V=15e3;for(let $=1;$<parseInt(n.replace("task",""));$++){const R=Ma(`task${$}`,b);R&&R.budgetRemaining!==void 0&&(V=R.budgetRemaining)}g(V)}},[n,b]);const w=W=>{d||u(W)},x=()=>{var B,z,K,q;if(!l){alert("Please select an option before submitting.");return}const W=(z=(B=s==null?void 0:s.config)==null?void 0:B.options)==null?void 0:z.find(Q=>Q.id===l);if(!W)return;const V=m-(W.cost||0),$=[...y,{taskId:n,option:l,cost:W.cost||0}],R={selectedOption:l,submitted:!0,showFeedback:!0,budgetRemaining:V,choicesHistory:$,feedback:(q=(K=s==null?void 0:s.config)==null?void 0:K.feedback)==null?void 0:q[l]};yi(n,R,b),g(V),v($),f(!0),h(!0),ua(n,b),r(n)},j=((D=s==null?void 0:s.config)==null?void 0:D.options)||[],O=((U=s==null?void 0:s.config)==null?void 0:U.context)||"",N=d&&l?(X=(J=s==null?void 0:s.config)==null?void 0:J.feedback)==null?void 0:X[l]:null,E=((H=s==null?void 0:s.config)==null?void 0:H.loopNumber)||1,P=(o==null?void 0:o.slug)==="argo-marketing-foundations"||(o==null?void 0:o.category)==="Marketing",C=P?"from-purple-600 to-pink-600":"from-primary to-accent",S=P?"from-purple-50 to-pink-50":"from-blue-50 to-indigo-50",A=P?"border-purple-200":"border-blue-200",I=P?"text-purple-700":"text-blue-700";return c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-slate-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide mb-1",children:"Remaining Budget"}),c.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",m.toLocaleString()]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-slate-600",children:"Total: 15,000"}),c.jsx("div",{className:"w-32 bg-slate-200 rounded-full h-2 mt-2",children:c.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${C}`,style:{width:`${m/15e3*100}%`}})})]})]})}),c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${C} flex items-center justify-center text-white text-xl font-bold`,children:E}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:(s==null?void 0:s.name)||"Decision Loop"})]}),O&&c.jsx("div",{className:`mb-6 p-6 bg-gradient-to-r ${S} rounded-xl border-2 ${A}`,children:c.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line",children:O})}),!p&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Choose ONE option:"}),j.map(W=>{const V=m>=(W.cost||0);return c.jsxs("label",{className:`flex items-start p-6 rounded-xl border-2 cursor-pointer transition-all ${l===W.id?`bg-gradient-to-r ${S} border-${P?"purple":"blue"}-500 shadow-lg`:V?"bg-white border-slate-300 hover:border-primary hover:shadow-md":"bg-slate-100 border-slate-300 opacity-60 cursor-not-allowed"}`,children:[c.jsx("input",{type:"radio",name:"decision",value:W.id,checked:l===W.id,onChange:()=>w(W.id),disabled:!V||d,className:"mt-1 mr-4 w-5 h-5 text-primary focus:ring-primary"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:W.title}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${W.cost===0?"bg-green-100 text-green-700":V?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:W.cost===0?"Free":`${W.cost.toLocaleString()}`})]}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:W.description}),W.budgetRemaining!==void 0&&c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Budget after: ",W.budgetRemaining.toLocaleString()]})]})]},W.id)})]}),p&&N&&c.jsxs("div",{className:`mt-6 p-6 bg-gradient-to-r ${S} rounded-xl border-2 ${A}`,children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:N.title||"Feedback"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line mb-3",children:N.data||N.insight}),N.insight&&c.jsxs("p",{className:`font-semibold ${I} mb-3`,children:[" ",N.insight]})]}),N.signals&&N.signals.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Key Signals:"}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:N.signals.map((W,V)=>c.jsx("li",{className:"text-gray-700",children:W},V))})]}),N.outcome&&c.jsx("div",{className:`mt-4 p-3 rounded-lg ${N.outcome==="positive"||N.outcome==="strong"?"bg-green-50 border border-green-200":N.outcome==="negative"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:c.jsx("p",{className:`text-sm font-semibold ${N.outcome==="positive"||N.outcome==="strong"?"text-green-800":N.outcome==="negative"?"text-red-800":"text-yellow-800"}`,children:N.outcome==="positive"||N.outcome==="strong"?" Strong Result":N.outcome==="negative"?" Needs Revision":" Moderate Result"})})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:t,disabled:!a,className:`px-6 py-3 rounded-lg font-semibold transition-all ${a?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-slate-50 text-slate-400 cursor-not-allowed"}`,children:" Previous"}),d?c.jsx("button",{onClick:e,disabled:!i,className:`px-8 py-3 rounded-lg font-semibold text-white transition-all bg-gradient-to-r ${C} ${i?"hover:shadow-lg transform hover:scale-105":"opacity-50 cursor-not-allowed"}`,children:"Continue "}):c.jsx("button",{onClick:x,disabled:!l,className:`px-8 py-3 rounded-lg font-semibold text-white transition-all bg-gradient-to-r ${C} ${l?"hover:shadow-lg transform hover:scale-105":"opacity-50 cursor-not-allowed"}`,children:"Submit Decision"})]})]})]})},Gme={async validateTask(e,t,r){var n;try{if(!e||!t)return this.getDefaultResult("Invalid task or task data");const i=((n=r.validation_rules)==null?void 0:n[e.id])||e.validation;return i?i.method==="llm-based"?await this.llmBasedValidation(e,t,i,r):await this.ruleBasedValidation(e,t,i,r):(console.warn(`No validation rule found for task ${e.id}, using default`),this.getDefaultResult())}catch(i){return console.error("Validation error:",i),this.getDefaultResult(`Validation failed: ${i.message}`)}},async ruleBasedValidation(e,t,r,n){try{if(r.validator)try{const a=(await La(()=>Promise.resolve().then(()=>VJ),void 0))[r.validator];if(a&&typeof a=="function"){const s=a(t);return this.normalizeResult(s)}}catch{console.warn(`Validator function ${r.validator} not found, using rubric`)}return r.rubric?this.calculateScoreFromRubric(t,r.rubric,r.keywords):this.simpleLengthBasedScoring(t)}catch(i){return console.error("Rule-based validation error:",i),this.getDefaultResult(`Rule-based validation failed: ${i.message}`)}},async llmBasedValidation(e,t,r,n){try{const{supabase:i}=await La(async()=>{const{supabase:o}=await Promise.resolve().then(()=>lW);return{supabase:o}},void 0),{data:a,error:s}=await i.functions.invoke("score-task-llm",{body:{taskId:e.id,taskData:t,rubric:r.rubric,prompt:r.prompt,simulationId:n.id,taskName:e.name}});return s?(console.error("LLM validation error:",s),console.warn("Falling back to rule-based validation"),await this.ruleBasedValidation(e,t,r,n)):this.normalizeResult(a)}catch(i){return console.error("LLM validation error:",i),await this.ruleBasedValidation(e,t,r,n)}},calculateScoreFromRubric(e,t,r={}){let n=0;const i={},a=[],s=[];try{for(const[u,d]of Object.entries(t)){const f=e[u]||"",p=r[u]||[];let h=0;if(p.length>0){const m=this.checkKeywords(f,p);h+=m*(d.maxScore||0)}d.minLength&&f.length>=d.minLength&&(h+=(d.maxScore||0)*.3),f.length>50&&(h+=(d.maxScore||0)*.2),h=Math.min(h,d.maxScore||0),i[u]=Math.round(h),n+=h,h>=(d.maxScore||0)*.8?a.push(`Strong ${u} analysis`):h<(d.maxScore||0)*.5&&s.push(`Improve ${u} - add more detail and analysis`)}const o=Object.values(t).reduce((u,d)=>u+(d.maxScore||0),0),l=o>0?Math.round(n/o*100):0;return{score:Math.min(Math.max(l,0),100),breakdown:i,strengths:a.length>0?a:["Good effort on the task"],improvements:s.length>0?s:["Continue practicing"]}}catch(o){return console.error("Rubric calculation error:",o),this.getDefaultResult("Scoring calculation failed")}},simpleLengthBasedScoring(e){const t=Object.values(e).filter(n=>typeof n=="string").reduce((n,i)=>n+i.length,0),r=Math.min(Math.round(t/500*100),100);return{score:Math.max(r,20),breakdown:{},strengths:t>200?["Good detail in your response"]:[],improvements:t<100?["Add more detail to your response"]:["Keep practicing"]}},checkKeywords(e,t){if(!e||!t||t.length===0)return 0;try{const r=e.toLowerCase(),n=t.filter(i=>r.includes(i.toLowerCase())).length;return Math.min(n/t.length,1)}catch(r){return console.error("Keyword check error:",r),0}},normalizeResult(e){return!e||typeof e!="object"?this.getDefaultResult("Invalid validation result"):{score:Math.min(Math.max(parseInt(e.score)||0,0),100),breakdown:e.breakdown||e.score_breakdown||{},strengths:Array.isArray(e.strengths)?e.strengths:[],improvements:Array.isArray(e.improvements)?e.improvements:[]}},getDefaultResult(e=null){return{score:50,breakdown:{},strengths:[],improvements:e?[e]:["Please review your submission and try again"]}}},uo={async getAllSimulations(){try{const{data:e,error:t}=await ze.from("task_based_simulations").select("*").eq("is_published",!0).eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching simulations:",t),t;return e||[]}catch(e){return console.error("Failed to get simulations:",e),[]}},async getSimulationBySlug(e){try{if(!e)throw new Error("Slug is required");const{data:t,error:r}=await ze.from("task_based_simulations").select("*").eq("slug",e).eq("is_published",!0).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){throw console.error("Error fetching simulation by slug:",t),t}},async getSimulationById(e){try{if(!e)throw new Error("Simulation ID is required");const{data:t,error:r}=await ze.from("task_based_simulations").select("*").eq("id",e).eq("is_published",!0).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){throw console.error("Error fetching simulation by ID:",t),t}},async startSession(e){var t;try{const{data:{user:r}}=await ze.auth.getUser();if(!r)throw new Error("User must be authenticated to start a session");if(!e)throw new Error("Simulation ID is required");const n=await this.getSimulationById(e);if(!n)throw new Error("Simulation not found or not published");const i=await this.getActiveProgress(e,r.id);if(i){const{data:d}=await ze.from("simulation_sessions").select("*").eq("id",i.session_id).single();return{session:d,progress:i}}const{data:a,error:s}=await ze.from("simulation_sessions").insert({user_id:r.id,simulation_id:e,status:"started",simulation_state:{type:"task-based"}}).select().single();if(s)throw console.error("Error creating session:",s),s;const o=((t=n.tasks)==null?void 0:t.length)||0,{data:l,error:u}=await ze.from("task_based_progress").insert({user_id:r.id,simulation_id:e,session_id:a.id,current_task:0,completed_tasks:[],progress_percentage:0,metadata:{total_tasks:o,started_from:"web"}}).select().single();if(u)throw console.error("Error creating progress:",u),await ze.from("simulation_sessions").delete().eq("id",a.id),u;return{session:a,progress:l}}catch(r){throw console.error("Failed to start session:",r),r}},async getActiveProgress(e,t=null){try{const{data:{user:r}}=await ze.auth.getUser(),n=t||(r==null?void 0:r.id);if(!n)return null;const{data:i,error:a}=await ze.from("task_based_progress").select("*").eq("user_id",n).eq("simulation_id",e).is("completed_at",null).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(a&&a.code!=="PGRST116")throw a;return i}catch(r){return console.error("Error getting active progress:",r),null}},async saveTaskSubmission(e,t,r,n){var i,a;try{const{data:{user:s},error:o}=await ze.auth.getUser();if(o)throw console.error(" Auth error:",o),new Error("Authentication error: "+o.message);if(!s)throw console.error(" User not authenticated"),new Error("User must be authenticated to save submissions");if(console.log(` Saving submission for user ${s.id}, simulation ${e}, task ${r}`),!e||!t||!r)throw new Error("simulationId, sessionId, and taskId are required");if(!n||typeof n!="object")throw new Error("taskData must be an object");const l=await this.getSimulationById(e);if(!l)throw new Error("Simulation not found");const u=(i=l.tasks)==null?void 0:i.find(m=>m.id===r);if(!u)throw new Error(`Task ${r} not found in simulation`);let d;try{d=await Gme.validateTask(u,n,l)}catch(m){console.error("Validation error:",m),d={score:0,breakdown:{},strengths:[],improvements:["Validation failed. Please try again."]}}const f={user_id:s.id,simulation_id:e,session_id:t,task_id:r,task_data:n,score:d.score||0,score_breakdown:d.breakdown||{},strengths:d.strengths||[],improvements:d.improvements||[],validation_method:((a=u.validation)==null?void 0:a.method)||"rule-based",metadata:{task_type:u.type,submitted_at:new Date().toISOString()}},{data:p,error:h}=await ze.from("task_submissions").upsert(f,{onConflict:"user_id,simulation_id,session_id,task_id",ignoreDuplicates:!1}).select().single();if(h)throw console.error("Error saving submission:",h),h;return await this.updateProgress(e,t,r,l),p}catch(s){throw console.error("Failed to save task submission:",s),s}},async updateProgress(e,t,r,n=null){var i;try{const{data:{user:a}}=await ze.auth.getUser();if(!a)throw new Error("User must be authenticated");if(!n&&(n=await this.getSimulationById(e),!n))throw new Error("Simulation not found");const{data:s,error:o}=await ze.from("task_based_progress").select("*").eq("user_id",a.id).eq("simulation_id",e).eq("session_id",t).single();if(o){if(o.code==="PGRST116"){const{data:y}=await ze.from("task_based_progress").insert({user_id:a.id,simulation_id:e,session_id:t,current_task:0,completed_tasks:[r],progress_percentage:0}).select().single();return y}throw o}const u=(n.tasks||[]).filter(y=>y.id!=="task0").length,d=[...new Set([...s.completed_tasks||[],r])],f=u>0?Math.round(d.length/u*100):0,p=d.length>=u,h={completed_tasks:d,progress_percentage:f,current_task:p?u-1:s.current_task,last_updated_at:new Date().toISOString()};if(p&&!s.completed_at){console.log(" All tasks completed! Generating final report and marking as complete...");try{const y=await this.generateFinalReport(e,t,n);console.log(` Final report generated. Score: ${y.finalScore}%`),h.final_score=y.finalScore,h.skill_breakdown=y.skillBreakdown,h.resume_snippet=y.resumeSnippet,h.completed_at=new Date().toISOString(),h.progress_percentage=100,console.log(` Setting completed_at to: ${h.completed_at}`);const{error:v}=await ze.from("simulation_sessions").update({status:"completed",completed_at:new Date().toISOString(),final_score:y.finalScore,progress_percentage:100}).eq("id",t);v?console.error(" Error updating session status:",v):console.log(" Session marked as completed")}catch(y){console.error(" Error generating final report:",y),h.completed_at=new Date().toISOString(),h.progress_percentage=100,console.log(" Marking as completed without final report due to error")}}else p&&s.completed_at?console.log(` Already marked as completed at: ${s.completed_at}`):console.log(` Not all tasks complete yet: ${d.length}/${u}`);console.log(" Updating progress with data:",{completed_tasks:((i=h.completed_tasks)==null?void 0:i.length)||0,progress_percentage:h.progress_percentage,completed_at:h.completed_at||"NOT SET",final_score:h.final_score||"NOT SET"});const{data:m,error:g}=await ze.from("task_based_progress").update(h).eq("id",s.id).select().single();if(g)throw console.error(" Error updating progress:",g),console.error("Error details:",{message:g.message,code:g.code,details:g.details,hint:g.hint}),g;return console.log(` Progress updated successfully. Completed: ${m.completed_at?"YES":"NO"}`),m}catch(a){throw console.error("Failed to update progress:",a),a}},async generateFinalReport(e,t,r){try{const{data:{user:n}}=await ze.auth.getUser();if(!n)throw new Error("User must be authenticated");const{data:i,error:a}=await ze.from("task_submissions").select("*").eq("user_id",n.id).eq("simulation_id",e).eq("session_id",t).order("task_id",{ascending:!0});if(a)throw a;if(!i||i.length===0)throw new Error("No submissions found for final report");const s=i.reduce((d,f)=>d+(f.score||0),0),o=Math.round(s/i.length),l=this.calculateSkillBreakdown(i,r),u=this.generateResumeSnippet(r,o,l);return{finalScore:o,skillBreakdown:l,resumeSnippet:u}}catch(n){throw console.error("Error generating final report:",n),n}},calculateSkillBreakdown(e,t){const r=t.skill_mapping||{},n=t.skills_tested||[],i={};n.forEach(s=>{i[s]={score:0,taskCount:0}}),e.forEach(s=>{const o=s.task_id,l=s.score||0,u=[];if(Object.entries(r).forEach(([d,f])=>{Array.isArray(f)&&f.includes(o)&&u.push(d)}),u.length>0){const d=l/u.length;u.forEach(f=>{i[f]&&(i[f].score+=d,i[f].taskCount+=1)})}});const a={};return Object.entries(i).forEach(([s,o])=>{o.taskCount>0?a[s]=Math.round(o.score/o.taskCount):a[s]=0}),a},generateResumeSnippet(e,t,r){var s,o,l;const n=Object.entries(r).sort((u,d)=>d[1]-u[1]).slice(0,3).map(([u])=>u),i=((s=e.company_info)==null?void 0:s.fullName)||((o=e.company_info)==null?void 0:o.name)||"the company",a=e.title;return`Led end-to-end product development for ${i} ${a}, demonstrating expertise in ${n.join(", ")}. Achieved ${t}/100 overall score across ${((l=e.tasks)==null?void 0:l.length)||0} comprehensive tasks including market research, strategic planning, and data analysis.`},async getProgress(e,t){try{const{data:{user:r}}=await ze.auth.getUser();if(!r||!e||!t)return null;const{data:n,error:i}=await ze.from("task_based_progress").select("*").eq("user_id",r.id).eq("simulation_id",e).eq("session_id",t).single();if(i){if(i.code==="PGRST116")return null;throw i}return n}catch(r){return console.error("Error getting progress:",r),null}},async getTaskSubmissions(e,t){try{const{data:{user:r}}=await ze.auth.getUser();if(!r)return[];if(!e||!t)return[];const{data:n,error:i}=await ze.from("task_submissions").select("*").eq("user_id",r.id).eq("simulation_id",e).eq("session_id",t).order("task_id",{ascending:!0});return i?(console.error("Error getting submissions:",i),[]):n||[]}catch(r){return console.error("Error getting task submissions:",r),[]}},async getTaskSubmission(e,t,r){try{const{data:{user:n}}=await ze.auth.getUser();if(!n)return null;const{data:i,error:a}=await ze.from("task_submissions").select("*").eq("user_id",n.id).eq("simulation_id",e).eq("session_id",t).eq("task_id",r).single();if(a){if(a.code==="PGRST116")return null;throw a}return i}catch(n){return console.error("Error getting task submission:",n),null}},async resumeSession(e){try{const{data:{user:t}}=await ze.auth.getUser();if(!t)return null;const r=await this.getActiveProgress(e,t.id);if(!r)return null;const{data:n}=await ze.from("simulation_sessions").select("*").eq("id",r.session_id).single();return{session:n,progress:r}}catch(t){return console.error("Error resuming session:",t),null}}},Yme=Object.freeze(Object.defineProperty({__proto__:null,taskBasedService:uo},Symbol.toStringTag,{value:"Module"}));function Gt(e){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}var fs=Uint8Array,sa=Uint16Array,QN=Int32Array,eS=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tS=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jE=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ED=function(e,t){for(var r=new sa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new QN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},OD=ED(eS,2),Xme=OD.b,f5=OD.r;Xme[28]=258,f5[258]=28;var Jme=ED(tS,0),NE=Jme.r,h5=new sa(32768);for(var hr=0;hr<32768;++hr){var ol=(hr&43690)>>1|(hr&21845)<<1;ol=(ol&52428)>>2|(ol&13107)<<2,ol=(ol&61680)>>4|(ol&3855)<<4,h5[hr]=((ol&65280)>>8|(ol&255)<<8)>>1}var Jh=function(e,t,r){for(var n=e.length,i=0,a=new sa(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new sa(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new sa(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],f=s[e[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[h5[f]>>l]=u}else for(o=new sa(n),i=0;i<n;++i)e[i]&&(o[i]=h5[s[e[i]-1]++]>>15-e[i]);return o},gu=new fs(288);for(var hr=0;hr<144;++hr)gu[hr]=8;for(var hr=144;hr<256;++hr)gu[hr]=9;for(var hr=256;hr<280;++hr)gu[hr]=7;for(var hr=280;hr<288;++hr)gu[hr]=8;var ty=new fs(32);for(var hr=0;hr<32;++hr)ty[hr]=5;var Zme=Jh(gu,9,0),Qme=Jh(ty,5,0),PD=function(e){return(e+7)/8|0},e0e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new fs(e.subarray(t,r))},ro=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},wh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Ox=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:TD,l:0};if(i==1){var s=new fs(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(j,O){return j.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new sa(p+1),m=p5(r[d-1],h,0);if(m>t){var n=0,g=0,y=m-t,v=1<<y;for(a.sort(function(O,N){return h[N.s]-h[O.s]||O.f-N.f});n<i;++n){var b=a[n].s;if(h[b]>t)g+=v-(1<<m-h[b]),h[b]=t;else break}for(g>>=y;g>0;){var w=a[n].s;h[w]<t?g-=1<<t-h[w]++-1:++n}for(;n>=0&&g;--n){var x=a[n].s;h[x]==t&&(--h[x],++g)}m=t}return{t:new fs(h),l:m}},p5=function(e,t,r){return e.s==-1?Math.max(p5(e.l,t,r+1),p5(e.r,t,r+1)):t[e.s]=r},SE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new sa(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},_h=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},CD=function(e,t,r){var n=r.length,i=PD(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},kE=function(e,t,r,n,i,a,s,o,l,u,d){ro(t,d++,r),++i[256];for(var f=Ox(i,15),p=f.t,h=f.l,m=Ox(a,15),g=m.t,y=m.l,v=SE(p),b=v.c,w=v.n,x=SE(g),j=x.c,O=x.n,N=new sa(19),E=0;E<b.length;++E)++N[b[E]&31];for(var E=0;E<j.length;++E)++N[j[E]&31];for(var P=Ox(N,7),C=P.t,S=P.l,A=19;A>4&&!C[jE[A-1]];--A);var I=u+5<<3,D=_h(i,gu)+_h(a,ty)+s,U=_h(i,p)+_h(a,g)+s+14+3*A+_h(N,C)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&I<=D&&I<=U)return CD(t,d,e.subarray(l,l+u));var J,X,H,W;if(ro(t,d,1+(U<D)),d+=2,U<D){J=Jh(p,h,0),X=p,H=Jh(g,y,0),W=g;var V=Jh(C,S,0);ro(t,d,w-257),ro(t,d+5,O-1),ro(t,d+10,A-4),d+=14;for(var E=0;E<A;++E)ro(t,d+3*E,C[jE[E]]);d+=3*A;for(var $=[b,j],R=0;R<2;++R)for(var B=$[R],E=0;E<B.length;++E){var z=B[E]&31;ro(t,d,V[z]),d+=C[z],z>15&&(ro(t,d,B[E]>>5&127),d+=B[E]>>12)}}else J=Zme,X=gu,H=Qme,W=ty;for(var E=0;E<o;++E){var K=n[E];if(K>255){var z=K>>18&31;wh(t,d,J[z+257]),d+=X[z+257],z>7&&(ro(t,d,K>>23&31),d+=eS[z]);var q=K&31;wh(t,d,H[q]),d+=W[q],q>3&&(wh(t,d,K>>5&8191),d+=tS[q])}else wh(t,d,J[K]),d+=X[K]}return wh(t,d,J[256]),d+X[256]},t0e=new QN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TD=new fs(0),r0e=function(e,t,r,n,i,a){var s=a.z||e.length,o=new fs(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,d=(a.r||0)&7;if(t){d&&(l[0]=a.r>>3);for(var f=t0e[t-1],p=f>>13,h=f&8191,m=(1<<r)-1,g=a.p||new sa(32768),y=a.h||new sa(m+1),v=Math.ceil(r/3),b=2*v,w=function(ve){return(e[ve]^e[ve+1]<<v^e[ve+2]<<b)&m},x=new QN(25e3),j=new sa(288),O=new sa(32),N=0,E=0,P=a.i||0,C=0,S=a.w||0,A=0;P+2<s;++P){var I=w(P),D=P&32767,U=y[I];if(g[D]=U,y[I]=D,S<=P){var J=s-P;if((N>7e3||C>24576)&&(J>423||!u)){d=kE(e,l,0,x,j,O,E,C,A,P-A,d),C=N=E=0,A=P;for(var X=0;X<286;++X)j[X]=0;for(var X=0;X<30;++X)O[X]=0}var H=2,W=0,V=h,$=D-U&32767;if(J>2&&I==w(P-$))for(var R=Math.min(p,J)-1,B=Math.min(32767,P),z=Math.min(258,J);$<=B&&--V&&D!=U;){if(e[P+H]==e[P+H-$]){for(var K=0;K<z&&e[P+K]==e[P+K-$];++K);if(K>H){if(H=K,W=$,K>R)break;for(var q=Math.min($,K-2),Q=0,X=0;X<q;++X){var ae=P-$+X&32767,Z=g[ae],le=ae-Z&32767;le>Q&&(Q=le,U=ae)}}}D=U,U=g[D],$+=D-U&32767}if(W){x[C++]=268435456|f5[H]<<18|NE[W];var ge=f5[H]&31,de=NE[W]&31;E+=eS[ge]+tS[de],++j[257+ge],++O[de],S=P+H,++N}else x[C++]=e[P],++j[e[P]]}}for(P=Math.max(P,S);P<s;++P)x[C++]=e[P],++j[e[P]];d=kE(e,l,u,x,j,O,E,C,A,P-A,d),u||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=y,a.p=g,a.i=P,a.w=S)}else{for(var P=a.w||0;P<s+u;P+=65535){var ke=P+65535;ke>=s&&(l[d/8|0]=u,ke=s),d=CD(l,d+1,e.subarray(P,ke))}a.i=s}return e0e(o,0,n+PD(d)+i)},LD=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},n0e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new fs(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return r0e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},ID=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},i0e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=LD();i.p(t.dictionary),ID(e,2,i.d())}};function m5(e,t){t||(t={});var r=LD();r.p(e);var n=n0e(e,t,t.dictionary?6:2,4);return i0e(n,t),ID(n,n.length-4,r.d()),n}var a0e=typeof TextDecoder<"u"&&new TextDecoder,s0e=0;try{a0e.decode(TD,{stream:!0}),s0e=1}catch{}function o0e(e){if(Array.isArray(e))return e}function l0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function AE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c0e(e,t){if(e){if(typeof e=="string")return AE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AE(e,t):void 0}}function u0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EE(e,t){return o0e(e)||l0e(e,t)||c0e(e,t)||u0e()}function OE(e,t="utf8"){return new TextDecoder(t).decode(e)}const d0e=new TextEncoder;function f0e(e){return d0e.encode(e)}const h0e=1024*8,p0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Px={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rS{constructor(t=h0e,r={}){Ut(this,"buffer");Ut(this,"byteLength");Ut(this,"byteOffset");Ut(this,"length");Ut(this,"offset");Ut(this,"lastWrittenByte");Ut(this,"littleEndian");Ut(this,"_data");Ut(this,"_mark");Ut(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof rS)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Px[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===p0e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new Px[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new Px[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return OE(this.readBytes(t))}decodeText(t=1,r="utf8"){return OE(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(f0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ef(e){let t=e.length;for(;--t>=0;)e[t]=0}const m0e=3,g0e=258,RD=29,v0e=256,y0e=v0e+1+RD,MD=30,b0e=512,x0e=new Array((y0e+2)*2);Ef(x0e);const w0e=new Array(MD*2);Ef(w0e);const _0e=new Array(b0e);Ef(_0e);const j0e=new Array(g0e-m0e+1);Ef(j0e);const N0e=new Array(RD);Ef(N0e);const S0e=new Array(MD);Ef(S0e);const k0e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var g5=k0e;const A0e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},E0e=new Uint32Array(A0e()),O0e=(e,t,r,n)=>{const i=E0e,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Ss=O0e,v5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},DD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const P0e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var C0e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)P0e(r,n)&&(e[n]=r[n])}}return e},T0e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},BD={assign:C0e,flattenChunks:T0e};let FD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{FD=!1}const Lp=new Uint8Array(256);for(let e=0;e<256;e++)Lp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Lp[254]=Lp[254]=1;var L0e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const I0e=(e,t)=>{if(t<65534&&e.subarray&&FD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var R0e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Lp[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return I0e(a,i)},M0e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Lp[e[r]]>t?r:t},y5={string2buf:L0e,buf2string:R0e,utf8border:M0e};function D0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var B0e=D0e;const W0=16209,F0e=16191;var $0e=function(t,r){let n,i,a,s,o,l,u,d,f,p,h,m,g,y,v,b,w,x,j,O,N,E,P,C;const S=t.state;n=t.next_in,P=t.input,i=n+(t.avail_in-5),a=t.next_out,C=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=S.dmax,u=S.wsize,d=S.whave,f=S.wnext,p=S.window,h=S.hold,m=S.bits,g=S.lencode,y=S.distcode,v=(1<<S.lenbits)-1,b=(1<<S.distbits)-1;e:do{m<15&&(h+=P[n++]<<m,m+=8,h+=P[n++]<<m,m+=8),w=g[h&v];t:for(;;){if(x=w>>>24,h>>>=x,m-=x,x=w>>>16&255,x===0)C[a++]=w&65535;else if(x&16){j=w&65535,x&=15,x&&(m<x&&(h+=P[n++]<<m,m+=8),j+=h&(1<<x)-1,h>>>=x,m-=x),m<15&&(h+=P[n++]<<m,m+=8,h+=P[n++]<<m,m+=8),w=y[h&b];r:for(;;){if(x=w>>>24,h>>>=x,m-=x,x=w>>>16&255,x&16){if(O=w&65535,x&=15,m<x&&(h+=P[n++]<<m,m+=8,m<x&&(h+=P[n++]<<m,m+=8)),O+=h&(1<<x)-1,O>l){t.msg="invalid distance too far back",S.mode=W0;break e}if(h>>>=x,m-=x,x=a-s,O>x){if(x=O-x,x>d&&S.sane){t.msg="invalid distance too far back",S.mode=W0;break e}if(N=0,E=p,f===0){if(N+=u-x,x<j){j-=x;do C[a++]=p[N++];while(--x);N=a-O,E=C}}else if(f<x){if(N+=u+f-x,x-=f,x<j){j-=x;do C[a++]=p[N++];while(--x);if(N=0,f<j){x=f,j-=x;do C[a++]=p[N++];while(--x);N=a-O,E=C}}}else if(N+=f-x,x<j){j-=x;do C[a++]=p[N++];while(--x);N=a-O,E=C}for(;j>2;)C[a++]=E[N++],C[a++]=E[N++],C[a++]=E[N++],j-=3;j&&(C[a++]=E[N++],j>1&&(C[a++]=E[N++]))}else{N=a-O;do C[a++]=C[N++],C[a++]=C[N++],C[a++]=C[N++],j-=3;while(j>2);j&&(C[a++]=C[N++],j>1&&(C[a++]=C[N++]))}}else if(x&64){t.msg="invalid distance code",S.mode=W0;break e}else{w=y[(w&65535)+(h&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){S.mode=F0e;break e}else{t.msg="invalid literal/length code",S.mode=W0;break e}else{w=g[(w&65535)+(h&(1<<x)-1)];continue t}break}}while(n<i&&a<o);j=m>>3,n-=j,m-=j<<3,h&=(1<<m)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),S.hold=h,S.bits=m};const ed=15,PE=852,CE=592,TE=0,Cx=1,LE=2,U0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),z0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),q0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),W0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),H0e=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let u=0,d=0,f=0,p=0,h=0,m=0,g=0,y=0,v=0,b=0,w,x,j,O,N,E=null,P;const C=new Uint16Array(ed+1),S=new Uint16Array(ed+1);let A=null,I,D,U;for(u=0;u<=ed;u++)C[u]=0;for(d=0;d<n;d++)C[t[r+d]]++;for(h=l,p=ed;p>=1&&C[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&C[f]===0;f++);for(h<f&&(h=f),y=1,u=1;u<=ed;u++)if(y<<=1,y-=C[u],y<0)return-1;if(y>0&&(e===TE||p!==1))return-1;for(S[1]=0,u=1;u<ed;u++)S[u+1]=S[u]+C[u];for(d=0;d<n;d++)t[r+d]!==0&&(s[S[t[r+d]]++]=d);if(e===TE?(E=A=s,P=20):e===Cx?(E=U0e,A=z0e,P=257):(E=q0e,A=W0e,P=0),b=0,d=0,u=f,N=a,m=h,g=0,j=-1,v=1<<h,O=v-1,e===Cx&&v>PE||e===LE&&v>CE)return 1;for(;;){I=u-g,s[d]+1<P?(D=0,U=s[d]):s[d]>=P?(D=A[s[d]-P],U=E[s[d]-P]):(D=96,U=0),w=1<<u-g,x=1<<m,f=x;do x-=w,i[N+(b>>g)+x]=I<<24|D<<16|U|0;while(x!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--C[u]===0){if(u===p)break;u=t[r+s[d]]}if(u>h&&(b&O)!==j){for(g===0&&(g=h),N+=f,m=u-g,y=1<<m;m+g<p&&(y-=C[m+g],!(y<=0));)m++,y<<=1;if(v+=1<<m,e===Cx&&v>PE||e===LE&&v>CE)return 1;j=b&O,i[j]=h<<24|m<<16|N-a|0}}return b!==0&&(i[N+b]=u-g<<24|64<<16|0),o.bits=h,0};var Zh=H0e;const K0e=0,$D=1,UD=2,{Z_FINISH:IE,Z_BLOCK:V0e,Z_TREES:H0,Z_OK:vu,Z_STREAM_END:G0e,Z_NEED_DICT:Y0e,Z_STREAM_ERROR:Fa,Z_DATA_ERROR:zD,Z_MEM_ERROR:qD,Z_BUF_ERROR:X0e,Z_DEFLATED:RE}=DD,T1=16180,ME=16181,DE=16182,BE=16183,FE=16184,$E=16185,UE=16186,zE=16187,qE=16188,WE=16189,ry=16190,no=16191,Tx=16192,HE=16193,Lx=16194,KE=16195,VE=16196,GE=16197,YE=16198,K0=16199,V0=16200,XE=16201,JE=16202,ZE=16203,QE=16204,eO=16205,Ix=16206,tO=16207,rO=16208,mr=16209,WD=16210,HD=16211,J0e=852,Z0e=592,Q0e=15,ege=Q0e,nO=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function tge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Au=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<T1||t.mode>HD?1:0},KD=e=>{if(Au(e))return Fa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=T1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(J0e),t.distcode=t.distdyn=new Int32Array(Z0e),t.sane=1,t.back=-1,vu},VD=e=>{if(Au(e))return Fa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,KD(e)},GD=(e,t)=>{let r;if(Au(e))return Fa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Fa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,VD(e))},YD=(e,t)=>{if(!e)return Fa;const r=new tge;e.state=r,r.strm=e,r.window=null,r.mode=T1;const n=GD(e,t);return n!==vu&&(e.state=null),n},rge=e=>YD(e,ege);let iO=!0,Rx,Mx;const nge=e=>{if(iO){Rx=new Int32Array(512),Mx=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Zh($D,e.lens,0,288,Rx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Zh(UD,e.lens,0,32,Mx,0,e.work,{bits:5}),iO=!1}e.lencode=Rx,e.lenbits=9,e.distcode=Mx,e.distbits=5},XD=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ige=(e,t)=>{let r,n,i,a,s,o,l,u,d,f,p,h,m,g,y=0,v,b,w,x,j,O,N,E;const P=new Uint8Array(4);let C,S;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Au(e)||!e.output||!e.input&&e.avail_in!==0)return Fa;r=e.state,r.mode===no&&(r.mode=Tx),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,d=r.bits,f=o,p=l,E=vu;e:for(;;)switch(r.mode){case T1:if(r.wrap===0){r.mode=Tx;break}for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=Ss(r.check,P,2,0),u=0,d=0,r.mode=ME;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=mr;break}if((u&15)!==RE){e.msg="unknown compression method",r.mode=mr;break}if(u>>>=4,d-=4,N=(u&15)+8,r.wbits===0&&(r.wbits=N),N>15||N>r.wbits){e.msg="invalid window size",r.mode=mr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?WE:no,u=0,d=0;break;case ME:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==RE){e.msg="unknown compression method",r.mode=mr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=mr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Ss(r.check,P,2,0)),u=0,d=0,r.mode=DE;case DE:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Ss(r.check,P,4,0)),u=0,d=0,r.mode=BE;case BE:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Ss(r.check,P,2,0)),u=0,d=0,r.mode=FE;case FE:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Ss(r.check,P,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=$E;case $E:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),N)),r.flags&512&&r.wrap&4&&(r.check=Ss(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=UE;case UE:if(r.flags&2048){if(o===0)break e;h=0;do N=n[a+h++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N));while(N&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ss(r.check,n,h,a)),o-=h,a+=h,N)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=zE;case zE:if(r.flags&4096){if(o===0)break e;h=0;do N=n[a+h++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N));while(N&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ss(r.check,n,h,a)),o-=h,a+=h,N)break e}else r.head&&(r.head.comment=null);r.mode=qE;case qE:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=mr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=no;break;case WE:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}e.adler=r.check=nO(u),u=0,d=0,r.mode=ry;case ry:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=d,Y0e;e.adler=r.check=1,r.mode=no;case no:if(t===V0e||t===H0)break e;case Tx:if(r.last){u>>>=d&7,d-=d&7,r.mode=Ix;break}for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=HE;break;case 1:if(nge(r),r.mode=K0,t===H0){u>>>=2,d-=2;break e}break;case 2:r.mode=VE;break;case 3:e.msg="invalid block type",r.mode=mr}u>>>=2,d-=2;break;case HE:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=mr;break}if(r.length=u&65535,u=0,d=0,r.mode=Lx,t===H0)break e;case Lx:r.mode=KE;case KE:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=no;break;case VE:for(;d<14;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=mr;break}r.have=0,r.mode=GE;case GE:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.lens[A[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},E=Zh(K0e,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,E){e.msg="invalid code lengths set",r.mode=mr;break}r.have=0,r.mode=YE;case YE:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(w<16)u>>>=v,d-=v,r.lens[r.have++]=w;else{if(w===16){for(S=v+2;d<S;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(u>>>=v,d-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=mr;break}N=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(w===17){for(S=v+3;d<S;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=v,d-=v,N=0,h=3+(u&7),u>>>=3,d-=3}else{for(S=v+7;d<S;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=v,d-=v,N=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=mr;break}for(;h--;)r.lens[r.have++]=N}}if(r.mode===mr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=mr;break}if(r.lenbits=9,C={bits:r.lenbits},E=Zh($D,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,E){e.msg="invalid literal/lengths set",r.mode=mr;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},E=Zh(UD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,E){e.msg="invalid distances set",r.mode=mr;break}if(r.mode=K0,t===H0)break e;case K0:r.mode=V0;case V0:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=d,$0e(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,d=r.bits,r.mode===no&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(b&&!(b&240)){for(x=v,j=b,O=w;y=r.lencode[O+((u&(1<<x+j)-1)>>x)],v=y>>>24,b=y>>>16&255,w=y&65535,!(x+v<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=x,d-=x,r.back+=x}if(u>>>=v,d-=v,r.back+=v,r.length=w,b===0){r.mode=eO;break}if(b&32){r.back=-1,r.mode=no;break}if(b&64){e.msg="invalid literal/length code",r.mode=mr;break}r.extra=b&15,r.mode=XE;case XE:if(r.extra){for(S=r.extra;d<S;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=JE;case JE:for(;y=r.distcode[u&(1<<r.distbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(!(b&240)){for(x=v,j=b,O=w;y=r.distcode[O+((u&(1<<x+j)-1)>>x)],v=y>>>24,b=y>>>16&255,w=y&65535,!(x+v<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=x,d-=x,r.back+=x}if(u>>>=v,d-=v,r.back+=v,b&64){e.msg="invalid distance code",r.mode=mr;break}r.offset=w,r.extra=b&15,r.mode=ZE;case ZE:if(r.extra){for(S=r.extra;d<S;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=mr;break}r.mode=QE;case QE:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=mr;break}h>r.wnext?(h-=r.wnext,m=r.wsize-h):m=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,m=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[m++];while(--h);r.length===0&&(r.mode=V0);break;case eO:if(l===0)break e;i[s++]=r.length,l--,r.mode=V0;break;case Ix:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[a++]<<d,d+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Ss(r.check,i,p,s-p):g5(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?u:nO(u))!==r.check){e.msg="incorrect data check",r.mode=mr;break}u=0,d=0}r.mode=tO;case tO:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=mr;break}u=0,d=0}r.mode=rO;case rO:E=G0e;break e;case mr:E=zD;break e;case WD:return qD;case HD:default:return Fa}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<mr&&(r.mode<Ix||t!==IE))&&XD(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Ss(r.check,i,p,e.next_out-p):g5(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===no?128:0)+(r.mode===K0||r.mode===Lx?256:0),(f===0&&p===0||t===IE)&&E===vu&&(E=X0e),E},age=e=>{if(Au(e))return Fa;let t=e.state;return t.window&&(t.window=null),e.state=null,vu},sge=(e,t)=>{if(Au(e))return Fa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,vu):Fa},oge=(e,t)=>{const r=t.length;let n,i,a;return Au(e)||(n=e.state,n.wrap!==0&&n.mode!==ry)?Fa:n.mode===ry&&(i=1,i=g5(i,t,r,0),i!==n.check)?zD:(a=XD(e,t,r,r),a?(n.mode=WD,qD):(n.havedict=1,vu))};var lge=VD,cge=GD,uge=KD,dge=rge,fge=YD,hge=ige,pge=age,mge=sge,gge=oge,vge="pako inflate (from Nodeca project)",oo={inflateReset:lge,inflateReset2:cge,inflateResetKeep:uge,inflateInit:dge,inflateInit2:fge,inflate:hge,inflateEnd:pge,inflateGetHeader:mge,inflateSetDictionary:gge,inflateInfo:vge};function yge(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bge=yge;const JD=Object.prototype.toString,{Z_NO_FLUSH:xge,Z_FINISH:wge,Z_OK:Ip,Z_STREAM_END:Dx,Z_NEED_DICT:Bx,Z_STREAM_ERROR:_ge,Z_DATA_ERROR:aO,Z_MEM_ERROR:jge}=DD;function hm(e){this.options=BD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B0e,this.strm.avail_out=0;let r=oo.inflateInit2(this.strm,t.windowBits);if(r!==Ip)throw new Error(v5[r]);if(this.header=new bge,oo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=y5.string2buf(t.dictionary):JD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=oo.inflateSetDictionary(this.strm,t.dictionary),r!==Ip)))throw new Error(v5[r])}hm.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?wge:xge,JD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=oo.inflate(r,s),a===Bx&&i&&(a=oo.inflateSetDictionary(r,i),a===Ip?a=oo.inflate(r,s):a===aO&&(a=Bx));r.avail_in>0&&a===Dx&&r.state.wrap>0&&e[r.next_in]!==0;)oo.inflateReset(r),a=oo.inflate(r,s);switch(a){case _ge:case aO:case Bx:case jge:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===Dx))if(this.options.to==="string"){let l=y5.utf8border(r.output,r.next_out),u=r.next_out-l,d=y5.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Ip&&o===0)){if(a===Dx)return a=oo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};hm.prototype.onData=function(e){this.chunks.push(e)};hm.prototype.onEnd=function(e){e===Ip&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=BD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Nge(e,t){const r=new hm(t);if(r.push(e),r.err)throw r.msg||v5[r.err];return r.result}var Sge=hm,kge=Nge,Age={Inflate:Sge,inflate:kge};const{Inflate:Ege,inflate:Oge}=Age;var sO=Ege,Pge=Oge;const ZD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;ZD[e]=t}const oO=4294967295;function Cge(e,t,r){let n=e;for(let i=0;i<r;i++)n=ZD[(n^t[i])&255]^n>>>8;return n}function Tge(e,t){return(Cge(oO,e,t)^oO)>>>0}function lO(e,t,r){const n=e.readUint32(),i=Tge(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function QD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function e9(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function t9(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function r9(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function n9(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Lge(t[a-i],r[a],r[a-i])&255}}function Lge(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function Ige(e,t,r,n,i,a){switch(e){case 0:QD(t,r,i);break;case 1:e9(t,r,i,a);break;case 2:t9(t,r,n,i);break;case 3:r9(t,r,n,i,a);break;case 4:n9(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Rge=new Uint16Array([255]),Mge=new Uint8Array(Rge.buffer),Dge=Mge[0]===255;function Bge(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const m=p*o,g=new Uint8Array(m);for(let y=0;y<h;y++){const v=t[u++],b=t.subarray(u,u+m);u+=m;const w=new Uint8Array(m);Ige(v,b,w,g,m,o),g.set(w);for(let x=0;x<p;x++){const j=f.x+x*f.xStep,O=f.y+y*f.yStep;if(!(j>=r||O>=n))for(let N=0;N<o;N++)l[(O*r+j)*o+N]=w[x*o+N]}}}if(a===16){const d=new Uint16Array(l.buffer);if(Dge)for(let f=0;f<d.length;f++)d[f]=Fge(d[f]);return d}else return l}function Fge(e){return(e&255)<<8|e>>8&255}const $ge=new Uint16Array([255]),Uge=new Uint8Array($ge.buffer),zge=Uge[0]===255,qge=new Uint8Array(0);function cO(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let u=qge,d=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+o),p=l.subarray(h*o,(h+1)*o),t[d]){case 0:QD(f,p,o);break;case 1:e9(f,p,o,s);break;case 2:t9(f,p,u,o);break;case 3:r9(f,p,u,o,s);break;case 4:n9(f,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=p,d+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(zge)for(let m=0;m<h.length;m++)h[m]=Wge(h[m]);return h}else return l}function Wge(e){return(e&255)<<8|e>>8&255}const bg=Uint8Array.of(137,80,78,71,13,10,26,10);function uO(e){if(!Hge(e.readBytes(bg.length)))throw new Error("wrong PNG signature")}function Hge(e){if(e.length<bg.length)return!1;for(let t=0;t<bg.length;t++)if(e[t]!==bg[t])return!1;return!0}const Kge="tEXt",Vge=0,i9=new TextDecoder("latin1");function Gge(e){if(Xge(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Yge=/^[\u0000-\u00FF]*$/;function Xge(e){if(!Yge.test(e))throw new Error("invalid latin1 text")}function Jge(e,t,r){const n=a9(t);e[n]=Zge(t,r-n.length-1)}function a9(e){for(e.mark();e.readByte()!==Vge;);const t=e.offset;e.reset();const r=i9.decode(e.readBytes(t-e.offset-1));return e.skip(1),Gge(r),r}function Zge(e,t){return i9.decode(e.readBytes(t))}const Gi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Fx={UNKNOWN:-1,DEFLATE:0},dO={UNKNOWN:-1,ADAPTIVE:0},$x={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},G0={NONE:0,BACKGROUND:1,PREVIOUS:2},Ux={SOURCE:0,OVER:1};class Qge extends rS{constructor(r,n={}){super(r);Ut(this,"_checkCrc");Ut(this,"_inflator");Ut(this,"_png");Ut(this,"_apng");Ut(this,"_end");Ut(this,"_hasPalette");Ut(this,"_palette");Ut(this,"_hasTransparency");Ut(this,"_transparency");Ut(this,"_compressionMethod");Ut(this,"_filterMethod");Ut(this,"_interlaceMethod");Ut(this,"_colorType");Ut(this,"_isAnimated");Ut(this,"_numberOfFrames");Ut(this,"_numberOfPlays");Ut(this,"_frames");Ut(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new sO,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Fx.UNKNOWN,this._filterMethod=dO.UNKNOWN,this._interlaceMethod=$x.UNKNOWN,this._colorType=Gi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uO(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(uO(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Kge:Jge(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lO(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lO(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=eve(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Gi.GREYSCALE:i=1;break;case Gi.TRUECOLOUR:i=3;break;case Gi.INDEXED_COLOUR:i=1;break;case Gi.GREYSCALE_ALPHA:i=2;break;case Gi.TRUECOLOUR_ALPHA:i=4;break;case Gi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Fx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Gi.GREYSCALE:case Gi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Gi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Gi.UNKNOWN:case Gi.GREYSCALE_ALPHA:case Gi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=a9(this),i=this.readUint8();if(i!==Fx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Pge(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=cO({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case G0.NONE:break;case G0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case G0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case Ux.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case Ux.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[l+d]);r.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==dO.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$x.NO_INTERLACE)this._png.data=cO({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$x.ADAM7)this._png.data=Bge({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:G0.NONE,blendOp:Ux.SOURCE,data:r}),this._inflator=new sO,this._writingDataChunks=!1}}function eve(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var fO;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(fO||(fO={}));function tve(e,t){return new Qge(e,t).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zx(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var Qt={log:zx,warn:function(e){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):zx.call(null,arguments))},error:function(e){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):zx(e))}};function qx(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Rc(n.response,t,r)},n.onerror=function(){Qt.error("could not download file")},n.send()}function hO(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Y0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Rc=yt.saveAs||((typeof window>"u"?"undefined":Gt(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=yt.URL||yt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?hO(i.href)?qx(e,t,r):Y0(i,i.target="_blank"):Y0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Y0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(hO(e))qx(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Y0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Gt(a)!=="object"&&(Qt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return qx(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(yt.HTMLElement)||yt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Gt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=yt.URL||yt.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function s9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var xg=yt.atob.bind(yt),pO=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wx(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Zn(r,n,i,a,t[0],7,-680876936),a=Zn(a,r,n,i,t[1],12,-389564586),i=Zn(i,a,r,n,t[2],17,606105819),n=Zn(n,i,a,r,t[3],22,-1044525330),r=Zn(r,n,i,a,t[4],7,-176418897),a=Zn(a,r,n,i,t[5],12,1200080426),i=Zn(i,a,r,n,t[6],17,-1473231341),n=Zn(n,i,a,r,t[7],22,-45705983),r=Zn(r,n,i,a,t[8],7,1770035416),a=Zn(a,r,n,i,t[9],12,-1958414417),i=Zn(i,a,r,n,t[10],17,-42063),n=Zn(n,i,a,r,t[11],22,-1990404162),r=Zn(r,n,i,a,t[12],7,1804603682),a=Zn(a,r,n,i,t[13],12,-40341101),i=Zn(i,a,r,n,t[14],17,-1502002290),r=Qn(r,n=Zn(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Qn(a,r,n,i,t[6],9,-1069501632),i=Qn(i,a,r,n,t[11],14,643717713),n=Qn(n,i,a,r,t[0],20,-373897302),r=Qn(r,n,i,a,t[5],5,-701558691),a=Qn(a,r,n,i,t[10],9,38016083),i=Qn(i,a,r,n,t[15],14,-660478335),n=Qn(n,i,a,r,t[4],20,-405537848),r=Qn(r,n,i,a,t[9],5,568446438),a=Qn(a,r,n,i,t[14],9,-1019803690),i=Qn(i,a,r,n,t[3],14,-187363961),n=Qn(n,i,a,r,t[8],20,1163531501),r=Qn(r,n,i,a,t[13],5,-1444681467),a=Qn(a,r,n,i,t[2],9,-51403784),i=Qn(i,a,r,n,t[7],14,1735328473),r=ei(r,n=Qn(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ei(a,r,n,i,t[8],11,-2022574463),i=ei(i,a,r,n,t[11],16,1839030562),n=ei(n,i,a,r,t[14],23,-35309556),r=ei(r,n,i,a,t[1],4,-1530992060),a=ei(a,r,n,i,t[4],11,1272893353),i=ei(i,a,r,n,t[7],16,-155497632),n=ei(n,i,a,r,t[10],23,-1094730640),r=ei(r,n,i,a,t[13],4,681279174),a=ei(a,r,n,i,t[0],11,-358537222),i=ei(i,a,r,n,t[3],16,-722521979),n=ei(n,i,a,r,t[6],23,76029189),r=ei(r,n,i,a,t[9],4,-640364487),a=ei(a,r,n,i,t[12],11,-421815835),i=ei(i,a,r,n,t[15],16,530742520),r=ti(r,n=ei(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ti(a,r,n,i,t[7],10,1126891415),i=ti(i,a,r,n,t[14],15,-1416354905),n=ti(n,i,a,r,t[5],21,-57434055),r=ti(r,n,i,a,t[12],6,1700485571),a=ti(a,r,n,i,t[3],10,-1894986606),i=ti(i,a,r,n,t[10],15,-1051523),n=ti(n,i,a,r,t[1],21,-2054922799),r=ti(r,n,i,a,t[8],6,1873313359),a=ti(a,r,n,i,t[15],10,-30611744),i=ti(i,a,r,n,t[6],15,-1560198380),n=ti(n,i,a,r,t[13],21,1309151649),r=ti(r,n,i,a,t[4],6,-145523070),a=ti(a,r,n,i,t[11],10,-1120210379),i=ti(i,a,r,n,t[2],15,718787259),n=ti(n,i,a,r,t[9],21,-343485551),e[0]=Nl(r,e[0]),e[1]=Nl(n,e[1]),e[2]=Nl(i,e[2]),e[3]=Nl(a,e[3])}function L1(e,t,r,n,i,a){return t=Nl(Nl(t,e),Nl(n,a)),Nl(t<<i|t>>>32-i,r)}function Zn(e,t,r,n,i,a,s){return L1(t&r|~t&n,e,t,i,a,s)}function Qn(e,t,r,n,i,a,s){return L1(t&n|r&~n,e,t,i,a,s)}function ei(e,t,r,n,i,a,s){return L1(t^r^n,e,t,i,a,s)}function ti(e,t,r,n,i,a,s){return L1(r^(t|~n),e,t,i,a,s)}function o9(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Wx(n,rve(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Wx(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Wx(n,i),n}function rve(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var mO="0123456789abcdef".split("");function nve(e){for(var t="",r=0;r<4;r++)t+=mO[e>>8*r+4&15]+mO[e>>8*r&15];return t}function ive(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function b5(e){return o9(e).map(ive).join("")}var ave=function(e){for(var t=0;t<e.length;t++)e[t]=nve(e[t]);return e.join("")}(o9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nl(e,t){if(ave){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x5(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+s.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,p=0,h=0,m="";for(l=0;l<f;l++)h=(h+(d=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=d,s=o[(o[p]+o[h])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gO={print:4,modify:8,copy:16,"annot-forms":32};function sd(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(gO.perm!==void 0)throw new Error("Invalid permission: "+o);i+=gO[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=b5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=x5(this.encryptionKey,this.padding)}function od(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function vO(e){if(Gt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){yt.console&&Qt.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ny(e){if(!(this instanceof ny))return new ny(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function l9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Fc(e,t,r,n,i){if(!(this instanceof Fc))return new Fc(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,l9.call(this,n,i)}function jd(e,t,r,n,i){if(!(this instanceof jd))return new jd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,l9.call(this,n,i)}function lt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",d=null;Gt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=vO;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(L){m=L};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var v=h.__private__.getPageFormat=function(L){return y[L]};i=i||"a4";var b="compat",w="advanced",x=b;function j(){this.saveGraphicsState(),ie(new pt(qe,0,0,-qe,0,uc()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),u="n",x=w}function O(){this.restoreGraphicsState(),u="S",x=b}var N=h.__private__.combineFontStyleAndFontWeight=function(L,G){if(L=="bold"&&G=="normal"||L=="bold"&&G==400||L=="normal"&&G=="italic"||L=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(L=G==400||G==="normal"?L==="italic"?"italic":"normal":G!=700&&G!=="bold"||L!=="normal"?(G==700?"bold":G)+""+L:"bold"),L};h.advancedAPI=function(L){var G=x===b;return G&&j.call(this),typeof L!="function"||(L(this),G&&O.call(this)),this},h.compatAPI=function(L){var G=x===w;return G&&O.call(this),typeof L!="function"||(L(this),G&&j.call(this)),this},h.isAdvancedAPI=function(){return x===w};var E,P=function(L){if(x!==w)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(L,G){var ce=t||G;if(isNaN(L)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ce).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return C(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return C(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return C(L,16)};var S=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return C(L,2)},A=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return C(L,3)},I=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return x===b?L*qe:x===w?L:void 0},D=function(L){return I(function(G){return x===b?uc()-G:x===w?G:void 0}(L))};h.__private__.setPrecision=h.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var U,J="00000000000000000000000000000000",X=h.__private__.getFileId=function(){return J},H=h.__private__.setFileId=function(L){return J=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Br=new sd(d.userPermissions,d.userPassword,d.ownerPassword,J)),J};h.setFileId=function(L){return H(L),this},h.getFileId=function(){return X()};var W=h.__private__.convertDateToPDFDate=function(L){var G=L.getTimezoneOffset(),ce=G<0?"+":"-",ue=Math.floor(Math.abs(G/60)),we=Math.abs(G%60),Oe=[ce,z(ue),"'",z(we),"'"].join("");return["D:",L.getFullYear(),z(L.getMonth()+1),z(L.getDate()),z(L.getHours()),z(L.getMinutes()),z(L.getSeconds()),Oe].join("")},V=h.__private__.convertPDFDateToDate=function(L){var G=parseInt(L.substr(2,4),10),ce=parseInt(L.substr(6,2),10)-1,ue=parseInt(L.substr(8,2),10),we=parseInt(L.substr(10,2),10),Oe=parseInt(L.substr(12,2),10),Le=parseInt(L.substr(14,2),10);return new Date(G,ce,ue,we,Oe,Le,0)},$=h.__private__.setCreationDate=function(L){var G;if(L===void 0&&(L=new Date),L instanceof Date)G=W(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=L}return U=G},R=h.__private__.getCreationDate=function(L){var G=U;return L==="jsDate"&&(G=V(U)),G};h.setCreationDate=function(L){return $(L),this},h.getCreationDate=function(L){return R(L)};var B,z=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},q=0,Q=[],ae=[],Z=0,le=[],ge=[],de=!1,ke=ae;h.__private__.setCustomOutputDestination=function(L){de=!0,ke=L};var ve=function(L){de||(ke=L)};h.__private__.resetCustomOutputDestination=function(){de=!1,ke=ae};var ie=h.__private__.out=function(L){return L=L.toString(),Z+=L.length+1,ke.push(L),ke},We=h.__private__.write=function(L){return ie(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(L){for(var G=L.length,ce=new ArrayBuffer(G),ue=new Uint8Array(ce);G--;)ue[G]=L.charCodeAt(G);return ce},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return xe};var fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return fe=x===w?L/qe:L,this};var he,pe=h.__private__.getFontSize=h.getFontSize=function(){return x===b?fe:fe*qe},be=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return be=L,this},h.__private__.getR2L=h.getR2L=function(){return be};var Ce,De=h.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))he=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');he=L}else he=parseInt(L,10)};h.__private__.getZoomMode=function(){return he};var Ie,He=h.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ce=L};h.__private__.getPageMode=function(){return Ce};var Ze=h.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Ie=L};h.__private__.getLayoutMode=function(){return Ie},h.__private__.setDisplayMode=h.setDisplayMode=function(L,G,ce){return De(L),Ze(G),He(ce),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(Object.keys($e).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[L]},h.__private__.getDocumentProperties=function(){return $e},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var G in $e)$e.hasOwnProperty(G)&&L[G]&&($e[G]=L[G]);return this},h.__private__.setDocumentProperty=function(L,G){if(Object.keys($e).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[L]=G};var Ve,qe,Ke,ct,ht,Ge={},ft={},Mt=[],dt={},Ot={},bt={},lr={},un=null,Xt=0,wt=[],qt=new vO(h),Zl=e.hotfixes||[],Kn={},zs={},gs=[],pt=function L(G,ce,ue,we,Oe,Le){if(!(this instanceof L))return new L(G,ce,ue,we,Oe,Le);isNaN(G)&&(G=1),isNaN(ce)&&(ce=0),isNaN(ue)&&(ue=0),isNaN(we)&&(we=1),isNaN(Oe)&&(Oe=0),isNaN(Le)&&(Le=0),this._matrix=[G,ce,ue,we,Oe,Le]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},pt.prototype.multiply=function(L){var G=L.sx*this.sx+L.shy*this.shx,ce=L.sx*this.shy+L.shy*this.sy,ue=L.shx*this.sx+L.sy*this.shx,we=L.shx*this.shy+L.sy*this.sy,Oe=L.tx*this.sx+L.ty*this.shx+this.tx,Le=L.tx*this.shy+L.ty*this.sy+this.ty;return new pt(G,ce,ue,we,Oe,Le)},pt.prototype.decompose=function(){var L=this.sx,G=this.shy,ce=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Le=Math.sqrt(L*L+G*G),et=(L/=Le)*ce+(G/=Le)*ue;ce-=L*et,ue-=G*et;var st=Math.sqrt(ce*ce+ue*ue);return et/=st,L*(ue/=st)<G*(ce/=st)&&(L=-L,G=-G,et=-et,Le=-Le),{scale:new pt(Le,0,0,st,0,0),translate:new pt(1,0,0,1,we,Oe),rotate:new pt(L,G,-G,L,0,0),skew:new pt(1,0,et,1,0,0)}},pt.prototype.toString=function(L){return this.join(" ")},pt.prototype.inversed=function(){var L=this.sx,G=this.shy,ce=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Le=1/(L*ue-G*ce),et=ue*Le,st=-G*Le,xt=-ce*Le,jt=L*Le;return new pt(et,st,xt,jt,-et*we-xt*Oe,-st*we-jt*Oe)},pt.prototype.applyToPoint=function(L){var G=L.x*this.sx+L.y*this.shx+this.tx,ce=L.x*this.shy+L.y*this.sy+this.ty;return new lc(G,ce)},pt.prototype.applyToRectangle=function(L){var G=this.applyToPoint(L),ce=this.applyToPoint(new lc(L.x+L.w,L.y+L.h));return new Ff(G.x,G.y,ce.x-G.x,ce.y-G.y)},pt.prototype.clone=function(){var L=this.sx,G=this.shy,ce=this.shx,ue=this.sy,we=this.tx,Oe=this.ty;return new pt(L,G,ce,ue,we,Oe)},h.Matrix=pt;var qs=h.matrixMult=function(L,G){return G.multiply(L)},Ws=new pt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ws;var ma=function(L,G){if(!Ot[L]){var ce=(G instanceof Fc?"Sh":"P")+(Object.keys(dt).length+1).toString(10);G.id=ce,Ot[L]=ce,dt[ce]=G,qt.publish("addPattern",G)}};h.ShadingPattern=Fc,h.TilingPattern=jd,h.addShadingPattern=function(L,G){return P("addShadingPattern()"),ma(L,G),this},h.beginTilingPattern=function(L){P("beginTilingPattern()"),$f(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,G){P("endTilingPattern()"),G.stream=ge[B].join(`
`),ma(L,G),qt.publish("endTilingPattern",G),gs.pop().restore()};var ga,Cr=h.__private__.newObject=function(){var L=kn();return Mn(L,!0),L},kn=h.__private__.newObjectDeferred=function(){return q++,Q[q]=function(){return Z},q},Mn=function(L,G){return G=typeof G=="boolean"&&G,Q[L]=Z,G&&ie(L+" 0 obj"),L},Ql=h.__private__.newAdditionalObject=function(){var L={objId:kn(),content:""};return le.push(L),L},zo=kn(),za=kn(),vs=h.__private__.decodeColorString=function(L){var G=L.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var ce=parseFloat(G[0]);G=[ce,ce,ce,"r"]}for(var ue="#",we=0;we<3;we++)ue+=("0"+Math.floor(255*parseFloat(G[we])).toString(16)).slice(-2);return ue},qa=h.__private__.encodeColorString=function(L){var G;typeof L=="string"&&(L={ch1:L});var ce=L.ch1,ue=L.ch2,we=L.ch3,Oe=L.ch4,Le=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var et=new s9(ce);if(et.ok)ce=et.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var st=parseInt(ce.substr(1),16);ce=st>>16&255,ue=st>>8&255,we=255&st}if(ue===void 0||Oe===void 0&&ce===ue&&ue===we)G=typeof ce=="string"?ce+" "+Le[0]:L.precision===2?S(ce/255)+" "+Le[0]:A(ce/255)+" "+Le[0];else if(Oe===void 0||Gt(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Le[1]].join(" ");G=typeof ce=="string"?[ce,ue,we,Le[1]].join(" "):L.precision===2?[S(ce/255),S(ue/255),S(we/255),Le[1]].join(" "):[A(ce/255),A(ue/255),A(we/255),Le[1]].join(" ")}else G=typeof ce=="string"?[ce,ue,we,Oe,Le[2]].join(" "):L.precision===2?[S(ce),S(ue),S(we),S(Oe),Le[2]].join(" "):[A(ce),A(ue),A(we),A(Oe),Le[2]].join(" ");return G},Wa=h.__private__.getFilters=function(){return s},va=h.__private__.putStream=function(L){var G=(L=L||{}).data||"",ce=L.filters||Wa(),ue=L.alreadyAppliedFilters||[],we=L.addLength1||!1,Oe=G.length,Le=L.objectId,et=function(dn){return dn};if(d!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(et=Br.encryptor(Le,0));var st={};ce===!0&&(ce=["FlateEncode"]);var xt=L.additionalKeyValues||[],jt=(st=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(G,ce):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(st.data.length!==0&&(xt.push({key:"Length",value:st.data.length}),we===!0&&xt.push({key:"Length1",value:Oe})),jt.length!=0)if(jt.split("/").length-1==1)xt.push({key:"Filter",value:jt});else{xt.push({key:"Filter",value:"["+jt+"]"});for(var $t=0;$t<xt.length;$t+=1)if(xt[$t].key==="DecodeParms"){for(var Nr=[],Zr=0;Zr<st.reverseChain.split("/").length-1;Zr+=1)Nr.push("null");Nr.push(xt[$t].value),xt[$t].value="["+Nr.join(" ")+"]"}}ie("<<");for(var rr=0;rr<xt.length;rr++)ie("/"+xt[rr].key+" "+xt[rr].value);ie(">>"),st.data.length!==0&&(ie("stream"),ie(et(st.data)),ie("endstream"))},ec=h.__private__.putPage=function(L){var G=L.number,ce=L.data,ue=L.objId,we=L.contentsObjId;Mn(ue,!0),ie("<</Type /Page"),ie("/Parent "+L.rootDictionaryObjId+" 0 R"),ie("/Resources "+L.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ie("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ie("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ie("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&ie("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ie("/UserUnit "+L.userUnit),qt.publish("putPage",{objId:ue,pageContext:wt[G],pageNumber:G,page:ce}),ie("/Contents "+we+" 0 R"),ie(">>"),ie("endobj");var Oe=ce.join(`
`);return x===w&&(Oe+=`
Q`),Mn(we,!0),va({data:Oe,filters:Wa(),objectId:we}),ie("endobj"),ue},ys=h.__private__.putPages=function(){var L,G,ce=[];for(L=1;L<=Xt;L++)wt[L].objId=kn(),wt[L].contentsObjId=kn();for(L=1;L<=Xt;L++)ce.push(ec({number:L,data:ge[L],objId:wt[L].objId,contentsObjId:wt[L].contentsObjId,mediaBox:wt[L].mediaBox,cropBox:wt[L].cropBox,bleedBox:wt[L].bleedBox,trimBox:wt[L].trimBox,artBox:wt[L].artBox,userUnit:wt[L].userUnit,rootDictionaryObjId:zo,resourceDictionaryObjId:za}));Mn(zo,!0),ie("<</Type /Pages");var ue="/Kids [";for(G=0;G<Xt;G++)ue+=ce[G]+" 0 R ";ie(ue+"]"),ie("/Count "+Xt),ie(">>"),ie("endobj"),qt.publish("postPutPages")},tc=function(L){qt.publish("putFont",{font:L,out:ie,newObject:Cr,putStream:va}),L.isAlreadyPutted!==!0&&(L.objectNumber=Cr(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+od(L.postScriptName)),ie("/Subtype /Type1"),typeof L.encoding=="string"&&ie("/Encoding /"+L.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Ou=function(L){L.objectNumber=Cr();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ce=L.pages[1].join(`
`);va({data:ce,additionalKeyValues:G,objectId:L.objectNumber}),ie("endobj")},Pu=function(L,G){G||(G=21);var ce=Cr(),ue=function(Le,et){var st,xt=[],jt=1/(et-1);for(st=0;st<1;st+=jt)xt.push(st);if(xt.push(1),Le[0].offset!=0){var $t={offset:0,color:Le[0].color};Le.unshift($t)}if(Le[Le.length-1].offset!=1){var Nr={offset:1,color:Le[Le.length-1].color};Le.push(Nr)}for(var Zr="",rr=0,dn=0;dn<xt.length;dn++){for(st=xt[dn];st>Le[rr+1].offset;)rr++;var Qr=Le[rr].offset,Dn=(st-Qr)/(Le[rr+1].offset-Qr),ba=Le[rr].color,Si=Le[rr+1].color;Zr+=K(Math.round((1-Dn)*ba[0]+Dn*Si[0]).toString(16))+K(Math.round((1-Dn)*ba[1]+Dn*Si[1]).toString(16))+K(Math.round((1-Dn)*ba[2]+Dn*Si[2]).toString(16))}return Zr.trim()}(L.colors,G),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+G+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),va({data:ue,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),ie("endobj"),L.objectNumber=Cr(),ie("<< /ShadingType "+L.type),ie("/ColorSpace /DeviceRGB");var Oe="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?Oe+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):Oe+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),ie(Oe+="]"),L.matrix&&ie("/Matrix ["+L.matrix.toString()+"]"),ie("/Function "+ce+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Cu=function(L,G){var ce=kn(),ue=Cr();G.push({resourcesOid:ce,objectOid:ue}),L.objectNumber=ue;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),we.push({key:"XStep",value:E(L.xStep)}),we.push({key:"YStep",value:E(L.yStep)}),we.push({key:"Resources",value:ce+" 0 R"}),L.matrix&&we.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),va({data:L.stream,additionalKeyValues:we,objectId:L.objectNumber}),ie("endobj")},I1=function(L){for(var G in L.objectNumber=Cr(),ie("<<"),L)switch(G){case"opacity":ie("/ca "+S(L[G]));break;case"stroke-opacity":ie("/CA "+S(L[G]))}ie(">>"),ie("endobj")},Of=function(L){Mn(L.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var G in ie("/Font <<"),Ge)Ge.hasOwnProperty(G)&&(f===!1||f===!0&&p.hasOwnProperty(G))&&ie("/"+G+" "+Ge[G].objectNumber+" 0 R");ie(">>")}(),function(){if(Object.keys(dt).length>0){for(var G in ie("/Shading <<"),dt)dt.hasOwnProperty(G)&&dt[G]instanceof Fc&&dt[G].objectNumber>=0&&ie("/"+G+" "+dt[G].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),ie(">>")}}(),function(G){if(Object.keys(dt).length>0){for(var ce in ie("/Pattern <<"),dt)dt.hasOwnProperty(ce)&&dt[ce]instanceof h.TilingPattern&&dt[ce].objectNumber>=0&&dt[ce].objectNumber<G&&ie("/"+ce+" "+dt[ce].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),ie(">>")}}(L.objectOid),function(){if(Object.keys(bt).length>0){var G;for(G in ie("/ExtGState <<"),bt)bt.hasOwnProperty(G)&&bt[G].objectNumber>=0&&ie("/"+G+" "+bt[G].objectNumber+" 0 R");qt.publish("putGStateDict"),ie(">>")}}(),function(){for(var G in ie("/XObject <<"),Kn)Kn.hasOwnProperty(G)&&Kn[G].objectNumber>=0&&ie("/"+G+" "+Kn[G].objectNumber+" 0 R");qt.publish("putXobjectDict"),ie(">>")}(),ie(">>"),ie("endobj")},pm=function(L){ft[L.fontName]=ft[L.fontName]||{},ft[L.fontName][L.fontStyle]=L.id},mm=function(L,G,ce,ue,we){var Oe={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:L,fontName:G,fontStyle:ce,encoding:ue,isStandardFont:we||!1,metadata:{}};return qt.publish("addFont",{font:Oe,instance:this}),Ge[Oe.id]=Oe,pm(Oe),Oe.id},ya=h.__private__.pdfEscape=h.pdfEscape=function(L,G){return function(ce,ue){var we,Oe,Le,et,st,xt,jt,$t,Nr;if(Le=(ue=ue||{}).sourceEncoding||"Unicode",st=ue.outputEncoding,(ue.autoencode||st)&&Ge[Ve].metadata&&Ge[Ve].metadata[Le]&&Ge[Ve].metadata[Le].encoding&&(et=Ge[Ve].metadata[Le].encoding,!st&&Ge[Ve].encoding&&(st=Ge[Ve].encoding),!st&&et.codePages&&(st=et.codePages[0]),typeof st=="string"&&(st=et[st]),st)){for(jt=!1,xt=[],we=0,Oe=ce.length;we<Oe;we++)($t=st[ce.charCodeAt(we)])?xt.push(String.fromCharCode($t)):xt.push(ce[we]),xt[we].charCodeAt(0)>>8&&(jt=!0);ce=xt.join("")}for(we=ce.length;jt===void 0&&we!==0;)ce.charCodeAt(we-1)>>8&&(jt=!0),we--;if(!jt)return ce;for(xt=ue.noBOM?[]:[254,255],we=0,Oe=ce.length;we<Oe;we++){if((Nr=($t=ce.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(Nr),xt.push($t-(Nr<<8))}return String.fromCharCode.apply(void 0,xt)}(L,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pf=h.__private__.beginPage=function(L){ge[++Xt]=[],wt[Xt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},vm(Xt),ve(ge[B])},gm=function(L,G){var ce,ue,we;switch(r=G||r,typeof L=="string"&&(ce=v(L.toLowerCase()),Array.isArray(ce)&&(ue=ce[0],we=ce[1])),Array.isArray(L)&&(ue=L[0]*qe,we=L[1]*qe),isNaN(ue)&&(ue=i[0],we=i[1]),(ue>14400||we>14400)&&(Qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),we=Math.min(14400,we)),i=[ue,we],r.substr(0,1)){case"l":we>ue&&(i=[we,ue]);break;case"p":ue>we&&(i=[we,ue])}Pf(i),q1(Rf),ie(Lu),Df!==0&&ie(Df+" J"),Bf!==0&&ie(Bf+" j"),qt.publish("addPage",{pageNumber:Xt})},Cf=function(L){L>0&&L<=Xt&&(ge.splice(L,1),wt.splice(L,1),Xt--,B>Xt&&(B=Xt),this.setPage(B))},vm=function(L){L>0&&L<=Xt&&(B=L)},ym=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ge.length-1},bm=function(L,G,ce){var ue,we=void 0;return ce=ce||{},L=L!==void 0?L:Ge[Ve].fontName,G=G!==void 0?G:Ge[Ve].fontStyle,ue=L.toLowerCase(),ft[ue]!==void 0&&ft[ue][G]!==void 0?we=ft[ue][G]:ft[L]!==void 0&&ft[L][G]!==void 0?we=ft[L][G]:ce.disableWarning===!1&&Qt.warn("Unable to look up font label for font '"+L+"', '"+G+"'. Refer to getFontList() for available fonts."),we||ce.noFallback||(we=ft.times[G])==null&&(we=ft.times.normal),we},Tu=h.__private__.putInfo=function(){var L=Cr(),G=function(ue){return ue};for(var ce in d!==null&&(G=Br.encryptor(L,0)),ie("<<"),ie("/Producer ("+ya(G("jsPDF "+lt.version))+")"),$e)$e.hasOwnProperty(ce)&&$e[ce]&&ie("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+ya(G($e[ce]))+")");ie("/CreationDate ("+ya(G(U))+")"),ie(">>"),ie("endobj")},R1=h.__private__.putCatalog=function(L){var G=(L=L||{}).rootDictionaryObjId||zo;switch(Cr(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+G+" 0 R"),he||(he="fullwidth"),he){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+he;ce.substr(ce.length-1)==="%"&&(he=parseInt(he)/100),typeof he=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+S(he)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Ce&&ie("/PageMode /"+Ce),qt.publish("putCatalog"),ie(">>"),ie("endobj")},Jr=h.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(q+1)),ie("/Root "+q+" 0 R"),ie("/Info "+(q-1)+" 0 R"),d!==null&&ie("/Encrypt "+Br.oid+" 0 R"),ie("/ID [ <"+J+"> <"+J+"> ]"),ie(">>")},xm=h.__private__.putHeader=function(){ie("%PDF-"+m),ie("%")},wm=h.__private__.putXRef=function(){var L="0000000000";ie("xref"),ie("0 "+(q+1)),ie("0000000000 65535 f ");for(var G=1;G<=q;G++)typeof Q[G]=="function"?ie((L+Q[G]()).slice(-10)+" 00000 n "):Q[G]!==void 0?ie((L+Q[G]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Hs=h.__private__.buildDocument=function(){var L;q=0,Z=0,ae=[],Q=[],le=[],zo=kn(),za=kn(),ve(ae),qt.publish("buildDocument"),xm(),ys(),function(){qt.publish("putAdditionalObjects");for(var ce=0;ce<le.length;ce++){var ue=le[ce];Mn(ue.objId,!0),ie(ue.content),ie("endobj")}qt.publish("postPutAdditionalObjects")}(),L=[],function(){for(var ce in Ge)Ge.hasOwnProperty(ce)&&(f===!1||f===!0&&p.hasOwnProperty(ce))&&tc(Ge[ce])}(),function(){var ce;for(ce in bt)bt.hasOwnProperty(ce)&&I1(bt[ce])}(),function(){for(var ce in Kn)Kn.hasOwnProperty(ce)&&Ou(Kn[ce])}(),function(ce){var ue;for(ue in dt)dt.hasOwnProperty(ue)&&(dt[ue]instanceof Fc?Pu(dt[ue]):dt[ue]instanceof jd&&Cu(dt[ue],ce))}(L),qt.publish("putResources"),L.forEach(Of),Of({resourcesOid:za,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),d!==null&&(Br.oid=Cr(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Br.v),ie("/R "+Br.r),ie("/U <"+Br.toHexString(Br.U)+">"),ie("/O <"+Br.toHexString(Br.O)+">"),ie("/P "+Br.P),ie(">>"),ie("endobj")),Tu(),R1();var G=Z;return wm(),Jr(),ie("startxref"),ie(""+G),ie("%%EOF"),ve(ge[B]),ae.join(`
`)},rc=h.__private__.getBlob=function(L){return new Blob([Be(L)],{type:"application/pdf"})},Ha=h.output=h.__private__.output=(ga=function(L,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",L){case void 0:return Hs();case"save":h.save(G.filename);break;case"arraybuffer":return Be(Hs());case"blob":return rc(Hs());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(rc(Hs()))||void 0;Qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ue=Hs();try{ce=pO(ue)}catch{ce=pO(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+G.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(we=G.pdfObjectUrl,Oe="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",et=yt.open();return et!==null&&et.document.write(Le),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',xt=yt.open();if(xt!==null){xt.document.write(st);var jt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=G.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Nr=yt.open();if(Nr!==null&&(Nr.document.write($t),Nr.document.title=G.filename),Nr||typeof safari>"u")return Nr;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",G);default:return null}},ga.foo=function(){try{return ga.apply(this,arguments)}catch(ce){var L=ce.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var G="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ce.message;if(!yt.console)throw new Error(G);yt.console.error(G,ce),yt.alert&&alert(G)}},ga.foo.bar=ga,ga.foo),nc=function(L){return Array.isArray(Zl)===!0&&Zl.indexOf(L)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=nc("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var Br=null;$(),H();var Tf=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[L].objId,pageNumber:L,pageContext:wt[L]}},M1=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in wt)if(wt[G].objId===L)break;return Tf(G)},D1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:wt[B].objId,pageNumber:B,pageContext:wt[B]}};h.addPage=function(){return gm.apply(this,arguments),this},h.setPage=function(){return vm.apply(this,arguments),ve.call(this,ge[B]),this},h.insertPage=function(L){return this.addPage(),this.movePage(B,L),this},h.movePage=function(L,G){var ce,ue;if(L>G){ce=ge[L],ue=wt[L];for(var we=L;we>G;we--)ge[we]=ge[we-1],wt[we]=wt[we-1];ge[G]=ce,wt[G]=ue,this.setPage(G)}else if(L<G){ce=ge[L],ue=wt[L];for(var Oe=L;Oe<G;Oe++)ge[Oe]=ge[Oe+1],wt[Oe]=wt[Oe+1];ge[G]=ce,wt[G]=ue,this.setPage(G)}return this},h.deletePage=function(){return Cf.apply(this,arguments),this},h.__private__.text=h.text=function(L,G,ce,ue,we){var Oe,Le,et,st,xt,jt,$t,Nr,Zr,rr=(ue=ue||{}).scope||this;if(typeof L=="number"&&typeof G=="number"&&(typeof ce=="string"||Array.isArray(ce))){var dn=ce;ce=G,G=L,L=dn}if(arguments[3]instanceof pt==0?(et=arguments[4],st=arguments[5],Gt($t=arguments[3])==="object"&&$t!==null||(typeof et=="string"&&(st=et,et=null),typeof $t=="string"&&(st=$t,$t=null),typeof $t=="number"&&(et=$t,$t=null),ue={flags:$t,angle:et,align:st})):(P("The transform parameter of text() with a Matrix value"),Zr=we),isNaN(G)||isNaN(ce)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return rr;var Qr,Dn="",ba=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:ac,Si=rr.internal.scaleFactor;function Om(Wt){return Wt=Wt.split("	").join(Array(ue.TabLen||9).join(" ")),ya(Wt,$t)}function Du(Wt){for(var Jt,$r=Wt.concat(),fn=[],Zs=$r.length;Zs--;)typeof(Jt=$r.shift())=="string"?fn.push(Jt):Array.isArray(Wt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?fn.push(Jt[0]):fn.push([Jt[0],Jt[1],Jt[2]]);return fn}function dc(Wt,Jt){var $r;if(typeof Wt=="string")$r=Jt(Wt)[0];else if(Array.isArray(Wt)){for(var fn,Zs,Xf=Wt.concat(),$u=[],Tm=Xf.length;Tm--;)typeof(fn=Xf.shift())=="string"?$u.push(Jt(fn)[0]):Array.isArray(fn)&&typeof fn[0]=="string"&&(Zs=Jt(fn[0],fn[1],fn[2]),$u.push([Zs[0],Zs[1],Zs[2]]));$r=$u}return $r}var Ho=!1,fc=!0;if(typeof L=="string")Ho=!0;else if(Array.isArray(L)){var hc=L.concat();Le=[];for(var pc,Vn=hc.length;Vn--;)(typeof(pc=hc.shift())!="string"||Array.isArray(pc)&&typeof pc[0]!="string")&&(fc=!1);Ho=fc}if(Ho===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var mc=fe/rr.internal.scaleFactor,gc=mc*(ba-1);switch(ue.baseline){case"bottom":ce-=gc;break;case"top":ce+=mc-gc;break;case"hanging":ce+=mc-2*gc;break;case"middle":ce+=mc/2-gc}if((jt=ue.maxWidth||0)>0&&(typeof L=="string"?L=rr.splitTextToSize(L,jt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Wt,Jt){return Wt.concat(rr.splitTextToSize(Jt,jt))},[]))),Oe={text:L,x:G,y:ce,options:ue,mutex:{pdfEscape:ya,activeFontKey:Ve,fonts:Ge,activeFontSize:fe}},qt.publish("preProcessText",Oe),L=Oe.text,et=(ue=Oe.options).angle,Zr instanceof pt==0&&et&&typeof et=="number"){et*=Math.PI/180,ue.rotationDirection===0&&(et=-et),x===w&&(et=-et);var Uf=Math.cos(et),zf=Math.sin(et);Zr=new pt(Uf,zf,-zf,Uf,0,0)}else et&&et instanceof pt&&(Zr=et);x!==w||Zr||(Zr=Ws),(xt=ue.charSpace||Ru)!==void 0&&(Dn+=E(I(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nr=ue.horizontalScale)!==void 0&&(Dn+=E(100*Nr)+` Tz
`),ue.lang;var Tr=-1,Xs=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Bu=rr.internal.getCurrentPageInfo().pageContext;switch(Xs){case 0:case!1:case"fill":Tr=0;break;case 1:case!0:case"stroke":Tr=1;break;case 2:case"fillThenStroke":Tr=2;break;case 3:case"invisible":Tr=3;break;case 4:case"fillAndAddForClipping":Tr=4;break;case 5:case"strokeAndAddPathForClipping":Tr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tr=6;break;case 7:case"addToPathForClipping":Tr=7}var Pm=Bu.usedRenderingMode!==void 0?Bu.usedRenderingMode:-1;Tr!==-1?Dn+=Tr+` Tr
`:Pm!==-1&&(Dn+=`0 Tr
`),Tr!==-1&&(Bu.usedRenderingMode=Tr),st=ue.align||"left";var xa,vc=fe*ba,qf=rr.internal.pageSize.getWidth(),Wf=Ge[Ve];xt=ue.charSpace||Ru,jt=ue.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Ko=[],yc=function(Wt){return rr.getStringUnitWidth(Wt,{font:Wf,charSpace:xt,fontSize:fe,doKerning:!1})*fe/Si};if(Object.prototype.toString.call(L)==="[object Array]"){var $i;Le=Du(L),st!=="left"&&(xa=Le.map(yc));var Ui,Vo=0;if(st==="right"){G-=xa[0],L=[],Vn=Le.length;for(var Js=0;Js<Vn;Js++)Js===0?(Ui=Ks(G),$i=Vs(ce)):(Ui=I(Vo-xa[Js]),$i=-vc),L.push([Le[Js],Ui,$i]),Vo=xa[Js]}else if(st==="center"){G-=xa[0]/2,L=[],Vn=Le.length;for(var Go=0;Go<Vn;Go++)Go===0?(Ui=Ks(G),$i=Vs(ce)):(Ui=I((Vo-xa[Go])/2),$i=-vc),L.push([Le[Go],Ui,$i]),Vo=xa[Go]}else if(st==="left"){L=[],Vn=Le.length;for(var Hf=0;Hf<Vn;Hf++)L.push(Le[Hf])}else if(st==="justify"&&Wf.encoding==="Identity-H"){L=[],Vn=Le.length,jt=jt!==0?jt:qf;for(var Fu=0,Fr=0;Fr<Vn;Fr++)if($i=Fr===0?Vs(ce):-vc,Ui=Fr===0?Ks(G):Fu,Fr<Vn-1){var Cm=I((jt-xa[Fr])/(Le[Fr].split(" ").length-1)),xs=Le[Fr].split(" ");L.push([xs[0]+" ",Ui,$i]),Fu=0;for(var ws=1;ws<xs.length;ws++){var Kf=(yc(xs[ws-1]+" "+xs[ws])-yc(xs[ws]))*Si+Cm;ws==xs.length-1?L.push([xs[ws],Kf,0]):L.push([xs[ws]+" ",Kf,0]),Fu-=Kf}}else L.push([Le[Fr],Ui,$i]);L.push(["",Fu,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Vn=Le.length,jt=jt!==0?jt:qf,Fr=0;Fr<Vn;Fr++){$i=Fr===0?Vs(ce):-vc,Ui=Fr===0?Ks(G):0;var Vf=Le[Fr].split(" ").length-1,Gf=Vf>0?(jt-xa[Fr])/Vf:0;Fr<Vn-1?Ko.push(E(I(Gf))):Ko.push(0),L.push([Le[Fr],Ui,$i])}}}(typeof ue.R2L=="boolean"?ue.R2L:be)===!0&&(L=dc(L,function(Wt,Jt,$r){return[Wt.split("").reverse().join(""),Jt,$r]})),Oe={text:L,x:G,y:ce,options:ue,mutex:{pdfEscape:ya,activeFontKey:Ve,fonts:Ge,activeFontSize:fe}},qt.publish("postProcessText",Oe),L=Oe.text,Qr=Oe.mutex.isHex||!1;var Yf=Ge[Ve].encoding;Yf!=="WinAnsiEncoding"&&Yf!=="StandardEncoding"||(L=dc(L,function(Wt,Jt,$r){return[Om(Wt),Jt,$r]})),Le=Du(L),L=[];for(var Yo,Xo,Jo,bc=Array.isArray(Le[0])?1:0,Zo="",xc=function(Wt,Jt,$r){var fn="";return $r instanceof pt?($r=typeof ue.angle=="number"?qs($r,new pt(1,0,0,1,Wt,Jt)):qs(new pt(1,0,0,1,Wt,Jt),$r),x===w&&($r=qs(new pt(1,0,0,-1,0,0),$r)),fn=$r.join(" ")+` Tm
`):fn=E(Wt)+" "+E(Jt)+` Td
`,fn},wa=0;wa<Le.length;wa++){switch(Zo="",bc){case 1:Jo=(Qr?"<":"(")+Le[wa][0]+(Qr?">":")"),Yo=parseFloat(Le[wa][1]),Xo=parseFloat(Le[wa][2]);break;case 0:Jo=(Qr?"<":"(")+Le[wa]+(Qr?">":")"),Yo=Ks(G),Xo=Vs(ce)}Ko!==void 0&&Ko[wa]!==void 0&&(Zo=Ko[wa]+` Tw
`),wa===0?L.push(Zo+xc(Yo,Xo,Zr)+Jo):bc===0?L.push(Zo+Jo):bc===1&&L.push(Zo+xc(Yo,Xo,Zr)+Jo)}L=bc===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var _s=`BT
/`;return _s+=Ve+" "+fe+` Tf
`,_s+=E(fe*ba)+` TL
`,_s+=sc+`
`,_s+=Dn,_s+=L,ie(_s+="ET"),p[Ve]=!0,rr};var B1=h.__private__.clip=h.clip=function(L){return ie(L==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return B1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ie("n"),this};var bs=h.__private__.isValidStyle=function(L){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(G=!0),G};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return bs(L)&&(u=L),this};var _m=h.__private__.getStyle=h.getStyle=function(L){var G=u;switch(L){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=L}return G},jm=h.close=function(){return ie("h"),this};h.stroke=function(){return ie("S"),this},h.fill=function(L){return qo("f",L),this},h.fillEvenOdd=function(L){return qo("f*",L),this},h.fillStroke=function(L){return qo("B",L),this},h.fillStrokeEvenOdd=function(L){return qo("B*",L),this};var qo=function(L,G){Gt(G)==="object"?$1(G,L):ie(L)},Lf=function(L){L===null||x===w&&L===void 0||(L=_m(L),ie(L))};function F1(L,G,ce,ue,we){var Oe=new jd(G||this.boundingBox,ce||this.xStep,ue||this.yStep,this.gState,we||this.matrix);Oe.stream=this.stream;var Le=L+"$$"+this.cloneIndex+++"$$";return ma(Le,Oe),Oe}var $1=function(L,G){var ce=Ot[L.key],ue=dt[ce];if(ue instanceof Fc)ie("q"),ie(U1(G)),ue.gState&&h.setGState(ue.gState),ie(L.matrix.toString()+" cm"),ie("/"+ce+" sh"),ie("Q");else if(ue instanceof jd){var we=new pt(1,0,0,-1,0,uc());L.matrix&&(we=we.multiply(L.matrix||Ws),ce=F1.call(ue,L.key,L.boundingBox,L.xStep,L.yStep,we).id),ie("q"),ie("/Pattern cs"),ie("/"+ce+" scn"),ue.gState&&h.setGState(ue.gState),ie(G),ie("Q")}},U1=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},If=h.moveTo=function(L,G){return ie(E(I(L))+" "+E(D(G))+" m"),this},ic=h.lineTo=function(L,G){return ie(E(I(L))+" "+E(D(G))+" l"),this},Wo=h.curveTo=function(L,G,ce,ue,we,Oe){return ie([E(I(L)),E(D(G)),E(I(ce)),E(D(ue)),E(I(we)),E(D(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,G,ce,ue,we){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||!bs(we))throw new Error("Invalid arguments passed to jsPDF.line");return x===b?this.lines([[ce-L,ue-G]],L,G,[1,1],we||"S"):this.lines([[ce-L,ue-G]],L,G,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,G,ce,ue,we,Oe){var Le,et,st,xt,jt,$t,Nr,Zr,rr,dn,Qr,Dn;if(typeof L=="number"&&(Dn=ce,ce=G,G=L,L=Dn),ue=ue||[1,1],Oe=Oe||!1,isNaN(G)||isNaN(ce)||!Array.isArray(L)||!Array.isArray(ue)||!bs(we)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(If(G,ce),Le=ue[0],et=ue[1],xt=L.length,dn=G,Qr=ce,st=0;st<xt;st++)(jt=L[st]).length===2?(dn=jt[0]*Le+dn,Qr=jt[1]*et+Qr,ic(dn,Qr)):($t=jt[0]*Le+dn,Nr=jt[1]*et+Qr,Zr=jt[2]*Le+dn,rr=jt[3]*et+Qr,dn=jt[4]*Le+dn,Qr=jt[5]*et+Qr,Wo($t,Nr,Zr,rr,dn,Qr));return Oe&&jm(),Lf(we),this},h.path=function(L){for(var G=0;G<L.length;G++){var ce=L[G],ue=ce.c;switch(ce.op){case"m":If(ue[0],ue[1]);break;case"l":ic(ue[0],ue[1]);break;case"c":Wo.apply(this,ue);break;case"h":jm()}}return this},h.__private__.rect=h.rect=function(L,G,ce,ue,we){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||!bs(we))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b&&(ue=-ue),ie([E(I(L)),E(D(G)),E(I(ce)),E(I(ue)),"re"].join(" ")),Lf(we),this},h.__private__.triangle=h.triangle=function(L,G,ce,ue,we,Oe,Le){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!bs(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-L,ue-G],[we-ce,Oe-ue],[L-we,G-Oe]],L,G,[1,1],Le,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,G,ce,ue,we,Oe,Le){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!bs(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ce),Oe=Math.min(Oe,.5*ue),this.lines([[ce-2*we,0],[we*et,0,we,Oe-Oe*et,we,Oe],[0,ue-2*Oe],[0,Oe*et,-we*et,Oe,-we,Oe],[2*we-ce,0],[-we*et,0,-we,-Oe*et,-we,-Oe],[0,2*Oe-ue],[0,-Oe*et,we*et,-Oe,we,-Oe]],L+we,G,[1,1],Le,!0),this},h.__private__.ellipse=h.ellipse=function(L,G,ce,ue,we){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||!bs(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ce,Le=4/3*(Math.SQRT2-1)*ue;return If(L+ce,G),Wo(L+ce,G-Le,L+Oe,G-ue,L,G-ue),Wo(L-Oe,G-ue,L-ce,G-Le,L-ce,G),Wo(L-ce,G+Le,L-Oe,G+ue,L,G+ue),Wo(L+Oe,G+ue,L+ce,G+Le,L+ce,G),Lf(we),this},h.__private__.circle=h.circle=function(L,G,ce,ue){if(isNaN(L)||isNaN(G)||isNaN(ce)||!bs(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,G,ce,ce,ue)},h.setFont=function(L,G,ce){return ce&&(G=N(G,ce)),Ve=bm(L,G,{disableWarning:!1}),this};var z1=h.__private__.getFont=h.getFont=function(){return Ge[bm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,G,ce={};for(L in ft)if(ft.hasOwnProperty(L))for(G in ce[L]=[],ft[L])ft[L].hasOwnProperty(G)&&ce[L].push(G);return ce},h.addFont=function(L,G,ce,ue,we){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ce=N(ce,ue)),mm.call(this,L,G,ce,we=we||"Identity-H")};var ac,Rf=e.lineWidth||.200025,_t=h.__private__.getLineWidth=h.getLineWidth=function(){return Rf},q1=h.__private__.setLineWidth=h.setLineWidth=function(L){return Rf=L,ie(E(I(L))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(L,G){if(L=L||[],G=G||0,isNaN(G)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ce){return E(I(ce))}).join(" "),G=E(I(G)),ie("["+L+"] "+G+" d"),this};var W1=h.__private__.getLineHeight=h.getLineHeight=function(){return fe*ac};h.__private__.getLineHeight=h.getLineHeight=function(){return fe*ac};var H1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ac=L),this},K1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ac};H1(e.lineHeight);var Ks=h.__private__.getHorizontalCoordinate=function(L){return I(L)},Vs=h.__private__.getVerticalCoordinate=function(L){return x===w?L:wt[B].mediaBox.topRightY-wt[B].mediaBox.bottomLeftY-I(L)},V1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return E(Ks(L))},G1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return E(Vs(L))},Lu=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return vs(Lu)},h.__private__.setStrokeColor=h.setDrawColor=function(L,G,ce,ue){return Lu=qa({ch1:L,ch2:G,ch3:ce,ch4:ue,pdfColorType:"draw",precision:2}),ie(Lu),this};var Mf=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return vs(Mf)},h.__private__.setFillColor=h.setFillColor=function(L,G,ce,ue){return Mf=qa({ch1:L,ch2:G,ch3:ce,ch4:ue,pdfColorType:"fill",precision:2}),ie(Mf),this};var sc=e.textColor||"0 g",Iu=h.__private__.getTextColor=h.getTextColor=function(){return vs(sc)};h.__private__.setTextColor=h.setTextColor=function(L,G,ce,ue){return sc=qa({ch1:L,ch2:G,ch3:ce,ch4:ue,pdfColorType:"text",precision:3}),this};var Ru=e.charSpace,Y1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ru||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ru=L,this};var Df=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var G=h.CapJoinStyles[L];if(G===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Df=G,ie(G+" J"),this};var Bf=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var G=h.CapJoinStyles[L];if(G===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bf=G,ie(G+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(E(I(L))+" M"),this},h.GState=ny,h.setGState=function(L){(L=typeof L=="string"?bt[lr[L]]:oc(null,L)).equals(un)||(ie("/"+L.id+" gs"),un=L)};var oc=function(L,G){if(!L||!lr[L]){var ce=!1;for(var ue in bt)if(bt.hasOwnProperty(ue)&&bt[ue].equals(G)){ce=!0;break}if(ce)G=bt[ue];else{var we="GS"+(Object.keys(bt).length+1).toString(10);bt[we]=G,G.id=we}return L&&(lr[L]=G.id),qt.publish("addGState",G),G}};h.addGState=function(L,G){return oc(L,G),this},h.saveGraphicsState=function(){return ie("q"),Mt.push({key:Ve,size:fe,color:sc}),this},h.restoreGraphicsState=function(){ie("Q");var L=Mt.pop();return Ve=L.key,fe=L.size,sc=L.color,un=null,this},h.setCurrentTransformationMatrix=function(L){return ie(L.toString()+" cm"),this},h.comment=function(L){return ie("#"+L),this};var lc=function(L,G){var ce=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Oe){isNaN(Oe)||(ce=parseFloat(Oe))}});var ue=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Oe){we=Oe.toString()}}),this},Ff=function(L,G,ce,ue){lc.call(this,L,G),this.type="rect";var we=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Le){isNaN(Le)||(we=parseFloat(Le))}});var Oe=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Le){isNaN(Le)||(Oe=parseFloat(Le))}}),this},Mu=function(){this.page=Xt,this.currentPage=B,this.pages=ge.slice(0),this.pagesContext=wt.slice(0),this.x=Ke,this.y=ct,this.matrix=ht,this.width=Nm(B),this.height=Gs(B),this.outputDestination=ke,this.id="",this.objectNumber=-1};Mu.prototype.restore=function(){Xt=this.page,B=this.currentPage,wt=this.pagesContext,ge=this.pages,Ke=this.x,ct=this.y,ht=this.matrix,Sm(B,this.width),Ys(B,this.height),ke=this.outputDestination};var $f=function(L,G,ce,ue,we){gs.push(new Mu),Xt=B=0,ge=[],Ke=L,ct=G,ht=we,Pf([ce,ue])};for(var cc in h.beginFormObject=function(L,G,ce,ue,we){return $f(L,G,ce,ue,we),this},h.endFormObject=function(L){return function(G){if(zs[G])gs.pop().restore();else{var ce=new Mu,ue="Xo"+(Object.keys(Kn).length+1).toString(10);ce.id=ue,zs[G]=ue,Kn[ue]=ce,qt.publish("addFormObject",ce),gs.pop().restore()}}(L),this},h.doFormObject=function(L,G){var ce=Kn[zs[L]];return ie("q"),ie(G.toString()+" cm"),ie("/"+ce.id+" Do"),ie("Q"),this},h.getFormObject=function(L){var G=Kn[zs[L]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},h.save=function(L,G){return L=L||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Rc(rc(Hs()),L),typeof Rc.unload=="function"&&yt.setTimeout&&setTimeout(Rc.unload,911),this):new Promise(function(ce,ue){try{var we=Rc(rc(Hs()),L);typeof Rc.unload=="function"&&yt.setTimeout&&setTimeout(Rc.unload,911),ce(we)}catch(Oe){ue(Oe.message)}})},lt.API)lt.API.hasOwnProperty(cc)&&(cc==="events"&&lt.API.events.length?function(L,G){var ce,ue,we;for(we=G.length-1;we!==-1;we--)ce=G[we][0],ue=G[we][1],L.subscribe.apply(L,[ce].concat(typeof ue=="function"?[ue]:ue))}(qt,lt.API.events):h[cc]=lt.API[cc]);function Nm(L){return wt[L].mediaBox.topRightX-wt[L].mediaBox.bottomLeftX}function Sm(L,G){wt[L].mediaBox.topRightX=G+wt[L].mediaBox.bottomLeftX}function Gs(L){return wt[L].mediaBox.topRightY-wt[L].mediaBox.bottomLeftY}function Ys(L,G){wt[L].mediaBox.topRightY=G+wt[L].mediaBox.bottomLeftY}var km=h.getPageWidth=function(L){return Nm(L=L||B)/qe},Am=h.setPageWidth=function(L,G){Sm(L,G*qe)},uc=h.getPageHeight=function(L){return Gs(L=L||B)/qe},Em=h.setPageHeight=function(L,G){Ys(L,G*qe)};return h.internal={pdfEscape:ya,getStyle:_m,getFont:z1,getFontSize:pe,getCharSpace:Y1,getTextColor:Iu,getLineHeight:W1,getLineHeightFactor:K1,getLineWidth:_t,write:We,getHorizontalCoordinate:Ks,getVerticalCoordinate:Vs,getCoordinateString:V1,getVerticalCoordinateString:G1,collections:{},newObject:Cr,newAdditionalObject:Ql,newObjectDeferred:kn,newObjectDeferredBegin:Mn,getFilters:Wa,putStream:va,events:qt,scaleFactor:qe,pageSize:{getWidth:function(){return km(B)},setWidth:function(L){Am(B,L)},getHeight:function(){return uc(B)},setHeight:function(L){Em(B,L)}},encryptionOptions:d,encryption:Br,getEncryptor:function(L){return d!==null?Br.encryptor(L,0):function(G){return G}},output:Ha,getNumberOfPages:ym,pages:ge,out:ie,f2:S,f3:A,getPageInfo:Tf,getPageInfoByObjId:M1,getCurrentPageInfo:D1,getPDFVersion:g,Point:lc,Rectangle:Ff,Matrix:pt,hasHotfix:nc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return km(B)},set:function(L){Am(B,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return uc(B)},set:function(L){Em(B,L)},enumerable:!0,configurable:!0}),(function(L){for(var G=0,ce=xe.length;G<ce;G++){var ue=mm.call(this,L[G][0],L[G][1],L[G][2],xe[G][3],!0);f===!1&&(p[ue]=!0);var we=L[G][0].split("-");pm({id:ue,fontName:we[0],fontStyle:we[1]||""})}qt.publish("addFonts",{fonts:Ge,dictionary:ft})}).call(h,xe),Ve="F1",gm(i,r),qt.publish("initialized"),h}sd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},sd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},sd.prototype.processOwnerPassword=function(e,t){return x5(b5(t).substr(0,5),e)},sd.prototype.encryptor=function(e,t){var r=b5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return x5(r,n)}},ny.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Gt(e)!==Gt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},lt.API={events:[]},lt.version="3.0.3";var Mr=lt.API,nS=1,Eu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},td=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(e){return e.toFixed(2)},ll=function(e){return e.toFixed(5)};Mr.__acroform__={};var Fi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},yO=function(e){return e*nS},ks=function(e){var t=new u9,r=Qe.internal.getHeight(e)||0,n=Qe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(St(n)),Number(St(r))],t},sve=Mr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ove=Mr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},lve=Mr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Vr=Mr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lve(e,t-1)},Gr=Mr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sve(e,t-1)},Yr=Mr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ove(e,t-1)},cve=Mr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},uve=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=w5(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+St(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ks(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},w5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var a=r,s=Qe.internal.getHeight(e)||0;s=s<0?-s:s;var o=Qe.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(S,A,I){if(S+1<i.length){var D=A+" "+i[S+1][0];return X0(D,e,I).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,f=X0("3",e,a).height,p=e.multiline?s-a:(s-f)/2,h=p+=2,m=0,g=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+X0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var x=!1;if(i[w].length!==1&&y!==i[w].length-1){if((f+2)*(b+2)+2>s)continue e;v+=i[w][y],x=!0,g=w,w--}else{v=(v+=i[w][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var j=parseInt(w),O=l(j,v,a),N=w>=i.length-1;if(O&&!N){v+=" ",y=0;continue}if(O||N){if(N)g=j;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;g=j}}for(var E="",P=m;P<=g;P++){var C=i[P];if(e.multiline){if(P===g){E+=C[y]+" ",y=(y+1)%C.length;continue}if(P===m){E+=C[C.length-1]+" ";continue}}E+=C[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=X0(E,e,a).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}t+=St(u)+" "+St(h)+` Td
`,t+="("+Eu(E)+`) Tj
`,t+=-St(u)+` 0 Td
`,h=-(a+2),d=0,m=x?g:g+1,b++,v=""}break}return n.text=t,n.fontSize=a,n},X0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},dve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fve=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},hve=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ps.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dve)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new d9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&fve(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=cve(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Qe.createDefaultAppearanceStream(o),Gt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=uve(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var m=h[s];typeof m=="function"&&(m=m.call(i,o)),f+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(i,o)),f+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,y){for(var v in g)if(g.hasOwnProperty(v)){var b=v,w=g[v];y.internal.newObjectDeferredBegin(w.objId,!0),Gt(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},c9=Mr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Gt(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Eu(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hx=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Eu(n(e))+")"},Cs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cs.prototype.toString=function(){return this.objId+" 0 R"},Cs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Cs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:c9(i,this.objId,this.scope)}):i instanceof Cs?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var u9=function(){Cs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Fi(u9,Cs);var d9=function(){Cs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Eu(r(e))+")"}},set:function(r){e=r}})};Fi(d9,Cs);var ps=function e(){Cs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vr(t,3)},set:function(v){v?this.F=Gr(t,3):this.F=Yr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof iy)return;a="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Eu(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/nS:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof iy||this instanceof ru))return Hx(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof On==0?Hx(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof On==0?v.substr(0,1)==="("?td(v.substr(1,v.length-2)):td(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?td(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof On==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof On==0?Hx(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof On==0?v.substr(0,1)==="("?td(v.substr(1,v.length-2)):td(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?td(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof On==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,1)},set:function(v){v?this.Ff=Gr(this.Ff,1):this.Ff=Yr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,2)},set:function(v){v?this.Ff=Gr(this.Ff,2):this.Ff=Yr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,3)},set:function(v){v?this.Ff=Gr(this.Ff,3):this.Ff=Yr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Fi(ps,Cs);var Id=function(){ps.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return c9(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,18)},set:function(r){r?this.Ff=Gr(this.Ff,18):this.Ff=Yr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Gr(this.Ff,19):this.Ff=Yr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,20)},set:function(r){r?(this.Ff=Gr(this.Ff,20),t.sort()):this.Ff=Yr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,22)},set:function(r){r?this.Ff=Gr(this.Ff,22):this.Ff=Yr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(r){r?this.Ff=Gr(this.Ff,23):this.Ff=Yr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,27)},set:function(r){r?this.Ff=Gr(this.Ff,27):this.Ff=Yr(this.Ff,27)}}),this.hasAppearanceStream=!1};Fi(Id,ps);var Rd=function(){Id.call(this),this.fontName="helvetica",this.combo=!1};Fi(Rd,Id);var Md=function(){Rd.call(this),this.combo=!0};Fi(Md,Rd);var wg=function(){Md.call(this),this.edit=!0};Fi(wg,Md);var On=function(){ps.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,15)},set:function(r){r?this.Ff=Gr(this.Ff,15):this.Ff=Yr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,16)},set:function(r){r?this.Ff=Gr(this.Ff,16):this.Ff=Yr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,17)},set:function(r){r?this.Ff=Gr(this.Ff,17):this.Ff=Yr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(r){r?this.Ff=Gr(this.Ff,26):this.Ff=Yr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Eu(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Gt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Fi(On,ps);var _g=function(){On.call(this),this.pushButton=!0};Fi(_g,On);var Dd=function(){On.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fi(Dd,On);var iy=function(){var e,t;ps.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Eu(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Gt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fi(iy,ps),Dd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Dd.prototype.createOption=function(e){var t=new iy;return t.Parent=this,t.optionName=e,this.Kids.push(t),pve.call(this.scope,t),t};var jg=function(){On.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Fi(jg,On);var ru=function(){ps.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,13)},set:function(t){t?this.Ff=Gr(this.Ff,13):this.Ff=Yr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,21)},set:function(t){t?this.Ff=Gr(this.Ff,21):this.Ff=Yr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(t){t?this.Ff=Gr(this.Ff,23):this.Ff=Yr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,24)},set:function(t){t?this.Ff=Gr(this.Ff,24):this.Ff=Yr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,25)},set:function(t){t?this.Ff=Gr(this.Ff,25):this.Ff=Yr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(t){t?this.Ff=Gr(this.Ff,26):this.Ff=Yr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fi(ru,ps);var Ng=function(){ru.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,14)},set:function(e){e?this.Ff=Gr(this.Ff,14):this.Ff=Yr(this.Ff,14)}}),this.password=!0};Fi(Ng,ru);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=w5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+St(Qe.internal.getWidth(e))+" "+St(Qe.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+St(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ks(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Qe.internal.getHeight(e),s=Qe.internal.getWidth(e),o=w5(e,e.caption);return i.push("1 g"),i.push("0 0 "+St(s)+" "+St(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(s-1)+" "+St(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+St(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Qe.internal.getWidth(e))+" "+St(Qe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Circle.YesNormal,t.D[e]=Qe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Qe.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ll(Qe.internal.getWidth(e)/2)+" "+ll(Qe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Qe.internal.Bezier_C).toFixed(5)),s=Number((n*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ll(Qe.internal.getWidth(e)/2)+" "+ll(Qe.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ll(Qe.internal.getWidth(e)/2)+" "+ll(Qe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ll(Qe.internal.getWidth(e)/2)+" "+ll(Qe.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Cross.YesNormal,t.D[e]=Qe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=Qe.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+St(Qe.internal.getWidth(e)-2)+" "+St(Qe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=Qe.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+St(Qe.internal.getWidth(e))+" "+St(Qe.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+St(Qe.internal.getWidth(e)-2)+" "+St(Qe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Qe.internal.getWidth(e))+" "+St(Qe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Qe.internal.getWidth(e),r=Qe.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Qe.internal.getWidth=function(e){var t=0;return Gt(e)==="object"&&(t=yO(e.Rect[2])),t},Qe.internal.getHeight=function(e){var t=0;return Gt(e)==="object"&&(t=yO(e.Rect[3])),t};var pve=Mr.addField=function(e){if(hve(this,e),!(e instanceof ps))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Mr.AcroFormChoiceField=Id,Mr.AcroFormListBox=Rd,Mr.AcroFormComboBox=Md,Mr.AcroFormEditBox=wg,Mr.AcroFormButton=On,Mr.AcroFormPushButton=_g,Mr.AcroFormRadioButton=Dd,Mr.AcroFormCheckBox=jg,Mr.AcroFormTextField=ru,Mr.AcroFormPasswordField=Ng,Mr.AcroFormAppearance=Qe,Mr.AcroForm={ChoiceField:Id,ListBox:Rd,ComboBox:Md,EditBox:wg,Button:On,PushButton:_g,RadioButton:Dd,CheckBox:jg,TextField:ru,PasswordField:Ng,Appearance:Qe},lt.AcroForm={ChoiceField:Id,ListBox:Rd,ComboBox:Md,EditBox:wg,Button:On,PushButton:_g,RadioButton:Dd,CheckBox:jg,TextField:ru,PasswordField:Ng,Appearance:Qe};lt.AcroForm;function f9(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(S,A){var I,D,U,J,X,H=r;if((A=A||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(O(S))for(X in n)for(U=n[X],I=0;I<U.length;I+=1){for(J=!0,D=0;D<U[I].length;D+=1)if(U[I][D]!==void 0&&U[I][D]!==S[D]){J=!1;break}if(J===!0){H=X;break}}else for(X in n)for(U=n[X],I=0;I<U.length;I+=1){for(J=!0,D=0;D<U[I].length;D+=1)if(U[I][D]!==void 0&&U[I][D]!==S.charCodeAt(D)){J=!1;break}if(J===!0){H=X;break}}return H===r&&A!==r&&(H=A),H},a=function S(A){for(var I=this.internal.write,D=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:A.width}),J.push({key:"Height",value:A.height}),A.colorSpace===v.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===v.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var X="",H=0,W=A.transparency.length;H<W;H++)X+=A.transparency[H]+" "+A.transparency[H]+" ";J.push({key:"Mask",value:"["+X+"]"})}A.sMask!==void 0&&J.push({key:"SMask",value:A.objectId+1+" 0 R"});var V=A.filter!==void 0?["/"+A.filter]:void 0;if(D({data:A.data,additionalKeyValues:J,alreadyAppliedFilters:V,objectId:A.objectId}),I("endobj"),"sMask"in A&&A.sMask!==void 0){var $,R=($=A.sMaskBitsPerComponent)!==null&&$!==void 0?$:A.bitsPerComponent,B={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:A.sMask};"filter"in A&&(B.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(A.width),B.filter=A.filter),S.call(this,B)}if(A.colorSpace===v.INDEXED){var z=this.internal.newObject();D({data:E(new Uint8Array(A.palette)),objectId:z}),I("endobj")}},s=function(){var S=this.internal.collections[t+"images"];for(var A in S)a.call(this,S[A])},o=function(){var S,A=this.internal.collections[t+"images"],I=this.internal.write;for(var D in A)I("/I"+(S=A[D]).index,S.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var S=this.internal.collections[t+"images"];return l.call(this),S},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(S){return typeof e["process"+S.toUpperCase()]=="function"},p=function(S){return Gt(S)==="object"&&S.nodeType===1},h=function(S,A){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var I=""+S.getAttribute("src");if(I.indexOf("data:image/")===0)return xg(unescape(I).split("base64,").pop());var D=e.loadFile(I,!0);if(D!==void 0)return D}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var U;switch(A){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return xg(S.toDataURL(U,1).split("base64,").pop())}},m=function(S){var A=this.internal.collections[t+"images"];if(A){for(var I in A)if(S===A[I].alias)return A[I]}},g=function(S,A,I){return S||A||(S=-96,A=-96),S<0&&(S=-1*I.width*72/S/this.internal.scaleFactor),A<0&&(A=-1*I.height*72/A/this.internal.scaleFactor),S===0&&(S=A*I.width/I.height),A===0&&(A=S*I.height/I.width),[S,A]},y=function(S,A,I,D,U,J){var X=g.call(this,I,D,U),H=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,V=u.call(this);if(I=X[0],D=X[1],V[U.index]=U,J){J*=Math.PI/180;var $=Math.cos(J),R=Math.sin(J),B=function(K){return K.toFixed(4)},z=[B($),B(R),B(-1*R),B($),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,H(S),W(A+D),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([H(I),"0","0",H(D),"0","0","cm"].join(" "))):this.internal.write([H(I),"0","0",H(D),H(S),W(A+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(S){var A,I,D=0;if(typeof S=="string")for(I=S.length,A=0;A<I;A++)D=(D<<5)-D+S.charCodeAt(A),D|=0;else if(O(S))for(I=S.byteLength/2,A=0;A<I;A++)D=(D<<5)-D+S[A],D|=0;return D},x=e.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var A=!0;return S.length===0&&(A=!1),S.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(A=!1),A},j=e.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var A=S.indexOf(",");return A<0?null:S.substring(0,A).trim().endsWith("base64")?S.substring(A+1):null};e.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(S){for(var A=S.length,I=new Uint8Array(A),D=0;D<A;D++)I[D]=S.charCodeAt(D);return I},E=e.__addimage__.arrayBufferToBinaryString=function(S){for(var A="",I=O(S)?S:new Uint8Array(S),D=0;D<I.length;D+=8192)A+=String.fromCharCode.apply(null,I.subarray(D,D+8192));return A};e.addImage=function(){var S,A,I,D,U,J,X,H,W;if(typeof arguments[1]=="number"?(A=r,I=arguments[1],D=arguments[2],U=arguments[3],J=arguments[4],X=arguments[5],H=arguments[6],W=arguments[7]):(A=arguments[1],I=arguments[2],D=arguments[3],U=arguments[4],J=arguments[5],X=arguments[6],H=arguments[7],W=arguments[8]),Gt(S=arguments[0])==="object"&&!p(S)&&"imageData"in S){var V=S;S=V.imageData,A=V.format||A||r,I=V.x||I||0,D=V.y||D||0,U=V.w||V.width||U,J=V.h||V.height||J,X=V.alias||X,H=V.compression||H,W=V.rotation||V.angle||W}var $=this.internal.getFilters();if(H===void 0&&$.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(I)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=P.call(this,S,A,X,H);return y.call(this,I,D,U,J,R,W),this};var P=function(S,A,I,D){var U,J,X;if(typeof S=="string"&&i(S)===r){S=unescape(S);var H=C(S,!1);(H!==""||(H=e.loadFile(S,!0))!==void 0)&&(S=H)}if(p(S)&&(S=h(S,A)),A=i(S,A),!f(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((X=I)==null||X.length===0)&&(I=function(W){return typeof W=="string"||O(W)?w(W):O(W.data)?w(W.data):null}(S)),(U=m.call(this,I))||(S instanceof Uint8Array||A==="RGBA"||(J=S,S=N(S)),U=this["process"+A.toUpperCase()](S,d.call(this),I,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:b.NONE}(D),J)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},C=e.__addimage__.convertBase64ToBinaryString=function(S,A){A=typeof A!="boolean"||A;var I,D="";if(typeof S=="string"){var U;I=(U=j(S))!==null&&U!==void 0?U:S;try{D=xg(I)}catch(J){if(A)throw x(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};e.getImageProperties=function(S){var A,I,D="";if(p(S)&&(S=h(S)),typeof S=="string"&&i(S)===r&&((D=C(S,!1))===""&&(D=e.loadFile(S)||""),S=D),I=i(S),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(S instanceof Uint8Array||(S=N(S)),!(A=this["process"+I.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=I,A}})(lt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(b))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=l,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(lt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,v=r,b="",w=0;for(y=0;y<g.length;y+=1)v[g.charCodeAt(y)]!==void 0?(w++,typeof(v=v[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(v),v=r,w=0),y===g.length-1&&(v=r,b+=g.charAt(y-(w-1)),y-=w-1,w=0)):(v=r,b+=g.charAt(y-w),y-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,y,v){return s(g)?a(g)===!1?-1:!u(g)||!s(y)&&!s(v)||!s(v)&&o(y)||o(g)&&!s(y)||o(g)&&l(y)||o(g)&&o(y)?0:d(g)&&s(y)&&!o(y)&&s(v)&&u(v)?3:o(g)||!s(v)?1:2:-1},h=function(g){var y=0,v=0,b=0,w="",x="",j="",O=(g=g||"").split("\\s+"),N=[];for(y=0;y<O.length;y+=1){for(N.push(""),v=0;v<O[y].length;v+=1)w=O[y][v],x=O[y][v-1],j=O[y][v+1],s(w)?(b=p(w,x,j),N[y]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):N[y]+=w;N[y]=f(N[y])}return N.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var b=0;for(v=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?v.push([h(y[b][0]),y[b][1],y[b][2]]):v.push([h(y[b])]);g=v}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(lt.API),lt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,x){return w.concat(y.splitTextToSize(x,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(g=this.getStringUnitWidth(l[b],{font:f})*d)&&(h=g);return h!==0&&(m=l.length),{w:h/=p,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,m,g,y,v=[],b=[],w=[],x={},j={},O=[],N=[],E=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,C=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,S=p.margins||Object.assign({width:this.getPageWidth()},t),A=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=D,this.setFontSize(C),f==null)b=v=Object.keys(d[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&Gt(f[0])==="object")for(v=f.map(function(V){return V.name}),b=f.map(function(V){return V.prompt||V.name||""}),w=f.map(function(V){return V.align||"left"}),h=0;h<f.length;h+=1)j[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,w=v.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(x[y=v[h]]=d.map(function(V){return V[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=x[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)O.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[y]=Math.max.apply(null,O)+A+A,O=[]}if(P){var U={};for(h=0;h<v.length;h+=1)U[v[h]]={},U[v[h]].text=b[h],U[v[h]].align=w[h];var J=o.call(this,U,j);N=v.map(function(V){return new a(l,u,j[V],J,U[V].text,void 0,U[V].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var X=f.reduce(function(V,$){return V[$.name]=$.align,V},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var H=o.call(this,d[h],j);for(g=0;g<v.length;g+=1){var W=d[h][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:W},this),s.call(this,new a(l,u,j[v[g]],H,W,h+2,X[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var m=l[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,m){return Math.max(h,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(lt.API);var h9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},p9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_5=f9(p9),m9=[100,200,300,400,500,600,700,800,900],mve=f9(m9);function Kx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return h9[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof _5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function bO(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var gve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wO(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _O(e){return e.trimLeft()}function vve(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function yve(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var J0,jO,NO,rd,Z0,SO,kO,AO,Vx=["times"];function EO(e,t,r,n,i){var a=4,s=PO;switch(i){case lt.API.image_compression.FAST:a=1,s=OO;break;case lt.API.image_compression.MEDIUM:a=6,s=CO;break;case lt.API.image_compression.SLOW:a=9,s=TO}e=function(l,u,d,f){for(var p,h=l.length/u,m=new Uint8Array(l.length+h),g=[bve,OO,PO,CO,TO],y=0;y<h;y+=1){var v=y*u,b=l.subarray(v,v+u);if(f)m.set(f(b,d,p),v+y);else{for(var w=g.length,x=[],j=0;j<w;j+=1)x[j]=g[j](b,d,p);var O=wve(x.concat());m.set(x[O],v+y)}p=b}return m}(e,t,Math.ceil(r*n/8),s);var o=m5(e,{level:a});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function bve(e){var t=Array.apply([],e);return t.unshift(0),t}function OO(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function PO(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function CO(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function TO(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=xve(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function xve(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function wve(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Gx(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return g9(e,i)>>a&s}function LO(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(e,a,g9(e,a)&~(o<<s)&65535|l)}function g9(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function _ve(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var u=!0,d=[],f=0,p=null,h=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++],j=x>>6&1,O=1<<1+(7&x),N=o,E=l,P=!1;x>>7&&(P=!0,N=t,E=O,t+=3*O);var C=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}d.push({x:y,y:v,width:b,height:w,has_local_palette:P,palette_offset:N,palette_size:E,data_offset:C,data_length:t-C,transparent_index:p,interlaced:!!j,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(A){if(A<0||A>=d.length)throw new Error("Frame index out of range.");return d[A]},this.decodeAndBlitFrameBGRA=function(A,I){var D=this.frameInfo(A),U=D.width*D.height,J=new Uint8Array(U);IO(e,D.data_offset,J,U);var X=D.palette_offset,H=D.transparent_index;H===null&&(H=256);var W=D.width,V=r-W,$=W,R=4*(D.y*r+D.x),B=4*((D.y+D.height)*r+D.x),z=R,K=4*V;D.interlaced===!0&&(K+=4*r*7);for(var q=8,Q=0,ae=J.length;Q<ae;++Q){var Z=J[Q];if($===0&&($=W,(z+=K)>=B&&(K=4*V+4*r*(q-1),z=R+(W+V)*(q<<1),q>>=1)),Z===H)z+=4;else{var le=e[X+3*Z],ge=e[X+3*Z+1],de=e[X+3*Z+2];I[z++]=de,I[z++]=ge,I[z++]=le,I[z++]=255}--$}},this.decodeAndBlitFrameRGBA=function(A,I){var D=this.frameInfo(A),U=D.width*D.height,J=new Uint8Array(U);IO(e,D.data_offset,J,U);var X=D.palette_offset,H=D.transparent_index;H===null&&(H=256);var W=D.width,V=r-W,$=W,R=4*(D.y*r+D.x),B=4*((D.y+D.height)*r+D.x),z=R,K=4*V;D.interlaced===!0&&(K+=4*r*7);for(var q=8,Q=0,ae=J.length;Q<ae;++Q){var Z=J[Q];if($===0&&($=W,(z+=K)>=B&&(K=4*V+4*r*(q-1),z=R+(W+V)*(q<<1),q>>=1)),Z===H)z+=4;else{var le=e[X+3*Z],ge=e[X+3*Z+1],de=e[X+3*Z+2];I[z++]=le,I[z++]=ge,I[z++]=de,I[z++]=255}--$}}}function IO(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,d=0,f=0,p=0,h=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<l)break;var y=f&u;if(f>>=l,d-=l,y!==a){if(y===s)break;for(var v=y<o?y:g,b=0,w=v;w>a;)w=m[w]>>8,++b;var x=w;if(p+b+(v!==y?1:0)>n)return void Qt.log("Warning, gif stream longer than expected.");r[p++]=x;var j=p+=b;for(v!==y&&(r[p++]=x),w=v;b--;)w=m[w],r[--j]=255&w,w>>=8;g!==null&&o<4096&&(m[o++]=g<<8|x,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=y}else o=s+1,u=(1<<(l=i+1))-1,g=null}return p!==n&&Qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yx(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),m=new Array(64),g=[],y=0,v=7,b=new Array(64),w=new Array(64),x=new Array(64),j=new Array(256),O=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(R,B){for(var z=0,K=0,q=new Array,Q=1;Q<=16;Q++){for(var ae=1;ae<=R[Q];ae++)q[B[K]]=[],q[B[K]][0]=z,q[B[K]][1]=Q,K++,z++;z*=2}return q}function X(R){for(var B=R[0],z=R[1]-1;z>=0;)B&1<<z&&(y|=1<<v),z--,--v<0&&(y==255?(H(255),H(0)):H(y),v=7,y=0)}function H(R){g.push(R)}function W(R){H(R>>8&255),H(255&R)}function V(R,B,z,K,q){for(var Q,ae=q[0],Z=q[240],le=function(fe,he){var pe,be,Ce,De,Ie,He,Ze,$e,Ve,qe,Ke=0;for(Ve=0;Ve<8;++Ve){pe=fe[Ke],be=fe[Ke+1],Ce=fe[Ke+2],De=fe[Ke+3],Ie=fe[Ke+4],He=fe[Ke+5],Ze=fe[Ke+6];var ct=pe+($e=fe[Ke+7]),ht=pe-$e,Ge=be+Ze,ft=be-Ze,Mt=Ce+He,dt=Ce-He,Ot=De+Ie,bt=De-Ie,lr=ct+Ot,un=ct-Ot,Xt=Ge+Mt,wt=Ge-Mt;fe[Ke]=lr+Xt,fe[Ke+4]=lr-Xt;var qt=.707106781*(wt+un);fe[Ke+2]=un+qt,fe[Ke+6]=un-qt;var Zl=.382683433*((lr=bt+dt)-(wt=ft+ht)),Kn=.5411961*lr+Zl,zs=1.306562965*wt+Zl,gs=.707106781*(Xt=dt+ft),pt=ht+gs,qs=ht-gs;fe[Ke+5]=qs+Kn,fe[Ke+3]=qs-Kn,fe[Ke+1]=pt+zs,fe[Ke+7]=pt-zs,Ke+=8}for(Ke=0,Ve=0;Ve<8;++Ve){pe=fe[Ke],be=fe[Ke+8],Ce=fe[Ke+16],De=fe[Ke+24],Ie=fe[Ke+32],He=fe[Ke+40],Ze=fe[Ke+48];var Ws=pe+($e=fe[Ke+56]),ma=pe-$e,ga=be+Ze,Cr=be-Ze,kn=Ce+He,Mn=Ce-He,Ql=De+Ie,zo=De-Ie,za=Ws+Ql,vs=Ws-Ql,qa=ga+kn,Wa=ga-kn;fe[Ke]=za+qa,fe[Ke+32]=za-qa;var va=.707106781*(Wa+vs);fe[Ke+16]=vs+va,fe[Ke+48]=vs-va;var ec=.382683433*((za=zo+Mn)-(Wa=Cr+ma)),ys=.5411961*za+ec,tc=1.306562965*Wa+ec,Ou=.707106781*(qa=Mn+Cr),Pu=ma+Ou,Cu=ma-Ou;fe[Ke+40]=Cu+ys,fe[Ke+24]=Cu-ys,fe[Ke+8]=Pu+tc,fe[Ke+56]=Pu-tc,Ke++}for(Ve=0;Ve<64;++Ve)qe=fe[Ve]*he[Ve],h[Ve]=qe>0?qe+.5|0:qe-.5|0;return h}(R,B),ge=0;ge<64;++ge)m[N[ge]]=le[ge];var de=m[0]-z;z=m[0],de==0?X(K[0]):(X(K[p[Q=32767+de]]),X(f[Q]));for(var ke=63;ke>0&&m[ke]==0;)ke--;if(ke==0)return X(ae),z;for(var ve,ie=1;ie<=ke;){for(var We=ie;m[ie]==0&&ie<=ke;)++ie;var Be=ie-We;if(Be>=16){ve=Be>>4;for(var xe=1;xe<=ve;++xe)X(Z);Be&=15}Q=32767+m[ie],X(q[(Be<<4)+p[Q]]),X(f[Q]),ie++}return ke!=63&&X(ae),z}function $(R){R=Math.min(Math.max(R,1),100),a!=R&&(function(B){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var q=s((z[K]*B+50)/100);q=Math.min(Math.max(q,1),255),o[N[K]]=q}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var Z=s((Q[ae]*B+50)/100);Z=Math.min(Math.max(Z,1),255),l[N[ae]]=Z}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,de=0;de<8;de++)for(var ke=0;ke<8;ke++)u[ge]=1/(o[N[ge]]*le[de]*le[ke]*8),d[ge]=1/(l[N[ge]]*le[de]*le[ke]*8),ge++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,B){B&&$(B),g=new Array,y=0,v=7,W(65496),W(65504),W(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),W(1),W(1),H(0),H(0),function(){W(65499),W(132),H(0);for(var be=0;be<64;be++)H(o[be]);H(1);for(var Ce=0;Ce<64;Ce++)H(l[Ce])}(),function(be,Ce){W(65472),W(17),H(8),W(Ce),W(be),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(R.width,R.height),function(){W(65476),W(418),H(0);for(var be=0;be<16;be++)H(E[be+1]);for(var Ce=0;Ce<=11;Ce++)H(P[Ce]);H(16);for(var De=0;De<16;De++)H(C[De+1]);for(var Ie=0;Ie<=161;Ie++)H(S[Ie]);H(1);for(var He=0;He<16;He++)H(A[He+1]);for(var Ze=0;Ze<=11;Ze++)H(I[Ze]);H(17);for(var $e=0;$e<16;$e++)H(D[$e+1]);for(var Ve=0;Ve<=161;Ve++)H(U[Ve])}(),W(65498),W(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var z=0,K=0,q=0;y=0,v=7,this.encode.displayName="_encode_";for(var Q,ae,Z,le,ge,de,ke,ve,ie,We=R.data,Be=R.width,xe=R.height,fe=4*Be,he=0;he<xe;){for(Q=0;Q<fe;){for(ge=fe*he+Q,ke=-1,ve=0,ie=0;ie<64;ie++)de=ge+(ve=ie>>3)*fe+(ke=4*(7&ie)),he+ve>=xe&&(de-=fe*(he+1+ve-xe)),Q+ke>=fe&&(de-=Q+ke-fe+4),ae=We[de++],Z=We[de++],le=We[de++],b[ie]=(O[ae]+O[Z+256|0]+O[le+512|0]>>16)-128,w[ie]=(O[ae+768|0]+O[Z+1024|0]+O[le+1280|0]>>16)-128,x[ie]=(O[ae+1280|0]+O[Z+1536|0]+O[le+1792|0]>>16)-128;z=V(b,u,z,t,n),K=V(w,d,K,r,i),q=V(x,d,q,r,i),Q+=32}he+=8}if(v>=0){var pe=[];pe[1]=v+1,pe[0]=(1<<v+1)-1,X(pe)}return W(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,B=0;B<256;B++)j[B]=R(B)}(),t=J(E,P),r=J(A,I),n=J(C,S),i=J(D,U),function(){for(var R=1,B=2,z=1;z<=15;z++){for(var K=R;K<B;K++)p[32767+K]=z,f[32767+K]=[],f[32767+K][1]=z,f[32767+K][0]=K;for(var q=-(B-1);q<=-R;q++)p[32767+q]=z,f[32767+q]=[],f[32767+q][1]=z,f[32767+q][0]=B-1+q;R<<=1,B<<=1}}(),function(){for(var R=0;R<256;R++)O[R]=19595*R,O[R+256|0]=38470*R,O[R+512|0]=7471*R+32768,O[R+768|0]=-11059*R,O[R+1024|0]=-21709*R,O[R+1280|0]=32768*R+8421375,O[R+1536|0]=-27439*R,O[R+1792|0]=-5329*R}(),$(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ja(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RO(e){function t(P){if(!P)throw Error("assert :P")}function r(P,C,S){for(var A=0;4>A;A++)if(P[C+A]!=S.charCodeAt(A))return!0;return!1}function n(P,C,S,A,I){for(var D=0;D<I;D++)P[C+D]=S[A+D]}function i(P,C,S,A){for(var I=0;I<A;I++)P[C+I]=S}function a(P){return new Int32Array(P)}function s(P,C){for(var S=[],A=0;A<P;A++)S.push(new C);return S}function o(P,C){var S=[];return function A(I,D,U){for(var J=U[D],X=0;X<J&&(I.push(U.length>D+1?[]:new C),!(U.length<D+1));X++)A(I[X],D+1,U)}(S,0,P),S}var l=function(){var P=this;function C(_,k){for(var M=1<<k-1>>>0;_&M;)M>>>=1;return M?(_&M-1)+M:_}function S(_,k,M,F,Y){t(!(F%M));do _[k+(F-=M)]=Y;while(0<F)}function A(_,k,M,F,Y){if(t(2328>=Y),512>=Y)var ee=a(512);else if((ee=a(Y))==null)return 0;return function(te,re,ne,se,me,Ne){var oe,ye,_e=re,Ae=1<<ne,je=a(16),Ee=a(16);for(t(me!=0),t(se!=null),t(te!=null),t(0<ne),ye=0;ye<me;++ye){if(15<se[ye])return 0;++je[se[ye]]}if(je[0]==me)return 0;for(Ee[1]=0,oe=1;15>oe;++oe){if(je[oe]>1<<oe)return 0;Ee[oe+1]=Ee[oe]+je[oe]}for(ye=0;ye<me;++ye)oe=se[ye],0<se[ye]&&(Ne[Ee[oe]++]=ye);if(Ee[15]==1)return(se=new I).g=0,se.value=Ne[0],S(te,_e,1,Ae,se),Ae;var Pe,Re=-1,Te=Ae-1,ot=0,Je=1,At=1,nt=1<<ne;for(ye=0,oe=1,me=2;oe<=ne;++oe,me<<=1){if(Je+=At<<=1,0>(At-=je[oe]))return 0;for(;0<je[oe];--je[oe])(se=new I).g=oe,se.value=Ne[ye++],S(te,_e+ot,me,nt,se),ot=C(ot,oe)}for(oe=ne+1,me=2;15>=oe;++oe,me<<=1){if(Je+=At<<=1,0>(At-=je[oe]))return 0;for(;0<je[oe];--je[oe]){if(se=new I,(ot&Te)!=Re){for(_e+=nt,Pe=1<<(Re=oe)-ne;15>Re&&!(0>=(Pe-=je[Re]));)++Re,Pe<<=1;Ae+=nt=1<<(Pe=Re-ne),te[re+(Re=ot&Te)].g=Pe+ne,te[re+Re].value=_e-re-Re}se.g=oe-ne,se.value=Ne[ye++],S(te,_e+(ot>>ne),me,nt,se),ot=C(ot,oe)}}return Je!=2*Ee[15]-1?0:Ae}(_,k,M,F,Y,ee)}function I(){this.value=this.g=0}function D(){this.value=this.g=0}function U(){this.G=s(5,I),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(yc,D)}function J(_,k,M,F){t(_!=null),t(k!=null),t(2147483648>F),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=k,_.pa=M,_.Jd=k,_.Yc=M+F,_.Zc=4<=F?M+F-4+1:M,ae(_)}function X(_,k){for(var M=0;0<k--;)M|=le(_,128)<<k;return M}function H(_,k){var M=X(_,k);return Z(_)?-M:M}function W(_,k,M,F){var Y,ee=0;for(t(_!=null),t(k!=null),t(4294967288>F),_.Sb=F,_.Ra=0,_.u=0,_.h=0,4<F&&(F=4),Y=0;Y<F;++Y)ee+=k[M+Y]<<8*Y;_.Ra=ee,_.bb=F,_.oa=k,_.pa=M}function V(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Vo-8>>>0,++_.bb,_.u-=8;K(_)&&(_.h=1,_.u=0)}function $(_,k){if(t(0<=k),!_.h&&k<=Ui){var M=z(_)&$i[k];return _.u+=k,V(_),M}return _.h=1,_.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(_){return _.Ra>>>(_.u&Vo-1)>>>0}function K(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Vo}function q(_,k){_.u=k,_.h=K(_)}function Q(_){_.u>=Js&&(t(_.u>=Js),V(_))}function ae(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function Z(_){return X(_,1)}function le(_,k){var M=_.Ca;0>_.b&&ae(_);var F=_.b,Y=M*k>>>8,ee=(_.I>>>F>Y)+0;for(ee?(M-=Y,_.I-=Y+1<<F>>>0):M=Y+1,F=M,Y=0;256<=F;)Y+=8,F>>=8;return F=7^Y+Go[F],_.b-=F,_.Ca=(M<<F)-1,ee}function ge(_,k,M){_[k+0]=M>>24&255,_[k+1]=M>>16&255,_[k+2]=M>>8&255,_[k+3]=255&M}function de(_,k){return _[k+0]|_[k+1]<<8}function ke(_,k){return de(_,k)|_[k+2]<<16}function ve(_,k){return de(_,k)|de(_,k+2)<<16}function ie(_,k){var M=1<<k;return t(_!=null),t(0<k),_.X=a(M),_.X==null?0:(_.Mb=32-k,_.Xa=k,1)}function We(_,k){t(_!=null),t(k!=null),t(_.Xa==k.Xa),n(k.X,0,_.X,0,1<<k.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function xe(_,k,M,F){t(M!=null),t(F!=null);var Y=M[0],ee=F[0];return Y==0&&(Y=(_*ee+k/2)/k),ee==0&&(ee=(k*Y+_/2)/_),0>=Y||0>=ee?0:(M[0]=Y,F[0]=ee,1)}function fe(_,k){return _+(1<<k)-1>>>k}function he(_,k){return((4278255360&_)+(4278255360&k)>>>0&4278255360)+((16711935&_)+(16711935&k)>>>0&16711935)>>>0}function pe(_,k){P[k]=function(M,F,Y,ee,te,re,ne){var se;for(se=0;se<te;++se){var me=P[_](re[ne+se-1],Y,ee+se);re[ne+se]=he(M[F+se],me)}}}function be(){this.ud=this.hd=this.jd=0}function Ce(_,k){return((4278124286&(_^k))>>>1)+(_&k)>>>0}function De(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Ie(_,k){return De(_+(_-k+.5>>1))}function He(_,k,M){return Math.abs(k-M)-Math.abs(_-M)}function Ze(_,k,M,F,Y,ee,te){for(F=ee[te-1],M=0;M<Y;++M)ee[te+M]=F=he(_[k+M],F)}function $e(_,k,M,F,Y){var ee;for(ee=0;ee<M;++ee){var te=_[k+ee],re=te>>8&255,ne=16711935&(ne=(ne=16711935&te)+((re<<16)+re));F[Y+ee]=(4278255360&te)+ne>>>0}}function Ve(_,k){k.jd=255&_,k.hd=_>>8&255,k.ud=_>>16&255}function qe(_,k,M,F,Y,ee){var te;for(te=0;te<F;++te){var re=k[M+te],ne=re>>>8,se=re,me=255&(me=(me=re>>>16)+((_.jd<<24>>24)*(ne<<24>>24)>>>5));se=255&(se=(se+=(_.hd<<24>>24)*(ne<<24>>24)>>>5)+((_.ud<<24>>24)*(me<<24>>24)>>>5)),Y[ee+te]=(4278255360&re)+(me<<16)+se}}function Ke(_,k,M,F,Y){P[k]=function(ee,te,re,ne,se,me,Ne,oe,ye){for(ne=Ne;ne<oe;++ne)for(Ne=0;Ne<ye;++Ne)se[me++]=Y(re[F(ee[te++])])},P[_]=function(ee,te,re,ne,se,me,Ne){var oe=8>>ee.b,ye=ee.Ea,_e=ee.K[0],Ae=ee.w;if(8>oe)for(ee=(1<<ee.b)-1,Ae=(1<<oe)-1;te<re;++te){var je,Ee=0;for(je=0;je<ye;++je)je&ee||(Ee=F(ne[se++])),me[Ne++]=Y(_e[Ee&Ae]),Ee>>=oe}else P["VP8LMapColor"+M](ne,se,_e,Ae,me,Ne,te,re,ye)}}function ct(_,k,M,F,Y){for(M=k+M;k<M;){var ee=_[k++];F[Y++]=ee>>16&255,F[Y++]=ee>>8&255,F[Y++]=255&ee}}function ht(_,k,M,F,Y){for(M=k+M;k<M;){var ee=_[k++];F[Y++]=ee>>16&255,F[Y++]=ee>>8&255,F[Y++]=255&ee,F[Y++]=ee>>24&255}}function Ge(_,k,M,F,Y){for(M=k+M;k<M;){var ee=(te=_[k++])>>16&240|te>>12&15,te=240&te|te>>28&15;F[Y++]=ee,F[Y++]=te}}function ft(_,k,M,F,Y){for(M=k+M;k<M;){var ee=(te=_[k++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;F[Y++]=ee,F[Y++]=te}}function Mt(_,k,M,F,Y){for(M=k+M;k<M;){var ee=_[k++];F[Y++]=255&ee,F[Y++]=ee>>8&255,F[Y++]=ee>>16&255}}function dt(_,k,M,F,Y,ee){if(ee==0)for(M=k+M;k<M;)ge(F,((ee=_[k++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else n(F,Y,_,k,M)}function Ot(_,k){P[k][0]=P[_+"0"],P[k][1]=P[_+"1"],P[k][2]=P[_+"2"],P[k][3]=P[_+"3"],P[k][4]=P[_+"4"],P[k][5]=P[_+"5"],P[k][6]=P[_+"6"],P[k][7]=P[_+"7"],P[k][8]=P[_+"8"],P[k][9]=P[_+"9"],P[k][10]=P[_+"10"],P[k][11]=P[_+"11"],P[k][12]=P[_+"12"],P[k][13]=P[_+"13"],P[k][14]=P[_+"0"],P[k][15]=P[_+"0"]}function bt(_){return _==Z1||_==Q1||_==Bm||_==eb}function lr(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new lr,this.f.kb=new un,this.sd=null}function wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zl(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Kn(_,k){var M=_.T,F=k.ba.f.RGBA,Y=F.eb,ee=F.fb+_.ka*F.A,te=ja[k.ba.S],re=_.y,ne=_.O,se=_.f,me=_.N,Ne=_.ea,oe=_.W,ye=k.cc,_e=k.dc,Ae=k.Mc,je=k.Nc,Ee=_.ka,Pe=_.ka+_.T,Re=_.U,Te=Re+1>>1;for(Ee==0?te(re,ne,null,null,se,me,Ne,oe,se,me,Ne,oe,Y,ee,null,null,Re):(te(k.ec,k.fc,re,ne,ye,_e,Ae,je,se,me,Ne,oe,Y,ee-F.A,Y,ee,Re),++M);Ee+2<Pe;Ee+=2)ye=se,_e=me,Ae=Ne,je=oe,me+=_.Rc,oe+=_.Rc,ee+=2*F.A,te(re,(ne+=2*_.fa)-_.fa,re,ne,ye,_e,Ae,je,se,me,Ne,oe,Y,ee-F.A,Y,ee,Re);return ne+=_.fa,_.j+Pe<_.o?(n(k.ec,k.fc,re,ne,Re),n(k.cc,k.dc,se,me,Te),n(k.Mc,k.Nc,Ne,oe,Te),M--):1&Pe||te(re,ne,null,null,se,me,Ne,oe,se,me,Ne,oe,Y,ee+F.A,null,null,Re),M}function zs(_,k,M){var F=_.F,Y=[_.J];if(F!=null){var ee=_.U,te=k.ba.S,re=te==Dm||te==Bm;k=k.ba.f.RGBA;var ne=[0],se=_.ka;ne[0]=_.T,_.Kb&&(se==0?--ne[0]:(--se,Y[0]-=_.width),_.j+_.ka+_.T==_.o&&(ne[0]=_.o-_.j-se));var me=k.eb;se=k.fb+se*k.A,_=hS(F,Y[0],_.width,ee,ne,me,se+(re?0:3),k.A),t(M==ne),_&&bt(te)&&Jf(me,se,re,ee,ne,k.A)}return 0}function gs(_){var k=_.ma,M=k.ba.S,F=11>M,Y=M==Rm||M==Mm||M==Dm||M==J1||M==12||bt(M);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!qf(k.Oa,_,Y?11:12))return 0;if(Y&&bt(M)&&Om(),_.da)alert("todo:use_scaling");else{if(F){if(k.Ib=Zl,_.Kb){if(M=_.U+1>>1,k.memory=a(_.U+2*M),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+_.U,k.Mc=k.cc,k.Nc=k.dc+M,k.Ib=Kn,Om()}}else alert("todo:EmitYUV");Y&&(k.Jb=zs,F&&ba())}if(F&&!OS){for(_=0;256>_;++_)F9[_]=89858*(_-128)+$m>>Fm,z9[_]=-22014*(_-128)+$m,U9[_]=-45773*(_-128),$9[_]=113618*(_-128)+$m>>Fm;for(_=Qf;_<nb;++_)k=76283*(_-16)+$m>>Fm,q9[_-Qf]=Tr(k,255),W9[_-Qf]=Tr(k+8>>4,15);OS=1}return 1}function pt(_){var k=_.ma,M=_.U,F=_.T;return t(!(1&_.ka)),0>=M||0>=F?0:(M=k.Ib(_,k),k.Jb!=null&&k.Jb(_,k,M),k.Dc+=M,1)}function qs(_){_.ma.memory=null}function Ws(_,k,M,F){return $(_,8)!=47?0:(k[0]=$(_,14)+1,M[0]=$(_,14)+1,F[0]=$(_,1),$(_,3)!=0?0:!_.h)}function ma(_,k){if(4>_)return _+1;var M=_-2>>1;return(2+(1&_)<<M)+$(k,M)+1}function ga(_,k){return 120<k?k-120:1<=(M=((M=S9[k-1])>>4)*_+(8-(15&M)))?M:1;var M}function Cr(_,k,M){var F=z(M),Y=_[k+=255&F].g-8;return 0<Y&&(q(M,M.u+8),F=z(M),k+=_[k].value,k+=F&(1<<Y)-1),q(M,M.u+_[k].g),_[k].value}function kn(_,k,M){return M.g+=_.g,M.value+=_.value<<k>>>0,t(8>=M.g),_.g}function Mn(_,k,M){var F=_.xc;return t((k=F==0?0:_.vc[_.md*(M>>F)+(k>>F)])<_.Wb),_.Ya[k]}function Ql(_,k,M,F){var Y=_.ab,ee=_.c*k,te=_.C;k=te+k;var re=M,ne=F;for(F=_.Ta,M=_.Ua;0<Y--;){var se=_.gc[Y],me=te,Ne=k,oe=re,ye=ne,_e=(ne=F,re=M,se.Ea);switch(t(me<Ne),t(Ne<=se.nc),se.hc){case 2:Fr(oe,ye,(Ne-me)*_e,ne,re);break;case 0:var Ae=me,je=Ne,Ee=ne,Pe=re,Re=(nt=se).Ea;Ae==0&&(Hf(oe,ye,null,null,1,Ee,Pe),Ze(oe,ye+1,0,0,Re-1,Ee,Pe+1),ye+=Re,Pe+=Re,++Ae);for(var Te=1<<nt.b,ot=Te-1,Je=fe(Re,nt.b),At=nt.K,nt=nt.w+(Ae>>nt.b)*Je;Ae<je;){var Tt=At,hn=nt,Et=1;for(Fu(oe,ye,Ee,Pe-Re,1,Ee,Pe);Et<Re;){var it=(Et&~ot)+Te;it>Re&&(it=Re),(0,Vf[Tt[hn++]>>8&15])(oe,ye+ +Et,Ee,Pe+Et-Re,it-Et,Ee,Pe+Et),Et=it}ye+=Re,Pe+=Re,++Ae&ot||(nt+=Je)}Ne!=se.nc&&n(ne,re-_e,ne,re+(Ne-me-1)*_e,_e);break;case 1:for(_e=oe,je=ye,Re=(oe=se.Ea)-(Pe=oe&~(Ee=(ye=1<<se.b)-1)),Ae=fe(oe,se.b),Te=se.K,se=se.w+(me>>se.b)*Ae;me<Ne;){for(ot=Te,Je=se,At=new be,nt=je+Pe,Tt=je+oe;je<nt;)Ve(ot[Je++],At),Gf(At,_e,je,ye,ne,re),je+=ye,re+=ye;je<Tt&&(Ve(ot[Je++],At),Gf(At,_e,je,Re,ne,re),je+=Re,re+=Re),++me&Ee||(se+=Ae)}break;case 3:if(oe==ne&&ye==re&&0<se.b){for(je=ne,oe=_e=re+(Ne-me)*_e-(Pe=(Ne-me)*fe(se.Ea,se.b)),ye=ne,Ee=re,Ae=[],Pe=(Re=Pe)-1;0<=Pe;--Pe)Ae[Pe]=ye[Ee+Pe];for(Pe=Re-1;0<=Pe;--Pe)je[oe+Pe]=Ae[Pe];Cm(se,me,Ne,ne,_e,ne,re)}else Cm(se,me,Ne,oe,ye,ne,re)}re=F,ne=M}ne!=M&&n(F,M,re,ne,ee)}function zo(_,k){var M=_.V,F=_.Ba+_.c*_.C,Y=k-_.C;if(t(k<=_.l.o),t(16>=Y),0<Y){var ee=_.l,te=_.Ta,re=_.Ua,ne=ee.width;if(Ql(_,Y,M,F),Y=re=[re],t((M=_.C)<(F=k)),t(ee.v<ee.va),F>ee.o&&(F=ee.o),M<ee.j){var se=ee.j-M;M=ee.j,Y[0]+=se*ne}if(M>=F?M=0:(Y[0]+=4*ee.v,ee.ka=M-ee.j,ee.U=ee.va-ee.v,ee.T=F-M,M=1),M){if(re=re[0],11>(M=_.ca).S){var me=M.f.RGBA,Ne=(F=M.S,Y=ee.U,ee=ee.T,se=me.eb,me.A),oe=ee;for(me=me.fb+_.Ma*me.A;0<oe--;){var ye=te,_e=re,Ae=Y,je=se,Ee=me;switch(F){case Im:Yf(ye,_e,Ae,je,Ee);break;case Rm:Yo(ye,_e,Ae,je,Ee);break;case Z1:Yo(ye,_e,Ae,je,Ee),Jf(je,Ee,0,Ae,1,0);break;case xS:bc(ye,_e,Ae,je,Ee);break;case Mm:dt(ye,_e,Ae,je,Ee,1);break;case Q1:dt(ye,_e,Ae,je,Ee,1),Jf(je,Ee,0,Ae,1,0);break;case Dm:dt(ye,_e,Ae,je,Ee,0);break;case Bm:dt(ye,_e,Ae,je,Ee,0),Jf(je,Ee,1,Ae,1,0);break;case J1:Xo(ye,_e,Ae,je,Ee);break;case eb:Xo(ye,_e,Ae,je,Ee),fS(je,Ee,Ae,1,0);break;case wS:Jo(ye,_e,Ae,je,Ee);break;default:t(0)}re+=ne,me+=Ne}_.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=M.height)}}_.C=k,t(_.C<=_.i)}function za(_){var k;if(0<_.ua)return 0;for(k=0;k<_.Wb;++k){var M=_.Ya[k].G,F=_.Ya[k].H;if(0<M[1][F[1]+0].g||0<M[2][F[2]+0].g||0<M[3][F[3]+0].g)return 0}return 1}function vs(_,k,M,F,Y,ee){if(_.Z!=0){var te=_.qd,re=_.rd;for(t(el[_.Z]!=null);k<M;++k)el[_.Z](te,re,F,Y,F,Y,ee),te=F,re=Y,Y+=ee;_.qd=te,_.rd=re}}function qa(_,k){var M=_.l.ma,F=M.Z==0||M.Z==1?_.l.j:_.C;if(F=_.C<F?F:_.C,t(k<=_.l.o),k>F){var Y=_.l.width,ee=M.ca,te=M.tb+Y*F,re=_.V,ne=_.Ba+_.c*F,se=_.gc;t(_.ab==1),t(se[0].hc==3),ws(se[0],F,k,re,ne,ee,te),vs(M,F,k,ee,te,Y)}_.C=_.Ma=k}function Wa(_,k,M,F,Y,ee,te){var re=_.$/F,ne=_.$%F,se=_.m,me=_.s,Ne=M+_.$,oe=Ne;Y=M+F*Y;var ye=M+F*ee,_e=280+me.ua,Ae=_.Pb?re:16777216,je=0<me.ua?me.Wa:null,Ee=me.wc,Pe=Ne<ye?Mn(me,ne,re):null;t(_.C<ee),t(ye<=Y);var Re=!1;e:for(;;){for(;Re||Ne<ye;){var Te=0;if(re>=Ae){var ot=Ne-M;t((Ae=_).Pb),Ae.wd=Ae.m,Ae.xd=ot,0<Ae.s.ua&&We(Ae.s.Wa,Ae.s.vb),Ae=re+A9}if(ne&Ee||(Pe=Mn(me,ne,re)),t(Pe!=null),Pe.Qb&&(k[Ne]=Pe.qb,Re=!0),!Re)if(Q(se),Pe.jc){Te=se,ot=k;var Je=Ne,At=Pe.pd[z(Te)&yc-1];t(Pe.jc),256>At.g?(q(Te,Te.u+At.g),ot[Je]=At.value,Te=0):(q(Te,Te.u+At.g-256),t(256<=At.value),Te=At.value),Te==0&&(Re=!0)}else Te=Cr(Pe.G[0],Pe.H[0],se);if(se.h)break;if(Re||256>Te){if(!Re)if(Pe.nd)k[Ne]=(Pe.qb|Te<<8)>>>0;else{if(Q(se),Re=Cr(Pe.G[1],Pe.H[1],se),Q(se),ot=Cr(Pe.G[2],Pe.H[2],se),Je=Cr(Pe.G[3],Pe.H[3],se),se.h)break;k[Ne]=(Je<<24|Re<<16|Te<<8|ot)>>>0}if(Re=!1,++Ne,++ne>=F&&(ne=0,++re,te!=null&&re<=ee&&!(re%16)&&te(_,re),je!=null))for(;oe<Ne;)Te=k[oe++],je.X[(506832829*Te&4294967295)>>>je.Mb]=Te}else if(280>Te){if(Te=ma(Te-256,se),ot=Cr(Pe.G[4],Pe.H[4],se),Q(se),ot=ga(F,ot=ma(ot,se)),se.h)break;if(Ne-M<ot||Y-Ne<Te)break e;for(Je=0;Je<Te;++Je)k[Ne+Je]=k[Ne+Je-ot];for(Ne+=Te,ne+=Te;ne>=F;)ne-=F,++re,te!=null&&re<=ee&&!(re%16)&&te(_,re);if(t(Ne<=Y),ne&Ee&&(Pe=Mn(me,ne,re)),je!=null)for(;oe<Ne;)Te=k[oe++],je.X[(506832829*Te&4294967295)>>>je.Mb]=Te}else{if(!(Te<_e))break e;for(Re=Te-280,t(je!=null);oe<Ne;)Te=k[oe++],je.X[(506832829*Te&4294967295)>>>je.Mb]=Te;Te=Ne,t(!(Re>>>(ot=je).Xa)),k[Te]=ot.X[Re],Re=!0}Re||t(se.h==K(se))}if(_.Pb&&se.h&&Ne<Y)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&We(_.s.vb,_.s.Wa);else{if(se.h)break e;te!=null&&te(_,re>ee?ee:re),_.a=0,_.$=Ne-M}return 1}return _.a=3,0}function va(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var k=_.Wa;k!=null&&(k.X=null),_.vb=null,t(_!=null)}function ec(){var _=new st;return _==null?null:(_.a=0,_.xb=NS,Ot("Predictor","VP8LPredictors"),Ot("Predictor","VP8LPredictors_C"),Ot("PredictorAdd","VP8LPredictorsAdd"),Ot("PredictorAdd","VP8LPredictorsAdd_C"),Fr=$e,Gf=qe,Yf=ct,Yo=ht,Xo=Ge,Jo=ft,bc=Mt,P.VP8LMapColor32b=xs,P.VP8LMapColor8b=Kf,_)}function ys(_,k,M,F,Y){var ee=1,te=[_],re=[k],ne=F.m,se=F.s,me=null,Ne=0;e:for(;;){if(M)for(;ee&&$(ne,1);){var oe=te,ye=re,_e=F,Ae=1,je=_e.m,Ee=_e.gc[_e.ab],Pe=$(je,2);if(_e.Oc&1<<Pe)ee=0;else{switch(_e.Oc|=1<<Pe,Ee.hc=Pe,Ee.Ea=oe[0],Ee.nc=ye[0],Ee.K=[null],++_e.ab,t(4>=_e.ab),Pe){case 0:case 1:Ee.b=$(je,3)+2,Ae=ys(fe(Ee.Ea,Ee.b),fe(Ee.nc,Ee.b),0,_e,Ee.K),Ee.K=Ee.K[0];break;case 3:var Re,Te=$(je,8)+1,ot=16<Te?0:4<Te?1:2<Te?2:3;if(oe[0]=fe(Ee.Ea,ot),Ee.b=ot,Re=Ae=ys(Te,1,0,_e,Ee.K)){var Je,At=Te,nt=Ee,Tt=1<<(8>>nt.b),hn=a(Tt);if(hn==null)Re=0;else{var Et=nt.K[0],it=nt.w;for(hn[0]=nt.K[0][0],Je=1;Je<1*At;++Je)hn[Je]=he(Et[it+Je],hn[Je-1]);for(;Je<4*Tt;++Je)hn[Je]=0;nt.K[0]=null,nt.K[0]=hn,Re=1}}Ae=Re;break;case 2:break;default:t(0)}ee=Ae}}if(te=te[0],re=re[0],ee&&$(ne,1)&&!(ee=1<=(Ne=$(ne,4))&&11>=Ne)){F.a=3;break e}var Ue;if(Ue=ee)t:{var Ur,kt,It,cr=F,Bn=te,ci=re,Lr=Ne,Gn=M,ui=cr.m,pn=cr.s,Dt=[null],Ht=1,Ir=0,Kt=k9[Lr];r:for(;;){if(Gn&&$(ui,1)){var Fn=$(ui,3)+2,Va=fe(Bn,Fn),zr=fe(ci,Fn),ki=Va*zr;if(!ys(Va,zr,0,cr,Dt))break r;for(Dt=Dt[0],pn.xc=Fn,Ur=0;Ur<ki;++Ur){var Zt=Dt[Ur]>>8&65535;Dt[Ur]=Zt,Zt>=Ht&&(Ht=Zt+1)}}if(ui.h)break r;for(kt=0;5>kt;++kt){var mn=_S[kt];!kt&&0<Lr&&(mn+=1<<Lr),Ir<mn&&(Ir=mn)}var qi=s(Ht*Kt,I),di=Ht,Wi=s(di,U);if(Wi==null)var Hi=null;else t(65536>=di),Hi=Wi;var Ai=a(Ir);if(Hi==null||Ai==null||qi==null){cr.a=1;break r}var Ki=qi;for(Ur=It=0;Ur<Ht;++Ur){var nr=Hi[Ur],Vi=nr.G,Ga=nr.H,wc=0,eo=1,$n=0;for(kt=0;5>kt;++kt){mn=_S[kt],Vi[kt]=Ki,Ga[kt]=It,!kt&&0<Lr&&(mn+=1<<Lr);i:{var zm,ib=mn,qm=cr,eh=Ai,V9=Ki,G9=It,ab=0,tl=qm.m,Y9=$(tl,1);if(i(eh,0,0,ib),Y9){var X9=$(tl,1)+1,J9=$(tl,1),TS=$(tl,J9==0?1:8);eh[TS]=1,X9==2&&(eh[TS=$(tl,8)]=1);var Wm=1}else{var LS=a(19),IS=$(tl,4)+4;if(19<IS){qm.a=3;var Hm=0;break i}for(zm=0;zm<IS;++zm)LS[N9[zm]]=$(tl,3);var sb=void 0,th=void 0,RS=qm,Z9=LS,Km=ib,MS=eh,ob=0,rl=RS.m,DS=8,BS=s(128,I);n:for(;A(BS,0,7,Z9,19);){if($(rl,1)){var Q9=2+2*$(rl,3);if((sb=2+$(rl,Q9))>Km)break n}else sb=Km;for(th=0;th<Km&&sb--;){Q(rl);var FS=BS[0+(127&z(rl))];q(rl,rl.u+FS.g);var Uu=FS.value;if(16>Uu)MS[th++]=Uu,Uu!=0&&(DS=Uu);else{var eB=Uu==16,$S=Uu-16,tB=_9[$S],US=$(rl,w9[$S])+tB;if(th+US>Km)break n;for(var rB=eB?DS:0;0<US--;)MS[th++]=rB}}ob=1;break n}ob||(RS.a=3),Wm=ob}(Wm=Wm&&!tl.h)&&(ab=A(V9,G9,8,eh,ib)),Wm&&ab!=0?Hm=ab:(qm.a=3,Hm=0)}if(Hm==0)break r;if(eo&&j9[kt]==1&&(eo=Ki[It].g==0),wc+=Ki[It].g,It+=Hm,3>=kt){var rh,lb=Ai[0];for(rh=1;rh<mn;++rh)Ai[rh]>lb&&(lb=Ai[rh]);$n+=lb}}if(nr.nd=eo,nr.Qb=0,eo&&(nr.qb=(Vi[3][Ga[3]+0].value<<24|Vi[1][Ga[1]+0].value<<16|Vi[2][Ga[2]+0].value)>>>0,wc==0&&256>Vi[0][Ga[0]+0].value&&(nr.Qb=1,nr.qb+=Vi[0][Ga[0]+0].value<<8)),nr.jc=!nr.Qb&&6>$n,nr.jc){var Vm,to=nr;for(Vm=0;Vm<yc;++Vm){var nl=Vm,il=to.pd[nl],Gm=to.G[0][to.H[0]+nl];256<=Gm.value?(il.g=Gm.g+256,il.value=Gm.value):(il.g=0,il.value=0,nl>>=kn(Gm,8,il),nl>>=kn(to.G[1][to.H[1]+nl],16,il),nl>>=kn(to.G[2][to.H[2]+nl],0,il),kn(to.G[3][to.H[3]+nl],24,il))}}}pn.vc=Dt,pn.Wb=Ht,pn.Ya=Hi,pn.yc=qi,Ue=1;break t}Ue=0}if(!(ee=Ue)){F.a=3;break e}if(0<Ne){if(se.ua=1<<Ne,!ie(se.Wa,Ne)){F.a=1,ee=0;break e}}else se.ua=0;var cb=F,zS=te,nB=re,ub=cb.s,db=ub.xc;if(cb.c=zS,cb.i=nB,ub.md=fe(zS,db),ub.wc=db==0?-1:(1<<db)-1,M){F.xb=I9;break e}if((me=a(te*re))==null){F.a=1,ee=0;break e}ee=(ee=Wa(F,me,0,te,re,re,null))&&!ne.h;break e}return ee?(Y!=null?Y[0]=me:(t(me==null),t(M)),F.$=0,M||va(se)):va(se),ee}function tc(_,k){var M=_.c*_.i,F=M+k+16*k;return t(_.c<=k),_.V=a(F),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+M+k,1)}function Ou(_,k){var M=_.C,F=k-M,Y=_.V,ee=_.Ba+_.c*M;for(t(k<=_.l.o);0<F;){var te=16<F?16:F,re=_.l.ma,ne=_.l.width,se=ne*te,me=re.ca,Ne=re.tb+ne*M,oe=_.Ta,ye=_.Ua;Ql(_,te,Y,ee),pS(oe,ye,me,Ne,se),vs(re,M,M+te,me,Ne,ne),F-=te,Y+=te*_.c,M+=te}t(M==k),_.C=_.Ma=k}function Pu(){this.ub=this.yd=this.td=this.Rb=0}function Cu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function I1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Of(){this.Yb=function(){var _=[];return function k(M,F,Y){for(var ee=Y[F],te=0;te<ee&&(M.push(Y.length>F+1?[]:0),!(Y.length<F+1));te++)k(M[te],F+1,Y)}(_,0,[3,11]),_}()}function pm(){this.jb=a(3),this.Wc=o([4,8],Of),this.Xc=o([4,17],Of)}function mm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ya(){this.ld=this.La=this.dd=this.tc=0}function Pf(){this.Na=this.la=0}function gm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vm(){this.uc=this.M=this.Nb=0,this.wa=Array(new ya),this.Y=0,this.ya=Array(new Cf),this.aa=0,this.l=new Tu}function ym(){this.y=a(16),this.f=a(8),this.ea=a(8)}function bm(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Pu,this.Kc=new Cu,this.ed=new mm,this.Qa=new I1,this.Ic=this.$c=this.Aa=0,this.D=new vm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,R),this.ia=0,this.pb=s(4,gm),this.Pa=new pm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ym),this.Hd=0,this.rb=Array(new Pf),this.sb=0,this.wa=Array(new ya),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cf),this.L=this.aa=0,this.gd=o([4,2],ya),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function R1(){var _=new bm;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Zf||(Zf=Hs)),_}function Jr(_,k,M){return _.a==0&&(_.a=k,_.sc=M,_.cb=0),0}function xm(_,k,M){return 3<=M&&_[k+0]==157&&_[k+1]==1&&_[k+2]==42}function wm(_,k){if(_==null)return 0;if(_.a=0,_.sc="OK",k==null)return Jr(_,2,"null VP8Io passed to VP8GetHeaders()");var M=k.data,F=k.w,Y=k.ha;if(4>Y)return Jr(_,7,"Truncated header.");var ee=M[F+0]|M[F+1]<<8|M[F+2]<<16,te=_.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return Jr(_,3,"Incorrect keyframe parameters.");if(!te.yd)return Jr(_,4,"Frame not displayable.");F+=3,Y-=3;var re=_.Kc;if(te.Rb){if(7>Y)return Jr(_,7,"cannot parse picture header");if(!xm(M,F,Y))return Jr(_,3,"Bad code word");re.c=16383&(M[F+4]<<8|M[F+3]),re.Td=M[F+4]>>6,re.i=16383&(M[F+6]<<8|M[F+5]),re.Ud=M[F+6]>>6,F+=7,Y-=7,_.za=re.c+15>>4,_.Ub=re.i+15>>4,k.width=re.c,k.height=re.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((ee=_.Pa).jb,0,255,ee.jb.length),t((ee=_.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(te.ub>Y)return Jr(_,7,"bad partition length");J(ee=_.m,M,F,te.ub),F+=te.ub,Y-=te.ub,te.Rb&&(re.Ld=Z(ee),re.Kd=Z(ee)),re=_.Qa;var ne,se=_.Pa;if(t(ee!=null),t(re!=null),re.Cb=Z(ee),re.Cb){if(re.Bb=Z(ee),Z(ee)){for(re.Fb=Z(ee),ne=0;4>ne;++ne)re.Zb[ne]=Z(ee)?H(ee,7):0;for(ne=0;4>ne;++ne)re.Lb[ne]=Z(ee)?H(ee,6):0}if(re.Bb)for(ne=0;3>ne;++ne)se.jb[ne]=Z(ee)?X(ee,8):255}else re.Bb=0;if(ee.Ka)return Jr(_,3,"cannot parse segment header");if((re=_.ed).zd=Z(ee),re.Tb=X(ee,6),re.wb=X(ee,3),re.Pc=Z(ee),re.Pc&&Z(ee)){for(se=0;4>se;++se)Z(ee)&&(re.vd[se]=H(ee,6));for(se=0;4>se;++se)Z(ee)&&(re.od[se]=H(ee,6))}if(_.L=re.Tb==0?0:re.zd?1:2,ee.Ka)return Jr(_,3,"cannot parse filter header");var me=Y;if(Y=ne=F,F=ne+me,re=me,_.Xb=(1<<X(_.m,2))-1,me<3*(se=_.Xb))M=7;else{for(ne+=3*se,re-=3*se,me=0;me<se;++me){var Ne=M[Y+0]|M[Y+1]<<8|M[Y+2]<<16;Ne>re&&(Ne=re),J(_.Jc[+me],M,ne,Ne),ne+=Ne,re-=Ne,Y+=3}J(_.Jc[+se],M,ne,re),M=ne<F?0:5}if(M!=0)return Jr(_,M,"cannot parse partitions");for(M=X(ne=_.m,7),Y=Z(ne)?H(ne,4):0,F=Z(ne)?H(ne,4):0,re=Z(ne)?H(ne,4):0,se=Z(ne)?H(ne,4):0,ne=Z(ne)?H(ne,4):0,me=_.Qa,Ne=0;4>Ne;++Ne){if(me.Cb){var oe=me.Zb[Ne];me.Fb||(oe+=M)}else{if(0<Ne){_.pb[Ne]=_.pb[0];continue}oe=M}var ye=_.pb[Ne];ye.Sc[0]=tb[Tr(oe+Y,127)],ye.Sc[1]=rb[Tr(oe+0,127)],ye.Eb[0]=2*tb[Tr(oe+F,127)],ye.Eb[1]=101581*rb[Tr(oe+re,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=tb[Tr(oe+se,117)],ye.Qc[1]=rb[Tr(oe+ne,127)],ye.lc=oe+ne}if(!te.Rb)return Jr(_,4,"Not a key frame.");for(Z(ee),te=_.Pa,M=0;4>M;++M){for(Y=0;8>Y;++Y)for(F=0;3>F;++F)for(re=0;11>re;++re)se=le(ee,T9[M][Y][F][re])?X(ee,8):P9[M][Y][F][re],te.Wc[M][Y].Yb[F][re]=se;for(Y=0;17>Y;++Y)te.Xc[M][Y]=te.Wc[M][L9[Y]]}return _.kc=Z(ee),_.kc&&(_.Bd=X(ee,8)),_.cb=1}function Hs(_,k,M,F,Y,ee,te){var re=k[Y].Yb[M];for(M=0;16>Y;++Y){if(!le(_,re[M+0]))return Y;for(;!le(_,re[M+1]);)if(re=k[++Y].Yb[0],M=0,Y==16)return 16;var ne=k[Y+1].Yb;if(le(_,re[M+2])){var se=_,me=0;if(le(se,(oe=re)[(Ne=M)+3]))if(le(se,oe[Ne+6])){for(re=0,Ne=2*(me=le(se,oe[Ne+8]))+(oe=le(se,oe[Ne+9+me])),me=0,oe=E9[Ne];oe[re];++re)me+=me+le(se,oe[re]);me+=3+(8<<Ne)}else le(se,oe[Ne+7])?(me=7+2*le(se,165),me+=le(se,145)):me=5+le(se,159);else me=le(se,oe[Ne+4])?3+le(se,oe[Ne+5]):2;re=ne[2]}else me=1,re=ne[1];ne=te+O9[Y],0>(se=_).b&&ae(se);var Ne,oe=se.b,ye=(Ne=se.Ca>>1)-(se.I>>oe)>>31;--se.b,se.Ca+=ye,se.Ca|=1,se.I-=(Ne+1&ye)<<oe,ee[ne]=((me^ye)-ye)*F[(0<Y)+0]}return 16}function rc(_){var k=_.rb[_.sb-1];k.la=0,k.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function Ha(_,k,M,F,Y){Y=_[k+M+32*F]+(Y>>3),_[k+M+32*F]=-256&Y?0>Y?0:255:Y}function nc(_,k,M,F,Y,ee){Ha(_,k,0,M,F+Y),Ha(_,k,1,M,F+ee),Ha(_,k,2,M,F-ee),Ha(_,k,3,M,F-Y)}function Br(_){return(20091*_>>16)+_}function Tf(_,k,M,F){var Y,ee=0,te=a(16);for(Y=0;4>Y;++Y){var re=_[k+0]+_[k+8],ne=_[k+0]-_[k+8],se=(35468*_[k+4]>>16)-Br(_[k+12]),me=Br(_[k+4])+(35468*_[k+12]>>16);te[ee+0]=re+me,te[ee+1]=ne+se,te[ee+2]=ne-se,te[ee+3]=re-me,ee+=4,k++}for(Y=ee=0;4>Y;++Y)re=(_=te[ee+0]+4)+te[ee+8],ne=_-te[ee+8],se=(35468*te[ee+4]>>16)-Br(te[ee+12]),Ha(M,F,0,0,re+(me=Br(te[ee+4])+(35468*te[ee+12]>>16))),Ha(M,F,1,0,ne+se),Ha(M,F,2,0,ne-se),Ha(M,F,3,0,re-me),ee++,F+=32}function M1(_,k,M,F){var Y=_[k+0]+4,ee=35468*_[k+4]>>16,te=Br(_[k+4]),re=35468*_[k+1]>>16;nc(M,F,0,Y+te,_=Br(_[k+1]),re),nc(M,F,1,Y+ee,_,re),nc(M,F,2,Y-ee,_,re),nc(M,F,3,Y-te,_,re)}function D1(_,k,M,F,Y){Tf(_,k,M,F),Y&&Tf(_,k+16,M,F+4)}function B1(_,k,M,F){xc(_,k+0,M,F,1),xc(_,k+32,M,F+128,1)}function bs(_,k,M,F){var Y;for(_=_[k+0]+4,Y=0;4>Y;++Y)for(k=0;4>k;++k)Ha(M,F,k,Y,_)}function _m(_,k,M,F){_[k+0]&&Wt(_,k+0,M,F),_[k+16]&&Wt(_,k+16,M,F+4),_[k+32]&&Wt(_,k+32,M,F+128),_[k+48]&&Wt(_,k+48,M,F+128+4)}function jm(_,k,M,F){var Y,ee=a(16);for(Y=0;4>Y;++Y){var te=_[k+0+Y]+_[k+12+Y],re=_[k+4+Y]+_[k+8+Y],ne=_[k+4+Y]-_[k+8+Y],se=_[k+0+Y]-_[k+12+Y];ee[0+Y]=te+re,ee[8+Y]=te-re,ee[4+Y]=se+ne,ee[12+Y]=se-ne}for(Y=0;4>Y;++Y)te=(_=ee[0+4*Y]+3)+ee[3+4*Y],re=ee[1+4*Y]+ee[2+4*Y],ne=ee[1+4*Y]-ee[2+4*Y],se=_-ee[3+4*Y],M[F+0]=te+re>>3,M[F+16]=se+ne>>3,M[F+32]=te-re>>3,M[F+48]=se-ne>>3,F+=64}function qo(_,k,M){var F,Y=k-32,ee=zi,te=255-_[Y-1];for(F=0;F<M;++F){var re,ne=ee,se=te+_[k-1];for(re=0;re<M;++re)_[k+re]=ne[se+_[Y+re]];k+=32}}function Lf(_,k){qo(_,k,4)}function F1(_,k){qo(_,k,8)}function $1(_,k){qo(_,k,16)}function U1(_,k){var M;for(M=0;16>M;++M)n(_,k+32*M,_,k-32,16)}function If(_,k){var M;for(M=16;0<M;--M)i(_,k,_[k-1],16),k+=32}function ic(_,k,M){var F;for(F=0;16>F;++F)i(k,M+32*F,_,16)}function Wo(_,k){var M,F=16;for(M=0;16>M;++M)F+=_[k-1+32*M]+_[k+M-32];ic(F>>5,_,k)}function z1(_,k){var M,F=8;for(M=0;16>M;++M)F+=_[k-1+32*M];ic(F>>4,_,k)}function ac(_,k){var M,F=8;for(M=0;16>M;++M)F+=_[k+M-32];ic(F>>4,_,k)}function Rf(_,k){ic(128,_,k)}function _t(_,k,M){return _+2*k+M+2>>2}function q1(_,k){var M,F=k-32;for(F=new Uint8Array([_t(_[F-1],_[F+0],_[F+1]),_t(_[F+0],_[F+1],_[F+2]),_t(_[F+1],_[F+2],_[F+3]),_t(_[F+2],_[F+3],_[F+4])]),M=0;4>M;++M)n(_,k+32*M,F,0,F.length)}function W1(_,k){var M=_[k-1],F=_[k-1+32],Y=_[k-1+64],ee=_[k-1+96];ge(_,k+0,16843009*_t(_[k-1-32],M,F)),ge(_,k+32,16843009*_t(M,F,Y)),ge(_,k+64,16843009*_t(F,Y,ee)),ge(_,k+96,16843009*_t(Y,ee,ee))}function H1(_,k){var M,F=4;for(M=0;4>M;++M)F+=_[k+M-32]+_[k-1+32*M];for(F>>=3,M=0;4>M;++M)i(_,k+32*M,F,4)}function K1(_,k){var M=_[k-1+0],F=_[k-1+32],Y=_[k-1+64],ee=_[k-1-32],te=_[k+0-32],re=_[k+1-32],ne=_[k+2-32],se=_[k+3-32];_[k+0+96]=_t(F,Y,_[k-1+96]),_[k+1+96]=_[k+0+64]=_t(M,F,Y),_[k+2+96]=_[k+1+64]=_[k+0+32]=_t(ee,M,F),_[k+3+96]=_[k+2+64]=_[k+1+32]=_[k+0+0]=_t(te,ee,M),_[k+3+64]=_[k+2+32]=_[k+1+0]=_t(re,te,ee),_[k+3+32]=_[k+2+0]=_t(ne,re,te),_[k+3+0]=_t(se,ne,re)}function Ks(_,k){var M=_[k+1-32],F=_[k+2-32],Y=_[k+3-32],ee=_[k+4-32],te=_[k+5-32],re=_[k+6-32],ne=_[k+7-32];_[k+0+0]=_t(_[k+0-32],M,F),_[k+1+0]=_[k+0+32]=_t(M,F,Y),_[k+2+0]=_[k+1+32]=_[k+0+64]=_t(F,Y,ee),_[k+3+0]=_[k+2+32]=_[k+1+64]=_[k+0+96]=_t(Y,ee,te),_[k+3+32]=_[k+2+64]=_[k+1+96]=_t(ee,te,re),_[k+3+64]=_[k+2+96]=_t(te,re,ne),_[k+3+96]=_t(re,ne,ne)}function Vs(_,k){var M=_[k-1+0],F=_[k-1+32],Y=_[k-1+64],ee=_[k-1-32],te=_[k+0-32],re=_[k+1-32],ne=_[k+2-32],se=_[k+3-32];_[k+0+0]=_[k+1+64]=ee+te+1>>1,_[k+1+0]=_[k+2+64]=te+re+1>>1,_[k+2+0]=_[k+3+64]=re+ne+1>>1,_[k+3+0]=ne+se+1>>1,_[k+0+96]=_t(Y,F,M),_[k+0+64]=_t(F,M,ee),_[k+0+32]=_[k+1+96]=_t(M,ee,te),_[k+1+32]=_[k+2+96]=_t(ee,te,re),_[k+2+32]=_[k+3+96]=_t(te,re,ne),_[k+3+32]=_t(re,ne,se)}function V1(_,k){var M=_[k+0-32],F=_[k+1-32],Y=_[k+2-32],ee=_[k+3-32],te=_[k+4-32],re=_[k+5-32],ne=_[k+6-32],se=_[k+7-32];_[k+0+0]=M+F+1>>1,_[k+1+0]=_[k+0+64]=F+Y+1>>1,_[k+2+0]=_[k+1+64]=Y+ee+1>>1,_[k+3+0]=_[k+2+64]=ee+te+1>>1,_[k+0+32]=_t(M,F,Y),_[k+1+32]=_[k+0+96]=_t(F,Y,ee),_[k+2+32]=_[k+1+96]=_t(Y,ee,te),_[k+3+32]=_[k+2+96]=_t(ee,te,re),_[k+3+64]=_t(te,re,ne),_[k+3+96]=_t(re,ne,se)}function G1(_,k){var M=_[k-1+0],F=_[k-1+32],Y=_[k-1+64],ee=_[k-1+96];_[k+0+0]=M+F+1>>1,_[k+2+0]=_[k+0+32]=F+Y+1>>1,_[k+2+32]=_[k+0+64]=Y+ee+1>>1,_[k+1+0]=_t(M,F,Y),_[k+3+0]=_[k+1+32]=_t(F,Y,ee),_[k+3+32]=_[k+1+64]=_t(Y,ee,ee),_[k+3+64]=_[k+2+64]=_[k+0+96]=_[k+1+96]=_[k+2+96]=_[k+3+96]=ee}function Lu(_,k){var M=_[k-1+0],F=_[k-1+32],Y=_[k-1+64],ee=_[k-1+96],te=_[k-1-32],re=_[k+0-32],ne=_[k+1-32],se=_[k+2-32];_[k+0+0]=_[k+2+32]=M+te+1>>1,_[k+0+32]=_[k+2+64]=F+M+1>>1,_[k+0+64]=_[k+2+96]=Y+F+1>>1,_[k+0+96]=ee+Y+1>>1,_[k+3+0]=_t(re,ne,se),_[k+2+0]=_t(te,re,ne),_[k+1+0]=_[k+3+32]=_t(M,te,re),_[k+1+32]=_[k+3+64]=_t(F,M,te),_[k+1+64]=_[k+3+96]=_t(Y,F,M),_[k+1+96]=_t(ee,Y,F)}function Mf(_,k){var M;for(M=0;8>M;++M)n(_,k+32*M,_,k-32,8)}function sc(_,k){var M;for(M=0;8>M;++M)i(_,k,_[k-1],8),k+=32}function Iu(_,k,M){var F;for(F=0;8>F;++F)i(k,M+32*F,_,8)}function Ru(_,k){var M,F=8;for(M=0;8>M;++M)F+=_[k+M-32]+_[k-1+32*M];Iu(F>>4,_,k)}function Y1(_,k){var M,F=4;for(M=0;8>M;++M)F+=_[k+M-32];Iu(F>>3,_,k)}function Df(_,k){var M,F=4;for(M=0;8>M;++M)F+=_[k-1+32*M];Iu(F>>3,_,k)}function Bf(_,k){Iu(128,_,k)}function oc(_,k,M){var F=_[k-M],Y=_[k+0],ee=3*(Y-F)+X1[1020+_[k-2*M]-_[k+M]],te=Lm[112+(ee+4>>3)];_[k-M]=zi[255+F+Lm[112+(ee+3>>3)]],_[k+0]=zi[255+Y-te]}function lc(_,k,M,F){var Y=_[k+0],ee=_[k+M];return _a[255+_[k-2*M]-_[k-M]]>F||_a[255+ee-Y]>F}function Ff(_,k,M,F){return 4*_a[255+_[k-M]-_[k+0]]+_a[255+_[k-2*M]-_[k+M]]<=F}function Mu(_,k,M,F,Y){var ee=_[k-3*M],te=_[k-2*M],re=_[k-M],ne=_[k+0],se=_[k+M],me=_[k+2*M],Ne=_[k+3*M];return 4*_a[255+re-ne]+_a[255+te-se]>F?0:_a[255+_[k-4*M]-ee]<=Y&&_a[255+ee-te]<=Y&&_a[255+te-re]<=Y&&_a[255+Ne-me]<=Y&&_a[255+me-se]<=Y&&_a[255+se-ne]<=Y}function $f(_,k,M,F){var Y=2*F+1;for(F=0;16>F;++F)Ff(_,k+F,M,Y)&&oc(_,k+F,M)}function cc(_,k,M,F){var Y=2*F+1;for(F=0;16>F;++F)Ff(_,k+F*M,1,Y)&&oc(_,k+F*M,1)}function Nm(_,k,M,F){var Y;for(Y=3;0<Y;--Y)$f(_,k+=4*M,M,F)}function Sm(_,k,M,F){var Y;for(Y=3;0<Y;--Y)cc(_,k+=4,M,F)}function Gs(_,k,M,F,Y,ee,te,re){for(ee=2*ee+1;0<Y--;){if(Mu(_,k,M,ee,te))if(lc(_,k,M,re))oc(_,k,M);else{var ne=_,se=k,me=M,Ne=ne[se-2*me],oe=ne[se-me],ye=ne[se+0],_e=ne[se+me],Ae=ne[se+2*me],je=27*(Pe=X1[1020+3*(ye-oe)+X1[1020+Ne-_e]])+63>>7,Ee=18*Pe+63>>7,Pe=9*Pe+63>>7;ne[se-3*me]=zi[255+ne[se-3*me]+Pe],ne[se-2*me]=zi[255+Ne+Ee],ne[se-me]=zi[255+oe+je],ne[se+0]=zi[255+ye-je],ne[se+me]=zi[255+_e-Ee],ne[se+2*me]=zi[255+Ae-Pe]}k+=F}}function Ys(_,k,M,F,Y,ee,te,re){for(ee=2*ee+1;0<Y--;){if(Mu(_,k,M,ee,te))if(lc(_,k,M,re))oc(_,k,M);else{var ne=_,se=k,me=M,Ne=ne[se-me],oe=ne[se+0],ye=ne[se+me],_e=Lm[112+(4+(Ae=3*(oe-Ne))>>3)],Ae=Lm[112+(Ae+3>>3)],je=_e+1>>1;ne[se-2*me]=zi[255+ne[se-2*me]+je],ne[se-me]=zi[255+Ne+Ae],ne[se+0]=zi[255+oe-_e],ne[se+me]=zi[255+ye-je]}k+=F}}function km(_,k,M,F,Y,ee){Gs(_,k,M,1,16,F,Y,ee)}function Am(_,k,M,F,Y,ee){Gs(_,k,1,M,16,F,Y,ee)}function uc(_,k,M,F,Y,ee){var te;for(te=3;0<te;--te)Ys(_,k+=4*M,M,1,16,F,Y,ee)}function Em(_,k,M,F,Y,ee){var te;for(te=3;0<te;--te)Ys(_,k+=4,1,M,16,F,Y,ee)}function L(_,k,M,F,Y,ee,te,re){Gs(_,k,Y,1,8,ee,te,re),Gs(M,F,Y,1,8,ee,te,re)}function G(_,k,M,F,Y,ee,te,re){Gs(_,k,1,Y,8,ee,te,re),Gs(M,F,1,Y,8,ee,te,re)}function ce(_,k,M,F,Y,ee,te,re){Ys(_,k+4*Y,Y,1,8,ee,te,re),Ys(M,F+4*Y,Y,1,8,ee,te,re)}function ue(_,k,M,F,Y,ee,te,re){Ys(_,k+4,1,Y,8,ee,te,re),Ys(M,F+4,1,Y,8,ee,te,re)}function we(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function et(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new I}function st(){this.xb=this.a=0,this.l=new Tu,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new et,this.ab=0,this.gc=s(4,Le),this.Oc=0}function xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jt(_,k,M,F,Y,ee,te){for(_=_==null?0:_[k+0],k=0;k<te;++k)Y[ee+k]=_+M[F+k]&255,_=Y[ee+k]}function $t(_,k,M,F,Y,ee,te){var re;if(_==null)jt(null,null,M,F,Y,ee,te);else for(re=0;re<te;++re)Y[ee+re]=_[k+re]+M[F+re]&255}function Nr(_,k,M,F,Y,ee,te){if(_==null)jt(null,null,M,F,Y,ee,te);else{var re,ne=_[k+0],se=ne,me=ne;for(re=0;re<te;++re)se=me+(ne=_[k+re])-se,me=M[F+re]+(-256&se?0>se?0:255:se)&255,se=ne,Y[ee+re]=me}}function Zr(_,k,M,F){var Y=k.width,ee=k.o;if(t(_!=null&&k!=null),0>M||0>=F||M+F>ee)return null;if(!_.Cc){if(_.ga==null){var te;if(_.ga=new xt,(te=_.ga==null)||(te=k.width*k.o,t(_.Gb.length==0),_.Gb=a(te),_.Uc=0,_.Gb==null?te=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,te=1),te=!te),!te){te=_.ga;var re=_.Fa,ne=_.P,se=_.qc,me=_.mb,Ne=_.nb,oe=ne+1,ye=se-1,_e=te.l;if(t(re!=null&&me!=null&&k!=null),el[0]=null,el[1]=jt,el[2]=$t,el[3]=Nr,te.ca=me,te.tb=Ne,te.c=k.width,te.i=k.height,t(0<te.c&&0<te.i),1>=se)k=0;else if(te.$a=3&re[ne+0],te.Z=re[ne+0]>>2&3,te.Lc=re[ne+0]>>4&3,ne=re[ne+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ne)k=0;else if(_e.put=pt,_e.ac=gs,_e.bc=qs,_e.ma=te,_e.width=k.width,_e.height=k.height,_e.Da=k.Da,_e.v=k.v,_e.va=k.va,_e.j=k.j,_e.o=k.o,te.$a)e:{t(te.$a==1),k=ec();t:for(;;){if(k==null){k=0;break e}if(t(te!=null),te.mc=k,k.c=te.c,k.i=te.i,k.l=te.l,k.l.ma=te,k.l.width=te.c,k.l.height=te.i,k.a=0,W(k.m,re,oe,ye),!ys(te.c,te.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&za(k.s)?(te.ic=1,re=k.c*k.i,k.Ta=null,k.Ua=0,k.V=a(re),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(te.ic=0,k=tc(k,te.c)),!k))break t;k=1;break e}te.mc=null,k=0}else k=ye>=te.c*te.i;te=!k}if(te)return null;_.ga.Lc!=1?_.Ga=0:F=ee-M}t(_.ga!=null),t(M+F<=ee);e:{if(k=(re=_.ga).c,ee=re.l.o,re.$a==0){if(oe=_.rc,ye=_.Vc,_e=_.Fa,ne=_.P+1+M*k,se=_.mb,me=_.nb+M*k,t(ne<=_.P+_.qc),re.Z!=0)for(t(el[re.Z]!=null),te=0;te<F;++te)el[re.Z](oe,ye,_e,ne,se,me,k),oe=se,ye=me,me+=k,ne+=k;else for(te=0;te<F;++te)n(se,me,_e,ne,k),oe=se,ye=me,me+=k,ne+=k;_.rc=oe,_.Vc=ye}else{if(t(re.mc!=null),k=M+F,t((te=re.mc)!=null),t(k<=te.i),te.C>=k)k=1;else if(re.ic||ba(),re.ic){re=te.V,oe=te.Ba,ye=te.c;var Ae=te.i,je=(_e=1,ne=te.$/ye,se=te.$%ye,me=te.m,Ne=te.s,te.$),Ee=ye*Ae,Pe=ye*k,Re=Ne.wc,Te=je<Pe?Mn(Ne,se,ne):null;t(je<=Ee),t(k<=Ae),t(za(Ne));t:for(;;){for(;!me.h&&je<Pe;){if(se&Re||(Te=Mn(Ne,se,ne)),t(Te!=null),Q(me),256>(Ae=Cr(Te.G[0],Te.H[0],me)))re[oe+je]=Ae,++je,++se>=ye&&(se=0,++ne<=k&&!(ne%16)&&qa(te,ne));else{if(!(280>Ae)){_e=0;break t}Ae=ma(Ae-256,me);var ot,Je=Cr(Te.G[4],Te.H[4],me);if(Q(me),!(je>=(Je=ga(ye,Je=ma(Je,me)))&&Ee-je>=Ae)){_e=0;break t}for(ot=0;ot<Ae;++ot)re[oe+je+ot]=re[oe+je+ot-Je];for(je+=Ae,se+=Ae;se>=ye;)se-=ye,++ne<=k&&!(ne%16)&&qa(te,ne);je<Pe&&se&Re&&(Te=Mn(Ne,se,ne))}t(me.h==K(me))}qa(te,ne>k?k:ne);break t}!_e||me.h&&je<Ee?(_e=0,te.a=me.h?5:3):te.$=je,k=_e}else k=Wa(te,te.V,te.Ba,te.c,te.i,k,Ou);if(!k){F=0;break e}}M+F>=ee&&(_.Cc=1),F=1}if(!F)return null;if(_.Cc&&((F=_.ga)!=null&&(F.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+M*Y}function rr(_,k,M,F,Y,ee){for(;0<Y--;){var te,re=_,ne=k+(M?1:0),se=_,me=k+(M?0:3);for(te=0;te<F;++te){var Ne=se[me+4*te];Ne!=255&&(Ne*=32897,re[ne+4*te+0]=re[ne+4*te+0]*Ne>>23,re[ne+4*te+1]=re[ne+4*te+1]*Ne>>23,re[ne+4*te+2]=re[ne+4*te+2]*Ne>>23)}k+=ee}}function dn(_,k,M,F,Y){for(;0<F--;){var ee;for(ee=0;ee<M;++ee){var te=_[k+2*ee+0],re=15&(se=_[k+2*ee+1]),ne=4369*re,se=(240&se|se>>4)*ne>>16;_[k+2*ee+0]=(240&te|te>>4)*ne>>16&240|(15&te|te<<4)*ne>>16>>4&15,_[k+2*ee+1]=240&se|re}k+=Y}}function Qr(_,k,M,F,Y,ee,te,re){var ne,se,me=255;for(se=0;se<Y;++se){for(ne=0;ne<F;++ne){var Ne=_[k+ne];ee[te+4*ne]=Ne,me&=Ne}k+=M,te+=re}return me!=255}function Dn(_,k,M,F,Y){var ee;for(ee=0;ee<Y;++ee)M[F+ee]=_[k+ee]>>8}function ba(){Jf=rr,fS=dn,hS=Qr,pS=Dn}function Si(_,k,M){P[_]=function(F,Y,ee,te,re,ne,se,me,Ne,oe,ye,_e,Ae,je,Ee,Pe,Re){var Te,ot=Re-1>>1,Je=re[ne+0]|se[me+0]<<16,At=Ne[oe+0]|ye[_e+0]<<16;t(F!=null);var nt=3*Je+At+131074>>2;for(k(F[Y+0],255&nt,nt>>16,Ae,je),ee!=null&&(nt=3*At+Je+131074>>2,k(ee[te+0],255&nt,nt>>16,Ee,Pe)),Te=1;Te<=ot;++Te){var Tt=re[ne+Te]|se[me+Te]<<16,hn=Ne[oe+Te]|ye[_e+Te]<<16,Et=Je+Tt+At+hn+524296,it=Et+2*(Tt+At)>>3;nt=it+Je>>1,Je=(Et=Et+2*(Je+hn)>>3)+Tt>>1,k(F[Y+2*Te-1],255&nt,nt>>16,Ae,je+(2*Te-1)*M),k(F[Y+2*Te-0],255&Je,Je>>16,Ae,je+(2*Te-0)*M),ee!=null&&(nt=Et+At>>1,Je=it+hn>>1,k(ee[te+2*Te-1],255&nt,nt>>16,Ee,Pe+(2*Te-1)*M),k(ee[te+2*Te+0],255&Je,Je>>16,Ee,Pe+(2*Te+0)*M)),Je=Tt,At=hn}1&Re||(nt=3*Je+At+131074>>2,k(F[Y+Re-1],255&nt,nt>>16,Ae,je+(Re-1)*M),ee!=null&&(nt=3*At+Je+131074>>2,k(ee[te+Re-1],255&nt,nt>>16,Ee,Pe+(Re-1)*M)))}}function Om(){ja[Im]=R9,ja[Rm]=SS,ja[xS]=M9,ja[Mm]=kS,ja[Dm]=AS,ja[J1]=ES,ja[wS]=D9,ja[Z1]=SS,ja[Q1]=kS,ja[Bm]=AS,ja[eb]=ES}function Du(_){return _&-16384?0>_?0:255:_>>B9}function dc(_,k){return Du((19077*_>>8)+(26149*k>>8)-14234)}function Ho(_,k,M){return Du((19077*_>>8)-(6419*k>>8)-(13320*M>>8)+8708)}function fc(_,k){return Du((19077*_>>8)+(33050*k>>8)-17685)}function hc(_,k,M,F,Y){F[Y+0]=dc(_,M),F[Y+1]=Ho(_,k,M),F[Y+2]=fc(_,k)}function pc(_,k,M,F,Y){F[Y+0]=fc(_,k),F[Y+1]=Ho(_,k,M),F[Y+2]=dc(_,M)}function Vn(_,k,M,F,Y){var ee=Ho(_,k,M);k=ee<<3&224|fc(_,k)>>3,F[Y+0]=248&dc(_,M)|ee>>5,F[Y+1]=k}function mc(_,k,M,F,Y){var ee=240&fc(_,k)|15;F[Y+0]=240&dc(_,M)|Ho(_,k,M)>>4,F[Y+1]=ee}function gc(_,k,M,F,Y){F[Y+0]=255,hc(_,k,M,F,Y+1)}function Uf(_,k,M,F,Y){pc(_,k,M,F,Y),F[Y+3]=255}function zf(_,k,M,F,Y){hc(_,k,M,F,Y),F[Y+3]=255}function Tr(_,k){return 0>_?0:_>k?k:_}function Xs(_,k,M){P[_]=function(F,Y,ee,te,re,ne,se,me,Ne){for(var oe=me+(-2&Ne)*M;me!=oe;)k(F[Y+0],ee[te+0],re[ne+0],se,me),k(F[Y+1],ee[te+0],re[ne+0],se,me+M),Y+=2,++te,++ne,me+=2*M;1&Ne&&k(F[Y+0],ee[te+0],re[ne+0],se,me)}}function Bu(_,k,M){return M==0?_==0?k==0?6:5:k==0?4:0:M}function Pm(_,k,M,F,Y){switch(_>>>30){case 3:xc(k,M,F,Y,0);break;case 2:wa(k,M,F,Y);break;case 1:Wt(k,M,F,Y)}}function xa(_,k){var M,F,Y=k.M,ee=k.Nb,te=_.oc,re=_.pc+40,ne=_.oc,se=_.pc+584,me=_.oc,Ne=_.pc+600;for(M=0;16>M;++M)te[re+32*M-1]=129;for(M=0;8>M;++M)ne[se+32*M-1]=129,me[Ne+32*M-1]=129;for(0<Y?te[re-1-32]=ne[se-1-32]=me[Ne-1-32]=129:(i(te,re-32-1,127,21),i(ne,se-32-1,127,9),i(me,Ne-32-1,127,9)),F=0;F<_.za;++F){var oe=k.ya[k.aa+F];if(0<F){for(M=-1;16>M;++M)n(te,re+32*M-4,te,re+32*M+12,4);for(M=-1;8>M;++M)n(ne,se+32*M-4,ne,se+32*M+4,4),n(me,Ne+32*M-4,me,Ne+32*M+4,4)}var ye=_.Gd,_e=_.Hd+F,Ae=oe.ad,je=oe.Hc;if(0<Y&&(n(te,re-32,ye[_e].y,0,16),n(ne,se-32,ye[_e].f,0,8),n(me,Ne-32,ye[_e].ea,0,8)),oe.Za){var Ee=te,Pe=re-32+16;for(0<Y&&(F>=_.za-1?i(Ee,Pe,ye[_e].y[15],4):n(Ee,Pe,ye[_e+1].y,0,4)),M=0;4>M;M++)Ee[Pe+128+M]=Ee[Pe+256+M]=Ee[Pe+384+M]=Ee[Pe+0+M];for(M=0;16>M;++M,je<<=2)Ee=te,Pe=re+PS[M],Ka[oe.Ob[M]](Ee,Pe),Pm(je,Ae,16*+M,Ee,Pe)}else if(Ee=Bu(F,Y,oe.Ob[0]),Qo[Ee](te,re),je!=0)for(M=0;16>M;++M,je<<=2)Pm(je,Ae,16*+M,te,re+PS[M]);for(M=oe.Gc,Ee=Bu(F,Y,oe.Dd),Qs[Ee](ne,se),Qs[Ee](me,Ne),je=Ae,Ee=ne,Pe=se,255&(oe=0|M)&&(170&oe?_s(je,256,Ee,Pe):Jt(je,256,Ee,Pe)),oe=me,je=Ne,255&(M>>=8)&&(170&M?_s(Ae,320,oe,je):Jt(Ae,320,oe,je)),Y<_.Ub-1&&(n(ye[_e].y,0,te,re+480,16),n(ye[_e].f,0,ne,se+224,8),n(ye[_e].ea,0,me,Ne+224,8)),M=8*ee*_.B,ye=_.sa,_e=_.ta+16*F+16*ee*_.R,Ae=_.qa,oe=_.ra+8*F+M,je=_.Ha,Ee=_.Ia+8*F+M,M=0;16>M;++M)n(ye,_e+M*_.R,te,re+32*M,16);for(M=0;8>M;++M)n(Ae,oe+M*_.B,ne,se+32*M,8),n(je,Ee+M*_.B,me,Ne+32*M,8)}}function vc(_,k,M,F,Y,ee,te,re,ne){var se=[0],me=[0],Ne=0,oe=ne!=null?ne.kd:0,ye=ne??new Oe;if(_==null||12>M)return 7;ye.data=_,ye.w=k,ye.ha=M,k=[k],M=[M],ye.gb=[ye.gb];e:{var _e=k,Ae=M,je=ye.gb;if(t(_!=null),t(Ae!=null),t(je!=null),je[0]=0,12<=Ae[0]&&!r(_,_e[0],"RIFF")){if(r(_,_e[0]+8,"WEBP")){je=3;break e}var Ee=ve(_,_e[0]+4);if(12>Ee||4294967286<Ee){je=3;break e}if(oe&&Ee>Ae[0]-8){je=7;break e}je[0]=Ee,_e[0]+=12,Ae[0]-=12}je=0}if(je!=0)return je;for(Ee=0<ye.gb[0],M=M[0];;){e:{var Pe=_;Ae=k,je=M;var Re=se,Te=me,ot=_e=[0];if((nt=Ne=[Ne])[0]=0,8>je[0])je=7;else{if(!r(Pe,Ae[0],"VP8X")){if(ve(Pe,Ae[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var Je=ve(Pe,Ae[0]+8),At=1+ke(Pe,Ae[0]+12);if(2147483648<=At*(Pe=1+ke(Pe,Ae[0]+15))){je=3;break e}ot!=null&&(ot[0]=Je),Re!=null&&(Re[0]=At),Te!=null&&(Te[0]=Pe),Ae[0]+=18,je[0]-=18,nt[0]=1}je=0}}if(Ne=Ne[0],_e=_e[0],je!=0)return je;if(Ae=!!(2&_e),!Ee&&Ne)return 3;if(ee!=null&&(ee[0]=!!(16&_e)),te!=null&&(te[0]=Ae),re!=null&&(re[0]=0),te=se[0],_e=me[0],Ne&&Ae&&ne==null){je=0;break}if(4>M){je=7;break}if(Ee&&Ne||!Ee&&!Ne&&!r(_,k[0],"ALPH")){M=[M],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Je=_,je=k,Ee=M;var nt=ye.gb;Re=ye.na,Te=ye.P,ot=ye.Sa,At=22,t(Je!=null),t(Ee!=null),Pe=je[0];var Tt=Ee[0];for(t(Re!=null),t(ot!=null),Re[0]=null,Te[0]=null,ot[0]=0;;){if(je[0]=Pe,Ee[0]=Tt,8>Tt){je=7;break e}var hn=ve(Je,Pe+4);if(4294967286<hn){je=3;break e}var Et=8+hn+1&-2;if(At+=Et,0<nt&&At>nt){je=3;break e}if(!r(Je,Pe,"VP8 ")||!r(Je,Pe,"VP8L")){je=0;break e}if(Tt[0]<Et){je=7;break e}r(Je,Pe,"ALPH")||(Re[0]=Je,Te[0]=Pe+8,ot[0]=hn),Pe+=Et,Tt-=Et}}if(M=M[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],je!=0)break}M=[M],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(nt=_,je=k,Ee=M,Re=ye.gb[0],Te=ye.Ja,ot=ye.xa,Je=je[0],Pe=!r(nt,Je,"VP8 "),At=!r(nt,Je,"VP8L"),t(nt!=null),t(Ee!=null),t(Te!=null),t(ot!=null),8>Ee[0])je=7;else{if(Pe||At){if(nt=ve(nt,Je+4),12<=Re&&nt>Re-12){je=3;break e}if(oe&&nt>Ee[0]-8){je=7;break e}Te[0]=nt,je[0]+=8,Ee[0]-=8,ot[0]=At}else ot[0]=5<=Ee[0]&&nt[Je+0]==47&&!(nt[Je+4]>>5),Te[0]=Ee[0];je=0}if(M=M[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],k=k[0],je!=0)break;if(4294967286<ye.Ja)return 3;if(re==null||Ae||(re[0]=ye.xa?2:1),te=[te],_e=[_e],ye.xa){if(5>M){je=7;break}re=te,oe=_e,Ae=ee,_==null||5>M?_=0:5<=M&&_[k+0]==47&&!(_[k+4]>>5)?(Ee=[0],nt=[0],Re=[0],W(Te=new B,_,k,M),Ws(Te,Ee,nt,Re)?(re!=null&&(re[0]=Ee[0]),oe!=null&&(oe[0]=nt[0]),Ae!=null&&(Ae[0]=Re[0]),_=1):_=0):_=0}else{if(10>M){je=7;break}re=_e,_==null||10>M||!xm(_,k+3,M-3)?_=0:(oe=_[k+0]|_[k+1]<<8|_[k+2]<<16,Ae=16383&(_[k+7]<<8|_[k+6]),_=16383&(_[k+9]<<8|_[k+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ye.Ja||!Ae||!_?_=0:(te&&(te[0]=Ae),re&&(re[0]=_),_=1))}if(!_||(te=te[0],_e=_e[0],Ne&&(se[0]!=te||me[0]!=_e)))return 3;ne!=null&&(ne[0]=ye,ne.offset=k-ne.w,t(4294967286>k-ne.w),t(ne.offset==ne.ha-M));break}return je==0||je==7&&Ne&&ne==null?(ee!=null&&(ee[0]|=ye.na!=null&&0<ye.na.length),F!=null&&(F[0]=te),Y!=null&&(Y[0]=_e),0):je}function qf(_,k,M){var F=k.width,Y=k.height,ee=0,te=0,re=F,ne=Y;if(k.Da=_!=null&&0<_.Da,k.Da&&(re=_.cd,ne=_.bd,ee=_.v,te=_.j,11>M||(ee&=-2,te&=-2),0>ee||0>te||0>=re||0>=ne||ee+re>F||te+ne>Y))return 0;if(k.v=ee,k.j=te,k.va=ee+re,k.o=te+ne,k.U=re,k.T=ne,k.da=_!=null&&0<_.da,k.da){if(!xe(re,ne,M=[_.ib],ee=[_.hb]))return 0;k.ib=M[0],k.hb=ee[0]}return k.ob=_!=null&&_.ob,k.Kb=_==null||!_.Sd,k.da&&(k.ob=k.ib<3*F/4&&k.hb<3*Y/4,k.Kb=0),1}function Wf(_){if(_==null)return 2;if(11>_.S){var k=_.f.RGBA;k.fb+=(_.height-1)*k.A,k.A=-k.A}else k=_.f.kb,_=_.height,k.O+=(_-1)*k.fa,k.fa=-k.fa,k.N+=(_-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(_-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(_-1)*k.lb,k.lb=-k.lb);return 0}function Ko(_,k,M,F){if(F==null||0>=_||0>=k)return 2;if(M!=null){if(M.Da){var Y=M.cd,ee=M.bd,te=-2&M.v,re=-2&M.j;if(0>te||0>re||0>=Y||0>=ee||te+Y>_||re+ee>k)return 2;_=Y,k=ee}if(M.da){if(!xe(_,k,Y=[M.ib],ee=[M.hb]))return 2;_=Y[0],k=ee[0]}}F.width=_,F.height=k;e:{var ne=F.width,se=F.height;if(_=F.S,0>=ne||0>=se||!(_>=Im&&13>_))_=2;else{if(0>=F.Rd&&F.sd==null){te=ee=Y=k=0;var me=(re=ne*CS[_])*se;if(11>_||(ee=(se+1)/2*(k=(ne+1)/2),_==12&&(te=(Y=ne)*se)),(se=a(me+2*ee+te))==null){_=1;break e}F.sd=se,11>_?((ne=F.f.RGBA).eb=se,ne.fb=0,ne.A=re,ne.size=me):((ne=F.f.kb).y=se,ne.O=0,ne.fa=re,ne.Fd=me,ne.f=se,ne.N=0+me,ne.Ab=k,ne.Cd=ee,ne.ea=se,ne.W=0+me+ee,ne.Db=k,ne.Ed=ee,_==12&&(ne.F=se,ne.J=0+me+2*ee),ne.Tc=te,ne.lb=Y)}if(k=1,Y=F.S,ee=F.width,te=F.height,Y>=Im&&13>Y)if(11>Y)_=F.f.RGBA,k&=(re=Math.abs(_.A))*(te-1)+ee<=_.size,k&=re>=ee*CS[Y],k&=_.eb!=null;else{_=F.f.kb,re=(ee+1)/2,me=(te+1)/2,ne=Math.abs(_.fa),se=Math.abs(_.Ab);var Ne=Math.abs(_.Db),oe=Math.abs(_.lb),ye=oe*(te-1)+ee;k&=ne*(te-1)+ee<=_.Fd,k&=se*(me-1)+re<=_.Cd,k=(k&=Ne*(me-1)+re<=_.Ed)&ne>=ee&se>=re&Ne>=re,k&=_.y!=null,k&=_.f!=null,k&=_.ea!=null,Y==12&&(k&=oe>=ee,k&=ye<=_.Tc,k&=_.F!=null)}else k=0;_=k?0:2}}return _!=0||M!=null&&M.fd&&(_=Wf(F)),_}var yc=64,$i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ui=24,Vo=32,Js=8,Go=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(_){return _},P.Predictor2=function(_,k,M){return k[M+0]},P.Predictor3=function(_,k,M){return k[M+1]},P.Predictor4=function(_,k,M){return k[M-1]},P.Predictor5=function(_,k,M){return Ce(Ce(_,k[M+1]),k[M+0])},P.Predictor6=function(_,k,M){return Ce(_,k[M-1])},P.Predictor7=function(_,k,M){return Ce(_,k[M+0])},P.Predictor8=function(_,k,M){return Ce(k[M-1],k[M+0])},P.Predictor9=function(_,k,M){return Ce(k[M+0],k[M+1])},P.Predictor10=function(_,k,M){return Ce(Ce(_,k[M-1]),Ce(k[M+0],k[M+1]))},P.Predictor11=function(_,k,M){var F=k[M+0];return 0>=He(F>>24&255,_>>24&255,(k=k[M-1])>>24&255)+He(F>>16&255,_>>16&255,k>>16&255)+He(F>>8&255,_>>8&255,k>>8&255)+He(255&F,255&_,255&k)?F:_},P.Predictor12=function(_,k,M){var F=k[M+0];return(De((_>>24&255)+(F>>24&255)-((k=k[M-1])>>24&255))<<24|De((_>>16&255)+(F>>16&255)-(k>>16&255))<<16|De((_>>8&255)+(F>>8&255)-(k>>8&255))<<8|De((255&_)+(255&F)-(255&k)))>>>0},P.Predictor13=function(_,k,M){var F=k[M-1];return(Ie((_=Ce(_,k[M+0]))>>24&255,F>>24&255)<<24|Ie(_>>16&255,F>>16&255)<<16|Ie(_>>8&255,F>>8&255)<<8|Ie(255&_,255&F))>>>0};var Hf=P.PredictorAdd0;P.PredictorAdd1=Ze,pe("Predictor2","PredictorAdd2"),pe("Predictor3","PredictorAdd3"),pe("Predictor4","PredictorAdd4"),pe("Predictor5","PredictorAdd5"),pe("Predictor6","PredictorAdd6"),pe("Predictor7","PredictorAdd7"),pe("Predictor8","PredictorAdd8"),pe("Predictor9","PredictorAdd9"),pe("Predictor10","PredictorAdd10"),pe("Predictor11","PredictorAdd11"),pe("Predictor12","PredictorAdd12"),pe("Predictor13","PredictorAdd13");var Fu=P.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Fr,Cm=P.ColorIndexInverseTransform,xs=P.MapARGB,ws=P.VP8LColorIndexInverseTransformAlpha,Kf=P.MapAlpha,Vf=P.VP8LPredictorsAdd=[];Vf.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Gf,Yf,Yo,Xo,Jo,bc,Zo,xc,wa,_s,Wt,Jt,$r,fn,Zs,Xf,$u,Tm,sS,oS,lS,cS,uS,dS,Jf,fS,hS,pS,mS=a(511),gS=a(2041),vS=a(225),yS=a(767),bS=0,X1=gS,Lm=vS,zi=yS,_a=mS,Im=0,Rm=1,xS=2,Mm=3,Dm=4,J1=5,wS=6,Z1=7,Q1=8,Bm=9,eb=10,w9=[2,3,7],_9=[3,3,11],_S=[280,256,256,256,40],j9=[0,1,1,1,0],N9=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],S9=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],k9=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],A9=8,tb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zf=null,E9=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],O9=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],P9=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],C9=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],T9=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],L9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qo=[],Ka=[],Qs=[],I9=1,NS=2,el=[],ja=[];Si("UpsampleRgbLinePair",hc,3),Si("UpsampleBgrLinePair",pc,3),Si("UpsampleRgbaLinePair",zf,4),Si("UpsampleBgraLinePair",Uf,4),Si("UpsampleArgbLinePair",gc,4),Si("UpsampleRgba4444LinePair",mc,2),Si("UpsampleRgb565LinePair",Vn,2);var R9=P.UpsampleRgbLinePair,M9=P.UpsampleBgrLinePair,SS=P.UpsampleRgbaLinePair,kS=P.UpsampleBgraLinePair,AS=P.UpsampleArgbLinePair,ES=P.UpsampleRgba4444LinePair,D9=P.UpsampleRgb565LinePair,Fm=16,$m=1<<Fm-1,Qf=-227,nb=482,B9=6,OS=0,F9=a(256),$9=a(256),U9=a(256),z9=a(256),q9=a(nb-Qf),W9=a(nb-Qf);Xs("YuvToRgbRow",hc,3),Xs("YuvToBgrRow",pc,3),Xs("YuvToRgbaRow",zf,4),Xs("YuvToBgraRow",Uf,4),Xs("YuvToArgbRow",gc,4),Xs("YuvToRgba4444Row",mc,2),Xs("YuvToRgb565Row",Vn,2);var PS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Um=[0,2,8],H9=[8,7,6,4,4,2,2,2,1,1,1,1],K9=1;this.WebPDecodeRGBA=function(_,k,M,F,Y){var ee=Rm,te=new we,re=new Xt;te.ba=re,re.S=ee,re.width=[re.width],re.height=[re.height];var ne=re.width,se=re.height,me=new wt;if(me==null||_==null)var Ne=2;else t(me!=null),Ne=vc(_,k,M,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ne!=0?ne=0:(ne!=null&&(ne[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),ne=1),ne){re.width=re.width[0],re.height=re.height[0],F!=null&&(F[0]=re.width),Y!=null&&(Y[0]=re.height);e:{if(F=new Tu,(Y=new Oe).data=_,Y.w=k,Y.ha=M,Y.kd=1,k=[0],t(Y!=null),((_=vc(Y.data,Y.w,Y.ha,null,null,null,k,null,Y))==0||_==7)&&k[0]&&(_=4),(k=_)==0){if(t(te!=null),F.data=Y.data,F.w=Y.w+Y.offset,F.ha=Y.ha-Y.offset,F.put=pt,F.ac=gs,F.bc=qs,F.ma=te,Y.xa){if((_=ec())==null){te=1;break e}if(function(oe,ye){var _e=[0],Ae=[0],je=[0];t:for(;;){if(oe==null)return 0;if(ye==null)return oe.a=2,0;if(oe.l=ye,oe.a=0,W(oe.m,ye.data,ye.w,ye.ha),!Ws(oe.m,_e,Ae,je)){oe.a=3;break t}if(oe.xb=NS,ye.width=_e[0],ye.height=Ae[0],!ys(_e[0],Ae[0],1,oe,null))break t;return 1}return t(oe.a!=0),0}(_,F)){if(F=(k=Ko(F.width,F.height,te.Oa,te.ba))==0){t:{F=_;r:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((M=F.l)!=null),t((Y=M.ma)!=null),F.xb!=0){if(F.ca=Y.ba,F.tb=Y.tb,t(F.ca!=null),!qf(Y.Oa,M,Mm)){F.a=2;break r}if(!tc(F,M.width)||M.da)break r;if((M.da||bt(F.ca.S))&&ba(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&ba()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!ie(F.s.vb,F.s.Wa.Xa)){F.a=1;break r}F.xb=0}if(!Wa(F,F.V,F.Ba,F.c,F.i,M.o,zo))break r;Y.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(k=_.a)}else k=_.a}else{if((_=new R1)==null){te=1;break e}if(_.Fa=Y.na,_.P=Y.P,_.qc=Y.Sa,wm(_,F)){if((k=Ko(F.width,F.height,te.Oa,te.ba))==0){if(_.Aa=0,M=te.Oa,t((Y=_)!=null),M!=null){if(0<(ne=0>(ne=M.Md)?0:100<ne?255:255*ne/100)){for(se=me=0;4>se;++se)12>(Ne=Y.pb[se]).lc&&(Ne.ia=ne*H9[0>Ne.lc?0:Ne.lc]>>3),me|=Ne.ia;me&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=M.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(oe,ye){if(oe==null)return 0;if(ye==null)return Jr(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!wm(oe,ye))return 0;if(t(oe.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(oe.L=0);var _e=Um[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ye.v-_e>>4,oe.zb=ye.j-_e>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ye.o+15+_e>>4,oe.Hb=ye.va+15+_e>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Ae=oe.ed;for(_e=0;4>_e;++_e){var je;if(oe.Qa.Cb){var Ee=oe.Qa.Lb[_e];oe.Qa.Fb||(Ee+=Ae.Tb)}else Ee=Ae.Tb;for(je=0;1>=je;++je){var Pe=oe.gd[_e][je],Re=Ee;if(Ae.Pc&&(Re+=Ae.vd[0],je&&(Re+=Ae.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Te=Re;0<Ae.wb&&(Te=4<Ae.wb?Te>>2:Te>>1)>9-Ae.wb&&(Te=9-Ae.wb),1>Te&&(Te=1),Pe.dd=Te,Pe.tc=2*Re+Te,Pe.ld=40<=Re?2:15<=Re?1:0}else Pe.tc=0;Pe.La=je}}}_e=0}else Jr(oe,6,"Frame setup failed"),_e=oe.a;if(_e=_e==0){if(_e){oe.$c=0,0<oe.Aa||(oe.Ic=K9);t:{_e=oe.Ic,Ae=4*(Te=oe.za);var ot=32*Te,Je=Te+1,At=0<oe.L?Te*(0<oe.Aa?2:1):0,nt=(oe.Aa==2?2:1)*Te;if((Pe=Ae+832+(je=3*(16*_e+Um[oe.L])/2*ot)+(Ee=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Pe)_e=0;else{if(Pe>oe.Vb){if(oe.Vb=0,oe.Ec=a(Pe),oe.Fc=0,oe.Ec==null){_e=Jr(oe,1,"no memory during frame initialization.");break t}oe.Vb=Pe}Pe=oe.Ec,Re=oe.Fc,oe.Ac=Pe,oe.Bc=Re,Re+=Ae,oe.Gd=s(ot,ym),oe.Hd=0,oe.rb=s(Je+1,Pf),oe.sb=1,oe.wa=At?s(At,ya):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Te),t(!0),oe.oc=Pe,oe.pc=Re,Re+=832,oe.ya=s(nt,Cf),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Te),oe.R=16*Te,oe.B=8*Te,Te=(ot=Um[oe.L])*oe.R,ot=ot/2*oe.B,oe.sa=Pe,oe.ta=Re+Te,oe.qa=oe.sa,oe.ra=oe.ta+16*_e*oe.R+ot,oe.Ha=oe.qa,oe.Ia=oe.ra+8*_e*oe.B+ot,oe.$c=0,Re+=je,oe.mb=Ee?Pe:null,oe.nb=Ee?Re:null,t(Re+Ee<=oe.Fc+oe.Vb),rc(oe),i(oe.Ac,oe.Bc,0,Ae),_e=1}}if(_e){if(ye.ka=0,ye.y=oe.sa,ye.O=oe.ta,ye.f=oe.qa,ye.N=oe.ra,ye.ea=oe.Ha,ye.Vd=oe.Ia,ye.fa=oe.R,ye.Rc=oe.B,ye.F=null,ye.J=0,!bS){for(_e=-255;255>=_e;++_e)mS[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)gS[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)vS[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)yS[255+_e]=0>_e?0:255<_e?255:_e;bS=1}Zo=jm,xc=D1,_s=B1,Wt=bs,Jt=_m,wa=M1,$r=km,fn=Am,Zs=L,Xf=G,$u=uc,Tm=Em,sS=ce,oS=ue,lS=$f,cS=cc,uS=Nm,dS=Sm,Ka[0]=H1,Ka[1]=Lf,Ka[2]=q1,Ka[3]=W1,Ka[4]=K1,Ka[5]=Vs,Ka[6]=Ks,Ka[7]=V1,Ka[8]=Lu,Ka[9]=G1,Qo[0]=Wo,Qo[1]=$1,Qo[2]=U1,Qo[3]=If,Qo[4]=z1,Qo[5]=ac,Qo[6]=Rf,Qs[0]=Ru,Qs[1]=F1,Qs[2]=Mf,Qs[3]=sc,Qs[4]=Df,Qs[5]=Y1,Qs[6]=Bf,_e=1}else _e=0}_e&&(_e=function(Tt,hn){for(Tt.M=0;Tt.M<Tt.Va;++Tt.M){var Et,it=Tt.Jc[Tt.M&Tt.Xb],Ue=Tt.m,Ur=Tt;for(Et=0;Et<Ur.za;++Et){var kt=Ue,It=Ur,cr=It.Ac,Bn=It.Bc+4*Et,ci=It.zc,Lr=It.ya[It.aa+Et];if(It.Qa.Bb?Lr.$b=le(kt,It.Pa.jb[0])?2+le(kt,It.Pa.jb[2]):le(kt,It.Pa.jb[1]):Lr.$b=0,It.kc&&(Lr.Ad=le(kt,It.Bd)),Lr.Za=!le(kt,145)+0,Lr.Za){var Gn=Lr.Ob,ui=0;for(It=0;4>It;++It){var pn,Dt=ci[0+It];for(pn=0;4>pn;++pn){Dt=C9[cr[Bn+pn]][Dt];for(var Ht=jS[le(kt,Dt[0])];0<Ht;)Ht=jS[2*Ht+le(kt,Dt[Ht])];Dt=-Ht,cr[Bn+pn]=Dt}n(Gn,ui,cr,Bn,4),ui+=4,ci[0+It]=Dt}}else Dt=le(kt,156)?le(kt,128)?1:3:le(kt,163)?2:0,Lr.Ob[0]=Dt,i(cr,Bn,Dt,4),i(ci,0,Dt,4);Lr.Dd=le(kt,142)?le(kt,114)?le(kt,183)?1:3:2:0}if(Ur.m.Ka)return Jr(Tt,7,"Premature end-of-partition0 encountered.");for(;Tt.ja<Tt.za;++Tt.ja){if(Ur=it,kt=(Ue=Tt).rb[Ue.sb-1],cr=Ue.rb[Ue.sb+Ue.ja],Et=Ue.ya[Ue.aa+Ue.ja],Bn=Ue.kc?Et.Ad:0)kt.la=cr.la=0,Et.Za||(kt.Na=cr.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var Ir,Kt;if(kt=cr,cr=Ur,Bn=Ue.Pa.Xc,ci=Ue.ya[Ue.aa+Ue.ja],Lr=Ue.pb[ci.$b],It=ci.ad,Gn=0,ui=Ue.rb[Ue.sb-1],Dt=pn=0,i(It,Gn,0,384),ci.Za)var Fn=0,Va=Bn[3];else{Ht=a(16);var zr=kt.Na+ui.Na;if(zr=Zf(cr,Bn[1],zr,Lr.Eb,0,Ht,0),kt.Na=ui.Na=(0<zr)+0,1<zr)Zo(Ht,0,It,Gn);else{var ki=Ht[0]+3>>3;for(Ht=0;256>Ht;Ht+=16)It[Gn+Ht]=ki}Fn=1,Va=Bn[0]}var Zt=15&kt.la,mn=15&ui.la;for(Ht=0;4>Ht;++Ht){var qi=1&mn;for(ki=Kt=0;4>ki;++ki)Zt=Zt>>1|(qi=(zr=Zf(cr,Va,zr=qi+(1&Zt),Lr.Sc,Fn,It,Gn))>Fn)<<7,Kt=Kt<<2|(3<zr?3:1<zr?2:It[Gn+0]!=0),Gn+=16;Zt>>=4,mn=mn>>1|qi<<7,pn=(pn<<8|Kt)>>>0}for(Va=Zt,Fn=mn>>4,Ir=0;4>Ir;Ir+=2){for(Kt=0,Zt=kt.la>>4+Ir,mn=ui.la>>4+Ir,Ht=0;2>Ht;++Ht){for(qi=1&mn,ki=0;2>ki;++ki)zr=qi+(1&Zt),Zt=Zt>>1|(qi=0<(zr=Zf(cr,Bn[2],zr,Lr.Qc,0,It,Gn)))<<3,Kt=Kt<<2|(3<zr?3:1<zr?2:It[Gn+0]!=0),Gn+=16;Zt>>=2,mn=mn>>1|qi<<5}Dt|=Kt<<4*Ir,Va|=Zt<<4<<Ir,Fn|=(240&mn)<<Ir}kt.la=Va,ui.la=Fn,ci.Hc=pn,ci.Gc=Dt,ci.ia=43690&Dt?0:Lr.ia,Bn=!(pn|Dt)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Et.$b][Et.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Bn),Ur.Ka)return Jr(Tt,7,"Premature end-of-file encountered.")}if(rc(Tt),Ue=hn,Ur=1,Et=(it=Tt).D,kt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Et.M=it.M,Et.uc=kt,xa(it,Et),Ur=1,Et=(Kt=it.D).Nb,kt=(Dt=Um[it.L])*it.R,cr=Dt/2*it.B,Ht=16*Et*it.R,ki=8*Et*it.B,Bn=it.sa,ci=it.ta-kt+Ht,Lr=it.qa,It=it.ra-cr+ki,Gn=it.Ha,ui=it.Ia-cr+ki,mn=(Zt=Kt.M)==0,pn=Zt>=it.Va-1,it.Aa==2&&xa(it,Kt),Kt.uc)for(qi=(zr=it).D.M,t(zr.D.uc),Kt=zr.yb;Kt<zr.Hb;++Kt){Fn=Kt,Va=qi;var di=(Wi=($n=zr).D).Nb;Ir=$n.R;var Wi=Wi.wa[Wi.Y+Fn],Hi=$n.sa,Ai=$n.ta+16*di*Ir+16*Fn,Ki=Wi.dd,nr=Wi.tc;if(nr!=0)if(t(3<=nr),$n.L==1)0<Fn&&cS(Hi,Ai,Ir,nr+4),Wi.La&&dS(Hi,Ai,Ir,nr),0<Va&&lS(Hi,Ai,Ir,nr+4),Wi.La&&uS(Hi,Ai,Ir,nr);else{var Vi=$n.B,Ga=$n.qa,wc=$n.ra+8*di*Vi+8*Fn,eo=$n.Ha,$n=$n.Ia+8*di*Vi+8*Fn;di=Wi.ld,0<Fn&&(fn(Hi,Ai,Ir,nr+4,Ki,di),Xf(Ga,wc,eo,$n,Vi,nr+4,Ki,di)),Wi.La&&(Tm(Hi,Ai,Ir,nr,Ki,di),oS(Ga,wc,eo,$n,Vi,nr,Ki,di)),0<Va&&($r(Hi,Ai,Ir,nr+4,Ki,di),Zs(Ga,wc,eo,$n,Vi,nr+4,Ki,di)),Wi.La&&($u(Hi,Ai,Ir,nr,Ki,di),sS(Ga,wc,eo,$n,Vi,nr,Ki,di))}}if(it.ia&&alert("todo:DitherRow"),Ue.put!=null){if(Kt=16*Zt,Zt=16*(Zt+1),mn?(Ue.y=it.sa,Ue.O=it.ta+Ht,Ue.f=it.qa,Ue.N=it.ra+ki,Ue.ea=it.Ha,Ue.W=it.Ia+ki):(Kt-=Dt,Ue.y=Bn,Ue.O=ci,Ue.f=Lr,Ue.N=It,Ue.ea=Gn,Ue.W=ui),pn||(Zt-=Dt),Zt>Ue.o&&(Zt=Ue.o),Ue.F=null,Ue.J=null,it.Fa!=null&&0<it.Fa.length&&Kt<Zt&&(Ue.J=Zr(it,Ue,Kt,Zt-Kt),Ue.F=it.mb,Ue.F==null&&Ue.F.length==0)){Ur=Jr(it,3,"Could not decode alpha data.");break t}Kt<Ue.j&&(Dt=Ue.j-Kt,Kt=Ue.j,t(!(1&Dt)),Ue.O+=it.R*Dt,Ue.N+=it.B*(Dt>>1),Ue.W+=it.B*(Dt>>1),Ue.F!=null&&(Ue.J+=Ue.width*Dt)),Kt<Zt&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=Kt-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Zt-Kt,Ur=Ue.put(Ue))}Et+1!=it.Ic||pn||(n(it.sa,it.ta-kt,Bn,ci+16*it.R,kt),n(it.qa,it.ra-cr,Lr,It+8*it.B,cr),n(it.Ha,it.Ia-cr,Gn,ui+8*it.B,cr))}if(!Ur)return Jr(Tt,6,"Output aborted.")}return 1}(oe,ye)),ye.bc!=null&&ye.bc(ye),_e&=1}return _e?(oe.cb=0,_e):0})(_,F)||(k=_.a)}}else k=_.a}k==0&&te.Oa!=null&&te.Oa.fd&&(k=Wf(te.ba))}te=k}ee=te!=0?null:11>ee?re.f.RGBA.eb:re.f.kb.y}else ee=null;return ee};var CS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,C){for(var S="",A=0;A<4;A++)S+=String.fromCharCode(P[C++]);return S}function d(P,C){return P[C+0]|P[C+1]<<8}function f(P,C){return(P[C+0]|P[C+1]<<8|P[C+2]<<16)>>>0}function p(P,C){return(P[C+0]|P[C+1]<<8|P[C+2]<<16|P[C+3]<<24)>>>0}new l;var h=[0],m=[0],g=[],y=new l,v=e,b=function(P,C){var S={},A=0,I=!1,D=0,U=0;if(S.frames=[],!function(R,B){for(var z=0;z<4;z++)if(R[B+z]!="RIFF".charCodeAt(z))return!0;return!1}(P,C)){for(p(P,C+=4),C+=8;C<P.length;){var J=u(P,C),X=p(P,C+=4);C+=4;var H=X+(1&X);switch(J){case"VP8 ":case"VP8L":S.frames[A]===void 0&&(S.frames[A]={}),($=S.frames[A]).src_off=I?U:C-8,$.src_size=D+X+8,A++,I&&(I=!1,D=0,U=0);break;case"VP8X":($=S.header={}).feature_flags=P[C];var W=C+4;$.canvas_width=1+f(P,W),W+=3,$.canvas_height=1+f(P,W),W+=3;break;case"ALPH":I=!0,D=H+8,U=C-8;break;case"ANIM":($=S.header).bgcolor=p(P,C),W=C+4,$.loop_count=d(P,W),W+=2;break;case"ANMF":var V,$;($=S.frames[A]={}).offset_x=2*f(P,C),C+=3,$.offset_y=2*f(P,C),C+=3,$.width=1+f(P,C),C+=3,$.height=1+f(P,C),C+=3,$.duration=f(P,C),C+=3,V=P[C++],$.dispose=1&V,$.blend=V>>1&1}J!="ANMF"&&(C+=H)}return S}}(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,x=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],m=[w.canvas_width];for(var j=0;j<x.length&&x[j].blend!=0;j++);}var O=x[0],N=y.WebPDecodeRGBA(v,O.src_off,O.src_size,m,h);O.rgba=N,O.imgwidth=m[0],O.imgheight=h[0];for(var E=0;E<m[0]*h[0]*4;E++)g[E]=N[E];return this.width=m,this.height=h,this.data=g,this}(function(e){var t,r,n,i,a,s,o,l,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=R;Object.defineProperty(this,"pdf",{get:function(){return B}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ve){z=!!ve}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ve){K=!!ve}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(ve){isNaN(ve)||(q=ve)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(ve){isNaN(ve)||(Q=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var ie;typeof ve=="number"?ie=[ve,ve,ve,ve]:((ie=new Array(4))[0]=ve[0],ie[1]=ve.length>=2?ve[1]:ie[0],ie[2]=ve.length>=3?ve[2]:ie[0],ie[3]=ve.length>=4?ve[3]:ie[1]),u.margin=ie}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(ve){ae=ve}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(ve){Z=ve}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(ve){le=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof d&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(ve){ge=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var ie;ie=p(ve),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var ie=p(ve);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var de=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(ve){de=null,ke=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var ie;if(this.ctx.font=ve,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var We=ie[1];ie[2];var Be=ie[3],xe=ie[4];ie[5];var fe=ie[6],he=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(he==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:he==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var pe=function(qe){var Ke,ct,ht=[],Ge=qe.trim();if(Ge==="")return Vx;if(Ge in xO)return[xO[Ge]];for(;Ge!=="";){switch(ct=null,Ke=(Ge=_O(Ge)).charAt(0)){case'"':case"'":ct=vve(Ge.substring(1),Ke);break;default:ct=yve(Ge)}if(ct===null||(ht.push(ct[0]),(Ge=_O(ct[1]))!==""&&Ge.charAt(0)!==","))return Vx;Ge=Ge.replace(/^,/,"")}return ht}(fe);if(this.fontFaces){var be=function(qe,Ke){if(de===null){var ct=function(ht){var Ge=[];return Object.keys(ht).forEach(function(ft){ht[ft].forEach(function(Mt){var dt=null;switch(Mt){case"bold":dt={family:ft,weight:"bold"};break;case"italic":dt={family:ft,style:"italic"};break;case"bolditalic":dt={family:ft,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:ft}}dt!==null&&(dt.ref={name:ft,style:Mt},Ge.push(dt))})}),Ge}(qe.getFontList());de=function(ht){for(var Ge={},ft=0;ft<ht.length;++ft){var Mt=Kx(ht[ft]),dt=Mt.family,Ot=Mt.stretch,bt=Mt.style,lr=Mt.weight;Ge[dt]=Ge[dt]||{},Ge[dt][Ot]=Ge[dt][Ot]||{},Ge[dt][Ot][bt]=Ge[dt][Ot][bt]||{},Ge[dt][Ot][bt][lr]=Mt}return Ge}(ct.concat(Ke))}return de}(this.pdf,this.fontFaces),Ce=pe.map(function(qe){return{family:qe,stretch:"normal",weight:Be,style:We}}),De=function(qe,Ke,ct){for(var ht=(ct=ct||{}).defaultFontFamily||"times",Ge=Object.assign({},gve,ct.genericFontFamilies||{}),ft=null,Mt=null,dt=0;dt<Ke.length;++dt)if(Ge[(ft=Kx(Ke[dt])).family]&&(ft.family=Ge[ft.family]),qe.hasOwnProperty(ft.family)){Mt=qe[ft.family];break}if(!(Mt=Mt||qe[ht]))throw new Error("Could not find a font-family for the rule '"+wO(ft)+"' and default family '"+ht+"'.");if(Mt=function(Ot,bt){if(bt[Ot])return bt[Ot];var lr=_5[Ot],un=lr<=_5.normal?-1:1,Xt=bO(bt,p9,lr,un);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+Ot);return Xt}(ft.stretch,Mt),Mt=function(Ot,bt){if(bt[Ot])return bt[Ot];for(var lr=h9[Ot],un=0;un<lr.length;++un)if(bt[lr[un]])return bt[lr[un]];throw new Error("Could not find a matching font-style for "+Ot)}(ft.style,Mt),!(Mt=function(Ot,bt){if(bt[Ot])return bt[Ot];if(Ot===400&&bt[500])return bt[500];if(Ot===500&&bt[400])return bt[400];var lr=mve[Ot],un=bO(bt,m9,lr,Ot<400?-1:1);if(!un)throw new Error("Could not find a matching font-weight for value "+Ot);return un}(ft.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+wO(ft)+"'.");return Mt}(be,Ce);this.pdf.setFont(De.ref.name,De.ref.style)}else{var Ie="";(Be==="bold"||parseInt(Be,10)>=700||We==="bold")&&(Ie="bold"),We==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var He="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<pe.length;$e++){if(this.pdf.internal.getFont(pe[$e],Ie,{noFallback:!0,disableWarning:!0})!==void 0){He=pe[$e];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(pe[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=pe[$e],Ie="bold";else if(this.pdf.internal.getFont(pe[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=pe[$e],Ie="normal";break}}if(He===""){for(var Ve=0;Ve<pe.length;Ve++)if(Ze[pe[Ve]]){He=Ze[pe[Ve]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){x.call(this,"fill",!1)},f.prototype.stroke=function(){x.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(R,B)},f.prototype.closePath=function(){var R=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Gt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){R=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},f.prototype.lineTo=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,B,z,K){if(isNaN(z)||isNaN(K)||isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new s(z,K)),Q=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.bezierCurveTo=function(R,B,z,K,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K))throw Qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new s(q,Q)),Z=this.ctx.transform.applyToPoint(new s(R,B)),le=this.ctx.transform.applyToPoint(new s(z,K));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:le.x,y2:le.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},f.prototype.arc=function(R,B,z,K,q,Q){if(isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K)||isNaN(q))throw Qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new s(R,B));R=ae.x,B=ae.y;var Z=this.ctx.transform.applyToPoint(new s(0,z)),le=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(Z.x-le.x,2)+Math.pow(Z.y-le.y,2))}Math.abs(q-K)>=2*Math.PI&&(K=0,q=2*Math.PI),this.path.push({type:"arc",x:R,y:B,radius:z,startAngle:K,endAngle:q,counterclockwise:Q})},f.prototype.arcTo=function(R,B,z,K,q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,B,z,K){if(isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K))throw Qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,B),this.lineTo(R+z,B),this.lineTo(R+z,B+K),this.lineTo(R,B+K),this.lineTo(R,B),this.lineTo(R+z,B),this.lineTo(R,B)},f.prototype.fillRect=function(R,B,z,K){if(isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K))throw Qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,B,z,K),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},f.prototype.strokeRect=function(R,B,z,K){if(isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K))throw Qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,B,z,K),this.stroke())},f.prototype.clearRect=function(R,B,z,K){if(isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K))throw Qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,B,z,K))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(B),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var B,z,K,q;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))B=0,z=0,K=0,q=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Q!==null)B=parseInt(Q[1]),z=parseInt(Q[2]),K=parseInt(Q[3]),q=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)B=parseInt(Q[1]),z=parseInt(Q[2]),K=parseInt(Q[3]),q=parseFloat(Q[4]);else{if(q=1,typeof R=="string"&&R.charAt(0)!=="#"){var ae=new s9(R);R=ae.ok?ae.toHex():"#000000"}R.length===4?(B=R.substring(1,2),B+=B,z=R.substring(2,3),z+=z,K=R.substring(3,4),K+=K):(B=R.substring(1,3),z=R.substring(3,5),K=R.substring(5,7)),B=parseInt(B,16),z=parseInt(z,16),K=parseInt(K,16)}}return{r:B,g:z,b:K,a:q,style:R}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,B,z,K){if(isNaN(B)||isNaN(z)||typeof R!="string")throw Qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!h.call(this)){var q=H(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;A.call(this,{text:R,x:B,y:z,scale:Q,angle:q,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(R,B,z,K){if(isNaN(B)||isNaN(z)||typeof R!="string")throw Qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){K=isNaN(K)?void 0:K;var q=H(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;A.call(this,{text:R,x:B,y:z,scale:Q,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(R){if(typeof R!="string")throw Qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,z=this.pdf.internal.scaleFactor,K=B.internal.getFontSize(),q=B.getStringUnitWidth(R)*K/B.internal.scaleFactor;return new function(Q){var ae=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this}({width:q*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(R,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(R){if(isNaN(R))throw Qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,R,B);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(R,B,z,K,q,Q){if(isNaN(R)||isNaN(B)||isNaN(z)||isNaN(K)||isNaN(q)||isNaN(Q))throw Qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(R,B,z,K,q,Q);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.setTransform=function(R,B,z,K,q,Q){R=isNaN(R)?1:R,B=isNaN(B)?0:B,z=isNaN(z)?0:z,K=isNaN(K)?1:K,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(R,B,z,K,q,Q)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,B,z,K,q,Q,ae,Z,le){var ge=this.pdf.getImageProperties(R),de=1,ke=1,ve=1,ie=1;K!==void 0&&Z!==void 0&&(ve=Z/K,ie=le/q,de=ge.width/K*Z/K,ke=ge.height/q*le/q),Q===void 0&&(Q=B,ae=z,B=0,z=0),K!==void 0&&Z===void 0&&(Z=K,le=q),K===void 0&&Z===void 0&&(Z=ge.width,le=ge.height);for(var We,Be=this.ctx.transform.decompose(),xe=H(Be.rotate.shx),fe=new l,he=(fe=(fe=(fe=fe.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new o(Q-B*ve,ae-z*ie,K*de,q*ke)),pe=y.call(this,he),be=[],Ce=0;Ce<pe.length;Ce+=1)be.indexOf(pe[Ce])===-1&&be.push(pe[Ce]);if(w(be),this.autoPaging)for(var De=be[0],Ie=be[be.length-1],He=De;He<Ie+1;He++){this.pdf.setPage(He);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=He===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=He===1?0:Ve+(He-2)*qe;if(this.ctx.clip_path.length!==0){var ct=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(We,this.posX+this.margin[3],-Ke+$e+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=ct}var ht=JSON.parse(JSON.stringify(he));ht=b([ht],this.posX+this.margin[3],-Ke+$e+this.ctx.prevPageLastElemOffset)[0];var Ge=(He>De||He<Ie)&&g.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,qe,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,xe),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",he.x,he.y,he.w,he.h,null,null,xe)};var y=function(R,B,z){var K=[];B=B||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":K.push(Math.floor((R.y+q)/z)+1);break;case"arc":K.push(Math.floor((R.y+q-R.radius)/z)+1),K.push(Math.floor((R.y+q+R.radius)/z)+1);break;case"qct":var Q=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);K.push(Math.floor((Q.y+q)/z)+1),K.push(Math.floor((Q.y+Q.h+q)/z)+1);break;case"bct":var ae=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);K.push(Math.floor((ae.y+q)/z)+1),K.push(Math.floor((ae.y+ae.h+q)/z)+1);break;case"rect":K.push(Math.floor((R.y+q)/z)+1),K.push(Math.floor((R.y+R.h+q)/z)+1)}for(var Z=0;Z<K.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<K[Z];)v.call(this);return K},v=function(){var R=this.fillStyle,B=this.strokeStyle,z=this.font,K=this.lineCap,q=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=B,this.font=z,this.lineCap=K,this.lineWidth=q,this.lineJoin=Q},b=function(R,B,z){for(var K=0;K<R.length;K++)switch(R[K].type){case"bct":R[K].x2+=B,R[K].y2+=z;case"qct":R[K].x1+=B,R[K].y1+=z;default:R[K].x+=B,R[K].y+=z}return R},w=function(R){return R.sort(function(B,z){return B-z})},x=function(R,B){for(var z,K,q=this.fillStyle,Q=this.strokeStyle,ae=this.lineCap,Z=this.lineWidth,le=Math.abs(Z*this.ctx.transform.scaleX),ge=this.lineJoin,de=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),ve=[],ie=0;ie<ke.length;ie++)if(ke[ie].x!==void 0)for(var We=y.call(this,ke[ie]),Be=0;Be<We.length;Be+=1)ve.indexOf(We[Be])===-1&&ve.push(We[Be]);for(var xe=0;xe<ve.length;xe++)for(;this.pdf.internal.getNumberOfPages()<ve[xe];)v.call(this);if(w(ve),this.autoPaging)for(var fe=ve[0],he=ve[ve.length-1],pe=fe;pe<he+1;pe++){this.pdf.setPage(pe),this.fillStyle=q,this.strokeStyle=Q,this.lineCap=ae,this.lineWidth=le,this.lineJoin=ge;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=pe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=pe===1?0:De+(pe-2)*Ie;if(this.ctx.clip_path.length!==0){var Ze=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(z,this.posX+this.margin[3],-He+Ce+this.ctx.prevPageLastElemOffset),j.call(this,R,!0),this.path=Ze}if(K=JSON.parse(JSON.stringify(de)),this.path=b(K,this.posX+this.margin[3],-He+Ce+this.ctx.prevPageLastElemOffset),B===!1||pe===0){var $e=(pe>fe||pe<he)&&g.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,Ie,null).clip().discardPath()),j.call(this,R,B),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=le,j.call(this,R,B),this.lineWidth=Z;this.path=de},j=function(R,B){if((R!=="stroke"||B||!m.call(this))&&(R==="stroke"||B||!h.call(this))){for(var z,K,q=[],Q=this.path,ae=0;ae<Q.length;ae++){var Z=Q[ae];switch(Z.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:Z,deltas:[],abs:[]});break;case"lt":var le=q.length;if(Q[ae-1]&&!isNaN(Q[ae-1].x)&&(z=[Z.x-Q[ae-1].x,Z.y-Q[ae-1].y],le>0)){for(;le>=0;le--)if(q[le-1].close!==!0&&q[le-1].begin!==!0){q[le-1].deltas.push(z),q[le-1].abs.push(Z);break}}break;case"bct":z=[Z.x1-Q[ae-1].x,Z.y1-Q[ae-1].y,Z.x2-Q[ae-1].x,Z.y2-Q[ae-1].y,Z.x-Q[ae-1].x,Z.y-Q[ae-1].y],q[q.length-1].deltas.push(z);break;case"qct":var ge=Q[ae-1].x+2/3*(Z.x1-Q[ae-1].x),de=Q[ae-1].y+2/3*(Z.y1-Q[ae-1].y),ke=Z.x+2/3*(Z.x1-Z.x),ve=Z.y+2/3*(Z.y1-Z.y),ie=Z.x,We=Z.y;z=[ge-Q[ae-1].x,de-Q[ae-1].y,ke-Q[ae-1].x,ve-Q[ae-1].y,ie-Q[ae-1].x,We-Q[ae-1].y],q[q.length-1].deltas.push(z);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(Z)}}K=B?null:R==="stroke"?"stroke":"fill";for(var Be=!1,xe=0;xe<q.length;xe++)if(q[xe].arc)for(var fe=q[xe].abs,he=0;he<fe.length;he++){var pe=fe[he];pe.type==="arc"?E.call(this,pe.x,pe.y,pe.radius,pe.startAngle,pe.endAngle,pe.counterclockwise,void 0,B,!Be):I.call(this,pe.x,pe.y),Be=!0}else if(q[xe].close===!0)this.pdf.internal.out("h"),Be=!1;else if(q[xe].begin!==!0){var be=q[xe].start.x,Ce=q[xe].start.y;D.call(this,q[xe].deltas,be,Ce),Be=!0}K&&P.call(this,K),B&&C.call(this)}},O=function(R){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-z;case"top":return R+B-z;case"hanging":return R+B-2*z;case"middle":return R+B/2-z;default:return R}},N=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(B,z){this.colorStops.push([B,z])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(R,B,z,K,q,Q,ae,Z,le){for(var ge=J.call(this,z,K,q,Q),de=0;de<ge.length;de++){var ke=ge[de];de===0&&(le?S.call(this,ke.x1+R,ke.y1+B):I.call(this,ke.x1+R,ke.y1+B)),U.call(this,R,B,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}Z?C.call(this):P.call(this,ae)},P=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(R,B){this.pdf.internal.out(r(R)+" "+n(B)+" m")},A=function(R){var B;switch(R.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var z=this.pdf.getTextDimensions(R.text),K=O.call(this,R.y),q=N.call(this,K)-z.h,Q=this.ctx.transform.applyToPoint(new s(R.x,K)),ae=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var le,ge,de,ke=this.ctx.transform.applyToRectangle(new o(R.x,K,z.w,z.h)),ve=Z.applyToRectangle(new o(R.x,q,z.w,z.h)),ie=y.call(this,ve),We=[],Be=0;Be<ie.length;Be+=1)We.indexOf(ie[Be])===-1&&We.push(ie[Be]);if(w(We),this.autoPaging)for(var xe=We[0],fe=We[We.length-1],he=xe;he<fe+1;he++){this.pdf.setPage(he);var pe=he===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],De=Ce-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],He=Ie-this.margin[3],Ze=he===1?0:be+(he-2)*De;if(this.ctx.clip_path.length!==0){var $e=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-1*Ze+pe),j.call(this,"fill",!0),this.path=$e}var Ve=b([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Ze+pe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*R.scale),de=this.lineWidth,this.lineWidth=de*R.scale);var qe=this.autoPaging!=="text";if(qe||Ve.y+Ve.h<=Ce){if(qe||Ve.y>=pe&&Ve.x<=Ie){var Ke=qe?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ie-Ve.x)[0],ct=b([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Ze+pe+this.ctx.prevPageLastElemOffset)[0],ht=qe&&(he>xe||he<fe)&&g.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,De,null).clip().discardPath()),this.pdf.text(Ke,ct.x,ct.y,{angle:R.angle,align:B,renderingMode:R.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else Ve.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Ve.y);R.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=de)}else R.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*R.scale),de=this.lineWidth,this.lineWidth=de*R.scale),this.pdf.text(R.text,Q.x+this.posX,Q.y+this.posY,{angle:R.angle,align:B,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=de)},I=function(R,B,z,K){z=z||0,K=K||0,this.pdf.internal.out(r(R+z)+" "+n(B+K)+" l")},D=function(R,B,z){return this.pdf.lines(R,B,z,null,null)},U=function(R,B,z,K,q,Q,ae,Z){this.pdf.internal.out([t(i(z+R)),t(a(K+B)),t(i(q+R)),t(a(Q+B)),t(i(ae+R)),t(a(Z+B)),"c"].join(" "))},J=function(R,B,z,K){for(var q=2*Math.PI,Q=Math.PI/2;B>z;)B-=q;var ae=Math.abs(z-B);ae<q&&K&&(ae=q-ae);for(var Z=[],le=K?-1:1,ge=B;ae>1e-5;){var de=ge+le*Math.min(ae,Q);Z.push(X.call(this,R,ge,de)),ae-=Math.abs(de-ge),ge=de}return Z},X=function(R,B,z){var K=(z-B)/2,q=R*Math.cos(K),Q=R*Math.sin(K),ae=q,Z=-Q,le=ae*ae+Z*Z,ge=le+ae*q+Z*Q,de=4/3*(Math.sqrt(2*le*ge)-ge)/(ae*Q-Z*q),ke=ae-de*Z,ve=Z+de*ae,ie=ke,We=-ve,Be=K+B,xe=Math.cos(Be),fe=Math.sin(Be);return{x1:R*Math.cos(B),y1:R*Math.sin(B),x2:ke*xe-ve*fe,y2:ke*fe+ve*xe,x3:ie*xe-We*fe,y3:ie*fe+We*xe,x4:R*Math.cos(z),y4:R*Math.sin(z)}},H=function(R){return 180*R/Math.PI},W=function(R,B,z,K,q,Q){var ae=R+.5*(z-R),Z=B+.5*(K-B),le=q+.5*(z-q),ge=Q+.5*(K-Q),de=Math.min(R,q,ae,le),ke=Math.max(R,q,ae,le),ve=Math.min(B,Q,Z,ge),ie=Math.max(B,Q,Z,ge);return new o(de,ve,ke-de,ie-ve)},V=function(R,B,z,K,q,Q,ae,Z){var le,ge,de,ke,ve,ie,We,Be,xe,fe,he,pe,be,Ce,De=z-R,Ie=K-B,He=q-z,Ze=Q-K,$e=ae-q,Ve=Z-Q;for(ge=0;ge<41;ge++)xe=(We=(de=R+(le=ge/40)*De)+le*((ve=z+le*He)-de))+le*(ve+le*(q+le*$e-ve)-We),fe=(Be=(ke=B+le*Ie)+le*((ie=K+le*Ze)-ke))+le*(ie+le*(Q+le*Ve-ie)-Be),ge==0?(he=xe,pe=fe,be=xe,Ce=fe):(he=Math.min(he,xe),pe=Math.min(pe,fe),be=Math.max(be,xe),Ce=Math.max(Ce,fe));return new o(Math.round(he),Math.round(pe),Math.round(be-he),Math.round(Ce-pe))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,B,z=(R=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:B}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(lt.API),function(e){var t=function(s){var o,l,u,d,f,p,h,m,g,y;for(l=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(y=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,m+33,g+33,y+33)):l.push(122);return function(v,b){for(var w=b;w>0;w--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,u,d,f,p=String,h="length",m=255,g="charCodeAt",y="slice",v="replace";for(s[y](-2),s=s[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],d=0,f=(s+=o="uuuuu"[y](s[h]%5||5))[h];f>d;d+=5)l=52200625*(s[g](d)-33)+614125*(s[g](d+1)-33)+7225*(s[g](d+2)-33)+85*(s[g](d+3)-33)+(s[g](d+4)-33),u.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(b,w){for(var x=w;x>0;x--)b.pop()}(u,o[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=m5(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var l=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(lt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,p=0,h=function(m){var g=m.length,y=[],v=String.fromCharCode;for(p=0;p<g;p+=1)y.push(v(255&m.charCodeAt(p)));return y.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(lt.API),function(e){function t(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):La(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):La(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Gt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var m=d[h],g=m.src.find(function(y){return y.format==="truetype"});g&&u.addFont(g.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(f,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lt.getPageSize=function(o,l,u){if(Gt(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,g=0,y=0;if(h.hasOwnProperty(p))g=h[p][1]/f,y=h[p][0]/f;else try{g=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",y>g&&(m=y,y=g,g=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>y&&(m=y,y=g,g=m)}return{width:y,height:g,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Kx):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(lt.API),lt.API.addJS=function(e){return NO=e,this.internal.events.subscribe("postPutResources",function(){J0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(J0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+NO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){J0!==void 0&&jO!==void 0&&this.internal.out("/Names <</JavaScript "+J0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(lt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=h,t.indexOf(f.charCodeAt(y+1))!==-1){p=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:p,numcomponents:f.charCodeAt(y+9)};break}h=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(lt.API),lt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=tve(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,d=a.depth;i=u&&l===1?function(E){for(var P=E.width,C=E.height,S=E.data,A=E.palette,I=E.depth,D=!1,U=[],J=[],X=void 0,H=!1,W=0,V=0;V<A.length;V++){var $=EE(A[V],4),R=$[0],B=$[1],z=$[2],K=$[3];U.push(R,B,z),K!=null&&(K===0?(W++,J.length<1&&J.push(V)):K<255&&(H=!0))}if(H||W>1){D=!0,J=void 0;var q=P*C;X=new Uint8Array(q);for(var Q=new DataView(S.buffer),ae=0;ae<q;ae++){var Z=Gx(Q,ae,I),le=EE(A[Z],4)[3];X[ae]=le}}else W===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:D?8:void 0,colorBytes:S,alphaBytes:X,needSMask:D,palette:U,mask:J}}(a):l===2||l===4?function(E){for(var P=E.data,C=E.width,S=E.height,A=E.channels,I=E.depth,D=A===2?"DeviceGray":"DeviceRGB",U=A-1,J=C*S,X=U,H=J*X,W=1*J,V=Math.ceil(H*I/8),$=Math.ceil(W*I/8),R=new Uint8Array(V),B=new Uint8Array($),z=new DataView(P.buffer),K=new DataView(R.buffer),q=new DataView(B.buffer),Q=!1,ae=0;ae<J;ae++){for(var Z=ae*A,le=0;le<X;le++)LO(K,Gx(z,Z+le,I),ae*X+le,I);var ge=Gx(z,Z+X,I);ge<(1<<I)-1&&(Q=!0),LO(q,ge,1*ae,I)}return{colorSpace:D,colorsPerPixel:U,sMaskBitsPerComponent:Q?I:void 0,colorBytes:R,alphaBytes:B,needSMask:Q}}(a):function(E){var P=E.data,C=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:C,colorsPerPixel:C==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(S){for(var A=S.length,I=new Uint8Array(2*A),D=new DataView(I.buffer,I.byteOffset,I.byteLength),U=0;U<A;U++)D.setUint16(2*U,S[U],!1);return I}(P):P,needSMask:!1}}(a);var f,p,h,m=i,g=m.colorSpace,y=m.colorsPerPixel,v=m.sMaskBitsPerComponent,b=m.colorBytes,w=m.alphaBytes,x=m.needSMask,j=m.palette,O=m.mask,N=null;return n!==lt.API.image_compression.NONE&&typeof m5=="function"?(N=function(E){var P;switch(E){case lt.API.image_compression.FAST:P=11;break;case lt.API.image_compression.MEDIUM:P=13;break;case lt.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(N," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=EO(b,Math.ceil(s*y*d/8),y,d,n),x&&(h=EO(w,Math.ceil(s*v/8),1,v,n))):(f=void 0,p=void 0,e=b,x&&(h=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:O,palette:j,sMask:h,predictor:N,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new _ve(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},d=new Yx(100).encode(u,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(lt.API),Ja.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ja.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Qt.log("bit decode error:"+r)}},Ja.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ja.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ja.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ja.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},Ja.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Ja.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ja.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ja.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Ja(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new Yx(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(lt.API),RO.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new RO(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new Yx(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(lt.API),lt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];a[o++]=d,a[o++]=f,a[o++]=p,s[l++]=h}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rd=lt.API,Z0=rd.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,m=0,g=o[0]||l,y=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&Gt(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,y.push((o[n]||g)/l+p)),m=n;return y},SO=rd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return rd.processArabic&&(e=rd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:Z0.apply(this,arguments).reduce(function(a,s){return a+s},0)},kO=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},AO=function(e,t,r){r||(r={});var n,i,a,s,o,l,u,d=[],f=[d],p=r.textIndent||0,h=0,m=0,g=e.split(" "),y=Z0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),b=[];g.map(function(x){(x=x.split(/\s*\n/)).length>1?b=b.concat(x.map(function(j,O){return(O&&j.length?`
`:"")+j})):b.push(x[0])}),g=b,l=SO.apply(this,[v,r])}for(a=0,s=g.length;a<s;a++){var w=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(m=(i=Z0.apply(this,[n,r])).reduce(function(x,j){return x+j},0))>t||w){if(m>t){for(o=kO.apply(this,[n,i,t-(p+h),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);m=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(x,j){return x+j},0)}else d=[n];f.push(d),p=m+l,h=y}else d.push(n),p+=h+m,h=y}return u=l?function(x,j){return(j?v:"")+x.join(" ")}:function(x){return x.join(" ")},f.map(u)},rd.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(AO.apply(this,[n[o],s,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,m,g,y,v=["{"];for(var b in p){if(h=p[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=s(b).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),y="-"):(g=s(h).slice(2),y=""),g=y+g.slice(0,-1)+i[g.slice(-1)];else{if(Gt(h)!=="object")throw new Error("Don't know what to do with value type "+Gt(h)+".");g=o(h)}v.push(m+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,g,y,v={},b=1,w=v,x=[],j="",O="",N=p.length-1,E=1;E<N;E+=1)(y=p[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(x.push([w,g]),w={},g=void 0):y=="}"?((m=x.pop())[0][m[1]]=w,g=void 0,w=m[0]):y=="-"?b=-1:g===void 0?n.hasOwnProperty(y)?(j+=n[y],g=parseInt(j,16)*b,b=1,j=""):j+=y:n.hasOwnProperty(y)?(O+=n[y],w[g]=parseInt(O,16)*b,b=1,g=void 0,O=""):O+=y;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,m=f.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(lt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(xg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(lt),lt.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw Qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(yt.canvg?Promise.resolve(yt.canvg):La(()=>import("./index.es-B7tRYGKK.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},lt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},lt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,d=0,f=0;function p(m,g){var y,v=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Gt(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(lt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var s,o,l,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,m){return h-m})).length;f<p;f++)s=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",m=0;m<p.length;m++)h+=String.fromCharCode(p[m]);var g=u();d({data:h,addLength1:!0,objectId:g}),l("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+od(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+od(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+od(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var m=u();d({data:p,addLength1:!0,objectId:m}),l("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+od(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+od(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,d=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,m=f.fonts,g=h,y="",v=0,b="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(b=o,g=h,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=b[v]:y+="";var x="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?x=p(y,g).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(x=r(y,m[g])),f.isHex=!0,{text:x,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(lt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var x=function(S){var A=S.charCodeAt(),I=A>>8,D=g[I];return D!==void 0?f[256*D+(255&A)]:I===252||I===253?"AL":v.test(I)?"L":I===8?"R":"N"},j=function(S){for(var A,I=0;I<S.length;I++){if((A=x(S.charAt(I)))==="L")return!1;if(A==="R")return!0}return!1},O=function(S,A,I,D){var U,J,X,H,W=A[D];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(W="AN");break;case"AL":b=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":D<1||D+1>=A.length||(U=I[D-1])!=="EN"&&U!=="AN"||(J=A[D+1])!=="EN"&&J!=="AN"?W="N":b&&(J="AN"),W=J===U?J:"N";break;case"ES":W=(U=D>0?I[D-1]:"B")==="EN"&&D+1<A.length&&A[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&I[D-1]==="EN"){W="EN";break}if(b){W="N";break}for(X=D+1,H=A.length;X<H&&A[X]==="ET";)X++;W=X<H&&A[X]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(H=A.length,X=D+1;X<H&&A[X]==="NSM";)X++;if(X<H){var V=S[D],$=V>=1425&&V<=2303||V===64286;if(U=A[X],$&&(U==="R"||U==="AL")){W="R";break}}}W=D<1||(U=A[D-1])==="B"?"N":I[D-1];break;case"B":b=!1,i=!0,W=w;break;case"S":a=!0,W="N"}return W},N=function(S,A,I){var D=S.split("");return I&&E(D,I,{hiLevel:w}),D.reverse(),A&&A.reverse(),D.join("")},E=function(S,A,I){var D,U,J,X,H,W=-1,V=S.length,$=0,R=[],B=w?h:p,z=[];for(b=!1,i=!1,a=!1,U=0;U<V;U++)z[U]=x(S[U]);for(J=0;J<V;J++){if(H=$,R[J]=O(S,z,R,J),D=240&($=B[H][m[R[J]]]),$&=15,A[J]=X=B[$][5],D>0)if(D===16){for(U=W;U<J;U++)A[U]=1;W=-1}else W=-1;if(B[$][6])W===-1&&(W=J);else if(W>-1){for(U=W;U<J;U++)A[U]=X;W=-1}z[J]==="B"&&(A[J]=0),I.hiLevel|=X}a&&function(K,q,Q){for(var ae=0;ae<Q;ae++)if(K[ae]==="S"){q[ae]=w;for(var Z=ae-1;Z>=0&&K[Z]==="WS";Z--)q[Z]=w}}(z,A,V)},P=function(S,A,I,D,U){if(!(U.hiLevel<S)){if(S===1&&w===1&&!i)return A.reverse(),void(I&&I.reverse());for(var J,X,H,W,V=A.length,$=0;$<V;){if(D[$]>=S){for(H=$+1;H<V&&D[H]>=S;)H++;for(W=$,X=H-1;W<X;W++,X--)J=A[W],A[W]=A[X],A[X]=J,I&&(J=I[W],I[W]=I[X],I[X]=J);$=H}$++}}},C=function(S,A,I){var D=S.split(""),U={hiLevel:w};return I||(I=[]),E(D,I,U),function(J,X,H){if(H.hiLevel!==0&&d)for(var W,V=0;V<J.length;V++)X[V]===1&&(W=y.indexOf(J[V]))>=0&&(J[V]=y[W+1])}(D,I,U),P(2,D,A,I,U),P(1,D,A,I,U),D.join("")};return this.__bidiEngine__.doBidiReorder=function(S,A,I){if(function(U,J){if(J)for(var X=0;X<U.length;X++)J[X]=X;o===void 0&&(o=j(U)),u===void 0&&(u=j(U))}(S,A),s||!l||u)if(s&&l&&o^u)w=o?1:0,S=N(S,A,I);else if(!s&&l&&u)w=o?1:0,S=C(S,A,I),S=N(S,A);else if(!s||o||l||u){if(s&&!l&&o^u)S=N(S,A),o?(w=0,S=C(S,A,I)):(w=1,S=C(S,A,I),S=N(S,A));else if(s&&o&&!l&&u)w=1,S=C(S,A,I),S=N(S,A);else if(!s&&!l&&o^u){var D=d;o?(w=1,S=C(S,A,I),w=0,d=!1,S=C(S,A,I),d=D):(w=0,S=C(S,A,I),S=N(S,A),w=1,d=!1,S=C(S,A,I),d=D,S=N(S,A))}}else w=0,S=C(S,A,I);else w=o?1:0,S=C(S,A,I);return S},this.__bidiEngine__.setOptions=function(S){S&&(s=S.isInputVisual,l=S.isOutputVisual,o=S.isInputRtl,u=S.isOutputRtl,d=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ul(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Dve(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new jve(this.contents),this.head=new Sve(this),this.name=new Pve(this),this.cmap=new v9(this),this.toUnicode={},this.hhea=new kve(this),this.maxp=new Cve(this),this.hmtx=new Tve(this),this.post=new Eve(this),this.os2=new Ave(this),this.loca=new Mve(this),this.glyf=new Lve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ms,Ul=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),jve=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,u,d,f,p,h,m,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),d=16*h-f,(i=new Ul).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(d),a=16*h,u=i.pos+a,o=null,m=[],r)for(p=r[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(u),i.writeInt(p.length),m=m.concat(p),g==="head"&&(o=u),u+=p.length;u%4;)m.push(0),u++;return i.write(m),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=y9.call(r);r.length%4;)r.push(0);for(a=new Ul(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),Nve={}.hasOwnProperty,Us=function(e,t){for(var r in t)Nve.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ms=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Sve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ul).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),MO=function(){function e(t,r){var n,i,a,s,o,l,u,d,f,p,h,m,g,y,v,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var x,j;for(j=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)j.push(t.readUInt16());return j}(),t.pos+=2,g=function(){var x,j;for(j=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)j.push(t.readUInt16());return j}(),u=function(){var x,j;for(j=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)j.push(t.readUInt16());return j}(),d=function(){var x,j;for(j=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)j.push(t.readUInt16());return j}(),i=(this.length-t.pos+this.offset)/2,o=function(){var x,j;for(j=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)j.push(t.readUInt16());return j}(),l=v=0,w=a.length;v<w;l=++v)for(y=a[l],n=b=m=g[l];m<=y?b<=y:b>=y;n=m<=y?++b:--b)d[l]===0?s=n+u[l]:(s=o[d[l]/2+(n-m)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,u,d,f,p,h,m,g,y,v,b,w,x,j,O,N,E,P,C,S,A,I,D,U,J,X,H,W,V,$,R,B,z,K,q,Q,ae,Z,le,ge,de;switch(D=new Ul,s=Object.keys(t).sort(function(ke,ve){return ke-ve}),r){case"macroman":for(g=0,y=function(){var ke=[];for(m=0;m<256;++m)ke.push(0);return ke}(),b={0:0},a={},U=0,W=s.length;U<W;U++)b[Z=t[i=s[U]]]==null&&(b[Z]=++g),a[i]={old:t[i],new:b[t[i]]},y[i]=b[t[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(y),{charMap:a,subtable:D.data,maxGlyphID:g+1};case"unicode":for(A=[],f=[],w=0,b={},n={},v=u=null,J=0,V=s.length;J<V;J++)b[j=t[i=s[J]]]==null&&(b[j]=++w),n[i]={old:j,new:b[j]},o=b[j]-i,v!=null&&o===u||(v&&f.push(v),A.push(i),u=o),v=i;for(v&&f.push(v),f.push(65535),A.push(65535),C=2*(P=A.length),E=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,N=2*P-E,l=[],O=[],h=[],m=X=0,$=A.length;X<$;m=++X){if(S=A[m],d=f[m],S===65535){l.push(0),O.push(0);break}if(S-(I=n[S].new)>=32768)for(l.push(0),O.push(2*(h.length+P-m)),i=H=S;S<=d?H<=d:H>=d;i=S<=d?++H:--H)h.push(n[i].new);else l.push(I-S),O.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*P+2*h.length),D.writeUInt16(0),D.writeUInt16(C),D.writeUInt16(E),D.writeUInt16(p),D.writeUInt16(N),Q=0,R=f.length;Q<R;Q++)i=f[Q],D.writeUInt16(i);for(D.writeUInt16(0),ae=0,B=A.length;ae<B;ae++)i=A[ae],D.writeUInt16(i);for(le=0,z=l.length;le<z;le++)o=l[le],D.writeUInt16(o);for(ge=0,K=O.length;ge<K;ge++)x=O[ge],D.writeUInt16(x);for(de=0,q=h.length;de<q;de++)g=h[de],D.writeUInt16(g);return{charMap:n,subtable:D.data,maxGlyphID:w+1}}},e}(),v9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new MO(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=MO.encode(t,r),(i=new Ul).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),kve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Ave=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Eve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),Ove=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Pve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,u,d,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=d=0,f=n.length;d<f;a=++d)i=n[a],t.pos=i.offset,u=t.readString(i.length),s=new Ove(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),Cve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Tve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),y9=[].slice,Lve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,u,d,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new Ul(r.read(i))).readShort(),u=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[t]=s===-1?new Rve(o,u,f,l,d):new Ive(o,s,u,f,l,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),Ive=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Rve=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ul(y9.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Mve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,ms),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),Dve=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,u,d,f,p,h,m,g,y,v;for(i in n=v9.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},v=n.charMap)h[(l=v[i]).old]=l.new;for(m in p=n.maxGlyphID,s)m in h||(h[m]=p++);return d=function(b){var w,x;for(w in x={},b)x[b[w]]=w;return x}(h),f=Object.keys(d).sort(function(b,w){return b-w}),g=function(){var b,w,x;for(x=[],b=0,w=f.length;b<w;b++)o=f[b],x.push(d[o]);return x}(),a=this.font.glyf.encode(s,g,h),u=this.font.loca.encode(a.offsets,g),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();lt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();const Bve=({onClose:e,simulation:t,sessionId:r,simulationId:n,usingBackend:i=!1})=>{const[a,s]=T.useState({}),[o,l]=T.useState(0),[u,d]=T.useState({}),[f,p]=T.useState([]),[h,m]=T.useState([]),[g,y]=T.useState(""),[v,b]=T.useState(!1),[w,x]=T.useState(!0);T.useEffect(()=>{const B=async()=>{try{if(x(!0),i&&n&&r){const K=await uo.getProgress(n,r),q=await uo.getTaskSubmissions(n,r);if(K&&q){l(K.final_score||0),d(K.skill_breakdown||{}),y(K.resume_snippet||"");const Q={};q.forEach(le=>{Q[le.task_id]={score:le.score||0,breakdown:le.score_breakdown||{},strengths:le.strengths||[],improvements:le.improvements||[]}}),s(Q);const ae=[],Z=[];q.forEach(le=>{le.strengths&&ae.push(...le.strengths),le.improvements&&Z.push(...le.improvements)}),p([...new Set(ae)].slice(0,3)),m([...new Set(Z)].slice(0,3))}else z()}else z()}catch(K){console.error("Error loading report data:",K),z()}finally{x(!1)}},z=()=>{var ve,ie,We;const K=Kp(),q=(t==null?void 0:t.slug)==="argo-marketing-foundations"||((ve=t==null?void 0:t.company_info)==null?void 0:ve.name)==="Argo"||(t==null?void 0:t.category)==="Marketing";let Q={};q?Q={task1:eL(K.task1||{}),task2:tL(K.task2||{}),task3:rL(K.task3||{}),task4:nL(K.task4||{}),task5:iL(K.task5||{})}:Q={task1:B_(K.task1||{}),task2:F_(K.task2||{}),task3:$_(K.task3||{}),task4:U_(K.task4||{}),task5:z_(K.task5||{}),task6:q_(K.task6||{}),task7:W_(K.task7||{})},s(Q);const ae=Z8(Q);l(ae);const Z=Q8(Q);d(Z);const le=[],ge=[];Object.values(Q).forEach(Be=>{Be.strengths&&le.push(...Be.strengths),Be.improvements&&ge.push(...Be.improvements)}),p([...new Set(le)].slice(0,3)),m([...new Set(ge)].slice(0,3));const de=Object.entries(Z).sort((Be,xe)=>xe[1]-Be[1]).slice(0,3).map(([Be])=>Be),ke=((ie=t==null?void 0:t.company_info)==null?void 0:ie.fullName)||((We=t==null?void 0:t.company_info)==null?void 0:We.name)||"Noah Healthcare";y(`Led end-to-end product development for ${ke} ${(t==null?void 0:t.title)||"Smart Fitness Watch"}, demonstrating expertise in ${de.join(", ")}. Achieved ${ae}/100 overall score across market research, team planning, roadmap development, UX design, GTM strategy, and post-launch analytics.`)};B()},[i,n,r,t]);const j=()=>{const B=new lt("landscape","pt",[1200,800]),z=B.internal.pageSize.getWidth(),K=B.internal.pageSize.getHeight(),q=(t==null?void 0:t.company_info)||Gd,Q=(t==null?void 0:t.title)||"Smart Fitness Watch Product Management Simulation",ae=(t==null?void 0:t.slug)==="argo-marketing-foundations"||(q==null?void 0:q.name)==="Argo"||(t==null?void 0:t.category)==="Marketing";ae?(B.setFillColor(147,51,234),B.rect(0,0,z,K,"F"),B.setFillColor(219,39,119),B.rect(0,0,z,K*.6,"F")):(B.setFillColor(37,99,235),B.rect(0,0,z,K,"F"),B.setFillColor(59,130,246),B.rect(0,0,z,K*.6,"F")),B.setDrawColor(255,255,255),B.setLineWidth(8),B.rect(40,40,z-80,K-80,"S"),B.setFillColor(255,255,255),B.rect(60,60,z-120,K-120,"F"),ae?(B.setFillColor(147,51,234),B.circle(z-150,150,60,"F"),B.setFillColor(219,39,119),B.circle(150,K-150,60,"F")):(B.setFillColor(37,99,235),B.circle(z-150,150,60,"F"),B.setFillColor(59,130,246),B.circle(150,K-150,60,"F")),B.setTextColor(30,41,59),B.setFontSize(42),B.setFont("helvetica","bold"),B.text("Certificate of Completion",z/2,180,{align:"center"}),B.setFontSize(24),B.setFont("helvetica","normal"),B.text(`${q.fullName||q.name||"Company"}`,z/2,230,{align:"center"}),B.setFontSize(20),B.text(Q,z/2,270,{align:"center"}),ae?B.setFillColor(219,39,119):B.setFillColor(59,130,246),B.roundedRect(z/2-150,320,300,100,10,10,"F"),B.setTextColor(255,255,255),B.setFontSize(18),B.setFont("helvetica","normal"),B.text("Final Score",z/2,350,{align:"center"}),B.setFontSize(48),B.setFont("helvetica","bold"),B.text(`${o}/100`,z/2,390,{align:"center"}),B.setTextColor(30,41,59),B.setFontSize(16),B.setFont("helvetica","normal"),B.text(`Completed on ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`,z/2,480,{align:"center"}),B.setFontSize(12),B.setTextColor(107,114,128),B.text("This certificate verifies successful completion of the simulation.",z/2,550,{align:"center"}),B.text("Add this achievement to your resume and LinkedIn profile.",z/2,570,{align:"center"}),ae?B.setDrawColor(219,39,119):B.setDrawColor(59,130,246),B.setLineWidth(2),B.line(z/2-200,620,z/2+200,620);const Z=ae?"argo-simulation-certificate.pdf":"noah-simulation-certificate.pdf";B.save(Z)},O=()=>{navigator.clipboard.writeText(g),b(!0),setTimeout(()=>b(!1),2e3)},N={task1:"Market Research",task2:"Team & Tech Stack",task3:"Roadmap & Phases",task4:"Wireframe Design",task5:"GTM Strategy",task6:"Post-Launch Analytics",task7:"Final Submission"},E=Object.entries(a).map(([B,z])=>({name:N[B]||B,score:z.score,fullScore:100})),P=Object.keys(u),C=Object.values(u),S=Math.max(...C,100),A=P.map((B,z)=>({name:B,value:C[z]})),I=["#3b82f6","#2563eb","#1d4ed8","#10b981","#f59e0b","#06b6d4"],D=B=>B>=80?"from-green-500 to-emerald-600":B>=60?"from-blue-500 to-indigo-600":B>=40?"from-yellow-500 to-orange-500":"from-red-500 to-pink-600",U=B=>B>=80?"Excellent":B>=60?"Good":B>=40?"Fair":"Needs Improvement";if(w)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("div",{className:"text-lg text-gray-600",children:"Loading report..."})]})});const J=(t==null?void 0:t.company_info)||Gd,X=(t==null?void 0:t.title)||"Smart Fitness Watch Product Management Simulation",H=(t==null?void 0:t.slug)==="argo-marketing-foundations"||(J==null?void 0:J.name)==="Argo"||(t==null?void 0:t.category)==="Marketing",W=H?"from-purple-600 to-pink-600":"from-primary to-accent",V=H?"from-purple-50 to-pink-50":"from-blue-50 to-indigo-50",$=H?"border-purple-200":"border-blue-200",R=H?"hover:from-purple-700 hover:to-pink-700":"hover:from-blue-700 hover:to-blue-600";return c.jsx("div",{className:`min-h-screen bg-gradient-to-br ${H?"from-slate-50 via-purple-50 to-pink-50":"from-slate-50 via-blue-50 to-cyan-50"} p-6`,children:c.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[c.jsxs("div",{className:`bg-gradient-to-r ${W} rounded-3xl shadow-2xl p-12 text-center text-white relative overflow-hidden`,children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-32 -mt-32"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -ml-32 -mb-32"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center text-5xl mx-auto mb-6 shadow-lg",children:J.logo||""}),c.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4",children:"Certificate of Completion"}),c.jsx("p",{className:`text-2xl ${H?"text-purple-100":"text-blue-100"} mb-2`,children:J.fullName||J.name||"Company"}),c.jsx("p",{className:`text-lg ${H?"text-pink-200":"text-blue-200"} mb-8`,children:X}),c.jsxs("div",{className:"inline-block bg-white/20 backdrop-blur-sm rounded-2xl px-8 py-6 mb-6 border-2 border-white/30",children:[c.jsx("div",{className:`text-sm ${H?"text-purple-100":"text-blue-100"} mb-2 uppercase tracking-wide`,children:"Final Score"}),c.jsx("div",{className:`text-6xl font-bold bg-gradient-to-r ${D(o)} bg-clip-text text-transparent`,children:o}),c.jsx("div",{className:`text-2xl ${H?"text-purple-100":"text-blue-100"} mt-2`,children:"/ 100"}),c.jsx("div",{className:"text-lg font-semibold text-white mt-3",children:U(o)})]}),c.jsxs("p",{className:`text-sm ${H?"text-purple-100":"text-blue-100"}`,children:["Completed on ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),c.jsxs("button",{onClick:j,className:`px-8 py-4 bg-white ${H?"text-purple-600 hover:bg-purple-50":"text-primary hover:bg-blue-50"} rounded-xl font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all flex items-center gap-3 mx-auto`,children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF Certificate"]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:c.jsxs("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Performance Report Card"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed breakdown of your performance across all tasks"})]})]}),c.jsx("div",{className:`mb-10 p-8 bg-gradient-to-r ${V} rounded-2xl border-2 ${$}`,children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:"Overall Score"}),c.jsx("div",{className:`text-5xl font-bold bg-gradient-to-r ${D(o)} bg-clip-text text-transparent`,children:o}),c.jsx("div",{className:"text-xl text-gray-600 mt-1",children:"/ 100"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:"Performance"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:U(o)}),c.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Keep up the great work!"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:"Tasks Completed"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:Object.keys(a).length}),c.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["out of ",Object.keys(a).length," tasks"]})]})]})}),c.jsxs("div",{className:"mb-10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Task Scores"})]}),c.jsx("div",{className:"mb-8 p-6 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200",children:c.jsx(Lw,{width:"100%",height:300,children:c.jsxs(Lme,{data:E,children:[c.jsx(KN,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(GN,{dataKey:"name",angle:-45,textAnchor:"end",height:100,stroke:"#6b7280",fontSize:12}),c.jsx(YN,{stroke:"#6b7280",domain:[0,100]}),c.jsx(t5,{contentStyle:{backgroundColor:"#fff",border:"2px solid #3b82f6",borderRadius:"12px",padding:"12px"},labelStyle:{color:"#1f2937",fontWeight:"bold"}}),c.jsx(QM,{dataKey:"score",fill:"#3b82f6",radius:[8,8,0,0],children:E.map((B,z)=>c.jsx(tf,{fill:I[z%I.length]},`cell-${z}`))})]})})}),c.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([B,z],K)=>c.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-gray-50 rounded-xl border-2 border-gray-200 hover:shadow-lg transition-all",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg bg-gradient-to-br ${D(z.score)}`,children:K+1}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-gray-900",children:N[B]||B}),c.jsx("p",{className:"text-sm text-gray-600",children:U(z.score)})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${D(z.score)} bg-clip-text text-transparent`,children:z.score}),c.jsx("div",{className:"text-sm text-gray-600",children:"/ 100"})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:c.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${D(z.score)} transition-all duration-1000 shadow-lg`,style:{width:`${z.score}%`}})})]},B))})]}),c.jsxs("div",{className:"mb-10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Skill Breakdown"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:`p-6 bg-gradient-to-br ${V} rounded-xl border-2 ${$}`,children:[c.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"Skill Distribution"}),c.jsx(Lw,{width:"100%",height:250,children:c.jsxs(qme,{children:[c.jsx(VM,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:B,percent:z})=>`${B}: ${(z*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:A.map((B,z)=>c.jsx(tf,{fill:I[z%I.length]},`cell-${z}`))}),c.jsx(t5,{})]})})]}),c.jsx("div",{className:"space-y-4",children:P.map((B,z)=>c.jsxs("div",{className:"p-4 bg-gradient-to-br from-white to-gray-50 rounded-xl border-2 border-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-base font-bold text-gray-900",children:B}),c.jsxs("span",{className:`text-lg font-bold bg-gradient-to-r ${D(C[z])} bg-clip-text text-transparent`,children:[C[z],"/100"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:c.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${D(C[z])} transition-all duration-1000 shadow-md`,style:{width:`${C[z]/S*100}%`}})})]},B))})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-10",children:[c.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Strengths"})]}),c.jsx("ul",{className:"space-y-3",children:f.map((B,z)=>c.jsxs("li",{className:"flex items-start gap-3 text-base text-gray-700",children:[c.jsx("span",{className:"text-green-600 text-xl mt-0.5",children:""}),c.jsx("span",{className:"font-medium",children:B})]},z))})]}),c.jsxs("div",{className:"p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl border-2 border-yellow-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Areas for Improvement"})]}),c.jsx("ul",{className:"space-y-3",children:h.map((B,z)=>c.jsxs("li",{className:"flex items-start gap-3 text-base text-gray-700",children:[c.jsx("span",{className:"text-yellow-600 text-xl mt-0.5",children:""}),c.jsx("span",{className:"font-medium",children:B})]},z))})]})]}),c.jsxs("div",{className:"p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border-2 border-blue-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:c.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Resume Snippet"})]}),c.jsx("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200 mb-4",children:c.jsx("p",{className:"text-base text-gray-700 italic leading-relaxed",children:g})}),c.jsx("button",{onClick:O,className:`px-6 py-3 rounded-xl font-bold text-base shadow-lg hover:shadow-xl transition-all flex items-center gap-2 ${v?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":`bg-gradient-to-r ${W} text-white ${R}`}`,children:v?c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Copied!"]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy to Clipboard"]})})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pb-8",children:[c.jsxs("button",{onClick:e,className:"px-8 py-4 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 font-bold text-lg transition-all flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Simulation"]}),c.jsxs("button",{onClick:()=>window.location.href="/browse",className:`px-8 py-4 bg-gradient-to-r ${W} text-white rounded-xl ${R} font-bold text-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2`,children:["Browse More Simulations",c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},kc=e=>(e==null?void 0:e.slug)||"noah-smart-fitness-watch",DO=()=>{var I,D,U,J,X;const{slug:e}=Lo(),[t,r]=T.useState(null),[n,i]=T.useState(null),[a,s]=T.useState(null),[o,l]=T.useState(0),[u,d]=T.useState(null),[f,p]=T.useState(!1),[h,m]=T.useState(!1),[g,y]=T.useState(!0),v=Ln();T.useEffect(()=>{(async()=>{try{y(!0);const W=e||"noah-smart-fitness-watch";try{const V=await uo.getSimulationBySlug(W);if(V){r(V),s(V.id);try{const $=await uo.resumeSession(V.id);if($)i($.session.id),d($.progress),m(!0);else{const{session:R,progress:B}=await uo.startSession(V.id);i(R.id),d(B),m(!0)}}catch($){console.warn("Failed to start session, using localStorage:",$);const R=kc(V);d(fl(R)),m(!1)}}else{console.warn("Simulation not found in database, using localStorage");const $=kc(null);d(fl($)),m(!1)}}catch(V){console.warn("Backend not available, using localStorage:",V);const $=kc(null);d(fl($)),m(!1)}}catch(W){console.error("Error initializing simulation:",W);const V=kc(null);d(fl(V)),m(!1)}finally{y(!1)}})()},[e]);const b={intro:k0,"multi-text-input":_k,"multi-select-form":jk,roadmap:Nk,wireframe:Sk,"gtm-strategy":kk,"analytics-dashboard":wE,"final-submission":_E,mcq:Wme,"short-text":Hme,reflection:Kme,"decision-loop":Vme},w=t!=null&&t.tasks&&t.tasks.length>0?t.tasks.map(H=>({id:H.id,name:H.name,component:b[H.type]||k0,time:H.estimated_time||"N/A",icon:H.icon||""})):[{id:"task0",name:"Introduction",component:k0,time:"5 min",icon:""},{id:"task1",name:"Market Research",component:_k,time:"60-90 min",icon:""},{id:"task2",name:"Team & Tech Stack",component:jk,time:"30-45 min",icon:""},{id:"task3",name:"Roadmap & Phases",component:Nk,time:"30-45 min",icon:""},{id:"task4",name:"Wireframe Design",component:Sk,time:"30-60 min",icon:""},{id:"task5",name:"GTM Strategy",component:kk,time:"45-60 min",icon:""},{id:"task6",name:"Post-Launch Analytics",component:wE,time:"60-90 min",icon:""},{id:"task7",name:"Final Submission",component:_E,time:"30-45 min",icon:""}],x=async H=>{var W,V;try{if(console.log(` Task ${H} completed. Using backend: ${h}, Simulation ID: ${a}, Session ID: ${n}`),h&&a&&n){const $=kc(t),B=Kp($)[H]||{};console.log(` Saving task submission for ${H}...`);try{await uo.saveTaskSubmission(a,n,H,B),console.log(` Task submission saved successfully for ${H}`)}catch(K){throw console.error(` Error saving task submission for ${H}:`,K),K}console.log(" Refreshing progress...");const z=await uo.getProgress(a,n);if(z){console.log(" Updated progress:",{completed_tasks:((W=z.completed_tasks)==null?void 0:W.length)||0,progress_percentage:z.progress_percentage,completed_at:z.completed_at||"NOT SET"}),d(z);const K=w.filter(Q=>Q.id!=="task0").length,q=((V=z.completed_tasks)==null?void 0:V.length)||0;console.log(` Progress check: ${q}/${K} tasks completed`),q>=K&&(console.log(" All tasks completed! Showing final report."),z.completed_at||console.warn(" All tasks done but completed_at is not set. This should be set by updateProgress."),p(!0))}else console.warn(" Could not fetch updated progress")}else{console.log(" Using localStorage fallback (backend not available or not authenticated)");const $=kc(t);ua(H,$);const R=fl($);d(R);const B=w.filter(K=>K.id!=="task0").length,z=w.filter(K=>K.id!=="task0").map(K=>K.id);wk($,z)&&o===w.length-1&&(console.log(" All tasks completed (localStorage)!"),p(!0))}}catch($){console.error(" Failed to save task completion:",$),console.error("Error details:",{message:$.message,code:$.code,details:$.details});const R=kc(t);ua(H,R);const B=fl(R);d(B)}},j=()=>{o<w.length-1&&l(o+1)},O=()=>{o>0&&l(o-1)},N=H=>{l(H)},E=((I=w[o])==null?void 0:I.component)||k0;if(g)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("div",{className:"text-lg text-gray-600",children:"Loading simulation..."})]})});if(f)return c.jsx(Bve,{onClose:()=>p(!1),simulation:t,sessionId:n,simulationId:a,usingBackend:h});const P=h&&(u!=null&&u.completed_tasks)?u.completed_tasks.length:((D=u==null?void 0:u.completedTasks)==null?void 0:D.length)||0,C=w.filter(H=>H.id!=="task0").length,S=C>0?P/C*100:0,A=(t==null?void 0:t.company_info)||Gd;return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex",children:[c.jsxs("div",{className:"w-72 bg-white border-r-2 border-gray-200 flex-shrink-0 overflow-y-auto shadow-lg",children:[c.jsx("div",{className:"p-6 border-b-2 border-gray-200 bg-gradient-to-r from-primary to-accent text-white",children:c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl",children:A.logo||""}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:A.name||(t==null?void 0:t.title)||"Simulation"}),c.jsx("p",{className:"text-xs text-blue-100",children:((U=t==null?void 0:t.description)==null?void 0:U.substring(0,30))||"Task-based simulation"})]})]})}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-4 px-2",children:"Tasks"}),c.jsx("div",{className:"space-y-2",children:w.map((H,W)=>{const $=(h&&(u!=null&&u.completed_tasks)?u.completed_tasks:(u==null?void 0:u.completedTasks)||[]).includes(H.id),R=W===o;return c.jsx("button",{onClick:()=>N(W),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${R?"bg-gradient-to-r from-primary to-accent text-white shadow-lg transform scale-105":$?"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 text-gray-700 hover:shadow-md hover:border-green-300":"bg-gray-50 border-2 border-gray-200 text-gray-600 hover:bg-gray-100 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"text-2xl",children:H.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:`font-semibold text-sm ${R?"text-white":"text-gray-900"}`,children:H.name}),$&&!R&&c.jsx("span",{className:"text-green-500 text-lg",children:""}),R&&c.jsx("span",{className:"text-white/80 text-xs bg-white/20 px-2 py-1 rounded-full",children:"Active"})]}),c.jsxs("div",{className:`text-xs mt-1 ${R?"text-blue-100":"text-gray-500"}`,children:[" ",H.time]})]})]})},H.id)})})]}),c.jsxs("div",{className:"p-4 border-t-2 border-gray-200 bg-gray-50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Progress"}),c.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(S),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2 shadow-inner",children:c.jsx("div",{className:"bg-gradient-to-r from-primary to-accent h-3 rounded-full transition-all duration-500 shadow-lg",style:{width:`${S}%`}})}),c.jsxs("div",{className:"text-xs text-gray-600 font-medium",children:[P," of ",C," tasks completed"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"bg-white border-b-2 border-gray-200 px-8 py-5 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center text-white text-xl",children:w[o].icon}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:w[o].name}),c.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Estimated time: ",c.jsx("span",{className:"font-semibold text-blue-600",children:w[o].time})]})]})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>v("/browse"),className:"px-5 py-2.5 text-sm font-semibold text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all",children:"Exit Simulation"}),(h&&(u==null?void 0:u.completed_at)||!h&&wk())&&o===w.length-1&&c.jsx("button",{onClick:()=>p(!0),className:"px-6 py-2.5 bg-gradient-to-r from-primary to-accent text-white rounded-lg hover:from-blue-700 hover:to-blue-600 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",children:"Finish & Submit"})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsx(E,{onComplete:x,onNext:j,onPrevious:O,taskId:(J=w[o])==null?void 0:J.id,canGoNext:o<w.length-1,canGoPrevious:o>0,simulation:t,task:(X=t==null?void 0:t.tasks)==null?void 0:X.find(H=>{var W;return H.id===((W=w[o])==null?void 0:W.id)}),taskData:t==null?void 0:t.task_data})})]})]})},BO=()=>{const{slug:e}=Lo(),t=Ln(),[r,n]=T.useState(null),[i,a]=T.useState(!0);T.useEffect(()=>{(async()=>{try{a(!0);const h=e||"noah-smart-fitness-watch";try{const m=await uo.getSimulationBySlug(h);m&&n(m)}catch(m){console.warn("Could not load simulation from database:",m)}}catch(h){console.error("Error loading simulation:",h)}finally{a(!1)}})()},[e]);const s=()=>{t(`/simulation/${e||"noah-smart-fitness-watch"}/start`)},o=(r==null?void 0:r.company_info)||Gd,l=(r==null?void 0:r.title)||"Noah Smart Fitness Watch - Product Management",u=(r==null?void 0:r.description)||"End-to-end product management simulation...",d=(r==null?void 0:r.slug)==="argo-marketing-foundations"||(o==null?void 0:o.name)==="Argo"||(r==null?void 0:r.category)==="Marketing",f=d?"from-purple-600 to-pink-600":"from-primary to-accent";return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:[c.jsx(pi,{}),c.jsxs("div",{className:`relative overflow-hidden bg-gradient-to-r ${f} text-white`,children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-300/20 rounded-full blur-3xl"})]}),c.jsx("div",{className:"max-w-7xl mx-auto px-6 py-20 relative z-10",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[c.jsx("span",{className:"text-2xl",children:o.logo||""}),c.jsx("span",{children:(o.name||Gd.name).toUpperCase()})]}),c.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight",children:[d?"Marketing Foundations":"Smart Fitness Watch",c.jsx("span",{className:`block text-4xl md:text-5xl mt-2 ${d?"text-pink-200":"text-blue-200"}`,children:d?"Marketing Simulation":"Product Management"})]}),c.jsx("p",{className:`text-xl md:text-2xl ${d?"text-purple-100":"text-blue-100"} leading-relaxed font-light`,children:u}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:d?" Marketing":" Product Management"}),c.jsx("span",{className:"bg-green-500 text-white px-5 py-2.5 rounded-full text-sm font-semibold shadow-lg",children:" Free"}),c.jsxs("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:[" ",(r==null?void 0:r.estimated_duration)||(d?"50-60 min":"6-8 hours")]})]})]}),c.jsxs("div",{className:"bg-white text-gray-900 rounded-2xl shadow-2xl p-8 max-w-md transform hover:scale-105 transition-transform duration-300",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-4 py-2 rounded-full inline-block mb-6 shadow-lg",children:" AVAILABLE NOW"}),c.jsx("h3",{className:`text-3xl font-bold mb-6 bg-gradient-to-r ${f} bg-clip-text text-transparent`,children:l}),c.jsxs("ul",{className:"space-y-4 mb-8",children:[c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsxs("span",{className:"text-gray-700 leading-relaxed",children:["Complete work that simulates life on the job. ",c.jsx("strong",{children:"6-8 hours"})," and self-paced."]})]}),c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})}),c.jsxs("span",{className:"text-gray-700 leading-relaxed",children:["Earn a ",c.jsx("strong",{children:"certificate"})," and add it to your resume and LinkedIn."]})]}),c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),c.jsxs("span",{className:"text-gray-700 leading-relaxed",children:["Stand out in applications. Build ",c.jsx("strong",{children:"confidence"})," to ace interviews."]})]})]}),c.jsx("button",{onClick:s,className:`w-full bg-gradient-to-r ${f} text-white py-4 px-6 rounded-xl font-bold text-lg ${d?"hover:from-purple-700 hover:to-pink-700":"hover:from-blue-700 hover:to-blue-600"} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`,children:"Try Simulation "})]})]})})]}),c.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-16 z-40",children:c.jsx("div",{className:"max-w-7xl mx-auto px-6",children:c.jsxs("nav",{className:"flex gap-8",children:[c.jsxs("a",{href:"#overview",className:"py-5 border-b-3 border-blue-600 text-blue-600 font-semibold flex items-center gap-2 text-sm",children:["Overview",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),c.jsx("a",{href:"#about",className:"py-5 text-gray-600 hover:text-gray-900 font-medium transition-colors text-sm",children:"About Us"}),c.jsx("a",{href:"#tasks",className:"py-5 text-gray-600 hover:text-gray-900 font-medium transition-colors text-sm",children:"Tasks"}),c.jsx("a",{href:"#reviews",className:"py-5 text-gray-600 hover:text-gray-900 font-medium transition-colors text-sm",children:"Reviews"})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[c.jsxs("div",{className:"md:col-span-2 space-y-16",children:[c.jsxs("section",{id:"overview",className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${f} rounded-xl flex items-center justify-center`,children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),c.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Why complete this Job Simulation"})]}),c.jsxs("p",{className:"text-xl text-gray-700 mb-8 leading-relaxed",children:["A ",c.jsx("strong",{className:"text-blue-600",children:"risk-free way"})," to experience work on the job. Practice your skills with example tasks and build your confidence to ace your applications."]}),c.jsxs("div",{className:"flex flex-wrap gap-4 text-base text-gray-600 mb-8 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[c.jsxs("span",{className:"font-semibold text-gray-900",children:["Self-paced ",c.jsx("span",{className:"text-blue-600",children:"6-8 hours"})]}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{children:"No grades"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{children:"No assessments"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"font-semibold",children:"Intermediate"}),c.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Welcome to the ",l,"!"]}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:u}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:[c.jsx("strong",{className:"text-gray-900",children:o.fullName||o.name})," ",o.description||"is a company building innovative products, and you'll lead the product management for this exciting new venture."]}),c.jsxs("a",{href:"#tasks",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold text-lg group",children:["View All Tasks",c.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),c.jsxs("section",{className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),c.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"How it works"})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex gap-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Self-Paced Learning"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Complete tasks guided by detailed instructions and example answers. No live sessions, all self-paced."})]})]}),c.jsxs("div",{className:"flex gap-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Earn a Certificate"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Earn a certificate and add it to your resume and LinkedIn as an extracurricular activity."})]})]}),c.jsxs("div",{className:"flex gap-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${f} rounded-2xl flex items-center justify-center shadow-lg`,children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Stand Out"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Stand out in applications. Confidently answer interview questions and explain why you're a good fit for the job."})]})]})]})]}),c.jsxs("section",{id:"tasks",className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),c.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Tasks in this program"})]}),c.jsx("div",{className:"space-y-4",children:[{num:0,title:"Introduction & Onboarding",desc:"Meet your role, company context, and simulation overview",time:"5 min",level:"Overview"},{num:1,title:"Market Research",desc:"Define target segments, user needs, and competitive analysis",time:"60-90 min",level:"Intermediate"},{num:2,title:"Team & Tech Stack",desc:"Plan team composition and technology choices",time:"30-45 min",level:"Intermediate"},{num:3,title:"Roadmap & Phases",desc:"Create development roadmap with phases and timelines",time:"30-45 min",level:"Intermediate"},{num:4,title:"Wireframe Design",desc:"Design key user interface screens",time:"30-60 min",level:"Intermediate"},{num:5,title:"GTM Strategy",desc:"Plan go-to-market and partnerships",time:"45-60 min",level:"Intermediate"},{num:6,title:"Post-Launch Analytics",desc:"Analyze data and respond to customers",time:"60-90 min",level:"Intermediate"},{num:7,title:"Final Submission",desc:"Consolidate report and create pitch",time:"30-45 min",level:"Intermediate"}].map((p,h)=>c.jsxs("div",{className:`border-2 rounded-xl p-6 transition-all hover:shadow-lg ${h===0?"border-blue-500 bg-gradient-to-r from-blue-50 to-indigo-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[c.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg ${h===0?"bg-gradient-to-br from-blue-500 to-indigo-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:p.num}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:p.title})]}),c.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:p.desc}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsxs("span",{className:"text-gray-500",children:[" ",p.time]}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"font-semibold text-gray-600",children:p.level})]})]},p.num))})]}),c.jsx("section",{id:"reviews",className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-12",children:[c.jsxs("div",{className:"flex-shrink-0",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Reviews"}),c.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-2",children:"Over 100+"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex text-yellow-400 text-2xl",children:"".split("").map((p,h)=>c.jsx("span",{children:p},h))}),c.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"5 Star Reviews"})]})]}),c.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-8 md:pl-12",children:c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100",children:[c.jsx("svg",{className:"w-12 h-12 text-blue-500 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),c.jsx("p",{className:"text-lg text-gray-700 italic mb-6 leading-relaxed",children:'"This simulation gave me practical exposure to real product management workflows. I understood the real-time commitments to the industry and how to approach complex product decisions systematically."'}),c.jsx("p",{className:"text-base font-semibold text-gray-900",children:"- Product Management Student"})]})})]})})]}),c.jsx("div",{className:"md:col-span-1",children:c.jsx("div",{className:"sticky top-24 space-y-6",children:c.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-8 shadow-lg",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${f} rounded-lg flex items-center justify-center`,children:c.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Skills you will learn"})]}),c.jsx("div",{className:"flex flex-wrap gap-3",children:["Product Sense","Technical Feasibility","Teaming & Planning","UX Design","GTM Strategy","Data Insights","Communication"].map(p=>c.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-700 rounded-lg text-sm font-semibold border border-blue-200 hover:border-blue-400 hover:shadow-md transition-all cursor-pointer",children:p},p))}),c.jsxs("a",{href:"#skills",className:"inline-flex items-center gap-2 text-blue-600 text-sm mt-6 font-semibold hover:text-blue-700 group",children:["View All",c.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})]})}),c.jsx("div",{className:`bg-gradient-to-r ${f} text-white py-16 mt-16`,children:c.jsx("div",{className:"max-w-7xl mx-auto px-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-3xl font-bold mb-3",children:"Do not like the Simulation?"}),c.jsx("p",{className:"text-xl text-blue-100",children:"Explore other simulations to find your perfect fit."})]}),c.jsxs(Hr,{to:"/browse",className:"px-8 py-4 bg-white text-blue-600 rounded-xl font-bold text-lg hover:bg-blue-50 transition-all flex items-center gap-3 shadow-xl hover:shadow-2xl transform hover:scale-105",children:["Browse Other Simulations",c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})]})},Fve=()=>{const{id:e}=Lo(),t=Ln(),{user:r,isAuthenticated:n}=O_(),[i,a]=T.useState(null),[s,o]=T.useState([]),[l,u]=T.useState(null),[d,f]=T.useState(!0),[p,h]=T.useState(null),[m,g]=T.useState(null);T.useEffect(()=>{n&&e&&y()},[n,e]);const y=async()=>{var N,E,P,C;try{f(!0),h(null),console.log(` Loading simulation details for ID: ${e}`);const S=await Jc.getMySimulations();console.log(` Found ${S.length} simulations, looking for ID: ${e}`),console.log(" Available simulation IDs:",S.map(U=>({id:U.id,title:U.title})));const A=S.find(U=>U.id===e);if(!A){console.error(` Simulation ${e} not found in recruiter's simulations`),h(`Simulation not found or you do not have access. Available simulations: ${S.length}`),f(!1);return}console.log(` Found simulation: ${A.title}`),a(A);const[I,D]=await Promise.allSettled([Jc.getSimulationParticipants(e),Jc.getSimulationAnalytics(e)]);if(I.status==="fulfilled"){const U=I.value||[];console.log(` Loaded ${U.length} participants`),o(U)}else console.error(" Error loading participants:",I.reason),console.error("Error details:",(N=I.reason)==null?void 0:N.message,(E=I.reason)==null?void 0:E.code),o([]);if(D.status==="fulfilled"){const U=D.value;console.log(" Loaded analytics:",{totalParticipants:U.totalParticipants,averageScore:U.averageScore}),u(U)}else{console.error(" Error loading analytics:",D.reason),console.error("Error details:",(P=D.reason)==null?void 0:P.message,(C=D.reason)==null?void 0:C.code);const U={totalParticipants:0,completedParticipants:0,completionRate:0,averageScore:0,topPerformers:[],scoreDistribution:{"90-100":0,"80-89":0,"70-79":0,"60-69":0,"0-59":0},averageDurationHours:0,taskPerformance:{}};console.log(" Using default analytics due to error"),u(U)}}catch(S){console.error("Error loading simulation details:",S),h(S.message||"Failed to load simulation details. Please try again.")}finally{f(!1)}},v=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",b=(N,E)=>{if(!N||!E)return"N/A";const P=new Date(E)-new Date(N),C=Math.floor(P/(1e3*60*60)),S=Math.floor(P%(1e3*60*60)/(1e3*60));return C>0?`${C}h ${S}m`:`${S}m`},w=N=>N?N>=90?"text-green-600":N>=80?"text-blue-600":N>=70?"text-yellow-600":N>=60?"text-orange-600":"text-red-600":"text-gray-500",x=N=>N?N>=90?"bg-green-100":N>=80?"bg-blue-100":N>=70?"bg-yellow-100":N>=60?"bg-orange-100":"bg-red-100":"bg-gray-100";if(!n)return c.jsx("div",{className:"min-h-screen py-12 px-4",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[c.jsx("p",{className:"text-slate-600",children:"Please sign in to view this page."}),c.jsx(Hr,{to:"/auth?mode=login",className:"text-primary hover:underline mt-4 inline-block",children:"Sign In"})]})})});if(d)return c.jsx("div",{className:"min-h-screen py-12 px-4",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Loading simulation details..."})]})})});if(p&&!i)return c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-red-200 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Error Loading Simulation"}),c.jsx("p",{className:"text-slate-600 mb-4",children:p||"Simulation not found"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left max-w-2xl mx-auto",children:[c.jsx("p",{className:"text-sm font-semibold text-red-900 mb-2",children:"Debug Info:"}),c.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["Simulation ID: ",e]}),c.jsx("p",{className:"text-xs text-red-800 mt-2",children:"Check browser console (F12) for detailed logs"})]}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>t("/creator"),className:"px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Back to Dashboard"}),c.jsx("button",{onClick:y,className:"px-6 py-3 text-slate-700 bg-slate-100 rounded-lg font-semibold hover:bg-slate-200 transition-all",children:"Retry"})]})]})})});if(!i&&!p)return c.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Simulation Not Found"}),c.jsx("p",{className:"text-slate-600 mb-6",children:"The simulation you're looking for doesn't exist or you don't have access to it."}),c.jsx("button",{onClick:()=>t("/creator"),className:"px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Back to Dashboard"})]})})});const j=(l==null?void 0:l.topPerformers)||[],O=[...s].sort((N,E)=>{const P=N.final_score||0;return(E.final_score||0)-P});return c.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>t("/creator"),className:"text-slate-600 hover:text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),c.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:i.title}),c.jsx("p",{className:"text-lg text-slate-600",children:i.description})]}),l&&c.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Participants"}),c.jsx("div",{className:"text-3xl font-bold text-slate-900",children:l.totalParticipants})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),c.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.completedParticipants}),c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[l.completionRate,"% completion rate"]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Average Score"}),c.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[Math.round(l.averageScore),"%"]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Avg. Duration"}),c.jsx("div",{className:"text-3xl font-bold text-purple-600",children:l.averageDurationHours>0?`${Math.round(l.averageDurationHours*10)/10}h`:"N/A"})]})]}),l&&l.scoreDistribution&&c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Score Distribution"}),c.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(l.scoreDistribution).map(([N,E])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-1",children:E}),c.jsx("div",{className:"text-sm text-slate-600",children:N})]},N))})]}),j.length>0&&c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:" Top Performers"}),c.jsx("div",{className:"space-y-3",children:j.slice(0,5).map((N,E)=>{const P=s.find(S=>S.user_id===N.user_id),C=P==null?void 0:P.user_profiles;return c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:E+1}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-slate-900",children:(C==null?void 0:C.full_name)||(C==null?void 0:C.email)||"Anonymous"}),c.jsx("div",{className:"text-sm text-slate-600",children:C==null?void 0:C.email})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`text-2xl font-bold ${w(N.final_score)}`,children:[N.final_score||0,"%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:v(N.completed_at)})]})]},N.id||N.user_id)})})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:["All Participants ",s.length>0&&`(${s.length})`]}),s.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-600",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("p",{className:"text-lg font-semibold mb-2",children:"No completed participants yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Participants will appear here once they complete the simulation."}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-left max-w-2xl mx-auto",children:[c.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Important Note:"}),c.jsxs("p",{className:"text-sm text-blue-800",children:["Only participants who completed the simulation ",c.jsx("strong",{children:"while logged in"})," will appear here. If someone completed it without signing in, their data is stored locally and won't be visible to recruiters."]})]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-200",children:[c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Name"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Email"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Score"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Progress"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Started"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Completed"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Duration"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Actions"})]})}),c.jsx("tbody",{children:O.map(N=>{var C;const E=N.user_profiles,P=N.completed_at!==null;return c.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>g(N),children:[c.jsx("td",{className:"py-3 px-4",children:c.jsx("div",{className:"font-medium text-slate-900",children:(E==null?void 0:E.full_name)||"Anonymous"})}),c.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:(E==null?void 0:E.email)||"N/A"}),c.jsx("td",{className:"py-3 px-4 text-center",children:P&&N.final_score!==null?c.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${x(N.final_score)} ${w(N.final_score)}`,children:[N.final_score,"%"]}):c.jsx("span",{className:"text-slate-400",children:"-"})}),c.jsxs("td",{className:"py-3 px-4 text-center",children:[c.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[Math.round(N.progress_percentage||0),"%"]}),c.jsxs("div",{className:"text-xs text-slate-500",children:[((C=N.completed_tasks)==null?void 0:C.length)||0," tasks"]})]}),c.jsx("td",{className:"py-3 px-4 text-center text-sm text-slate-600",children:v(N.started_at)}),c.jsx("td",{className:"py-3 px-4 text-center text-sm text-slate-600",children:P?v(N.completed_at):c.jsx("span",{className:"text-orange-600",children:"In Progress"})}),c.jsx("td",{className:"py-3 px-4 text-center text-sm text-slate-600",children:b(N.started_at,N.completed_at)}),c.jsx("td",{className:"py-3 px-4 text-center",children:c.jsx("button",{onClick:S=>{S.stopPropagation(),g(N)},className:"px-3 py-1 text-sm font-semibold text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition-all",children:"View"})})]},N.id)})})]})})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Participant Details"}),c.jsx("button",{onClick:()=>g(null),className:"text-slate-400 hover:text-slate-600",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-6",children:c.jsx($ve,{participant:m,simulationId:e})})]})})]})})},$ve=({participant:e,simulationId:t})=>{var l;const r=e.user_profiles,[n,i]=T.useState([]),[a,s]=T.useState(!0);T.useEffect(()=>{o()},[e.user_id,t]);const o=async()=>{try{s(!0);const d=(await Jc.getSimulationSubmissions(t)).filter(f=>f.user_id===e.user_id);i(d)}catch(u){console.error("Error loading submissions:",u)}finally{s(!1)}};return c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[c.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Profile Information"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600",children:"Name:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-900",children:(r==null?void 0:r.full_name)||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600",children:"Email:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-900",children:(r==null?void 0:r.email)||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600",children:"Role:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-900",children:(r==null?void 0:r.user_role)||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600",children:"Joined:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-900",children:r!=null&&r.created_at?new Date(r.created_at).toLocaleDateString():"N/A"})]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Performance Summary"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-slate-600",children:"Final Score"}),c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.final_score!==null?`${e.final_score}%`:"N/A"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-slate-600",children:"Progress"}),c.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[Math.round(e.progress_percentage||0),"%"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-slate-600",children:"Tasks Completed"}),c.jsx("div",{className:"text-2xl font-bold text-slate-900",children:((l=e.completed_tasks)==null?void 0:l.length)||0})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Task Submissions"}),a?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),c.jsx("p",{className:"text-slate-600",children:"Loading submissions..."})]}):n.length===0?c.jsx("div",{className:"text-center py-8 text-slate-600",children:"No submissions yet"}):c.jsx("div",{className:"space-y-4",children:n.map(u=>c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-slate-900",children:["Task ",u.task_id]}),c.jsxs("div",{className:"text-sm text-slate-600",children:["Submitted: ",new Date(u.submitted_at).toLocaleString()]})]}),u.score!==null&&c.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:[u.score,"%"]})]}),u.strengths&&u.strengths.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"text-sm font-semibold text-green-700 mb-1",children:"Strengths:"}),c.jsx("ul",{className:"text-sm text-slate-700 list-disc list-inside",children:u.strengths.map((d,f)=>c.jsx("li",{children:d},f))})]}),u.improvements&&u.improvements.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"text-sm font-semibold text-orange-700 mb-1",children:"Improvements:"}),c.jsx("ul",{className:"text-sm text-slate-700 list-disc list-inside",children:u.improvements.map((d,f)=>c.jsx("li",{children:d},f))})]})]},u.id))})]})]})},Uve=()=>{const e=Ln();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:[c.jsx(pi,{}),c.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 text-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-28",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl md:text-7xl mb-6",children:""}),c.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight mb-4",children:["Slack Simulation",c.jsx("span",{className:"block text-4xl md:text-5xl mt-2 text-pink-200",children:"Conflict Management & Decision Making"})]}),c.jsx("p",{className:"text-xl md:text-2xl text-purple-100 leading-relaxed font-light max-w-3xl mx-auto mb-8",children:"Experience a realistic Slack workspace where you play a Product Manager navigating workplace conflicts, stakeholder disagreements, and high-pressure decision-making scenarios."}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-10",children:[c.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:" Conflict Management"}),c.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:" Decision Making"}),c.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:" 30-45 min"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{onClick:()=>e("/slack_simulation/start"),className:"px-8 py-4 bg-white text-purple-700 rounded-xl font-bold text-lg hover:bg-purple-50 transition-all duration-200 transform hover:scale-105 shadow-xl",children:"Try Simulation"}),c.jsx(Hr,{to:"/browse",className:"px-8 py-4 bg-white/10 backdrop-blur-sm text-white border-2 border-white/30 rounded-xl font-bold text-lg hover:bg-white/20 transition-all duration-200",children:"Browse Other Simulations"})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"What You'll Practice"}),c.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Navigate realistic workplace conflicts and make strategic decisions under pressure"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-purple-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Stakeholder Management"}),c.jsx("p",{className:"text-slate-600",children:"Balance competing interests from engineering, design, sales, and leadership teams while keeping projects on track."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-pink-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Conflict Resolution"}),c.jsx("p",{className:"text-slate-600",children:"Handle disagreements diplomatically, mediate between team members, and find solutions that satisfy multiple stakeholders."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-purple-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Decision Making"}),c.jsx("p",{className:"text-slate-600",children:"Make critical product decisions under pressure, prioritize features, and communicate trade-offs effectively."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-pink-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Communication"}),c.jsx("p",{className:"text-slate-600",children:"Practice clear, professional communication in a Slack-like environment with real-time messaging and team interactions."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-purple-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"AI-Powered Scenarios"}),c.jsx("p",{className:"text-slate-600",children:"Experience dynamic, AI-generated responses from team members with distinct personalities and motivations."})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border-2 border-pink-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Performance Evaluation"}),c.jsx("p",{className:"text-slate-600",children:"Receive detailed feedback on your conflict management approach, decision quality, and communication effectiveness."})]})]})]}),c.jsx("div",{className:"bg-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"How It Works"})}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"1"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Enter the Workspace"}),c.jsx("p",{className:"text-slate-600",children:"You'll join a realistic Slack workspace as a Product Manager with access to multiple channels and direct messages."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"2"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Face Challenges"}),c.jsx("p",{className:"text-slate-600",children:"Random scenarios will appear - from sales promises to design delays to technical debt debates. Navigate these conflicts in real-time."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"3"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Get Evaluated"}),c.jsx("p",{className:"text-slate-600",children:"After resolving a scenario, receive AI-powered feedback on your approach, decision-making, and communication skills."})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Test Your Skills?"}),c.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Step into a realistic workplace scenario and practice conflict management in a safe, interactive environment."}),c.jsx("button",{onClick:()=>e("/slack_simulation/start"),className:"px-10 py-4 bg-white text-purple-700 rounded-xl font-bold text-lg hover:bg-purple-50 transition-all duration-200 transform hover:scale-105 shadow-xl",children:"Start Simulation"})]})})]})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zve=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qve=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),FO=e=>{const t=qve(e);return t.charAt(0).toUpperCase()+t.slice(1)},b9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Wve=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kve=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>T.createElement("svg",{ref:l,...Hve,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:b9("lucide",i),...!a&&!Wve(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>T.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=(e,t)=>{const r=T.forwardRef(({className:n,...i},a)=>T.createElement(Kve,{ref:a,iconNode:t,className:b9(`lucide-${zve(FO(e))}`,`lucide-${e}`,n),...i}));return r.displayName=FO(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vve=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gve=li("activity",Vve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yve=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Xve=li("bolt",Yve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jve=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zve=li("chevron-down",Jve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qve=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eye=li("circle-check-big",Qve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rye=li("circle",tye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nye=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],iye=li("hash",nye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sye=li("lock",aye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oye=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],lye=li("paperclip",oye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],uye=li("pause",cye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dye=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fye=li("send",dye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],pye=li("smile",hye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gye=li("square-check-big",mye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yye=li("target",vye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xye=li("trending-up",bye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_ye=li("x",wye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nye=li("zap",jye),Sye=({channels:e,selectedChannelId:t,onSelectChannel:r,users:n,currentUser:i})=>{const a=e.filter(u=>u.type==="public"),s=e.filter(u=>u.type==="private"),o=e.filter(u=>u.type==="dm"),l=({channel:u})=>{const d=u.id===t,f=(u.unreadCount||0)>0;let p="text-gray-400",h=u.name,m=iye;if(u.type==="private"&&(m=sye),u.type==="dm"){const g=u.memberIds.find(v=>v!==i.id),y=n.find(v=>v.id===g);h=(y==null?void 0:y.name)||"Unknown",m=rye,(y==null?void 0:y.status)==="online"&&(p="text-green-500 fill-current"),(y==null?void 0:y.status)==="busy"&&(p="text-red-500 fill-current")}return c.jsxs("button",{onClick:()=>r(u.id),className:`
          w-full flex items-center px-4 py-1.5 text-sm mb-0.5
          transition-colors duration-150 group
          ${d?"bg-blue-700 text-white":"text-slate-300 hover:bg-slate-700"}
          ${f&&!d?"font-bold text-white":""}
        `,children:[c.jsx("span",{className:`mr-2 opacity-70 ${u.type==="dm"?p:""}`,children:u.type==="dm"?c.jsx(m,{size:10,className:p==="text-gray-400"?"":"fill-current"}):c.jsx(m,{size:14})}),c.jsx("span",{className:"truncate",children:h}),f&&c.jsx("span",{className:"ml-auto bg-red-500 text-white text-[10px] px-1.5 rounded-full",children:u.unreadCount})]})};return c.jsxs("div",{className:"w-64 bg-[#19171D] text-slate-300 flex flex-col h-full flex-shrink-0",children:[c.jsxs("div",{className:"h-14 border-b border-slate-700 flex items-center px-4 hover:bg-slate-700 cursor-pointer transition-colors",children:[c.jsx("h1",{className:"font-bold text-white text-lg truncate",children:"Acme Corp Product"}),c.jsx(Zve,{size:16,className:"ml-2 opacity-70"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[a.length>0&&c.jsxs("div",{className:"px-2 mb-4",children:[c.jsx("div",{className:"px-2 text-xs font-semibold text-slate-400 uppercase mb-1",children:"Channels"}),a.map(u=>c.jsx(l,{channel:u},u.id))]}),s.length>0&&c.jsxs("div",{className:"px-2 mb-4",children:[c.jsx("div",{className:"px-2 text-xs font-semibold text-slate-400 uppercase mb-1",children:"Private"}),s.map(u=>c.jsx(l,{channel:u},u.id))]}),o.length>0&&c.jsxs("div",{className:"px-2",children:[c.jsx("div",{className:"px-2 text-xs font-semibold text-slate-400 uppercase mb-1",children:"Direct Messages"}),o.map(u=>c.jsx(l,{channel:u},u.id))]})]}),c.jsx("div",{className:"h-14 border-t border-slate-700 flex items-center px-4",children:c.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[c.jsx("img",{src:i.avatar,alt:i.name,className:"w-8 h-8 rounded-full flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold text-white truncate",children:i.name}),c.jsx("div",{className:"text-xs text-slate-400 truncate",children:i.role})]})]})})]})},kye=({message:e,sender:t,isSequence:r,isCurrentUser:n})=>{const i=new Date(e.timestamp).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return c.jsxs("div",{className:`
      group flex items-start px-2 py-1 -mx-2 hover:bg-gray-50 rounded transition-colors
      ${r?"mt-0":"mt-3"}
    `,children:[c.jsxs("div",{className:"w-9 flex-shrink-0 mr-3",children:[!r&&c.jsx("img",{src:t.avatar,alt:t.name,className:"w-9 h-9 rounded-md bg-gray-200 object-cover"}),r&&c.jsx("div",{className:"text-[10px] text-gray-400 opacity-0 group-hover:opacity-100 text-right pr-1 pt-1",children:i})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[!r&&c.jsxs("div",{className:"flex items-baseline",children:[c.jsx("span",{className:"font-bold text-gray-900 mr-2",children:t.name}),c.jsx("span",{className:"text-xs text-gray-500",children:i})]}),c.jsx("div",{className:"text-gray-800 leading-relaxed text-[15px]",children:e.text})]})]})},Aye=({messages:e,currentUser:t,users:r,onSendMessage:n,typingUsers:i,channelName:a})=>{const s=T.useRef(null),[o,l]=T.useState("");T.useEffect(()=>{var p;(p=s.current)==null||p.scrollIntoView({behavior:"smooth"})},[e,i]);const u=p=>{p.preventDefault(),o.trim()&&(n(o),l(""))},d=()=>{if(i.length===0)return null;const p=i.map(h=>{var m;return((m=r.find(g=>g.id===h))==null?void 0:m.name)||"Someone"});return p.length===1?`${p[0]} is typing...`:p.length===2?`${p[0]} and ${p[1]} are typing...`:"Several people are typing..."},f=()=>{let p="",h=0;return e.map((m,g)=>{const y=m.senderId===p&&m.timestamp-h<3e5;p=m.senderId,h=m.timestamp;const v=r.find(b=>b.id===m.senderId)||t;return c.jsx(kye,{message:m,sender:v,isSequence:y,isCurrentUser:m.senderId===t.id},m.id)})};return c.jsxs("div",{className:"flex flex-col flex-1 h-full overflow-hidden bg-white",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-1",children:[e.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mb-4",children:c.jsx(Xve,{size:32})}),c.jsxs("p",{children:["This is the start of the ",c.jsxs("span",{className:"font-semibold",children:["#",a]})," channel."]})]}):f(),i.length>0&&c.jsx("div",{className:"text-xs text-gray-500 ml-12 animate-pulse mt-2",children:d()}),c.jsx("div",{ref:s})]}),c.jsxs("div",{className:"px-4 pb-4 pt-2",children:[c.jsxs("div",{className:"border border-gray-300 rounded-xl shadow-sm bg-white focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 transition-all",children:[c.jsx("div",{className:"flex items-center px-2 py-1 bg-gray-50 rounded-t-xl border-b border-gray-100",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-500 font-bold text-xs w-6 h-6 flex items-center justify-center",children:"B"}),c.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-500 italic text-xs w-6 h-6 flex items-center justify-center",children:"I"}),c.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-500 line-through text-xs w-6 h-6 flex items-center justify-center",children:"S"})]})}),c.jsxs("form",{onSubmit:u,className:"flex items-end p-2",children:[c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:`Message #${a}`,className:"w-full max-h-32 min-h-[40px] p-2 outline-none text-gray-900 placeholder-gray-400 bg-transparent",autoFocus:!0})}),c.jsxs("div",{className:"flex items-center space-x-2 pb-1",children:[c.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(lye,{size:18})}),c.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(pye,{size:18})}),c.jsx("button",{type:"submit",disabled:!o.trim(),className:`p-2 rounded transition-colors ${o.trim()?"bg-[#007a5a] text-white hover:bg-[#148567]":"bg-gray-200 text-gray-400"}`,children:c.jsx(fye,{size:16})})]})]})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 text-center",children:[c.jsx("strong",{children:"Tip:"})," Press Enter to send. This is a simulation powered by Gemini."]})]})]})},Eye=({isOpen:e,onClose:t,evaluation:r,scenarioTitle:n})=>!e||!r?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden animate-fade-in-up",children:[c.jsxs("div",{className:"bg-slate-900 text-white p-6 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:"Performance Review"}),c.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Scenario: ",n]})]}),c.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:c.jsx(_ye,{size:24})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("div",{className:"text-gray-600 font-medium",children:"Overall Score"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:`text-4xl font-bold ${r.score>=7?"text-green-600":r.score>=4?"text-yellow-600":"text-red-600"}`,children:r.score}),c.jsx("span",{className:"text-gray-400 text-xl",children:"/10"})]})]}),c.jsx("div",{className:"mb-6 bg-slate-50 p-4 rounded-lg border border-slate-100",children:c.jsxs("p",{className:"text-gray-700 leading-relaxed italic",children:['"',r.feedback,'"']})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center text-green-700 font-semibold mb-2",children:[c.jsx(eye,{size:16,className:"mr-2"})," What went well"]}),c.jsx("ul",{className:"space-y-1",children:(r.strengths||[]).map((i,a)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[c.jsx("span",{className:"mr-2",children:""}),i]},a))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center text-red-600 font-semibold mb-2",children:[c.jsx(xye,{size:16,className:"mr-2"})," Areas to improve"]}),c.jsx("ul",{className:"space-y-1",children:(r.weaknesses||[]).map((i,a)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[c.jsx("span",{className:"mr-2",children:""}),i]},a))})]})]})]}),c.jsx("div",{className:"bg-gray-50 p-4 flex justify-end border-t border-gray-100",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium text-sm",children:"Close Report"})})]})}),Mc={id:"u_me",name:"Alex (You)",avatar:"https://ui-avatars.com/api/?name=Alex+PM&background=0D8ABC&color=fff",role:"Product Manager",status:"online"},Oye=[Mc,{id:"u_eng_lead",name:"Dave Chen",avatar:"https://picsum.photos/id/1012/200/200",role:"Engineering Lead",status:"online",bio:"Experienced, slightly cynical backend engineer. Cares about scalability, hates technical debt and last minute changes. Protective of his team's time."},{id:"u_designer",name:"Sarah Miller",avatar:"https://picsum.photos/id/1027/200/200",role:"Product Designer",status:"busy",bio:'Detail-oriented creative. Loves whitespace, hates when engineers un-align pixels. Often asks for "more time to explore" and pushes for perfect UX over speed.'},{id:"u_vp",name:"Karen Volt",avatar:"https://picsum.photos/id/1011/200/200",role:"VP of Product",status:"online",bio:'High energy, metrics-focused. Constantly asking "when is this shipping?" and "what is the impact on retention?". hates excuses.'},{id:"u_sales",name:"Jim Halpert",avatar:"https://picsum.photos/id/1005/200/200",role:"Sales Lead",status:"offline",bio:'Friendly but demanding. Always promising features to customers that do not exist yet. Thinks engineering can "just squeeze it in".'},{id:"u_junior",name:"Ryan Temp",avatar:"https://picsum.photos/id/1006/200/200",role:"Junior Dev",status:"online",bio:"Eager to please, asks a lot of questions, breaks production occasionally. Scared of Dave."}],$O=[{id:"c_general",name:"general",type:"public",memberIds:["u_me","u_eng_lead","u_designer","u_vp","u_sales","u_junior"],purpose:"Company-wide announcements and fun stuff"},{id:"c_eng",name:"engineering",type:"public",memberIds:["u_me","u_eng_lead","u_junior"],purpose:"Code, deploys, and rubber ducks"},{id:"c_design",name:"design-system",type:"public",memberIds:["u_me","u_designer","u_junior"],purpose:"Figma links and critiques"},{id:"c_project_nexus",name:"proj-nexus",type:"private",memberIds:["u_me","u_eng_lead","u_designer","u_vp"],purpose:"War room for the Nexus launch (Q3)"},{id:"dm_dave",name:"Dave Chen",type:"dm",memberIds:["u_me","u_eng_lead"]},{id:"dm_sarah",name:"Sarah Miller",type:"dm",memberIds:["u_me","u_designer"]},{id:"dm_karen",name:"Karen Volt",type:"dm",memberIds:["u_me","u_vp"]},{id:"dm_jim",name:"Jim Halpert",type:"dm",memberIds:["u_me","u_sales"]}],Pye={c_general:[{id:"m1",senderId:"u_vp",text:"Great job on the town hall everyone! Lets keep up the momentum.",timestamp:Date.now()-1e7,channelId:"c_general"}],c_eng:[{id:"m2",senderId:"u_eng_lead",text:"Who broke the build on staging?",timestamp:Date.now()-36e5,channelId:"c_eng"},{id:"m3",senderId:"u_junior",text:"I think that might have been me... fixing it now.",timestamp:Date.now()-35e5,channelId:"c_eng"}],c_project_nexus:[{id:"m4",senderId:"u_me",text:"Hey team, just uploaded the new PRD for the dashboard widget.",timestamp:Date.now()-864e5,channelId:"c_project_nexus"},{id:"m5",senderId:"u_designer",text:"Taking a look now. I have some thoughts on the layout constraints.",timestamp:Date.now()-8e7,channelId:"c_project_nexus"}],dm_dave:[{id:"m6",senderId:"u_eng_lead",text:"Do we really need the export to PDF feature for V1? It is going to add 3 days.",timestamp:Date.now()-5e5,channelId:"dm_dave"}]},UO=[{id:"sc_scope_creep",title:"The Sales Promise",description:"Jim from Sales has promised a feature to a big client that is not on the roadmap. Engineering is already over capacity.",channelId:"c_general",initiatorId:"u_sales",initialMessage:`Hey @Alex, I just got off the phone with Enterprise Corp. I told them we can definitely include the "Custom Reporting" module in the release next week. They're ready to sign a $50k deal if we do. Huge win!`,stakeholders:["u_sales","u_eng_lead","u_vp"]},{id:"sc_design_delay",title:"Design Perfectionism",description:'Sarah wants to delay the launch to fix "visual polish". Karen (VP) wants to launch now to hit quarterly goals.',channelId:"c_project_nexus",initiatorId:"u_designer",initialMessage:"I've been reviewing the staging build and the animations are just not snappy enough. It feels cheap. I strongly recommend we push the launch back by 3 days to refactor the transition layer. We only get one chance to make a first impression.",stakeholders:["u_designer","u_vp","u_eng_lead"]},{id:"sc_tech_debt",title:"The Critical Refactor",description:`Dave wants to stop all feature work for a "Sprint of Stabilization". Karen thinks it's a waste of time.`,channelId:"c_eng",initiatorId:"u_eng_lead",initialMessage:"@Alex we have a problem. The database latency is spiking. If we add the new notification feature without refactoring the schema first, the whole thing might go down. I need to pull 2 engineers off feature work to fix this ASAP.",stakeholders:["u_eng_lead","u_vp"]}],iS="AIzaSyDxxu4lC3A9tmzUSVH6DHhIMGRTULIYo8o",aS="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",x9=e=>`
    You are roleplaying as ${e.name}, a ${e.role} at a tech company.
    Your bio is: "${e.bio||""}".
    You are communicating in a Slack-like workspace.
    Keep your messages relatively short, informal (unless your persona is formal), and realistic for a work environment.
    Use common tech slang if appropriate for the role.
    Do not use hashtags.
    Do not include the name of the speaker in the output, just the message content.
  `,Cye=async(e,t,r)=>{var a,s,o,l,u;const n=t.find(d=>d.id===e);if(!n)return"Error: Sender not found.";const i=`
    Context: You are posting a message in the channel "${r.name}".
    The purpose of this channel is: "${r.purpose||"General discussion"}".
    
    Generate a single realistic Slack message that this person might send right now.
    It could be a question, a status update, a complaint, or a random thought relevant to their role and the channel.
    If the channel is 'general', keep it light or company related.
    If 'engineering', make it technical.
    If 'design', make it about UX/UI.
    
    Current mood: slightly stressed but professional.
  `;try{const d=await fetch(`${aS}?key=${iS}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}],systemInstruction:{parts:[{text:x9(n)}]},generationConfig:{temperature:.8,maxOutputTokens:60}})});if(!d.ok)throw new Error(`Gemini API error: ${d.status}`);return(((u=(l=(o=(s=(a=(await d.json()).candidates)==null?void 0:a[0])==null?void 0:s.content)==null?void 0:o.parts)==null?void 0:l[0])==null?void 0:u.text)||"Thinking about the roadmap...").trim()}catch(d){return console.error("Gemini Error:",d),"Thinking about the roadmap..."}},Tye=async(e,t,r,n,i)=>{var u,d,f,p,h;const a=t.find(m=>m.id===e);if(!a)return"...";const s=r.slice(-5).map(m=>{const g=t.find(y=>y.id===m.senderId);return`${(g==null?void 0:g.name)||"User"} (${(g==null?void 0:g.role)||"Unknown"}): ${m.text}`}).join(`
`);let o="";i&&(o=`
      CRITICAL CONTEXT: There is an active conflict scenario: "${i.title}".
      Description: ${i.description}
      You are a stakeholder in this. React according to your role and bio.
      If you are the initiator, press your point. 
      If you are an opposing stakeholder, argue back or express concern.
      If you are neutral, be confused or ask for clarification.
    `);const l=`
    Context: You are in a chat conversation.
    ${o}

    Recent history:
    ${s}
    
    The Product Manager (User) just said: "${n}"
    
    Reply to the conversation. Address the PM or the previous speaker.
    Maintain your persona (${a.role}).
    Keep it under 3 sentences. Be reactive and opinionated.
  `;try{const m=await fetch(`${aS}?key=${iS}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],systemInstruction:{parts:[{text:x9(a)}]},generationConfig:{temperature:.7}})});if(!m.ok)throw new Error(`Gemini API error: ${m.status}`);return(((h=(p=(f=(d=(u=(await m.json()).candidates)==null?void 0:u[0])==null?void 0:d.content)==null?void 0:f.parts)==null?void 0:p[0])==null?void 0:h.text)||"Got it.").trim()}catch(m){return console.error("Gemini Error:",m),"Got it."}},Lye=async(e,t,r)=>{var a,s,o,l,u;const n=t.slice(-15).map(d=>{const f=r.find(p=>p.id===d.senderId);return`${(f==null?void 0:f.name)||"User"}: ${d.text}`}).join(`
`),i=`
    You are a Senior Product Leader and mentor.
    A Junior PM (User) has just handled a conflict scenario in a simulated workplace.
    
    Scenario Title: ${e.title}
    Scenario Description: ${e.description}
    
    Transcript of the resolution attempt:
    ${n}
    
    Evaluate the PM's performance based on:
    1. Stakeholder Empathy (Did they listen?)
    2. Business Value (Did they protect the business interests?)
    3. Communication (Was it clear and professional?)
    4. Decision Making (Did they find a resolution or just delay?)
    
    Provide the output in JSON format with: score (number 1-10), feedback (string), strengths (array of strings), weaknesses (array of strings).
  `;try{const d=await fetch(`${aS}?key=${iS}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}],generationConfig:{temperature:.3,responseMimeType:"application/json"}})});if(!d.ok)throw new Error(`Gemini API error: ${d.status}`);const p=(u=(l=(o=(s=(a=(await d.json()).candidates)==null?void 0:a[0])==null?void 0:s.content)==null?void 0:o.parts)==null?void 0:l[0])==null?void 0:u.text;if(p)try{return JSON.parse(p)}catch(h){const m=p.match(/\{[\s\S]*\}/);if(m)return JSON.parse(m[0]);throw h}throw new Error("No text response")}catch(d){return console.error("Evaluation Error:",d),{score:5,feedback:"Could not generate evaluation due to an error. Please try again.",strengths:["Attempted to engage with the scenario"],weaknesses:["Evaluation service unavailable"]}}};function Iye(){const[e,t]=T.useState($O),[r,n]=T.useState(Oye),[i,a]=T.useState(Pye),[s,o]=T.useState($O[0].id),[l,u]=T.useState(!0),[d,f]=T.useState({}),[p,h]=T.useState(null),[m,g]=T.useState(!1),[y,v]=T.useState(null),[b,w]=T.useState(!1),x=T.useRef({channels:e,users:r,messages:i,isSimulating:l,activeScenario:p});T.useEffect(()=>{x.current={channels:e,users:r,messages:i,isSimulating:l,activeScenario:p}},[e,r,i,l,p]);const j=async I=>{const D={id:Date.now().toString(),senderId:Mc.id,text:I,timestamp:Date.now(),channelId:s};a(X=>({...X,[s]:[...X[s]||[],D]}));const U=e.find(X=>X.id===s);let J=[];if(p&&p.channelId===s){const X=p.stakeholders.filter(H=>H!==Mc.id);if(X.length>0){const H=X[Math.floor(Math.random()*X.length)];J.push(H)}}else if((U==null?void 0:U.type)==="dm"){const X=U.memberIds.find(H=>H!==Mc.id);X&&J.push(X)}for(const X of J){N(s,X);try{setTimeout(async()=>{const H=await Tye(X,r,x.current.messages[s]||[],I,p||void 0);O(s,X,H),E(s,X)},2e3+Math.random()*3e3)}catch(H){console.error("Failed to generate reply",H),E(s,X)}}},O=(I,D,U)=>{const J={id:Date.now().toString()+Math.random(),senderId:D,text:U,timestamp:Date.now(),channelId:I};a(X=>{const H=X[I]||[];return{...X,[I]:[...H,J]}}),s!==I&&t(X=>X.map(H=>H.id===I?{...H,unreadCount:(H.unreadCount||0)+1}:H))},N=(I,D)=>{f(U=>({...U,[I]:[...U[I]||[],D]}))},E=(I,D)=>{f(U=>({...U,[I]:(U[I]||[]).filter(J=>J!==D)}))};T.useEffect(()=>{const I=setInterval(async()=>{const{isSimulating:D,channels:U,users:J,activeScenario:X}=x.current;if(!D)return;const H=X?.2:.7;if(Math.random()<H){const W=U[Math.floor(Math.random()*U.length)];if(X&&W.id===X.channelId)return;const V=W.memberIds.filter(R=>R!==Mc.id);if(V.length===0)return;const $=V[Math.floor(Math.random()*V.length)];N(W.id,$);try{const R=await Cye($,J,W);setTimeout(()=>{O(W.id,$,R),E(W.id,$)},3e3)}catch(R){E(W.id,$),console.error("Simulation error",R)}}},15e3);return()=>clearInterval(I)},[]);const P=I=>{o(I),t(D=>D.map(U=>U.id===I?{...U,unreadCount:0}:U))},C=()=>{if(p)return;const I=UO[Math.floor(Math.random()*UO.length)];h(I),P(I.channelId),setTimeout(()=>{O(I.channelId,I.initiatorId,I.initialMessage)},1e3)},S=async()=>{if(p){g(!0);try{const I=await Lye(p,i[p.channelId]||[],r);v(I),w(!0),h(null)}catch(I){console.error("Evaluation failed",I)}finally{g(!1)}}},A=e.find(I=>I.id===s);return c.jsxs("div",{className:"flex h-screen w-full bg-white overflow-hidden antialiased",children:[c.jsx(Sye,{channels:e,selectedChannelId:s,onSelectChannel:P,users:r,currentUser:Mc}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white relative",children:[p&&c.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-2 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center text-amber-800 text-sm",children:[c.jsx(yye,{size:16,className:"mr-2"}),c.jsx("span",{className:"font-bold mr-1",children:"Current Challenge:"}),c.jsx("span",{className:"truncate max-w-xl",children:p.title})]}),c.jsx("button",{onClick:S,disabled:m,className:"flex items-center space-x-1 px-3 py-1 bg-amber-100 hover:bg-amber-200 text-amber-900 rounded text-xs font-semibold transition-colors",children:m?c.jsx("span",{children:"Generating Report..."}):c.jsxs(c.Fragment,{children:[c.jsx(gye,{size:14}),c.jsx("span",{children:"Submit Decision"})]})})]}),c.jsxs("header",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center font-bold text-gray-900 overflow-hidden",children:[(A==null?void 0:A.type)==="dm"?"@ ":"# ",A==null?void 0:A.name,(A==null?void 0:A.purpose)&&c.jsx("span",{className:"ml-4 text-xs font-normal text-gray-500 hidden md:block truncate",children:A.purpose})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[!p&&c.jsxs("button",{onClick:C,className:"flex items-center space-x-1 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium transition-colors shadow-sm",children:[c.jsx(Nye,{size:14}),c.jsx("span",{children:"Start Challenge"})]}),c.jsx("button",{onClick:()=>u(!l),className:`p-2 rounded-md transition-colors ${l?"text-green-600 bg-green-50 hover:bg-green-100":"text-gray-400 hover:bg-gray-100"}`,title:l?"Simulation Live":"Simulation Paused",children:l?c.jsx(Gve,{size:18}):c.jsx(uye,{size:18})})]})})]}),c.jsx(Aye,{messages:i[s]||[],currentUser:Mc,users:r,onSendMessage:j,typingUsers:d[s]||[],channelName:(A==null?void 0:A.name)||"Unknown"}),c.jsx(Eye,{isOpen:b,onClose:()=>w(!1),evaluation:y,scenarioTitle:(p==null?void 0:p.title)||"Completed Scenario"})]})]})}const Rye=()=>c.jsx("div",{className:"h-screen w-screen overflow-hidden",children:c.jsx(Iye,{})});function Mye(){return c.jsx(cW,{children:c.jsx(PU,{basename:"/trysimulate/",children:c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:c.jsxs(_U,{children:[c.jsx(qr,{path:"/auth",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(QW,{})]})}),c.jsx(qr,{path:"/auth/callback",element:c.jsx(eH,{})}),c.jsx(qr,{path:"/complete-profile",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(tH,{})]})}),c.jsx(qr,{path:"/",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(uW,{})]})}),c.jsx(qr,{path:"/browse",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(dW,{})]})}),c.jsx(qr,{path:"/creator",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(fW,{})]})}),c.jsx(qr,{path:"/creator/build",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(gW,{})]})}),c.jsx(qr,{path:"/simulation/customer-comments/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(xW,{})]})}),c.jsx(qr,{path:"/simulation/sales-negotiation/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(wW,{})]})}),c.jsx(qr,{path:"/simulation/prioritization/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(VW,{})]})}),c.jsx(qr,{path:"/simulation/team-conflict/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(GW,{})]})}),c.jsx(qr,{path:"/simulation/custom/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(YW,{})]})}),c.jsx(qr,{path:"/simulation/html/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(XW,{})]})}),c.jsx(qr,{path:"/demosimulation",element:c.jsx(BO,{})}),c.jsx(qr,{path:"/demosimulation/start",element:c.jsx(DO,{})}),c.jsx(qr,{path:"/simulation/:slug",element:c.jsx(BO,{})}),c.jsx(qr,{path:"/simulation/:slug/start",element:c.jsx(DO,{})}),c.jsx(qr,{path:"/creator/simulation/:id",element:c.jsxs(c.Fragment,{children:[c.jsx(pi,{}),c.jsx(Fve,{})]})}),c.jsx(qr,{path:"/slack_simulation",element:c.jsx(Uve,{})}),c.jsx(qr,{path:"/slack_simulation/start",element:c.jsx(Rye,{})})]})})})})}Xx.createRoot(document.getElementById("root")).render(c.jsx(Sg.StrictMode,{children:c.jsx(Mye,{})}));export{Gt as _,ia as c,$s as g};
