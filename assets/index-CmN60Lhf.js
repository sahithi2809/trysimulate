var Y9=Object.defineProperty;var X9=(e,t,r)=>t in e?Y9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ut=(e,t,r)=>X9(e,typeof t!="symbol"?t+"":t,r);function RO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var MO={exports:{}},ny={},BO={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=Symbol.for("react.element"),J9=Symbol.for("react.portal"),Z9=Symbol.for("react.fragment"),Q9=Symbol.for("react.strict_mode"),eB=Symbol.for("react.profiler"),tB=Symbol.for("react.provider"),rB=Symbol.for("react.context"),nB=Symbol.for("react.forward_ref"),iB=Symbol.for("react.suspense"),aB=Symbol.for("react.memo"),sB=Symbol.for("react.lazy"),Fj=Symbol.iterator;function oB(e){return e===null||typeof e!="object"?null:(e=Fj&&e[Fj]||e["@@iterator"],typeof e=="function"?e:null)}var FO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$O=Object.assign,UO={};function tf(e,t,r){this.props=e,this.context=t,this.refs=UO,this.updater=r||FO}tf.prototype.isReactComponent={};tf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qO(){}qO.prototype=tf.prototype;function w5(e,t,r){this.props=e,this.context=t,this.refs=UO,this.updater=r||FO}var _5=w5.prototype=new qO;_5.constructor=w5;$O(_5,tf.prototype);_5.isPureReactComponent=!0;var $j=Array.isArray,zO=Object.prototype.hasOwnProperty,N5={current:null},WO={key:!0,ref:!0,__self:!0,__source:!0};function HO(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)zO.call(t,n)&&!WO.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Lp,type:e,key:a,ref:s,props:i,_owner:N5.current}}function lB(e,t){return{$$typeof:Lp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S5(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lp}function cB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uj=/\/+/g;function ub(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cB(""+e.key):t.toString(36)}function J0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Lp:case J9:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+ub(s,0):n,$j(i)?(r="",e!=null&&(r=e.replace(Uj,"$&/")+"/"),J0(i,t,r,"",function(c){return c})):i!=null&&(S5(i)&&(i=lB(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Uj,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",$j(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+ub(a,o);s+=J0(a,t,r,l,i)}else if(l=oB(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+ub(a,o++),s+=J0(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Vm(e,t,r){if(e==null)return e;var n=[],i=0;return J0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function uB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wi={current:null},Z0={transition:null},dB={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:Z0,ReactCurrentOwner:N5};function KO(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:Vm,forEach:function(e,t,r){Vm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vm(e,function(){t++}),t},toArray:function(e){return Vm(e,function(t){return t})||[]},only:function(e){if(!S5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=tf;Pt.Fragment=Z9;Pt.Profiler=eB;Pt.PureComponent=w5;Pt.StrictMode=Q9;Pt.Suspense=iB;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dB;Pt.act=KO;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$O({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=N5.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)zO.call(t,l)&&!WO.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Lp,type:e.type,key:i,ref:a,props:n,_owner:s}};Pt.createContext=function(e){return e={$$typeof:rB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tB,_context:e},e.Consumer=e};Pt.createElement=HO;Pt.createFactory=function(e){var t=HO.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:nB,render:e}};Pt.isValidElement=S5;Pt.lazy=function(e){return{$$typeof:sB,_payload:{_status:-1,_result:e},_init:uB}};Pt.memo=function(e,t){return{$$typeof:aB,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Z0.transition;Z0.transition={};try{e()}finally{Z0.transition=t}};Pt.unstable_act=KO;Pt.useCallback=function(e,t){return wi.current.useCallback(e,t)};Pt.useContext=function(e){return wi.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return wi.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return wi.current.useEffect(e,t)};Pt.useId=function(){return wi.current.useId()};Pt.useImperativeHandle=function(e,t,r){return wi.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return wi.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return wi.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return wi.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return wi.current.useReducer(e,t,r)};Pt.useRef=function(e){return wi.current.useRef(e)};Pt.useState=function(e){return wi.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return wi.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return wi.current.useTransition()};Pt.version="18.3.1";BO.exports=Pt;var T=BO.exports;const Ng=Fs(T),VO=RO({__proto__:null,default:Ng},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fB=T,hB=Symbol.for("react.element"),pB=Symbol.for("react.fragment"),mB=Object.prototype.hasOwnProperty,gB=fB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vB={key:!0,ref:!0,__self:!0,__source:!0};function GO(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)mB.call(t,n)&&!vB.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:hB,type:e,key:a,ref:s,props:i,_owner:gB.current}}ny.Fragment=pB;ny.jsx=GO;ny.jsxs=GO;MO.exports=ny;var u=MO.exports,Gx={},YO={exports:{}},fa={},XO={exports:{}},JO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,W){var V=K.length;K.push(W);e:for(;0<V;){var $=V-1>>>1,R=K[$];if(0<i(R,W))K[$]=W,K[V]=R,V=$;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var W=K[0],V=K.pop();if(V!==W){K[0]=V;e:for(var $=0,R=K.length,B=R>>>1;$<B;){var q=2*($+1)-1,H=K[q],z=q+1,J=K[z];if(0>i(H,V))z<R&&0>i(J,H)?(K[$]=J,K[z]=V,$=z):(K[$]=H,K[q]=V,$=q);else if(z<R&&0>i(J,V))K[$]=J,K[z]=V,$=z;else break e}}return W}function i(K,W){var V=K.sortIndex-W.sortIndex;return V!==0?V:K.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(K){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=K)n(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(c)}}function x(K){if(g=!1,w(K),!m)if(r(l)!==null)m=!0,Z(N);else{var W=r(c);W!==null&&Q(x,W.startTime-K)}}function N(K,W){m=!1,g&&(g=!1,v(A),A=-1),h=!0;var V=p;try{for(w(W),f=r(l);f!==null&&(!(f.expirationTime>W)||K&&!k());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var R=$(f.expirationTime<=W);W=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),w(W)}else n(l);f=r(l)}if(f!==null)var B=!0;else{var q=r(c);q!==null&&Q(x,q.startTime-W),B=!1}return B}finally{f=null,p=V,h=!1}}var O=!1,j=null,A=-1,P=5,C=-1;function k(){return!(e.unstable_now()-C<P)}function E(){if(j!==null){var K=e.unstable_now();C=K;var W=!0;try{W=j(!0,K)}finally{W?I():(O=!1,j=null)}}else O=!1}var I;if(typeof b=="function")I=function(){b(E)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=E,I=function(){U.postMessage(null)}}else I=function(){y(E,0)};function Z(K){j=K,O||(O=!0,I())}function Q(K,W){A=y(function(){K(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,Z(N))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(K){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var V=p;p=W;try{return K()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var V=p;p=K;try{return W()}finally{p=V}},e.unstable_scheduleCallback=function(K,W,V){var $=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,K){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,K={id:d++,callback:W,priorityLevel:K,startTime:V,expirationTime:R,sortIndex:-1},V>$?(K.sortIndex=V,t(c,K),r(l)===null&&K===r(c)&&(g?(v(A),A=-1):g=!0,Q(x,V-$))):(K.sortIndex=R,t(l,K),m||h||(m=!0,Z(N))),K},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(K){var W=p;return function(){var V=p;p=W;try{return K.apply(this,arguments)}finally{p=V}}}})(JO);XO.exports=JO;var yB=XO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB=T,la=yB;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZO=new Set,Jh={};function gu(e,t){Dd(e,t),Dd(e+"Capture",t)}function Dd(e,t){for(Jh[e]=t,e=0;e<t.length;e++)ZO.add(t[e])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yx=Object.prototype.hasOwnProperty,xB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qj={},zj={};function wB(e){return Yx.call(zj,e)?!0:Yx.call(qj,e)?!1:xB.test(e)?zj[e]=!0:(qj[e]=!0,!1)}function _B(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NB(e,t,r,n){if(t===null||typeof t>"u"||_B(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _i(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new _i(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new _i(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new _i(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new _i(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new _i(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new _i(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new _i(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new _i(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new _i(e,5,!1,e.toLowerCase(),null,!1,!1)});var j5=/[\-:]([a-z])/g;function k5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(j5,k5);Wn[t]=new _i(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(j5,k5);Wn[t]=new _i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(j5,k5);Wn[t]=new _i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new _i(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new _i(e,1,!1,e.toLowerCase(),null,!0,!0)});function A5(e,t,r,n){var i=Wn.hasOwnProperty(t)?Wn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NB(t,r,i,n)&&(r=null),n||i===null?wB(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Co=bB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gm=Symbol.for("react.element"),sd=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),E5=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),eP=Symbol.for("react.context"),O5=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),P5=Symbol.for("react.memo"),ll=Symbol.for("react.lazy"),tP=Symbol.for("react.offscreen"),Wj=Symbol.iterator;function th(e){return e===null||typeof e!="object"?null:(e=Wj&&e[Wj]||e["@@iterator"],typeof e=="function"?e:null)}var Or=Object.assign,db;function wh(e){if(db===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);db=t&&t[1]||""}return`
`+db+e}var fb=!1;function hb(e,t){if(!e||fb)return"";fb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{fb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wh(e):""}function SB(e){switch(e.tag){case 5:return wh(e.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return e=hb(e.type,!1),e;case 11:return e=hb(e.type.render,!1),e;case 1:return e=hb(e.type,!0),e;default:return""}}function Qx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case od:return"Fragment";case sd:return"Portal";case Xx:return"Profiler";case E5:return"StrictMode";case Jx:return"Suspense";case Zx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eP:return(e.displayName||"Context")+".Consumer";case QO:return(e._context.displayName||"Context")+".Provider";case O5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P5:return t=e.displayName||null,t!==null?t:Qx(e.type)||"Memo";case ll:t=e._payload,e=e._init;try{return Qx(e(t))}catch{}}return null}function jB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qx(t);case 8:return t===E5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Il(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kB(e){var t=rP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ym(e){e._valueTracker||(e._valueTracker=kB(e))}function nP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function e2(e,t){var r=t.checked;return Or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Il(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iP(e,t){t=t.checked,t!=null&&A5(e,"checked",t,!1)}function t2(e,t){iP(e,t);var r=Il(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?r2(e,t.type,r):t.hasOwnProperty("defaultValue")&&r2(e,t.type,Il(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function r2(e,t,r){(t!=="number"||Sg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _h=Array.isArray;function _d(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Il(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function n2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return Or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(De(92));if(_h(r)){if(1<r.length)throw Error(De(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Il(r)}}function aP(e,t){var r=Il(t.value),n=Il(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xm,oP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xm=Xm||document.createElement("div"),Xm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AB=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(e){AB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ch[t]=Ch[e]})});function lP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ch.hasOwnProperty(e)&&Ch[e]?(""+t).trim():t+"px"}function cP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var EB=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a2(e,t){if(t){if(EB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function s2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o2=null;function C5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var l2=null,Nd=null,Sd=null;function Yj(e){if(e=Dp(e)){if(typeof l2!="function")throw Error(De(280));var t=e.stateNode;t&&(t=ly(t),l2(e.stateNode,e.type,t))}}function uP(e){Nd?Sd?Sd.push(e):Sd=[e]:Nd=e}function dP(){if(Nd){var e=Nd,t=Sd;if(Sd=Nd=null,Yj(e),t)for(e=0;e<t.length;e++)Yj(t[e])}}function fP(e,t){return e(t)}function hP(){}var pb=!1;function pP(e,t,r){if(pb)return e(t,r);pb=!0;try{return fP(e,t,r)}finally{pb=!1,(Nd!==null||Sd!==null)&&(hP(),dP())}}function Qh(e,t){var r=e.stateNode;if(r===null)return null;var n=ly(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(De(231,t,typeof r));return r}var c2=!1;if(bo)try{var rh={};Object.defineProperty(rh,"passive",{get:function(){c2=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{c2=!1}function OB(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Th=!1,jg=null,kg=!1,u2=null,PB={onError:function(e){Th=!0,jg=e}};function CB(e,t,r,n,i,a,s,o,l){Th=!1,jg=null,OB.apply(PB,arguments)}function TB(e,t,r,n,i,a,s,o,l){if(CB.apply(this,arguments),Th){if(Th){var c=jg;Th=!1,jg=null}else throw Error(De(198));kg||(kg=!0,u2=c)}}function vu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xj(e){if(vu(e)!==e)throw Error(De(188))}function LB(e){var t=e.alternate;if(!t){if(t=vu(e),t===null)throw Error(De(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Xj(i),e;if(a===n)return Xj(i),t;a=a.sibling}throw Error(De(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(De(189))}}if(r.alternate!==n)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?e:t}function gP(e){return e=LB(e),e!==null?vP(e):null}function vP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vP(e);if(t!==null)return t;e=e.sibling}return null}var yP=la.unstable_scheduleCallback,Jj=la.unstable_cancelCallback,IB=la.unstable_shouldYield,RB=la.unstable_requestPaint,Wr=la.unstable_now,DB=la.unstable_getCurrentPriorityLevel,T5=la.unstable_ImmediatePriority,bP=la.unstable_UserBlockingPriority,Ag=la.unstable_NormalPriority,MB=la.unstable_LowPriority,xP=la.unstable_IdlePriority,iy=null,Cs=null;function BB(e){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(iy,e,void 0,(e.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:UB,FB=Math.log,$B=Math.LN2;function UB(e){return e>>>=0,e===0?32:31-(FB(e)/$B|0)|0}var Jm=64,Zm=4194304;function Nh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Nh(o):(a&=s,a!==0&&(n=Nh(a)))}else s=r&~i,s!==0?n=Nh(s):a!==0&&(n=Nh(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-os(t),i=1<<r,n|=e[r],t&=~i;return n}function qB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-os(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=qB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function d2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wP(){var e=Jm;return Jm<<=1,!(Jm&4194240)&&(Jm=64),e}function mb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ip(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-os(t),e[t]=r}function WB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-os(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function L5(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-os(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Yt=0;function _P(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NP,I5,SP,jP,kP,f2=!1,Qm=[],Sl=null,jl=null,kl=null,ep=new Map,tp=new Map,pl=[],HB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zj(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":ep.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tp.delete(t.pointerId)}}function nh(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dp(t),t!==null&&I5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KB(e,t,r,n,i){switch(t){case"focusin":return Sl=nh(Sl,e,t,r,n,i),!0;case"dragenter":return jl=nh(jl,e,t,r,n,i),!0;case"mouseover":return kl=nh(kl,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ep.set(a,nh(ep.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,tp.set(a,nh(tp.get(a)||null,e,t,r,n,i)),!0}return!1}function AP(e){var t=Bc(e.target);if(t!==null){var r=vu(t);if(r!==null){if(t=r.tag,t===13){if(t=mP(r),t!==null){e.blockedOn=t,kP(e.priority,function(){SP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Q0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=h2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);o2=n,r.target.dispatchEvent(n),o2=null}else return t=Dp(r),t!==null&&I5(t),e.blockedOn=r,!1;t.shift()}return!0}function Qj(e,t,r){Q0(e)&&r.delete(t)}function VB(){f2=!1,Sl!==null&&Q0(Sl)&&(Sl=null),jl!==null&&Q0(jl)&&(jl=null),kl!==null&&Q0(kl)&&(kl=null),ep.forEach(Qj),tp.forEach(Qj)}function ih(e,t){e.blockedOn===t&&(e.blockedOn=null,f2||(f2=!0,la.unstable_scheduleCallback(la.unstable_NormalPriority,VB)))}function rp(e){function t(i){return ih(i,e)}if(0<Qm.length){ih(Qm[0],e);for(var r=1;r<Qm.length;r++){var n=Qm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sl!==null&&ih(Sl,e),jl!==null&&ih(jl,e),kl!==null&&ih(kl,e),ep.forEach(t),tp.forEach(t),r=0;r<pl.length;r++)n=pl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<pl.length&&(r=pl[0],r.blockedOn===null);)AP(r),r.blockedOn===null&&pl.shift()}var jd=Co.ReactCurrentBatchConfig,Og=!0;function GB(e,t,r,n){var i=Yt,a=jd.transition;jd.transition=null;try{Yt=1,R5(e,t,r,n)}finally{Yt=i,jd.transition=a}}function YB(e,t,r,n){var i=Yt,a=jd.transition;jd.transition=null;try{Yt=4,R5(e,t,r,n)}finally{Yt=i,jd.transition=a}}function R5(e,t,r,n){if(Og){var i=h2(e,t,r,n);if(i===null)jb(e,t,n,Pg,r),Zj(e,n);else if(KB(i,e,t,r,n))n.stopPropagation();else if(Zj(e,n),t&4&&-1<HB.indexOf(e)){for(;i!==null;){var a=Dp(i);if(a!==null&&NP(a),a=h2(e,t,r,n),a===null&&jb(e,t,n,Pg,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else jb(e,t,n,null,r)}}var Pg=null;function h2(e,t,r,n){if(Pg=null,e=C5(n),e=Bc(e),e!==null)if(t=vu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pg=e,null}function EP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DB()){case T5:return 1;case bP:return 4;case Ag:case MB:return 16;case xP:return 536870912;default:return 16}default:return 16}}var bl=null,D5=null,eg=null;function OP(){if(eg)return eg;var e,t=D5,r=t.length,n,i="value"in bl?bl.value:bl.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return eg=i.slice(e,1<n?1-n:void 0)}function tg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function e0(){return!0}function e3(){return!1}function ha(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?e0:e3,this.isPropagationStopped=e3,this}return Or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=e0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=e0)},persist:function(){},isPersistent:e0}),t}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M5=ha(rf),Rp=Or({},rf,{view:0,detail:0}),XB=ha(Rp),gb,vb,ah,ay=Or({},Rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ah&&(ah&&e.type==="mousemove"?(gb=e.screenX-ah.screenX,vb=e.screenY-ah.screenY):vb=gb=0,ah=e),gb)},movementY:function(e){return"movementY"in e?e.movementY:vb}}),t3=ha(ay),JB=Or({},ay,{dataTransfer:0}),ZB=ha(JB),QB=Or({},Rp,{relatedTarget:0}),yb=ha(QB),eF=Or({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),tF=ha(eF),rF=Or({},rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nF=ha(rF),iF=Or({},rf,{data:0}),r3=ha(iF),aF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oF[e])?!!t[e]:!1}function B5(){return lF}var cF=Or({},Rp,{key:function(e){if(e.key){var t=aF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B5,charCode:function(e){return e.type==="keypress"?tg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uF=ha(cF),dF=Or({},ay,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n3=ha(dF),fF=Or({},Rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B5}),hF=ha(fF),pF=Or({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),mF=ha(pF),gF=Or({},ay,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vF=ha(gF),yF=[9,13,27,32],F5=bo&&"CompositionEvent"in window,Lh=null;bo&&"documentMode"in document&&(Lh=document.documentMode);var bF=bo&&"TextEvent"in window&&!Lh,PP=bo&&(!F5||Lh&&8<Lh&&11>=Lh),i3=" ",a3=!1;function CP(e,t){switch(e){case"keyup":return yF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ld=!1;function xF(e,t){switch(e){case"compositionend":return TP(t);case"keypress":return t.which!==32?null:(a3=!0,i3);case"textInput":return e=t.data,e===i3&&a3?null:e;default:return null}}function wF(e,t){if(ld)return e==="compositionend"||!F5&&CP(e,t)?(e=OP(),eg=D5=bl=null,ld=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return PP&&t.locale!=="ko"?null:t.data;default:return null}}var _F={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_F[e.type]:t==="textarea"}function LP(e,t,r,n){uP(n),t=Cg(t,"onChange"),0<t.length&&(r=new M5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ih=null,np=null;function NF(e){WP(e,0)}function sy(e){var t=dd(e);if(nP(t))return e}function SF(e,t){if(e==="change")return t}var IP=!1;if(bo){var bb;if(bo){var xb="oninput"in document;if(!xb){var o3=document.createElement("div");o3.setAttribute("oninput","return;"),xb=typeof o3.oninput=="function"}bb=xb}else bb=!1;IP=bb&&(!document.documentMode||9<document.documentMode)}function l3(){Ih&&(Ih.detachEvent("onpropertychange",RP),np=Ih=null)}function RP(e){if(e.propertyName==="value"&&sy(np)){var t=[];LP(t,np,e,C5(e)),pP(NF,t)}}function jF(e,t,r){e==="focusin"?(l3(),Ih=t,np=r,Ih.attachEvent("onpropertychange",RP)):e==="focusout"&&l3()}function kF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sy(np)}function AF(e,t){if(e==="click")return sy(t)}function EF(e,t){if(e==="input"||e==="change")return sy(t)}function OF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:OF;function ip(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Yx.call(t,i)||!cs(e[i],t[i]))return!1}return!0}function c3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u3(e,t){var r=c3(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=c3(r)}}function DP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function MP(){for(var e=window,t=Sg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sg(e.document)}return t}function $5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PF(e){var t=MP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&DP(r.ownerDocument.documentElement,r)){if(n!==null&&$5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=u3(r,a);var s=u3(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CF=bo&&"documentMode"in document&&11>=document.documentMode,cd=null,p2=null,Rh=null,m2=!1;function d3(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;m2||cd==null||cd!==Sg(n)||(n=cd,"selectionStart"in n&&$5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rh&&ip(Rh,n)||(Rh=n,n=Cg(p2,"onSelect"),0<n.length&&(t=new M5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cd)))}function t0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ud={animationend:t0("Animation","AnimationEnd"),animationiteration:t0("Animation","AnimationIteration"),animationstart:t0("Animation","AnimationStart"),transitionend:t0("Transition","TransitionEnd")},wb={},BP={};bo&&(BP=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function oy(e){if(wb[e])return wb[e];if(!ud[e])return e;var t=ud[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BP)return wb[e]=t[r];return e}var FP=oy("animationend"),$P=oy("animationiteration"),UP=oy("animationstart"),qP=oy("transitionend"),zP=new Map,f3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ul(e,t){zP.set(e,t),gu(t,[e])}for(var _b=0;_b<f3.length;_b++){var Nb=f3[_b],TF=Nb.toLowerCase(),LF=Nb[0].toUpperCase()+Nb.slice(1);Ul(TF,"on"+LF)}Ul(FP,"onAnimationEnd");Ul($P,"onAnimationIteration");Ul(UP,"onAnimationStart");Ul("dblclick","onDoubleClick");Ul("focusin","onFocus");Ul("focusout","onBlur");Ul(qP,"onTransitionEnd");Dd("onMouseEnter",["mouseout","mouseover"]);Dd("onMouseLeave",["mouseout","mouseover"]);Dd("onPointerEnter",["pointerout","pointerover"]);Dd("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function h3(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TB(n,t,void 0,e),e.currentTarget=null}function WP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;h3(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;h3(i,o,c),a=l}}}if(kg)throw e=u2,kg=!1,u2=null,e}function ur(e,t){var r=t[x2];r===void 0&&(r=t[x2]=new Set);var n=e+"__bubble";r.has(n)||(HP(t,e,2,!1),r.add(n))}function Sb(e,t,r){var n=0;t&&(n|=4),HP(r,e,n,t)}var r0="_reactListening"+Math.random().toString(36).slice(2);function ap(e){if(!e[r0]){e[r0]=!0,ZO.forEach(function(r){r!=="selectionchange"&&(IF.has(r)||Sb(r,!1,e),Sb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[r0]||(t[r0]=!0,Sb("selectionchange",!1,t))}}function HP(e,t,r,n){switch(EP(t)){case 1:var i=GB;break;case 4:i=YB;break;default:i=R5}r=i.bind(null,t,r,e),i=void 0,!c2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function jb(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Bc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}pP(function(){var c=a,d=C5(r),f=[];e:{var p=zP.get(e);if(p!==void 0){var h=M5,m=e;switch(e){case"keypress":if(tg(r)===0)break e;case"keydown":case"keyup":h=uF;break;case"focusin":m="focus",h=yb;break;case"focusout":m="blur",h=yb;break;case"beforeblur":case"afterblur":h=yb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=t3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ZB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=hF;break;case FP:case $P:case UP:h=tF;break;case qP:h=mF;break;case"scroll":h=XB;break;case"wheel":h=vF;break;case"copy":case"cut":case"paste":h=nF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=n3}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,w;b!==null;){w=b;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,v!==null&&(x=Qh(b,v),x!=null&&g.push(sp(b,x,w)))),y)break;b=b.return}0<g.length&&(p=new h(p,m,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==o2&&(m=r.relatedTarget||r.fromElement)&&(Bc(m)||m[xo]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=c,m=m?Bc(m):null,m!==null&&(y=vu(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(g=t3,x="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=n3,x="onPointerLeave",v="onPointerEnter",b="pointer"),y=h==null?p:dd(h),w=m==null?p:dd(m),p=new g(x,b+"leave",h,r,d),p.target=y,p.relatedTarget=w,x=null,Bc(d)===c&&(g=new g(v,b+"enter",m,r,d),g.target=w,g.relatedTarget=y,x=g),y=x,h&&m)t:{for(g=h,v=m,b=0,w=g;w;w=$u(w))b++;for(w=0,x=v;x;x=$u(x))w++;for(;0<b-w;)g=$u(g),b--;for(;0<w-b;)v=$u(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=$u(g),v=$u(v)}g=null}else g=null;h!==null&&p3(f,p,h,g,!1),m!==null&&y!==null&&p3(f,y,m,g,!0)}}e:{if(p=c?dd(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var N=SF;else if(s3(p))if(IP)N=EF;else{N=kF;var O=jF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=AF);if(N&&(N=N(e,c))){LP(f,N,r,d);break e}O&&O(e,p,c),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&r2(p,"number",p.value)}switch(O=c?dd(c):window,e){case"focusin":(s3(O)||O.contentEditable==="true")&&(cd=O,p2=c,Rh=null);break;case"focusout":Rh=p2=cd=null;break;case"mousedown":m2=!0;break;case"contextmenu":case"mouseup":case"dragend":m2=!1,d3(f,r,d);break;case"selectionchange":if(CF)break;case"keydown":case"keyup":d3(f,r,d)}var j;if(F5)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ld?CP(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(PP&&r.locale!=="ko"&&(ld||A!=="onCompositionStart"?A==="onCompositionEnd"&&ld&&(j=OP()):(bl=d,D5="value"in bl?bl.value:bl.textContent,ld=!0)),O=Cg(c,A),0<O.length&&(A=new r3(A,e,null,r,d),f.push({event:A,listeners:O}),j?A.data=j:(j=TP(r),j!==null&&(A.data=j)))),(j=bF?xF(e,r):wF(e,r))&&(c=Cg(c,"onBeforeInput"),0<c.length&&(d=new r3("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}WP(f,t)})}function sp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cg(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Qh(e,r),a!=null&&n.unshift(sp(e,a,i)),a=Qh(e,t),a!=null&&n.push(sp(e,a,i))),e=e.return}return n}function $u(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p3(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Qh(r,a),l!=null&&s.unshift(sp(r,l,o))):i||(l=Qh(r,a),l!=null&&s.push(sp(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var RF=/\r\n?/g,DF=/\u0000|\uFFFD/g;function m3(e){return(typeof e=="string"?e:""+e).replace(RF,`
`).replace(DF,"")}function n0(e,t,r){if(t=m3(t),m3(e)!==t&&r)throw Error(De(425))}function Tg(){}var g2=null,v2=null;function y2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var b2=typeof setTimeout=="function"?setTimeout:void 0,MF=typeof clearTimeout=="function"?clearTimeout:void 0,g3=typeof Promise=="function"?Promise:void 0,BF=typeof queueMicrotask=="function"?queueMicrotask:typeof g3<"u"?function(e){return g3.resolve(null).then(e).catch(FF)}:b2;function FF(e){setTimeout(function(){throw e})}function kb(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),rp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);rp(t)}function Al(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nf=Math.random().toString(36).slice(2),Es="__reactFiber$"+nf,op="__reactProps$"+nf,xo="__reactContainer$"+nf,x2="__reactEvents$"+nf,$F="__reactListeners$"+nf,UF="__reactHandles$"+nf;function Bc(e){var t=e[Es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xo]||r[Es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=v3(e);e!==null;){if(r=e[Es])return r;e=v3(e)}return t}e=r,r=e.parentNode}return null}function Dp(e){return e=e[Es]||e[xo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function ly(e){return e[op]||null}var w2=[],fd=-1;function ql(e){return{current:e}}function pr(e){0>fd||(e.current=w2[fd],w2[fd]=null,fd--)}function sr(e,t){fd++,w2[fd]=e.current,e.current=t}var Rl={},si=ql(Rl),Li=ql(!1),tu=Rl;function Md(e,t){var r=e.type.contextTypes;if(!r)return Rl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ii(e){return e=e.childContextTypes,e!=null}function Lg(){pr(Li),pr(si)}function y3(e,t,r){if(si.current!==Rl)throw Error(De(168));sr(si,t),sr(Li,r)}function KP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(De(108,jB(e)||"Unknown",i));return Or({},r,n)}function Ig(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rl,tu=si.current,sr(si,e),sr(Li,Li.current),!0}function b3(e,t,r){var n=e.stateNode;if(!n)throw Error(De(169));r?(e=KP(e,t,tu),n.__reactInternalMemoizedMergedChildContext=e,pr(Li),pr(si),sr(si,e)):pr(Li),sr(Li,r)}var ao=null,cy=!1,Ab=!1;function VP(e){ao===null?ao=[e]:ao.push(e)}function qF(e){cy=!0,VP(e)}function zl(){if(!Ab&&ao!==null){Ab=!0;var e=0,t=Yt;try{var r=ao;for(Yt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ao=null,cy=!1}catch(i){throw ao!==null&&(ao=ao.slice(e+1)),yP(T5,zl),i}finally{Yt=t,Ab=!1}}return null}var hd=[],pd=0,Rg=null,Dg=0,Aa=[],Ea=0,ru=null,uo=1,fo="";function kc(e,t){hd[pd++]=Dg,hd[pd++]=Rg,Rg=e,Dg=t}function GP(e,t,r){Aa[Ea++]=uo,Aa[Ea++]=fo,Aa[Ea++]=ru,ru=e;var n=uo;e=fo;var i=32-os(n)-1;n&=~(1<<i),r+=1;var a=32-os(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,uo=1<<32-os(t)+i|r<<i|n,fo=a+e}else uo=1<<a|r<<i|n,fo=e}function U5(e){e.return!==null&&(kc(e,1),GP(e,1,0))}function q5(e){for(;e===Rg;)Rg=hd[--pd],hd[pd]=null,Dg=hd[--pd],hd[pd]=null;for(;e===ru;)ru=Aa[--Ea],Aa[Ea]=null,fo=Aa[--Ea],Aa[Ea]=null,uo=Aa[--Ea],Aa[Ea]=null}var sa=null,ia=null,br=!1,is=null;function YP(e,t){var r=Oa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function x3(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sa=e,ia=Al(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sa=e,ia=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ru!==null?{id:uo,overflow:fo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Oa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sa=e,ia=null,!0):!1;default:return!1}}function _2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N2(e){if(br){var t=ia;if(t){var r=t;if(!x3(e,t)){if(_2(e))throw Error(De(418));t=Al(r.nextSibling);var n=sa;t&&x3(e,t)?YP(n,r):(e.flags=e.flags&-4097|2,br=!1,sa=e)}}else{if(_2(e))throw Error(De(418));e.flags=e.flags&-4097|2,br=!1,sa=e}}}function w3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sa=e}function i0(e){if(e!==sa)return!1;if(!br)return w3(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!y2(e.type,e.memoizedProps)),t&&(t=ia)){if(_2(e))throw XP(),Error(De(418));for(;t;)YP(e,t),t=Al(t.nextSibling)}if(w3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ia=Al(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ia=null}}else ia=sa?Al(e.stateNode.nextSibling):null;return!0}function XP(){for(var e=ia;e;)e=Al(e.nextSibling)}function Bd(){ia=sa=null,br=!1}function z5(e){is===null?is=[e]:is.push(e)}var zF=Co.ReactCurrentBatchConfig;function sh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var n=r.stateNode}if(!n)throw Error(De(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,e))}return e}function a0(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _3(e){var t=e._init;return t(e._payload)}function JP(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Cl(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,x){return b===null||b.tag!==6?(b=Ib(w,v.mode,x),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,x){var N=w.type;return N===od?d(v,b,w.props.children,x,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ll&&_3(N)===b.type)?(x=i(b,w.props),x.ref=sh(v,b,w),x.return=v,x):(x=lg(w.type,w.key,w.props,null,v.mode,x),x.ref=sh(v,b,w),x.return=v,x)}function c(v,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Rb(w,v.mode,x),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,x,N){return b===null||b.tag!==7?(b=Gc(w,v.mode,x,N),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ib(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gm:return w=lg(b.type,b.key,b.props,null,v.mode,w),w.ref=sh(v,null,b),w.return=v,w;case sd:return b=Rb(b,v.mode,w),b.return=v,b;case ll:var x=b._init;return f(v,x(b._payload),w)}if(_h(b)||th(b))return b=Gc(b,v.mode,w,null),b.return=v,b;a0(v,b)}return null}function p(v,b,w,x){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:o(v,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gm:return w.key===N?l(v,b,w,x):null;case sd:return w.key===N?c(v,b,w,x):null;case ll:return N=w._init,p(v,b,N(w._payload),x)}if(_h(w)||th(w))return N!==null?null:d(v,b,w,x,null);a0(v,w)}return null}function h(v,b,w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(w)||null,o(b,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gm:return v=v.get(x.key===null?w:x.key)||null,l(b,v,x,N);case sd:return v=v.get(x.key===null?w:x.key)||null,c(b,v,x,N);case ll:var O=x._init;return h(v,b,w,O(x._payload),N)}if(_h(x)||th(x))return v=v.get(w)||null,d(b,v,x,N,null);a0(b,x)}return null}function m(v,b,w,x){for(var N=null,O=null,j=b,A=b=0,P=null;j!==null&&A<w.length;A++){j.index>A?(P=j,j=null):P=j.sibling;var C=p(v,j,w[A],x);if(C===null){j===null&&(j=P);break}e&&j&&C.alternate===null&&t(v,j),b=a(C,b,A),O===null?N=C:O.sibling=C,O=C,j=P}if(A===w.length)return r(v,j),br&&kc(v,A),N;if(j===null){for(;A<w.length;A++)j=f(v,w[A],x),j!==null&&(b=a(j,b,A),O===null?N=j:O.sibling=j,O=j);return br&&kc(v,A),N}for(j=n(v,j);A<w.length;A++)P=h(j,v,A,w[A],x),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?A:P.key),b=a(P,b,A),O===null?N=P:O.sibling=P,O=P);return e&&j.forEach(function(k){return t(v,k)}),br&&kc(v,A),N}function g(v,b,w,x){var N=th(w);if(typeof N!="function")throw Error(De(150));if(w=N.call(w),w==null)throw Error(De(151));for(var O=N=null,j=b,A=b=0,P=null,C=w.next();j!==null&&!C.done;A++,C=w.next()){j.index>A?(P=j,j=null):P=j.sibling;var k=p(v,j,C.value,x);if(k===null){j===null&&(j=P);break}e&&j&&k.alternate===null&&t(v,j),b=a(k,b,A),O===null?N=k:O.sibling=k,O=k,j=P}if(C.done)return r(v,j),br&&kc(v,A),N;if(j===null){for(;!C.done;A++,C=w.next())C=f(v,C.value,x),C!==null&&(b=a(C,b,A),O===null?N=C:O.sibling=C,O=C);return br&&kc(v,A),N}for(j=n(v,j);!C.done;A++,C=w.next())C=h(j,v,A,C.value,x),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?A:C.key),b=a(C,b,A),O===null?N=C:O.sibling=C,O=C);return e&&j.forEach(function(E){return t(v,E)}),br&&kc(v,A),N}function y(v,b,w,x){if(typeof w=="object"&&w!==null&&w.type===od&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gm:e:{for(var N=w.key,O=b;O!==null;){if(O.key===N){if(N=w.type,N===od){if(O.tag===7){r(v,O.sibling),b=i(O,w.props.children),b.return=v,v=b;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ll&&_3(N)===O.type){r(v,O.sibling),b=i(O,w.props),b.ref=sh(v,O,w),b.return=v,v=b;break e}r(v,O);break}else t(v,O);O=O.sibling}w.type===od?(b=Gc(w.props.children,v.mode,x,w.key),b.return=v,v=b):(x=lg(w.type,w.key,w.props,null,v.mode,x),x.ref=sh(v,b,w),x.return=v,v=x)}return s(v);case sd:e:{for(O=w.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Rb(w,v.mode,x),b.return=v,v=b}return s(v);case ll:return O=w._init,y(v,b,O(w._payload),x)}if(_h(w))return m(v,b,w,x);if(th(w))return g(v,b,w,x);a0(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,w),b.return=v,v=b):(r(v,b),b=Ib(w,v.mode,x),b.return=v,v=b),s(v)):r(v,b)}return y}var Fd=JP(!0),ZP=JP(!1),Mg=ql(null),Bg=null,md=null,W5=null;function H5(){W5=md=Bg=null}function K5(e){var t=Mg.current;pr(Mg),e._currentValue=t}function S2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function kd(e,t){Bg=e,W5=md=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ci=!0),e.firstContext=null)}function La(e){var t=e._currentValue;if(W5!==e)if(e={context:e,memoizedValue:t,next:null},md===null){if(Bg===null)throw Error(De(308));md=e,Bg.dependencies={lanes:0,firstContext:e}}else md=md.next=e;return t}var Fc=null;function V5(e){Fc===null?Fc=[e]:Fc.push(e)}function QP(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,V5(t)):(r.next=i.next,i.next=r),t.interleaved=r,wo(e,n)}function wo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cl=!1;function G5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function El(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,wo(e,r)}return i=n.interleaved,i===null?(t.next=t,V5(n)):(t.next=i.next,i.next=t),n.interleaved=t,wo(e,r)}function rg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,L5(e,r)}}function N3(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fg(e,t,r,n){var i=e.updateQueue;cl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(p=t,h=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(h,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(h,f,p):m,p==null)break e;f=Or({},f,p);break e;case 2:cl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=h,l=f):d=d.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);iu|=s,e.lanes=s,e.memoizedState=f}}function S3(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(De(191,i));i.call(n)}}}var Mp={},Ts=ql(Mp),lp=ql(Mp),cp=ql(Mp);function $c(e){if(e===Mp)throw Error(De(174));return e}function Y5(e,t){switch(sr(cp,t),sr(lp,e),sr(Ts,Mp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i2(t,e)}pr(Ts),sr(Ts,t)}function $d(){pr(Ts),pr(lp),pr(cp)}function tC(e){$c(cp.current);var t=$c(Ts.current),r=i2(t,e.type);t!==r&&(sr(lp,e),sr(Ts,r))}function X5(e){lp.current===e&&(pr(Ts),pr(lp))}var Ar=ql(0);function $g(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eb=[];function J5(){for(var e=0;e<Eb.length;e++)Eb[e]._workInProgressVersionPrimary=null;Eb.length=0}var ng=Co.ReactCurrentDispatcher,Ob=Co.ReactCurrentBatchConfig,nu=0,Er=null,yn=null,En=null,Ug=!1,Dh=!1,up=0,WF=0;function Yn(){throw Error(De(321))}function Z5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cs(e[r],t[r]))return!1;return!0}function Q5(e,t,r,n,i,a){if(nu=a,Er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ng.current=e===null||e.memoizedState===null?GF:YF,e=r(n,i),Dh){a=0;do{if(Dh=!1,up=0,25<=a)throw Error(De(301));a+=1,En=yn=null,t.updateQueue=null,ng.current=XF,e=r(n,i)}while(Dh)}if(ng.current=qg,t=yn!==null&&yn.next!==null,nu=0,En=yn=Er=null,Ug=!1,t)throw Error(De(300));return e}function e_(){var e=up!==0;return up=0,e}function ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Er.memoizedState=En=e:En=En.next=e,En}function Ia(){if(yn===null){var e=Er.alternate;e=e!==null?e.memoizedState:null}else e=yn.next;var t=En===null?Er.memoizedState:En.next;if(t!==null)En=t,yn=e;else{if(e===null)throw Error(De(310));yn=e,e={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},En===null?Er.memoizedState=En=e:En=En.next=e}return En}function dp(e,t){return typeof t=="function"?t(e):t}function Pb(e){var t=Ia(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=yn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((nu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Er.lanes|=d,iu|=d}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,cs(n,t.memoizedState)||(Ci=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Er.lanes|=a,iu|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cb(e){var t=Ia(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);cs(a,t.memoizedState)||(Ci=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function rC(){}function nC(e,t){var r=Er,n=Ia(),i=t(),a=!cs(n.memoizedState,i);if(a&&(n.memoizedState=i,Ci=!0),n=n.queue,t_(sC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||En!==null&&En.memoizedState.tag&1){if(r.flags|=2048,fp(9,aC.bind(null,r,n,i,t),void 0,null),Cn===null)throw Error(De(349));nu&30||iC(r,t,i)}return i}function iC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Er.updateQueue,t===null?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aC(e,t,r,n){t.value=r,t.getSnapshot=n,oC(t)&&lC(e)}function sC(e,t,r){return r(function(){oC(t)&&lC(e)})}function oC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cs(e,r)}catch{return!0}}function lC(e){var t=wo(e,1);t!==null&&ls(t,e,1,-1)}function j3(e){var t=ks();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:e},t.queue=e,e=e.dispatch=VF.bind(null,Er,e),[t.memoizedState,e]}function fp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Er.updateQueue,t===null?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cC(){return Ia().memoizedState}function ig(e,t,r,n){var i=ks();Er.flags|=e,i.memoizedState=fp(1|t,r,void 0,n===void 0?null:n)}function uy(e,t,r,n){var i=Ia();n=n===void 0?null:n;var a=void 0;if(yn!==null){var s=yn.memoizedState;if(a=s.destroy,n!==null&&Z5(n,s.deps)){i.memoizedState=fp(t,r,a,n);return}}Er.flags|=e,i.memoizedState=fp(1|t,r,a,n)}function k3(e,t){return ig(8390656,8,e,t)}function t_(e,t){return uy(2048,8,e,t)}function uC(e,t){return uy(4,2,e,t)}function dC(e,t){return uy(4,4,e,t)}function fC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hC(e,t,r){return r=r!=null?r.concat([e]):null,uy(4,4,fC.bind(null,t,e),r)}function r_(){}function pC(e,t){var r=Ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Z5(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mC(e,t){var r=Ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Z5(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gC(e,t,r){return nu&21?(cs(r,t)||(r=wP(),Er.lanes|=r,iu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ci=!0),e.memoizedState=r)}function HF(e,t){var r=Yt;Yt=r!==0&&4>r?r:4,e(!0);var n=Ob.transition;Ob.transition={};try{e(!1),t()}finally{Yt=r,Ob.transition=n}}function vC(){return Ia().memoizedState}function KF(e,t,r){var n=Pl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yC(e))bC(t,r);else if(r=QP(e,t,r,n),r!==null){var i=bi();ls(r,e,n,i),xC(r,t,n)}}function VF(e,t,r){var n=Pl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yC(e))bC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,cs(o,s)){var l=t.interleaved;l===null?(i.next=i,V5(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=QP(e,t,i,n),r!==null&&(i=bi(),ls(r,e,n,i),xC(r,t,n))}}function yC(e){var t=e.alternate;return e===Er||t!==null&&t===Er}function bC(e,t){Dh=Ug=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,L5(e,r)}}var qg={readContext:La,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},GF={readContext:La,useCallback:function(e,t){return ks().memoizedState=[e,t===void 0?null:t],e},useContext:La,useEffect:k3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ig(4194308,4,fC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ig(4194308,4,e,t)},useInsertionEffect:function(e,t){return ig(4,2,e,t)},useMemo:function(e,t){var r=ks();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ks();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KF.bind(null,Er,e),[n.memoizedState,e]},useRef:function(e){var t=ks();return e={current:e},t.memoizedState=e},useState:j3,useDebugValue:r_,useDeferredValue:function(e){return ks().memoizedState=e},useTransition:function(){var e=j3(!1),t=e[0];return e=HF.bind(null,e[1]),ks().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Er,i=ks();if(br){if(r===void 0)throw Error(De(407));r=r()}else{if(r=t(),Cn===null)throw Error(De(349));nu&30||iC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,k3(sC.bind(null,n,a,e),[e]),n.flags|=2048,fp(9,aC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ks(),t=Cn.identifierPrefix;if(br){var r=fo,n=uo;r=(n&~(1<<32-os(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=up++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YF={readContext:La,useCallback:pC,useContext:La,useEffect:t_,useImperativeHandle:hC,useInsertionEffect:uC,useLayoutEffect:dC,useMemo:mC,useReducer:Pb,useRef:cC,useState:function(){return Pb(dp)},useDebugValue:r_,useDeferredValue:function(e){var t=Ia();return gC(t,yn.memoizedState,e)},useTransition:function(){var e=Pb(dp)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:rC,useSyncExternalStore:nC,useId:vC,unstable_isNewReconciler:!1},XF={readContext:La,useCallback:pC,useContext:La,useEffect:t_,useImperativeHandle:hC,useInsertionEffect:uC,useLayoutEffect:dC,useMemo:mC,useReducer:Cb,useRef:cC,useState:function(){return Cb(dp)},useDebugValue:r_,useDeferredValue:function(e){var t=Ia();return yn===null?t.memoizedState=e:gC(t,yn.memoizedState,e)},useTransition:function(){var e=Cb(dp)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:rC,useSyncExternalStore:nC,useId:vC,unstable_isNewReconciler:!1};function Qa(e,t){if(e&&e.defaultProps){t=Or({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function j2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Or({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dy={isMounted:function(e){return(e=e._reactInternals)?vu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bi(),i=Pl(e),a=mo(n,i);a.payload=t,r!=null&&(a.callback=r),t=El(e,a,i),t!==null&&(ls(t,e,i,n),rg(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bi(),i=Pl(e),a=mo(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=El(e,a,i),t!==null&&(ls(t,e,i,n),rg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bi(),n=Pl(e),i=mo(r,n);i.tag=2,t!=null&&(i.callback=t),t=El(e,i,n),t!==null&&(ls(t,e,n,r),rg(t,e,n))}};function A3(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!ip(r,n)||!ip(i,a):!0}function wC(e,t,r){var n=!1,i=Rl,a=t.contextType;return typeof a=="object"&&a!==null?a=La(a):(i=Ii(t)?tu:si.current,n=t.contextTypes,a=(n=n!=null)?Md(e,i):Rl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function E3(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dy.enqueueReplaceState(t,t.state,null)}function k2(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},G5(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=La(a):(a=Ii(t)?tu:si.current,i.context=Md(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(j2(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dy.enqueueReplaceState(i,i.state,null),Fg(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ud(e,t){try{var r="",n=t;do r+=SB(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Tb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function A2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JF=typeof WeakMap=="function"?WeakMap:Map;function _C(e,t,r){r=mo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wg||(Wg=!0,M2=n),A2(e,t)},r}function NC(e,t,r){r=mo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){A2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){A2(e,t),typeof n!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function O3(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JF;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=d$.bind(null,e,t,r),t.then(e,e))}function P3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C3(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mo(-1,1),t.tag=2,El(r,t,1))),r.lanes|=1),e)}var ZF=Co.ReactCurrentOwner,Ci=!1;function hi(e,t,r,n){t.child=e===null?ZP(t,null,r,n):Fd(t,e.child,r,n)}function T3(e,t,r,n,i){r=r.render;var a=t.ref;return kd(t,i),n=Q5(e,t,r,n,a,i),r=e_(),e!==null&&!Ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_o(e,t,i)):(br&&r&&U5(t),t.flags|=1,hi(e,t,n,i),t.child)}function L3(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!u_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,SC(e,t,a,n,i)):(e=lg(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ip,r(s,n)&&e.ref===t.ref)return _o(e,t,i)}return t.flags|=1,e=Cl(a,n),e.ref=t.ref,e.return=t,t.child=e}function SC(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ip(a,n)&&e.ref===t.ref)if(Ci=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ci=!0);else return t.lanes=e.lanes,_o(e,t,i)}return E2(e,t,r,n,i)}function jC(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(vd,Zi),Zi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(vd,Zi),Zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,sr(vd,Zi),Zi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,sr(vd,Zi),Zi|=n;return hi(e,t,i,r),t.child}function kC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function E2(e,t,r,n,i){var a=Ii(r)?tu:si.current;return a=Md(t,a),kd(t,i),r=Q5(e,t,r,n,a,i),n=e_(),e!==null&&!Ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_o(e,t,i)):(br&&n&&U5(t),t.flags|=1,hi(e,t,r,i),t.child)}function I3(e,t,r,n,i){if(Ii(r)){var a=!0;Ig(t)}else a=!1;if(kd(t,i),t.stateNode===null)ag(e,t),wC(t,r,n),k2(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=La(c):(c=Ii(r)?tu:si.current,c=Md(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&E3(t,s,n,c),cl=!1;var p=t.memoizedState;s.state=p,Fg(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Li.current||cl?(typeof d=="function"&&(j2(t,r,d,n),l=t.memoizedState),(o=cl||A3(t,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,eC(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Qa(t.type,o),s.props=c,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=La(l):(l=Ii(r)?tu:si.current,l=Md(t,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&E3(t,s,n,l),cl=!1,p=t.memoizedState,s.state=p,Fg(t,n,s,i);var m=t.memoizedState;o!==f||p!==m||Li.current||cl?(typeof h=="function"&&(j2(t,r,h,n),m=t.memoizedState),(c=cl||A3(t,r,c,n,p,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return O2(e,t,r,n,a,i)}function O2(e,t,r,n,i,a){kC(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&b3(t,r,!1),_o(e,t,a);n=t.stateNode,ZF.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Fd(t,e.child,null,a),t.child=Fd(t,null,o,a)):hi(e,t,o,a),t.memoizedState=n.state,i&&b3(t,r,!0),t.child}function AC(e){var t=e.stateNode;t.pendingContext?y3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y3(e,t.context,!1),Y5(e,t.containerInfo)}function R3(e,t,r,n,i){return Bd(),z5(i),t.flags|=256,hi(e,t,r,n),t.child}var P2={dehydrated:null,treeContext:null,retryLane:0};function C2(e){return{baseLanes:e,cachePool:null,transitions:null}}function EC(e,t,r){var n=t.pendingProps,i=Ar.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sr(Ar,i&1),e===null)return N2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=py(s,n,0,null),e=Gc(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=C2(r),t.memoizedState=P2,e):n_(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return QF(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Cl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Cl(o,a):(a=Gc(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?C2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=P2,n}return a=e.child,e=a.sibling,n=Cl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function n_(e,t){return t=py({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function s0(e,t,r,n){return n!==null&&z5(n),Fd(t,e.child,null,r),e=n_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QF(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Tb(Error(De(422))),s0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=py({mode:"visible",children:n.children},i,0,null),a=Gc(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Fd(t,e.child,null,s),t.child.memoizedState=C2(s),t.memoizedState=P2,a);if(!(t.mode&1))return s0(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(De(419)),n=Tb(a,n,void 0),s0(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ci||o){if(n=Cn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,wo(e,i),ls(n,e,i,-1))}return c_(),n=Tb(Error(De(421))),s0(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=f$.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ia=Al(i.nextSibling),sa=t,br=!0,is=null,e!==null&&(Aa[Ea++]=uo,Aa[Ea++]=fo,Aa[Ea++]=ru,uo=e.id,fo=e.overflow,ru=t),t=n_(t,n.children),t.flags|=4096,t)}function D3(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),S2(e.return,t,r)}function Lb(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function OC(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(hi(e,t,n.children,r),n=Ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D3(e,r,t);else if(e.tag===19)D3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(Ar,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&$g(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Lb(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$g(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Lb(t,!0,r,null,a);break;case"together":Lb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ag(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _o(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),iu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,r=Cl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e$(e,t,r){switch(t.tag){case 3:AC(t),Bd();break;case 5:tC(t);break;case 1:Ii(t.type)&&Ig(t);break;case 4:Y5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;sr(Mg,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(Ar,Ar.current&1),t.flags|=128,null):r&t.child.childLanes?EC(e,t,r):(sr(Ar,Ar.current&1),e=_o(e,t,r),e!==null?e.sibling:null);sr(Ar,Ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OC(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(Ar,Ar.current),n)break;return null;case 22:case 23:return t.lanes=0,jC(e,t,r)}return _o(e,t,r)}var PC,T2,CC,TC;PC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};T2=function(){};CC=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$c(Ts.current);var a=null;switch(r){case"input":i=e2(e,i),n=e2(e,n),a=[];break;case"select":i=Or({},i,{value:void 0}),n=Or({},n,{value:void 0}),a=[];break;case"textarea":i=n2(e,i),n=n2(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Tg)}a2(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ur("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};TC=function(e,t,r,n){r!==n&&(t.flags|=4)};function oh(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t$(e,t,r){var n=t.pendingProps;switch(q5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(t),null;case 1:return Ii(t.type)&&Lg(),Xn(t),null;case 3:return n=t.stateNode,$d(),pr(Li),pr(si),J5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(i0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,is!==null&&($2(is),is=null))),T2(e,t),Xn(t),null;case 5:X5(t);var i=$c(cp.current);if(r=t.type,e!==null&&t.stateNode!=null)CC(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(De(166));return Xn(t),null}if(e=$c(Ts.current),i0(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Es]=t,n[op]=a,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(i=0;i<Sh.length;i++)ur(Sh[i],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":Hj(n,a),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ur("invalid",n);break;case"textarea":Vj(n,a),ur("invalid",n)}a2(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&n0(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&n0(n.textContent,o,e),i=["children",""+o]):Jh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ur("scroll",n)}switch(r){case"input":Ym(n),Kj(n,a,!0);break;case"textarea":Ym(n),Gj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Tg)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Es]=t,e[op]=n,PC(e,t,!1,!1),t.stateNode=e;e:{switch(s=s2(r,n),r){case"dialog":ur("cancel",e),ur("close",e),i=n;break;case"iframe":case"object":case"embed":ur("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sh.length;i++)ur(Sh[i],e);i=n;break;case"source":ur("error",e),i=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=n;break;case"details":ur("toggle",e),i=n;break;case"input":Hj(e,n),i=e2(e,n),ur("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Or({},n,{value:void 0}),ur("invalid",e);break;case"textarea":Vj(e,n),i=n2(e,n),ur("invalid",e);break;default:i=n}a2(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?cP(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oP(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zh(e,l):typeof l=="number"&&Zh(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ur("scroll",e):l!=null&&A5(e,a,l,s))}switch(r){case"input":Ym(e),Kj(e,n,!1);break;case"textarea":Ym(e),Gj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Il(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?_d(e,!!n.multiple,a,!1):n.defaultValue!=null&&_d(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Tg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xn(t),null;case 6:if(e&&t.stateNode!=null)TC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(De(166));if(r=$c(cp.current),$c(Ts.current),i0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Es]=t,(a=n.nodeValue!==r)&&(e=sa,e!==null))switch(e.tag){case 3:n0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&n0(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Es]=t,t.stateNode=n}return Xn(t),null;case 13:if(pr(Ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&ia!==null&&t.mode&1&&!(t.flags&128))XP(),Bd(),t.flags|=98560,a=!1;else if(a=i0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(De(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(De(317));a[Es]=t}else Bd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xn(t),a=!1}else is!==null&&($2(is),is=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ar.current&1?wn===0&&(wn=3):c_())),t.updateQueue!==null&&(t.flags|=4),Xn(t),null);case 4:return $d(),T2(e,t),e===null&&ap(t.stateNode.containerInfo),Xn(t),null;case 10:return K5(t.type._context),Xn(t),null;case 17:return Ii(t.type)&&Lg(),Xn(t),null;case 19:if(pr(Ar),a=t.memoizedState,a===null)return Xn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)oh(a,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$g(e),s!==null){for(t.flags|=128,oh(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(Ar,Ar.current&1|2),t.child}e=e.sibling}a.tail!==null&&Wr()>qd&&(t.flags|=128,n=!0,oh(a,!1),t.lanes=4194304)}else{if(!n)if(e=$g(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!br)return Xn(t),null}else 2*Wr()-a.renderingStartTime>qd&&r!==1073741824&&(t.flags|=128,n=!0,oh(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Wr(),t.sibling=null,r=Ar.current,sr(Ar,n?r&1|2:r&1),t):(Xn(t),null);case 22:case 23:return l_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zi&1073741824&&(Xn(t),t.subtreeFlags&6&&(t.flags|=8192)):Xn(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function r$(e,t){switch(q5(t),t.tag){case 1:return Ii(t.type)&&Lg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $d(),pr(Li),pr(si),J5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X5(t),null;case 13:if(pr(Ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));Bd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(Ar),null;case 4:return $d(),null;case 10:return K5(t.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var o0=!1,ni=!1,n$=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function gd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mr(e,t,n)}else r.current=null}function L2(e,t,r){try{r()}catch(n){Mr(e,t,n)}}var M3=!1;function i$(e,t){if(g2=Og,e=MP(),$5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++c===i&&(o=s),p===a&&++d===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(v2={focusedElem:e,selectionRange:r},Og=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Qa(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(x){Mr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return m=M3,M3=!1,m}function Mh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&L2(t,r,a)}i=i.next}while(i!==n)}}function fy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function I2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LC(e){var t=e.alternate;t!==null&&(e.alternate=null,LC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Es],delete t[op],delete t[x2],delete t[$F],delete t[UF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IC(e){return e.tag===5||e.tag===3||e.tag===4}function B3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Tg));else if(n!==4&&(e=e.child,e!==null))for(R2(e,t,r),e=e.sibling;e!==null;)R2(e,t,r),e=e.sibling}function D2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(D2(e,t,r),e=e.sibling;e!==null;)D2(e,t,r),e=e.sibling}var qn=null,ts=!1;function il(e,t,r){for(r=r.child;r!==null;)RC(e,t,r),r=r.sibling}function RC(e,t,r){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(iy,r)}catch{}switch(r.tag){case 5:ni||gd(r,t);case 6:var n=qn,i=ts;qn=null,il(e,t,r),qn=n,ts=i,qn!==null&&(ts?(e=qn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qn.removeChild(r.stateNode));break;case 18:qn!==null&&(ts?(e=qn,r=r.stateNode,e.nodeType===8?kb(e.parentNode,r):e.nodeType===1&&kb(e,r),rp(e)):kb(qn,r.stateNode));break;case 4:n=qn,i=ts,qn=r.stateNode.containerInfo,ts=!0,il(e,t,r),qn=n,ts=i;break;case 0:case 11:case 14:case 15:if(!ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&L2(r,t,s),i=i.next}while(i!==n)}il(e,t,r);break;case 1:if(!ni&&(gd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Mr(r,t,o)}il(e,t,r);break;case 21:il(e,t,r);break;case 22:r.mode&1?(ni=(n=ni)||r.memoizedState!==null,il(e,t,r),ni=n):il(e,t,r);break;default:il(e,t,r)}}function F3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n$),t.forEach(function(n){var i=h$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ga(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:qn=o.stateNode,ts=!1;break e;case 3:qn=o.stateNode.containerInfo,ts=!0;break e;case 4:qn=o.stateNode.containerInfo,ts=!0;break e}o=o.return}if(qn===null)throw Error(De(160));RC(a,s,i),qn=null,ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DC(t,e),t=t.sibling}function DC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ga(t,e),_s(e),n&4){try{Mh(3,e,e.return),fy(3,e)}catch(g){Mr(e,e.return,g)}try{Mh(5,e,e.return)}catch(g){Mr(e,e.return,g)}}break;case 1:Ga(t,e),_s(e),n&512&&r!==null&&gd(r,r.return);break;case 5:if(Ga(t,e),_s(e),n&512&&r!==null&&gd(r,r.return),e.flags&32){var i=e.stateNode;try{Zh(i,"")}catch(g){Mr(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&iP(i,a),s2(o,s);var c=s2(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?cP(i,f):d==="dangerouslySetInnerHTML"?oP(i,f):d==="children"?Zh(i,f):A5(i,d,f,c)}switch(o){case"input":t2(i,a);break;case"textarea":aP(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?_d(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?_d(i,!!a.multiple,a.defaultValue,!0):_d(i,!!a.multiple,a.multiple?[]:"",!1))}i[op]=a}catch(g){Mr(e,e.return,g)}}break;case 6:if(Ga(t,e),_s(e),n&4){if(e.stateNode===null)throw Error(De(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Mr(e,e.return,g)}}break;case 3:if(Ga(t,e),_s(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rp(t.containerInfo)}catch(g){Mr(e,e.return,g)}break;case 4:Ga(t,e),_s(e);break;case 13:Ga(t,e),_s(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(s_=Wr())),n&4&&F3(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ni=(c=ni)||d,Ga(t,e),ni=c):Ga(t,e),_s(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ye=e,d=e.child;d!==null;){for(f=Ye=d;Ye!==null;){switch(p=Ye,h=p.child,p.tag){case 0:case 11:case 14:case 15:Mh(4,p,p.return);break;case 1:gd(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Mr(n,r,g)}}break;case 5:gd(p,p.return);break;case 22:if(p.memoizedState!==null){U3(f);continue}}h!==null?(h.return=p,Ye=h):U3(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lP("display",s))}catch(g){Mr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Mr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ga(t,e),_s(e),n&4&&F3(e);break;case 21:break;default:Ga(t,e),_s(e)}}function _s(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(IC(r)){var n=r;break e}r=r.return}throw Error(De(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zh(i,""),n.flags&=-33);var a=B3(e);D2(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=B3(e);R2(e,o,s);break;default:throw Error(De(161))}}catch(l){Mr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a$(e,t,r){Ye=e,MC(e)}function MC(e,t,r){for(var n=(e.mode&1)!==0;Ye!==null;){var i=Ye,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||o0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ni;o=o0;var c=ni;if(o0=s,(ni=l)&&!c)for(Ye=i;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?q3(i):l!==null?(l.return=s,Ye=l):q3(i);for(;a!==null;)Ye=a,MC(a),a=a.sibling;Ye=i,o0=o,ni=c}$3(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ye=a):$3(e)}}function $3(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ni||fy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ni)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qa(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&S3(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}S3(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&rp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}ni||t.flags&512&&I2(t)}catch(p){Mr(t,t.return,p)}}if(t===e){Ye=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function U3(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function q3(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fy(4,t)}catch(l){Mr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Mr(t,i,l)}}var a=t.return;try{I2(t)}catch(l){Mr(t,a,l)}break;case 5:var s=t.return;try{I2(t)}catch(l){Mr(t,s,l)}}}catch(l){Mr(t,t.return,l)}if(t===e){Ye=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ye=o;break}Ye=t.return}}var s$=Math.ceil,zg=Co.ReactCurrentDispatcher,i_=Co.ReactCurrentOwner,Ca=Co.ReactCurrentBatchConfig,Bt=0,Cn=null,nn=null,zn=0,Zi=0,vd=ql(0),wn=0,hp=null,iu=0,hy=0,a_=0,Bh=null,Oi=null,s_=0,qd=1/0,no=null,Wg=!1,M2=null,Ol=null,l0=!1,xl=null,Hg=0,Fh=0,B2=null,sg=-1,og=0;function bi(){return Bt&6?Wr():sg!==-1?sg:sg=Wr()}function Pl(e){return e.mode&1?Bt&2&&zn!==0?zn&-zn:zF.transition!==null?(og===0&&(og=wP()),og):(e=Yt,e!==0||(e=window.event,e=e===void 0?16:EP(e.type)),e):1}function ls(e,t,r,n){if(50<Fh)throw Fh=0,B2=null,Error(De(185));Ip(e,r,n),(!(Bt&2)||e!==Cn)&&(e===Cn&&(!(Bt&2)&&(hy|=r),wn===4&&ml(e,zn)),Ri(e,n),r===1&&Bt===0&&!(t.mode&1)&&(qd=Wr()+500,cy&&zl()))}function Ri(e,t){var r=e.callbackNode;zB(e,t);var n=Eg(e,e===Cn?zn:0);if(n===0)r!==null&&Jj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jj(r),t===1)e.tag===0?qF(z3.bind(null,e)):VP(z3.bind(null,e)),BF(function(){!(Bt&6)&&zl()}),r=null;else{switch(_P(n)){case 1:r=T5;break;case 4:r=bP;break;case 16:r=Ag;break;case 536870912:r=xP;break;default:r=Ag}r=HC(r,BC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function BC(e,t){if(sg=-1,og=0,Bt&6)throw Error(De(327));var r=e.callbackNode;if(Ad()&&e.callbackNode!==r)return null;var n=Eg(e,e===Cn?zn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kg(e,n);else{t=n;var i=Bt;Bt|=2;var a=$C();(Cn!==e||zn!==t)&&(no=null,qd=Wr()+500,Vc(e,t));do try{c$();break}catch(o){FC(e,o)}while(!0);H5(),zg.current=a,Bt=i,nn!==null?t=0:(Cn=null,zn=0,t=wn)}if(t!==0){if(t===2&&(i=d2(e),i!==0&&(n=i,t=F2(e,i))),t===1)throw r=hp,Vc(e,0),ml(e,n),Ri(e,Wr()),r;if(t===6)ml(e,n);else{if(i=e.current.alternate,!(n&30)&&!o$(i)&&(t=Kg(e,n),t===2&&(a=d2(e),a!==0&&(n=a,t=F2(e,a))),t===1))throw r=hp,Vc(e,0),ml(e,n),Ri(e,Wr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(De(345));case 2:Ac(e,Oi,no);break;case 3:if(ml(e,n),(n&130023424)===n&&(t=s_+500-Wr(),10<t)){if(Eg(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=b2(Ac.bind(null,e,Oi,no),t);break}Ac(e,Oi,no);break;case 4:if(ml(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-os(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s$(n/1960))-n,10<n){e.timeoutHandle=b2(Ac.bind(null,e,Oi,no),n);break}Ac(e,Oi,no);break;case 5:Ac(e,Oi,no);break;default:throw Error(De(329))}}}return Ri(e,Wr()),e.callbackNode===r?BC.bind(null,e):null}function F2(e,t){var r=Bh;return e.current.memoizedState.isDehydrated&&(Vc(e,t).flags|=256),e=Kg(e,t),e!==2&&(t=Oi,Oi=r,t!==null&&$2(t)),e}function $2(e){Oi===null?Oi=e:Oi.push.apply(Oi,e)}function o$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!cs(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t){for(t&=~a_,t&=~hy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-os(t),n=1<<r;e[r]=-1,t&=~n}}function z3(e){if(Bt&6)throw Error(De(327));Ad();var t=Eg(e,0);if(!(t&1))return Ri(e,Wr()),null;var r=Kg(e,t);if(e.tag!==0&&r===2){var n=d2(e);n!==0&&(t=n,r=F2(e,n))}if(r===1)throw r=hp,Vc(e,0),ml(e,t),Ri(e,Wr()),r;if(r===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Oi,no),Ri(e,Wr()),null}function o_(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(qd=Wr()+500,cy&&zl())}}function au(e){xl!==null&&xl.tag===0&&!(Bt&6)&&Ad();var t=Bt;Bt|=1;var r=Ca.transition,n=Yt;try{if(Ca.transition=null,Yt=1,e)return e()}finally{Yt=n,Ca.transition=r,Bt=t,!(Bt&6)&&zl()}}function l_(){Zi=vd.current,pr(vd)}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MF(r)),nn!==null)for(r=nn.return;r!==null;){var n=r;switch(q5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lg();break;case 3:$d(),pr(Li),pr(si),J5();break;case 5:X5(n);break;case 4:$d();break;case 13:pr(Ar);break;case 19:pr(Ar);break;case 10:K5(n.type._context);break;case 22:case 23:l_()}r=r.return}if(Cn=e,nn=e=Cl(e.current,null),zn=Zi=t,wn=0,hp=null,a_=hy=iu=0,Oi=Bh=null,Fc!==null){for(t=0;t<Fc.length;t++)if(r=Fc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Fc=null}return e}function FC(e,t){do{var r=nn;try{if(H5(),ng.current=qg,Ug){for(var n=Er.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ug=!1}if(nu=0,En=yn=Er=null,Dh=!1,up=0,i_.current=null,r===null||r.return===null){wn=1,hp=t,nn=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=zn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=P3(s);if(h!==null){h.flags&=-257,C3(h,s,o,a,t),h.mode&1&&O3(a,c,t),t=h,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){O3(a,c,t),c_();break e}l=Error(De(426))}}else if(br&&o.mode&1){var y=P3(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),C3(y,s,o,a,t),z5(Ud(l,o));break e}}a=l=Ud(l,o),wn!==4&&(wn=2),Bh===null?Bh=[a]:Bh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=_C(a,l,t);N3(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ol===null||!Ol.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=NC(a,o,t);N3(a,x);break e}}a=a.return}while(a!==null)}qC(r)}catch(N){t=N,nn===r&&r!==null&&(nn=r=r.return);continue}break}while(!0)}function $C(){var e=zg.current;return zg.current=qg,e===null?qg:e}function c_(){(wn===0||wn===3||wn===2)&&(wn=4),Cn===null||!(iu&268435455)&&!(hy&268435455)||ml(Cn,zn)}function Kg(e,t){var r=Bt;Bt|=2;var n=$C();(Cn!==e||zn!==t)&&(no=null,Vc(e,t));do try{l$();break}catch(i){FC(e,i)}while(!0);if(H5(),Bt=r,zg.current=n,nn!==null)throw Error(De(261));return Cn=null,zn=0,wn}function l$(){for(;nn!==null;)UC(nn)}function c$(){for(;nn!==null&&!IB();)UC(nn)}function UC(e){var t=WC(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,t===null?qC(e):nn=t,i_.current=null}function qC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r$(r,t),r!==null){r.flags&=32767,nn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,nn=null;return}}else if(r=t$(r,t,Zi),r!==null){nn=r;return}if(t=t.sibling,t!==null){nn=t;return}nn=t=e}while(t!==null);wn===0&&(wn=5)}function Ac(e,t,r){var n=Yt,i=Ca.transition;try{Ca.transition=null,Yt=1,u$(e,t,r,n)}finally{Ca.transition=i,Yt=n}return null}function u$(e,t,r,n){do Ad();while(xl!==null);if(Bt&6)throw Error(De(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(WB(e,a),e===Cn&&(nn=Cn=null,zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||l0||(l0=!0,HC(Ag,function(){return Ad(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ca.transition,Ca.transition=null;var s=Yt;Yt=1;var o=Bt;Bt|=4,i_.current=null,i$(e,r),DC(r,e),PF(v2),Og=!!g2,v2=g2=null,e.current=r,a$(r),RB(),Bt=o,Yt=s,Ca.transition=a}else e.current=r;if(l0&&(l0=!1,xl=e,Hg=i),a=e.pendingLanes,a===0&&(Ol=null),BB(r.stateNode),Ri(e,Wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wg)throw Wg=!1,e=M2,M2=null,e;return Hg&1&&e.tag!==0&&Ad(),a=e.pendingLanes,a&1?e===B2?Fh++:(Fh=0,B2=e):Fh=0,zl(),null}function Ad(){if(xl!==null){var e=_P(Hg),t=Ca.transition,r=Yt;try{if(Ca.transition=null,Yt=16>e?16:e,xl===null)var n=!1;else{if(e=xl,xl=null,Hg=0,Bt&6)throw Error(De(331));var i=Bt;for(Bt|=4,Ye=e.current;Ye!==null;){var a=Ye,s=a.child;if(Ye.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ye=c;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:Mh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ye=f;else for(;Ye!==null;){d=Ye;var p=d.sibling,h=d.return;if(LC(d),d===c){Ye=null;break}if(p!==null){p.return=h,Ye=p;break}Ye=h}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ye=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ye=s;else e:for(;Ye!==null;){if(a=Ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ye=v;break e}Ye=a.return}}var b=e.current;for(Ye=b;Ye!==null;){s=Ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ye=w;else e:for(s=b;Ye!==null;){if(o=Ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fy(9,o)}}catch(N){Mr(o,o.return,N)}if(o===s){Ye=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Ye=x;break e}Ye=o.return}}if(Bt=i,zl(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(iy,e)}catch{}n=!0}return n}finally{Yt=r,Ca.transition=t}}return!1}function W3(e,t,r){t=Ud(r,t),t=_C(e,t,1),e=El(e,t,1),t=bi(),e!==null&&(Ip(e,1,t),Ri(e,t))}function Mr(e,t,r){if(e.tag===3)W3(e,e,r);else for(;t!==null;){if(t.tag===3){W3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ol===null||!Ol.has(n))){e=Ud(r,e),e=NC(t,e,1),t=El(t,e,1),e=bi(),t!==null&&(Ip(t,1,e),Ri(t,e));break}}t=t.return}}function d$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bi(),e.pingedLanes|=e.suspendedLanes&r,Cn===e&&(zn&r)===r&&(wn===4||wn===3&&(zn&130023424)===zn&&500>Wr()-s_?Vc(e,0):a_|=r),Ri(e,t)}function zC(e,t){t===0&&(e.mode&1?(t=Zm,Zm<<=1,!(Zm&130023424)&&(Zm=4194304)):t=1);var r=bi();e=wo(e,t),e!==null&&(Ip(e,t,r),Ri(e,r))}function f$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zC(e,r)}function h$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(De(314))}n!==null&&n.delete(t),zC(e,r)}var WC;WC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Li.current)Ci=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ci=!1,e$(e,t,r);Ci=!!(e.flags&131072)}else Ci=!1,br&&t.flags&1048576&&GP(t,Dg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ag(e,t),e=t.pendingProps;var i=Md(t,si.current);kd(t,r),i=Q5(null,t,n,e,i,r);var a=e_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(n)?(a=!0,Ig(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G5(t),i.updater=dy,t.stateNode=i,i._reactInternals=t,k2(t,n,e,r),t=O2(null,t,n,!0,a,r)):(t.tag=0,br&&a&&U5(t),hi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ag(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=m$(n),e=Qa(n,e),i){case 0:t=E2(null,t,n,e,r);break e;case 1:t=I3(null,t,n,e,r);break e;case 11:t=T3(null,t,n,e,r);break e;case 14:t=L3(null,t,n,Qa(n.type,e),r);break e}throw Error(De(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),E2(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),I3(e,t,n,i,r);case 3:e:{if(AC(t),e===null)throw Error(De(387));n=t.pendingProps,a=t.memoizedState,i=a.element,eC(e,t),Fg(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ud(Error(De(423)),t),t=R3(e,t,n,r,i);break e}else if(n!==i){i=Ud(Error(De(424)),t),t=R3(e,t,n,r,i);break e}else for(ia=Al(t.stateNode.containerInfo.firstChild),sa=t,br=!0,is=null,r=ZP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bd(),n===i){t=_o(e,t,r);break e}hi(e,t,n,r)}t=t.child}return t;case 5:return tC(t),e===null&&N2(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,y2(n,i)?s=null:a!==null&&y2(n,a)&&(t.flags|=32),kC(e,t),hi(e,t,s,r),t.child;case 6:return e===null&&N2(t),null;case 13:return EC(e,t,r);case 4:return Y5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fd(t,null,n,r):hi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),T3(e,t,n,i,r);case 7:return hi(e,t,t.pendingProps,r),t.child;case 8:return hi(e,t,t.pendingProps.children,r),t.child;case 12:return hi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,sr(Mg,n._currentValue),n._currentValue=s,a!==null)if(cs(a.value,s)){if(a.children===i.children&&!Li.current){t=_o(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=mo(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),S2(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(De(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),S2(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}hi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,kd(t,r),i=La(i),n=n(i),t.flags|=1,hi(e,t,n,r),t.child;case 14:return n=t.type,i=Qa(n,t.pendingProps),i=Qa(n.type,i),L3(e,t,n,i,r);case 15:return SC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),ag(e,t),t.tag=1,Ii(n)?(e=!0,Ig(t)):e=!1,kd(t,r),wC(t,n,i),k2(t,n,i,r),O2(null,t,n,!0,e,r);case 19:return OC(e,t,r);case 22:return jC(e,t,r)}throw Error(De(156,t.tag))};function HC(e,t){return yP(e,t)}function p$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(e,t,r,n){return new p$(e,t,r,n)}function u_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m$(e){if(typeof e=="function")return u_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O5)return 11;if(e===P5)return 14}return 2}function Cl(e,t){var r=e.alternate;return r===null?(r=Oa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lg(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")u_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case od:return Gc(r.children,i,a,t);case E5:s=8,i|=8;break;case Xx:return e=Oa(12,r,t,i|2),e.elementType=Xx,e.lanes=a,e;case Jx:return e=Oa(13,r,t,i),e.elementType=Jx,e.lanes=a,e;case Zx:return e=Oa(19,r,t,i),e.elementType=Zx,e.lanes=a,e;case tP:return py(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QO:s=10;break e;case eP:s=9;break e;case O5:s=11;break e;case P5:s=14;break e;case ll:s=16,n=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=Oa(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Gc(e,t,r,n){return e=Oa(7,e,n,t),e.lanes=r,e}function py(e,t,r,n){return e=Oa(22,e,n,t),e.elementType=tP,e.lanes=r,e.stateNode={isHidden:!1},e}function Ib(e,t,r){return e=Oa(6,e,null,t),e.lanes=r,e}function Rb(e,t,r){return t=Oa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mb(0),this.expirationTimes=mb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function d_(e,t,r,n,i,a,s,o,l){return e=new g$(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Oa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},G5(a),e}function v$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function KC(e){if(!e)return Rl;e=e._reactInternals;e:{if(vu(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var r=e.type;if(Ii(r))return KP(e,r,t)}return t}function VC(e,t,r,n,i,a,s,o,l){return e=d_(r,n,!0,e,i,a,s,o,l),e.context=KC(null),r=e.current,n=bi(),i=Pl(r),a=mo(n,i),a.callback=t??null,El(r,a,i),e.current.lanes=i,Ip(e,i,n),Ri(e,n),e}function my(e,t,r,n){var i=t.current,a=bi(),s=Pl(i);return r=KC(r),t.context===null?t.context=r:t.pendingContext=r,t=mo(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=El(i,t,s),e!==null&&(ls(e,i,s,a),rg(e,i,s)),s}function Vg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function f_(e,t){H3(e,t),(e=e.alternate)&&H3(e,t)}function y$(){return null}var GC=typeof reportError=="function"?reportError:function(e){console.error(e)};function h_(e){this._internalRoot=e}gy.prototype.render=h_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));my(e,t,null,null)};gy.prototype.unmount=h_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;au(function(){my(null,e,null,null)}),t[xo]=null}};function gy(e){this._internalRoot=e}gy.prototype.unstable_scheduleHydration=function(e){if(e){var t=jP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pl.length&&t!==0&&t<pl[r].priority;r++);pl.splice(r,0,e),r===0&&AP(e)}};function p_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K3(){}function b$(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Vg(s);a.call(c)}}var s=VC(t,n,e,0,null,!1,!1,"",K3);return e._reactRootContainer=s,e[xo]=s.current,ap(e.nodeType===8?e.parentNode:e),au(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Vg(l);o.call(c)}}var l=d_(e,0,!1,null,null,!1,!1,"",K3);return e._reactRootContainer=l,e[xo]=l.current,ap(e.nodeType===8?e.parentNode:e),au(function(){my(t,l,r,n)}),l}function yy(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Vg(s);o.call(l)}}my(t,s,e,i)}else s=b$(r,t,e,i,n);return Vg(s)}NP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nh(t.pendingLanes);r!==0&&(L5(t,r|1),Ri(t,Wr()),!(Bt&6)&&(qd=Wr()+500,zl()))}break;case 13:au(function(){var n=wo(e,1);if(n!==null){var i=bi();ls(n,e,1,i)}}),f_(e,1)}};I5=function(e){if(e.tag===13){var t=wo(e,134217728);if(t!==null){var r=bi();ls(t,e,134217728,r)}f_(e,134217728)}};SP=function(e){if(e.tag===13){var t=Pl(e),r=wo(e,t);if(r!==null){var n=bi();ls(r,e,t,n)}f_(e,t)}};jP=function(){return Yt};kP=function(e,t){var r=Yt;try{return Yt=e,t()}finally{Yt=r}};l2=function(e,t,r){switch(t){case"input":if(t2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ly(n);if(!i)throw Error(De(90));nP(n),t2(n,i)}}}break;case"textarea":aP(e,r);break;case"select":t=r.value,t!=null&&_d(e,!!r.multiple,t,!1)}};fP=o_;hP=au;var x$={usingClientEntryPoint:!1,Events:[Dp,dd,ly,uP,dP,o_]},lh={findFiberByHostInstance:Bc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w$={bundleType:lh.bundleType,version:lh.version,rendererPackageName:lh.rendererPackageName,rendererConfig:lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gP(e),e===null?null:e.stateNode},findFiberByHostInstance:lh.findFiberByHostInstance||y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c0.isDisabled&&c0.supportsFiber)try{iy=c0.inject(w$),Cs=c0}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x$;fa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p_(t))throw Error(De(200));return v$(e,t,null,r)};fa.createRoot=function(e,t){if(!p_(e))throw Error(De(299));var r=!1,n="",i=GC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=d_(e,1,!1,null,null,r,!1,n,i),e[xo]=t.current,ap(e.nodeType===8?e.parentNode:e),new h_(t)};fa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=gP(t),e=e===null?null:e.stateNode,e};fa.flushSync=function(e){return au(e)};fa.hydrate=function(e,t,r){if(!vy(t))throw Error(De(200));return yy(null,e,t,!0,r)};fa.hydrateRoot=function(e,t,r){if(!p_(e))throw Error(De(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=GC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=VC(t,null,e,1,r??null,i,!1,a,s),e[xo]=t.current,ap(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new gy(t)};fa.render=function(e,t,r){if(!vy(t))throw Error(De(200));return yy(null,e,t,!1,r)};fa.unmountComponentAtNode=function(e){if(!vy(e))throw Error(De(40));return e._reactRootContainer?(au(function(){yy(null,null,e,!1,function(){e._reactRootContainer=null,e[xo]=null})}),!0):!1};fa.unstable_batchedUpdates=o_;fa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vy(r))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return yy(e,t,r,!1,n)};fa.version="18.3.1-next-f1338f8080-20240426";function YC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YC)}catch(e){console.error(e)}}YC(),YO.exports=fa;var by=YO.exports,V3=by;Gx.createRoot=V3.createRoot,Gx.hydrateRoot=V3.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}var wl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wl||(wl={}));const G3="popstate";function _$(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return U2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Gg(i)}return S$(t,r,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function m_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N$(){return Math.random().toString(36).substr(2,8)}function Y3(e,t){return{usr:e.state,key:e.key,idx:t}}function U2(e,t,r,n){return r===void 0&&(r=null),pp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?af(t):t,{state:r,key:t&&t.key||n||N$()})}function Gg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function af(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function S$(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=wl.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(pp({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=wl.Pop;let y=d(),v=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:v})}function p(y,v){o=wl.Push;let b=U2(g.location,y,v);c=d()+1;let w=Y3(b,c),x=g.createHref(b);try{s.pushState(w,"",x)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(x)}a&&l&&l({action:o,location:g.location,delta:1})}function h(y,v){o=wl.Replace;let b=U2(g.location,y,v);c=d();let w=Y3(b,c),x=g.createHref(b);s.replaceState(w,"",x),a&&l&&l({action:o,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:Gg(y);return b=b.replace(/ $/,"%20"),on(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return o},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(G3,f),l=y,()=>{i.removeEventListener(G3,f),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(y){return s.go(y)}};return g}var X3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(X3||(X3={}));function j$(e,t,r){return r===void 0&&(r="/"),k$(e,t,r)}function k$(e,t,r,n){let i=typeof t=="string"?af(t):t,a=g_(i.pathname||"/",r);if(a==null)return null;let s=XC(e);A$(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=F$(a);o=D$(s[l],c)}return o}function XC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(on(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Tl([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(on(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XC(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:I$(c,a.index),routesMeta:d})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of JC(a.path))i(a,s,l)}),t}function JC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=JC(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function A$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:R$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const E$=/^:[\w-]+$/,O$=3,P$=2,C$=1,T$=10,L$=-2,J3=e=>e==="*";function I$(e,t){let r=e.split("/"),n=r.length;return r.some(J3)&&(n+=L$),t&&(n+=P$),r.filter(i=>!J3(i)).reduce((i,a)=>i+(E$.test(a)?O$:a===""?C$:T$),n)}function R$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function D$(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=M$({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Tl([a,f.pathname]),pathnameBase:W$(Tl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Tl([a,f.pathnameBase]))}return s}function M$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=B$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function B$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),m_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function F$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return m_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function g_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const $$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U$=e=>$$.test(e);function q$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?af(e):e,a;if(r)if(U$(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),m_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=Z3(r.substring(1),"/"):a=Z3(r,t)}else a=t;return{pathname:a,search:H$(n),hash:K$(i)}}function Z3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Db(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ZC(e,t){let r=z$(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function QC(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=af(e):(i=pp({},e),on(!i.pathname||!i.pathname.includes("?"),Db("?","pathname","search",i)),on(!i.pathname||!i.pathname.includes("#"),Db("#","pathname","hash",i)),on(!i.search||!i.search.includes("#"),Db("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=q$(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Tl=e=>e.join("/").replace(/\/\/+/g,"/"),W$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eT=["post","put","patch","delete"];new Set(eT);const G$=["get",...eT];new Set(G$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}const v_=T.createContext(null),Y$=T.createContext(null),yu=T.createContext(null),xy=T.createContext(null),Wl=T.createContext({outlet:null,matches:[],isDataRoute:!1}),tT=T.createContext(null);function X$(e,t){let{relative:r}=t===void 0?{}:t;Bp()||on(!1);let{basename:n,navigator:i}=T.useContext(yu),{hash:a,pathname:s,search:o}=nT(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Tl([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Bp(){return T.useContext(xy)!=null}function sf(){return Bp()||on(!1),T.useContext(xy).location}function rT(e){T.useContext(yu).static||T.useLayoutEffect(e)}function Hn(){let{isDataRoute:e}=T.useContext(Wl);return e?cU():J$()}function J$(){Bp()||on(!1);let e=T.useContext(v_),{basename:t,future:r,navigator:n}=T.useContext(yu),{matches:i}=T.useContext(Wl),{pathname:a}=sf(),s=JSON.stringify(ZC(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return rT(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=QC(c,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Tl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}function To(){let{matches:e}=T.useContext(Wl),t=e[e.length-1];return t?t.params:{}}function nT(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=T.useContext(yu),{matches:i}=T.useContext(Wl),{pathname:a}=sf(),s=JSON.stringify(ZC(i,n.v7_relativeSplatPath));return T.useMemo(()=>QC(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function Z$(e,t){return Q$(e,t)}function Q$(e,t,r,n){Bp()||on(!1);let{navigator:i}=T.useContext(yu),{matches:a}=T.useContext(Wl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=sf(),d;if(t){var f;let y=typeof t=="string"?af(t):t;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||on(!1),d=y}else d=c;let p=d.pathname||"/",h=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=j$(e,{pathname:h}),g=iU(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Tl([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Tl([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&g?T.createElement(xy.Provider,{value:{location:mp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wl.Pop}},g):g}function eU(){let e=lU(),t=V$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:i},r):null,null)}const tU=T.createElement(eU,null);class rU extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(Wl.Provider,{value:this.props.routeContext},T.createElement(tT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nU(e){let{routeContext:t,match:r,children:n}=e,i=T.useContext(v_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Wl.Provider,{value:t},n)}function iU(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||on(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:h}=r,m=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let h,m=!1,g=null,y=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||tU,l&&(c<0&&p===0?(uU("route-fallback"),m=!0,y=null):c===p&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,p+1)),b=()=>{let w;return h?w=g:m?w=y:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(nU,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(rU,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var iT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iT||{}),aT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aT||{});function aU(e){let t=T.useContext(v_);return t||on(!1),t}function sU(e){let t=T.useContext(Y$);return t||on(!1),t}function oU(e){let t=T.useContext(Wl);return t||on(!1),t}function sT(e){let t=oU(),r=t.matches[t.matches.length-1];return r.route.id||on(!1),r.route.id}function lU(){var e;let t=T.useContext(tT),r=sU(),n=sT();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cU(){let{router:e}=aU(iT.UseNavigateStable),t=sT(aT.UseNavigateStable),r=T.useRef(!1);return rT(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,mp({fromRouteId:t},a)))},[e,t])}const Q3={};function uU(e,t,r){Q3[e]||(Q3[e]=!0)}function dU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gn(e){on(!1)}function fU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=wl.Pop,navigator:a,static:s=!1,future:o}=e;Bp()&&on(!1);let l=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:a,static:s,future:mp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=af(n));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:m="default"}=n,g=T.useMemo(()=>{let y=g_(d,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:h,key:m},navigationType:i}},[l,d,f,p,h,m,i]);return g==null?null:T.createElement(yu.Provider,{value:c},T.createElement(xy.Provider,{children:r,value:g}))}function hU(e){let{children:t,location:r}=e;return Z$(q2(t),r)}new Promise(()=>{});function q2(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(n,i)=>{if(!T.isValidElement(n))return;let a=[...t,i];if(n.type===T.Fragment){r.push.apply(r,q2(n.props.children,a));return}n.type!==gn&&on(!1),!n.props.index||!n.props.children||on(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=q2(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z2.apply(this,arguments)}function pU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gU(e,t){return e.button===0&&(!t||t==="_self")&&!mU(e)}function W2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function vU(e,t){let r=W2(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const yU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bU="6";try{window.__reactRouterVersion=bU}catch{}const xU="startTransition",e4=VO[xU];function wU(e){let{basename:t,children:r,future:n,window:i}=e,a=T.useRef();a.current==null&&(a.current=_$({window:i,v5Compat:!0}));let s=a.current,[o,l]=T.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},d=T.useCallback(f=>{c&&e4?e4(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.useEffect(()=>dU(n),[n]),T.createElement(fU,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const _U=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=T.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,p=pU(t,yU),{basename:h}=T.useContext(yu),m,g=!1;if(typeof c=="string"&&NU.test(c)&&(m=c,_U))try{let w=new URL(window.location.href),x=c.startsWith("//")?new URL(w.protocol+c):new URL(c),N=g_(x.pathname,h);x.origin===w.origin&&N!=null?c=N+x.search+x.hash:g=!0}catch{}let y=X$(c,{relative:i}),v=SU(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||v(w)}return T.createElement("a",z2({},p,{href:m||y,onClick:g||a?n:b,ref:r,target:l}))});var t4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(t4||(t4={}));var r4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r4||(r4={}));function SU(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=Hn(),c=sf(),d=nT(e,{relative:s});return T.useCallback(f=>{if(gU(f,r)){f.preventDefault();let p=n!==void 0?n:Gg(c)===Gg(d);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,n,i,r,e,a,s,o])}function jU(e){let t=T.useRef(W2(e)),r=T.useRef(!1),n=sf(),i=T.useMemo(()=>vU(n.search,r.current?null:t.current),[n.search]),a=Hn(),s=T.useCallback((o,l)=>{const c=W2(typeof o=="function"?o(i):o);r.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var H2=function(e,t){return H2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},H2(e,t)};function oT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");H2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Yg=function(){return Yg=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Yg.apply(this,arguments)};function of(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function lT(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function cT(e,t){return function(r,n){t(r,n,e)}}function uT(e,t,r,n,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var m={};for(var g in n)m[g]=g==="access"?{}:n[g];for(var g in n.access)m.access[g]=n.access[g];m.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var y=(0,r[h])(o==="accessor"?{get:d.get,set:d.set}:d[l],m);if(o==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=s(y.get))&&(d.get=f),(f=s(y.set))&&(d.set=f),(f=s(y.init))&&i.unshift(f)}else(f=s(y))&&(o==="field"?i.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),p=!0}function dT(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function fT(e){return typeof e=="symbol"?e:"".concat(e)}function hT(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function pT(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function at(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function mT(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var wy=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function gT(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wy(t,e,r)}function Xg(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function vT(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y_(arguments[t]));return e}function yT(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function bT(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function zd(e){return this instanceof zd?(this.v=e,this):new zd(e)}function xT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function o(h,m){n[h]&&(i[h]=function(g){return new Promise(function(y,v){a.push([h,g,y,v])>1||l(h,g)})},m&&(i[h]=m(i[h])))}function l(h,m){try{c(n[h](m))}catch(g){p(a[0][3],g)}}function c(h){h.value instanceof zd?Promise.resolve(h.value.v).then(d,f):p(a[0][2],h)}function d(h){l("next",h)}function f(h){l("throw",h)}function p(h,m){h(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}function wT(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:zd(e[i](s)),done:!1}:a?a(s):s}:a}}function _T(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Xg=="function"?Xg(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function NT(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var kU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},K2=function(e){return K2=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},K2(e)};function ST(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=K2(e),n=0;n<r.length;n++)r[n]!=="default"&&wy(t,e,r[n]);return kU(t,e),t}function jT(e){return e&&e.__esModule?e:{default:e}}function kT(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function AT(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function ET(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function OT(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var AU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function PT(e){function t(a){e.error=e.hasError?new AU(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function CT(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const EU={__extends:oT,__assign:Yg,__rest:of,__decorate:lT,__param:cT,__esDecorate:uT,__runInitializers:dT,__propKey:fT,__setFunctionName:hT,__metadata:pT,__awaiter:at,__generator:mT,__createBinding:wy,__exportStar:gT,__values:Xg,__read:y_,__spread:vT,__spreadArrays:yT,__spreadArray:bT,__await:zd,__asyncGenerator:xT,__asyncDelegator:wT,__asyncValues:_T,__makeTemplateObject:NT,__importStar:ST,__importDefault:jT,__classPrivateFieldGet:kT,__classPrivateFieldSet:AT,__classPrivateFieldIn:ET,__addDisposableResource:OT,__disposeResources:PT,__rewriteRelativeImportExtension:CT},OU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:OT,get __assign(){return Yg},__asyncDelegator:wT,__asyncGenerator:xT,__asyncValues:_T,__await:zd,__awaiter:at,__classPrivateFieldGet:kT,__classPrivateFieldIn:ET,__classPrivateFieldSet:AT,__createBinding:wy,__decorate:lT,__disposeResources:PT,__esDecorate:uT,__exportStar:gT,__extends:oT,__generator:mT,__importDefault:jT,__importStar:ST,__makeTemplateObject:NT,__metadata:pT,__param:cT,__propKey:fT,__read:y_,__rest:of,__rewriteRelativeImportExtension:CT,__runInitializers:dT,__setFunctionName:hT,__spread:vT,__spreadArray:bT,__spreadArrays:yT,__values:Xg,default:EU},Symbol.toStringTag,{value:"Module"})),PU="modulepreload",CU=function(e){return"/"+e},n4={},Ta=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=CU(l),l in n4)return;n4[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":PU,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},TU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ta(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class b_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class i4 extends b_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class a4 extends b_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s4 extends b_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var V2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(V2||(V2={}));class LU{constructor(t,{headers:r={},customFetch:n,region:i=V2.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=TU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return at(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:s,body:o,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let p;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=o):typeof o=="string"?(c["Content-Type"]="text/plain",p=o):typeof FormData<"u"&&o instanceof FormData?p=o:(c["Content-Type"]="application/json",p=JSON.stringify(o)):p=o;const h=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:p,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new i4(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new a4(h);if(!h.ok)throw new s4(h);let g=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield h.json():g==="application/octet-stream"||g==="application/pdf"?y=yield h.blob():g==="text/event-stream"?y=h:g==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new i4(a)}:{data:null,error:a,response:a instanceof s4||a instanceof a4?a.context:void 0}}})}}var pi={};const lf=DO(OU);var u0={},d0={},f0={},h0={},p0={},IU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wd=IU();const RU=Wd.fetch,TT=Wd.fetch.bind(Wd),LT=Wd.Headers,DU=Wd.Request,MU=Wd.Response,bu=Object.freeze(Object.defineProperty({__proto__:null,Headers:LT,Request:DU,Response:MU,default:TT,fetch:RU},Symbol.toStringTag,{value:"Module"})),BU=DO(bu);var m0={},o4;function IT(){if(o4)return m0;o4=1,Object.defineProperty(m0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return m0.default=e,m0}var l4;function RT(){if(l4)return p0;l4=1,Object.defineProperty(p0,"__esModule",{value:!0});const e=lf,t=e.__importDefault(BU),r=e.__importDefault(IT());class n{constructor(a){var s,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,p,h;let m=null,g=null,y=null,v=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const O=await c.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=O:g=JSON.parse(O))}const x=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");x&&N&&N.length>1&&(y=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{m=JSON.parse(x),Array.isArray(m)&&c.status===404&&(g=[],m=null,v=200,b="OK")}catch{c.status===404&&x===""?(v=204,b="No Content"):m={message:x}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,b="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:g,count:y,status:v,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,f,p;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,s)}returns(){return this}overrideTypes(){return this}}return p0.default=n,p0}var c4;function DT(){if(c4)return h0;c4=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=lf.__importDefault(RT());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return h0.default=r,h0}var u4;function x_(){if(u4)return f0;u4=1,Object.defineProperty(f0,"__esModule",{value:!0});const t=lf.__importDefault(DT()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${d}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return f0.default=n,f0}var d4;function MT(){if(d4)return d0;d4=1,Object.defineProperty(d0,"__esModule",{value:!0});const t=lf.__importDefault(x_());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return d0.default=r,d0}var f4;function FU(){if(f4)return u0;f4=1,Object.defineProperty(u0,"__esModule",{value:!0});const e=lf,t=e.__importDefault(MT()),r=e.__importDefault(x_());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var d;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{p.searchParams.append(g,y)})):(f="POST",h=s);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:m,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return u0.default=n,u0}Object.defineProperty(pi,"__esModule",{value:!0});var BT=pi.PostgrestError=GT=pi.PostgrestBuilder=KT=pi.PostgrestTransformBuilder=WT=pi.PostgrestFilterBuilder=qT=pi.PostgrestQueryBuilder=$T=pi.PostgrestClient=void 0;const cf=lf,FT=cf.__importDefault(FU());var $T=pi.PostgrestClient=FT.default;const UT=cf.__importDefault(MT());var qT=pi.PostgrestQueryBuilder=UT.default;const zT=cf.__importDefault(x_());var WT=pi.PostgrestFilterBuilder=zT.default;const HT=cf.__importDefault(DT());var KT=pi.PostgrestTransformBuilder=HT.default;const VT=cf.__importDefault(RT());var GT=pi.PostgrestBuilder=VT.default;const YT=cf.__importDefault(IT());BT=pi.PostgrestError=YT.default;var XT=pi.default={PostgrestClient:FT.default,PostgrestQueryBuilder:UT.default,PostgrestFilterBuilder:zT.default,PostgrestTransformBuilder:HT.default,PostgrestBuilder:VT.default,PostgrestError:YT.default};const $U=RO({__proto__:null,get PostgrestBuilder(){return GT},get PostgrestClient(){return $T},get PostgrestError(){return BT},get PostgrestFilterBuilder(){return WT},get PostgrestQueryBuilder(){return qT},get PostgrestTransformBuilder(){return KT},default:XT},[pi]),{PostgrestClient:UU,PostgrestQueryBuilder:Ive,PostgrestFilterBuilder:Rve,PostgrestTransformBuilder:Dve,PostgrestBuilder:Mve,PostgrestError:Bve}=XT||$U;class qU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zU="2.78.0",WU=`realtime-js/${zU}`,HU="1.0.0",G2=1e4,KU=1e3,VU=100;var $h;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($h||($h={}));var vn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vn||(vn={}));var rs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rs||(rs={}));var Y2;(function(e){e.websocket="websocket"})(Y2||(Y2={}));var Rc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rc||(Rc={}));class GU{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class JT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ir||(ir={}));const h4=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=YU(s,e,t,i),a),{}):{}},YU=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?ZT(a,s):X2(s)},ZT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QU(t,r)}switch(e){case ir.bool:return XU(t);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return JU(t);case ir.json:case ir.jsonb:return ZU(t);case ir.timestamp:return eq(t);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return X2(t);default:return X2(t)}},X2=e=>e,XU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>ZT(t,o))}return e},eq=e=>typeof e=="string"?e.replace(" ","T"):e,QT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mb{constructor(t,r,n={},i=G2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p4||(p4={}));class Uh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Uh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const p=d.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0),g=f.filter(y=>p.indexOf(y.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,d,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(m4||(m4={}));var qh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qh||(qh={}));var io;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(io||(io={}));class w_{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mb(this,rs.join,this.params,this.timeout),this.rejoinTimer=new JT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rs.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Uh(this),this.broadcastEndpointURL=QT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==vn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[qh.PRESENCE]&&this.bindings[qh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(io.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(io.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(io.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:x,schema:N,table:O,filter:j}}=w,A=h&&h[b];if(A&&A.event===x&&A.schema===N&&A.table===O&&A.filter===j)v.push(Object.assign(Object.assign({},w),{id:A.id}));else{this.unsubscribe(),this.state=vn.errored,t==null||t(io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(io.SUBSCRIBED);return}}).receive("error",h=>{this.state=vn.errored,t==null||t(io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===vn.joined&&t===qh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Mb(this,rs.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mb(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>VU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=rs;if(n&&[o,l,c,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,y;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var m,g,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const x=h.id,N=(m=h.filter)===null||m===void 0?void 0:m.event;return x&&((g=r.ids)===null||g===void 0?void 0:g.includes(x))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(b=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return x==="*"||x===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=m;p=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(p,n)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&w_.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rs.close,{},t)}_onError(t){this._on(rs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=h4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=h4(t.columns,t.old_record)),r}}const Bb=()=>{},g0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tq=[1e3,2e3,5e3,1e4],rq=1e4,nq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iq{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=G2,this.transport=null,this.heartbeatIntervalMs=g0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bb,this.ref=0,this.reconnectTimer=null,this.logger=Bb,this.conn=null,this.sendBuffer=[],this.serializer=new GU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Ta(async()=>{const{default:o}=await Promise.resolve().then(()=>bu);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Y2.websocket}`,this.httpEndpoint=QT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HU}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $h.connecting:return Rc.Connecting;case $h.open:return Rc.Open;case $h.closing:return Rc.Closing;default:return Rc.Closed}}isConnected(){return this.connectionState()===Rc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new w_(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(KU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},g0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:WU};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(rs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new JT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},g0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:G2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:g0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Bb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>tq[f-1]||rq,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,p)=>p(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class __ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aq extends __{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class J2 extends __{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const N_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ta(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sq=()=>at(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ta(()=>Promise.resolve().then(()=>bu),void 0)).Response:Response}),Z2=e=>{if(Array.isArray(e))return e.map(r=>Z2(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Z2(n)}),t},oq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lq=(e,t,r)=>at(void 0,void 0,void 0,function*(){const n=yield sq();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new aq(Fb(i),a,s))}).catch(i=>{t(new J2(Fb(i),i))}):t(new J2(Fb(e),e))}),cq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(oq(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Fp(e,t,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,cq(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>lq(l,o,n))})})}function gp(e,t,r,n){return at(this,void 0,void 0,function*(){return Fp(e,"GET",t,r,n)})}function es(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Fp(e,"POST",t,n,i,r)})}function Q2(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Fp(e,"PUT",t,n,i,r)})}function uq(e,t,r,n){return at(this,void 0,void 0,function*(){return Fp(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function S_(e,t,r,n,i){return at(this,void 0,void 0,function*(){return Fp(e,"DELETE",t,n,i,r)})}class dq{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}var e8;class fq{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[e8]="BlobDownloadBuilder",this.promise=null}asStream(){return new dq(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}e8=Symbol.toStringTag;const hq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pq{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=N_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return at(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},g4),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?Q2:es)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return at(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:g4.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Q2(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(kr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield es(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new __("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}update(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield es(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield es(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return at(this,void 0,void 0,function*(){try{const i=yield es(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>gp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new fq(l,this.shouldThrowOnError)}info(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Z2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}exists(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uq(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n)&&n instanceof J2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return at(this,void 0,void 0,function*(){try{return{data:yield S_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}list(t,r,n){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hq),r),{prefix:t||""});return{data:yield es(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}listV2(t,r){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield es(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const t8="2.78.0",r8={"X-Client-Info":`storage-js/${t8}`};class mq{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=N_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return at(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield gp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}createBucket(t){return at(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return at(this,void 0,void 0,function*(){try{return{data:yield Q2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield S_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class gq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=N_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBuckets(t){return at(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield S_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}const j_={"X-Client-Info":`storage-js/${t8}`,"Content-Type":"application/json"};class n8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ea(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class $b extends n8{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vq extends n8{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var v4;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(v4||(v4={}));const k_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ta(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bq=(e,t,r)=>at(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new $b(y4(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new $b(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new $b(o,i,s))}}else t(new vq(y4(e),e))}),xq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(yq(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function wq(e,t,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,xq(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>bq(l,o,n))})})}function ta(e,t,r,n,i){return at(this,void 0,void 0,function*(){return wq(e,"POST",t,n,i,r)})}class _q{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j_),r),this.fetch=k_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return at(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}getIndex(t,r){return at(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n))return{data:null,error:n};throw n}})}listIndexes(t){return at(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return at(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n))return{data:null,error:n};throw n}})}}class Nq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j_),r),this.fetch=k_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return at(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ta(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}getVectors(t){return at(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}listVectors(t){return at(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ta(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}queryVectors(t){return at(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}deleteVectors(t){return at(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ta(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}}class Sq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j_),r),this.fetch=k_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return at(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}getBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}listBuckets(){return at(this,arguments,void 0,function*(t={}){try{return{data:yield ta(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}}class jq extends Sq{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new kq(this.url,this.headers,t,this.fetch)}}class kq extends _q{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Aq(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Aq extends Nq{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Eq extends mq{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new pq(this.url,this.headers,t,this.fetch)}get vectors(){return new jq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gq(this.url+"/iceberg",this.headers,this.fetch)}}const Oq="2.78.0";let jh="";typeof Deno<"u"?jh="deno":typeof document<"u"?jh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jh="react-native":jh="node";const Pq={"X-Client-Info":`supabase-js-${jh}/${Oq}`},Cq={headers:Pq},Tq={schema:"public"},Lq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Iq={},Rq=e=>{let t;return e?t=e:typeof fetch>"u"?t=TT:t=fetch,(...r)=>t(...r)},Dq=()=>typeof Headers>"u"?LT:Headers,Mq=(e,t,r)=>{const n=Rq(r),i=Dq();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function Bq(e){return e.endsWith("/")?e:e+"/"}function Fq(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function $q(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i8="2.78.0",td=30*1e3,ew=3,Ub=ew*td,Uq="http://localhost:9999",qq="supabase.auth.token",zq={"X-Client-Info":`gotrue-js/${i8}`},tw="X-Supabase-Api-Version",a8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hq=10*60*1e3;class vp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kq extends vp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Vq(e){return ut(e)&&e.name==="AuthApiError"}class Dc extends vp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hl extends vp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ja extends Hl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gq(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Uu extends Hl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class v0 extends Hl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class y0 extends Hl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yq(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class b4 extends Hl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rw extends Hl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qb(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class x4 extends Hl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nw extends Hl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w4=` 	
\r=`.split(""),Xq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<w4.length;t+=1)e[w4[t].charCodeAt(0)]=-2;for(let t=0;t<Jg.length;t+=1)e[Jg[t].charCodeAt(0)]=t;return e})();function _4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jg[n]),t.queuedBits-=6}}function s8(e,t,r){const n=Xq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function N4(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Qq(s,n,r)};for(let s=0;s<e.length;s+=1)s8(e.charCodeAt(s),i,a);return t.join("")}function Jq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Jq(n,t)}}function Qq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ed(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)s8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ez(e){const t=[];return Zq(e,r=>t.push(r)),new Uint8Array(t)}function Uc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>_4(i,r,n)),_4(null,r,n),t.join("")}function tz(e){return Math.round(Date.now()/1e3)+e}function rz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fi=()=>typeof window<"u"&&typeof document<"u",wc={tested:!1,writable:!1},o8=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wc.tested)return wc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wc.tested=!0,wc.writable=!0}catch{wc.tested=!0,wc.writable=!1}return wc.writable};function nz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const l8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ta(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},iz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_c=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},al=async(e,t)=>{await e.removeItem(t)};class _y{constructor(){this.promise=new _y.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_y.promiseConstructor=Promise;function zb(e){const t=e.split(".");if(t.length!==3)throw new nw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Wq.test(t[n]))throw new nw("JWT not in base64url format");return{header:JSON.parse(N4(t[0])),payload:JSON.parse(N4(t[1])),signature:Ed(t[2]),raw:{header:t[0],payload:t[1]}}}async function az(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sz(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function oz(e){return("0"+e.toString(16)).substr(-2)}function lz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,oz).join("")}async function cz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function uz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await cz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qu(e,t,r=!1){const n=lz();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await rd(e,`${t}-code-verifier`,i);const a=await uz(n);return[a,n===a?"plain":"s256"]}const dz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fz(e){const t=e.headers.get(tw);if(!t||!t.match(dz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zu(e){if(!mz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gz(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function S4(e){return JSON.parse(JSON.stringify(e))}const Ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vz=[502,503,504];async function j4(e){var t;if(!iz(e))throw new rw(Ec(e),0);if(vz.includes(e.status))throw new rw(Ec(e),e.status);let r;try{r=await e.json()}catch(a){throw new Dc(Ec(a),a)}let n;const i=fz(e);if(i&&i.getTime()>=a8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new x4(Ec(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ja}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new x4(Ec(r),e.status,r.weak_password.reasons);throw new Kq(Ec(r),e.status||500,n)}const yz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[tw]||(a[tw]=a8["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await bz(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function bz(e,t,r,n,i,a){const s=yz(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new rw(Ec(l),0)}if(o.ok||await j4(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await j4(l)}}function Za(e){var t;let r=null;_z(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function k4(e){const t=Za(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xz(e){return{data:e,error:null}}function wz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=of(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function A4(e){return e}function _z(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hb=["global","local","others"];class Nz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=l8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Hb[0]){if(Hb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hb.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=of(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:A4});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ut(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){zu(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zu(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zu(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zu(t.userId);try{const{data:r,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zu(t.userId),zu(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:A4});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ut(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await gt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await gt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}}function E4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Wu={debug:!!(globalThis&&o8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sz extends c8{}async function jz(e,t,r){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function kz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Az(e){return parseInt(e,16)}function Ez(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Oz(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=u8(e.address),m=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}class Qr extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Zg extends Qr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Pz({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Qr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(d8(s)){if(a.rp.id!==s)return new Qr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Qr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Cz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(d8(n)){if(r.rpId!==n)return new Qr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Tz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Lz=new Tz;function Iz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=of(e,["challenge","user","excludeCredentials"]),a=Ed(t).buffer,s=Object.assign(Object.assign({},r),{id:Ed(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ed(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Rz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=of(e,["challenge","allowCredentials"]),i=Ed(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Ed(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function Dz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Uc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Uc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Uc(new Uint8Array(i.authenticatorData)),clientDataJSON:Uc(new Uint8Array(i.clientDataJSON)),signature:Uc(new Uint8Array(i.signature)),userHandle:i.userHandle?Uc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function O4(){var e,t;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Bz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zg("Browser returned unexpected credential type",t)}:{data:null,error:new Zg("Empty credential response",t)}}catch(t){return{data:null,error:Pz({error:t,options:e})}}}async function Fz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zg("Browser returned unexpected credential type",t)}:{data:null,error:new Zg("Empty credential response",t)}}catch(t){return{data:null,error:Cz({error:t,options:e})}}}const $z={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Uz={userVerification:"preferred",hints:["security-key"]};function Qg(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=Qg(o,s):n[a]=Qg(s)}else n[a]=s}return n}function qz(e,t){return Qg($z,e,t||{})}function zz(e,t){return Qg(Uz,e,t||{})}class Wz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??Lz.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=qz(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Bz({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=zz(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Fz(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return ut(s)?{data:null,error:s}:{data:null,error:new Dc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new vp("rpId is required for WebAuthn authentication")};try{if(!O4())return{data:null,error:new Dc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ut(s)?{data:null,error:s}:{data:null,error:new Dc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new vp("rpId is required for WebAuthn registration")};try{if(!O4())return{data:null,error:new Dc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ut(s)?{data:null,error:s}:{data:null,error:new Dc("Unexpected error in register",s)}}}}kz();const Hz={url:Uq,storageKey:qq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P4(e,t,r){return await r()}const Hu={};class yp{get jwks(){var t,r;return(r=(t=Hu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Hu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yp.nextInstanceID,yp.nextInstanceID+=1,this.instanceID>0&&fi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Hz),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nz({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=l8(i.fetch),this.lock=i.lock||P4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:fi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jz:this.lock=P4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:o8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=E4(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=nz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),fi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Yq(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ut(r)?{error:r}:{error:new Dc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Za}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await qu(this.storage,this.storageKey)),a=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:m},xform:Za})}else if("phone"in t){const{phone:d,password:f,options:p}=t;a=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Za})}else throw new v0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:k4})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:k4})}else throw new v0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Uu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,c,d,f,p;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:v,options:b}=t;let w;if(fi())if(typeof y=="object")w=y;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const x=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=u8(N[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const P=await w.request({method:"eth_chainId"});j=Az(P)}const A={domain:x.host,address:O,statement:v,uri:x.href,version:"1",chainId:j,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=Oz(A),m=await w.request({method:"personal_sign",params:[Ez(h),O]})}try{const{data:g,error:y}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Za});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Uu}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(ut(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,i,a,s,o,l,c,d,f,p,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let x;if(fi())if(typeof v=="object")x=v;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))x=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const O=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let j;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")j=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)j=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${N.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const O=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=O}}try{const{data:y,error:v}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Uc(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Za});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Uu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(ut(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await _c(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Za});if(await al(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Uu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ut(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Za}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Uu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qu(this.storage,this.storageKey));const{error:f}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new v0("You must provide either an email or phone number.")}catch(o){if(ut(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Za});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await qu(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:xz})}catch(a){if(ut(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ja;const{error:i}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ut(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new v0("You must provide either an email or phone number and a type")}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ub:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await _c(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Wb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=gz(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:gl})})}catch(r){if(ut(r))return Gq(r)&&(await this._removeSession(),await al(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ja;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await qu(this.storage,this.storageKey));const{data:c,error:d}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:gl});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ja;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=zb(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ja;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!fi())throw new y0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new y0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new b4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new y0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new b4("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new y0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=td&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const m=p-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(ut(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _c(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(Vq(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await al(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=rz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await qu(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ut(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return fi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ut(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:d}=t,f=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Za}),{data:p,error:h}=f;return h?{data:{user:null,session:null},error:h}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Uu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:h})}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sz(async i=>(i>0&&await az(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Za})),(i,a)=>{const s=200*Math.pow(2,i);return a&&qb(a)&&Date.now()+s-n<td})}catch(n){if(this._debug(r,"error",n),ut(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),fi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await _c(this.storage,this.storageKey);if(i&&this.userStorage){let s=await _c(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await rd(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Wb()}else if(i&&!i.user&&!i.user){const s=await _c(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await al(this.storage,this.storageKey+"-user"),await rd(this.storage,this.storageKey,i)):i.user=Wb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ub;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ub}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),qb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _y;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Ja;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ut(a)){const s={data:null,error:a};return qb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await rd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=S4(i);await rd(this.storage,this.storageKey,a)}else{const i=S4(r);await rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await al(this.storage,this.storageKey),await al(this.storage,this.storageKey+"-code-verifier"),await al(this.storage,this.storageKey+"-user"),this.userStorage&&await al(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),td);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/td);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${td}ms, refresh threshold is ${ew} ticks`),i<=ew&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof c8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await qu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Dz(t.webauthn.credential_response):Mz(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Iz(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Rz(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zb(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await gt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new Ja}})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Ja};const s=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&fi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Ja};const s=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&fi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Hq>i)return n;const{data:a,error:s}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=zb(n);r!=null&&r.allowExpired||hz(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const d=pz(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,ez(`${o}.${l}`)))throw new nw("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}}yp.nextInstanceID=0;const Kz=yp;class Vz extends Kz{constructor(t){super(t)}}class Gz{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=$q(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Tq,realtime:Iq,auth:Object.assign(Object.assign({},Lq),{storageKey:l}),global:Cq},d=Fq(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Mq(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new UU(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Eq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new LU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vz({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iq(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yz=(e,t,r)=>new Gz(e,t,r);function Xz(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Xz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jz="https://iryabjeigjtwditxfnfh.supabase.co",Zz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlyeWFiamVpZ2p0d2RpdHhmbmZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3NTk1MzksImV4cCI6MjA3NjMzNTUzOX0.i9TxNkVHCPCv6pVXrjsyVq64jpb_YyrY9v_7eXTvt-w",qe=Yz(Jz,Zz),Qz=Object.freeze(Object.defineProperty({__proto__:null,supabase:qe},Symbol.toStringTag,{value:"Module"})),vi={async signUp(e,t,r){const n=e.trim().toLowerCase(),{data:i,error:a}=await qe.auth.signUp({email:n,password:t,options:{data:{full_name:r.fullName},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;return i.user&&(await new Promise(s=>setTimeout(s,100)),await this.updateUserProfile(i.user.id,{email:i.user.email,user_role:r.userRole,how_heard_about_us:r.howHeardAboutUs,marketing_purpose:r.marketingPurpose,full_name:r.fullName})),i},async signIn(e,t){const{data:r,error:n}=await qe.auth.signInWithPassword({email:e,password:t});if(n)throw n;return await qe.auth.getSession(),r.user&&this.updateLastActive(r.user.id).catch(i=>console.log("Failed to update last active:",i)),r},async signInWithGoogle(){const{data:e,error:t}=await qe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t;return e},async signOut(){const{error:e}=await qe.auth.signOut();if(e)throw e},async getCurrentUser(){const{data:e,error:t}=await qe.auth.getUser();if(t&&t.message!=="User not found")throw t;return(e==null?void 0:e.user)||null},async getSession(){const{data:e,error:t}=await qe.auth.getSession();if(t)throw t;return e.session},async getUserProfile(e){const{data:t,error:r}=await qe.from("user_profiles").select("*").eq("id",e).single();if(r)throw r;return t},async updateUserProfile(e,t){let r=t.email;if(!r)try{const a=await this.getUserProfile(e);r=a==null?void 0:a.email}catch{console.log("Profile not found, will create with upsert")}const{data:n,error:i}=await qe.from("user_profiles").upsert({id:e,email:r,...t,updated_at:new Date().toISOString()},{onConflict:"id"}).select().single();if(i)throw i;return n},async updateLastActive(e){await qe.from("user_profiles").update({last_active_at:new Date().toISOString()}).eq("id",e)},async isProfileComplete(e){const t=await this.getUserProfile(e);return t&&t.user_role},onAuthStateChange(e){return qe.auth.onAuthStateChange(e)}},f8=T.createContext(null),eW=({children:e})=>{const[t,r]=T.useState(null),[n,i]=T.useState(null),[a,s]=T.useState(!0);T.useEffect(()=>{(async()=>{try{const d=await vi.getSession();if(d!=null&&d.user){r(d.user);try{const f=await vi.getUserProfile(d.user.id);i(f)}catch{console.log("Profile not found yet")}}}catch{console.log("No active session")}finally{s(!1)}})();const{data:{subscription:c}}=vi.onAuthStateChange(async(d,f)=>{var p;console.log("Auth state changed:",d,(p=f==null?void 0:f.user)==null?void 0:p.email),s(!1),f!=null&&f.user?(r(f.user),vi.getUserProfile(f.user.id).then(h=>{i(h)}).catch(h=>{console.log("Profile not found"),i(null)})):(r(null),i(null))});return()=>{c==null||c.unsubscribe()}},[]);const o={user:t,profile:n,loading:a,isAuthenticated:!!t,isProfileComplete:n&&n.user_role};return u.jsx(f8.Provider,{value:o,children:e})},A_=()=>{const e=T.useContext(f8);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ai=()=>{var p,h,m,g,y;const e=sf(),t=Hn(),{user:r,profile:n,isAuthenticated:i,loading:a}=A_(),[s,o]=T.useState(!1),[l,c]=T.useState(!1),d=v=>e.pathname===v,f=async v=>{if(v==null||v.preventDefault(),v==null||v.stopPropagation(),!l)try{c(!0),o(!1),await vi.signOut(),t("/")}catch(b){console.error("Sign out error:",b),alert("Failed to sign out. Please try again."),c(!1)}};return u.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs(tn,{to:"/",className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-xl",children:"S"})}),u.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Simulate"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx(tn,{to:"/browse",className:`text-sm font-medium transition-colors ${d("/browse")?"text-primary":"text-slate-600 hover:text-primary"}`,children:"Browse Simulations"}),u.jsx(tn,{to:"/creator",className:`text-sm font-medium transition-colors ${d("/creator")?"text-primary":"text-slate-600 hover:text-primary"}`,children:"Creator Dashboard"})]}),u.jsx("div",{className:"flex items-center space-x-3",children:a?u.jsxs(u.Fragment,{children:[u.jsx(tn,{to:"/auth?mode=login",className:"px-4 py-2 text-sm font-semibold text-slate-700 hover:text-primary transition-colors",children:"Login"}),u.jsx(tn,{to:"/auth?mode=signup",className:"px-5 py-2 text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Sign Up"})]}):i?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-slate-100 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-sm font-semibold",children:((h=(p=n==null?void 0:n.full_name)==null?void 0:p.charAt(0))==null?void 0:h.toUpperCase())||((g=(m=r==null?void 0:r.email)==null?void 0:m.charAt(0))==null?void 0:g.toUpperCase())||"U"})}),u.jsx("span",{className:"hidden md:block text-sm font-medium text-slate-700",children:(n==null?void 0:n.full_name)||((y=r==null?void 0:r.email)==null?void 0:y.split("@")[0])}),u.jsx("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-50",children:[u.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:(n==null?void 0:n.full_name)||"User"}),u.jsx("p",{className:"text-xs text-slate-500",children:r==null?void 0:r.email})]}),u.jsx(tn,{to:"/creator",className:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>o(!1),children:"Creator Dashboard"}),u.jsx("button",{onClick:f,disabled:l,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing out...":"Sign Out"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(tn,{to:"/auth?mode=login",className:"px-4 py-2 text-sm font-semibold text-slate-700 hover:text-primary transition-colors",children:"Login"}),u.jsx(tn,{to:"/auth?mode=signup",className:"px-5 py-2 text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Sign Up"})]})})]})}),s&&u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})},tW=()=>u.jsxs("div",{className:"min-h-screen",children:[u.jsx("section",{className:"relative px-4 py-20 sm:px-6 lg:px-8 overflow-hidden",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-extrabold text-slate-900 tracking-tight mb-6",children:["Practice Real Scenarios",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Assess Real Skills"}),u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"See Real results"})]}),u.jsx("p",{className:"max-w-2xl mx-auto text-xl text-slate-600 mb-4",children:"Learn. Teach. Hire."}),u.jsx("p",{className:"max-w-2xl mx-auto text-base text-slate-600 mb-10",children:"Build and assess real workplace skills through AI-powered simulations."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(tn,{to:"/browse",className:"px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105",children:"Browse Simulations"}),u.jsx(tn,{to:"/creator",className:"px-8 py-4 text-lg font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-xl hover:border-primary hover:text-primary transition-all duration-200",children:"Create Simulations"})]})]}),u.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"text-center p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200",children:[u.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"4"}),u.jsx("div",{className:"text-slate-600 font-medium",children:"Simulation Types"})]}),u.jsxs("div",{className:"text-center p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200",children:[u.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"10+"}),u.jsx("div",{className:"text-slate-600 font-medium",children:"Ready Scenarios"})]}),u.jsxs("div",{className:"text-center p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200",children:[u.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"AI"}),u.jsx("div",{className:"text-slate-600 font-medium",children:"Powered Scoring"})]})]})]})}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white/40",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"How Simulate Works"}),u.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Whether you're a creator or a learner, Simulate makes workplace simulations accessible to everyone."})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"For Professionals & Learners"}),u.jsxs("ul",{className:"space-y-3 text-slate-600",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Browse simulations by category (PM, Sales, HR, Leadership)"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Practice realistic workplace scenarios"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Get instant AI feedback and scoring"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Track progress and skill improvement"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"For Creators & Educators"}),u.jsxs("ul",{className:"space-y-3 text-slate-600",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Describe scenarios in natural language"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"AI generates complete simulations instantly"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Customize scoring rubrics and feedback"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Publish to Simulate library"})]})]})]})]})]})}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Four Simulation Types"}),u.jsx("p",{className:"text-lg text-slate-600",children:"Practice different workplace skills through interactive scenarios"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg mb-4"}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Customer Comments"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Reply to customer feedback with empathy and provide solutions"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg mb-4"}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Sales Negotiation"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Navigate pricing discussions while protecting value"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg mb-4"}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Prioritization"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Drag-and-drop tasks to prioritize under time pressure"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg mb-4"}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Team Conflict"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Resolve disagreements between team members diplomatically"})]})]})]})}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-primary to-accent",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Build Your Skills?"}),u.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join Simulate today and start practicing real workplace scenarios."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(tn,{to:"/browse",className:"px-8 py-4 text-lg font-semibold text-primary bg-white rounded-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105",children:"Start Practicing Now"}),u.jsx(tn,{to:"/creator",className:"px-8 py-4 text-lg font-semibold text-white border-2 border-white rounded-xl hover:bg-white/10 transition-all duration-200",children:"Create Simulations"})]})]})}),u.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-slate-900 text-white",children:u.jsx("div",{className:"max-w-7xl mx-auto text-center",children:u.jsx("p",{className:"text-slate-400",children:" 2025 Simulate. Building the future of workplace learning."})})})]}),E_={async getAllSimulations(){try{const{data:e,error:t}=await qe.from("simulations").select("*").eq("is_published",!0).contains("metadata",{is_active:!0}).order("created_at",{ascending:!1});if(t)throw console.error("Database error fetching simulations:",t),t;return e||[]}catch(e){throw console.error("Error in getAllSimulations:",e),e}},async getSimulationById(e){try{const{data:t,error:r}=await qe.from("simulations").select("*").eq("id",e).single();if(r)throw console.error("Database error fetching simulation:",r),r;return t}catch(t){throw console.error("Error in getSimulationById:",t),t}},async saveSimulation(e){var t,r;try{const{data:{user:n}}=await qe.auth.getUser();let i=null;if(n)try{const{data:o}=await qe.from("user_profiles").select("full_name").eq("id",n.id).single();i=(o==null?void 0:o.full_name)||((t=n.email)==null?void 0:t.split("@")[0])||"Anonymous"}catch{i=((r=n.email)==null?void 0:r.split("@")[0])||"Anonymous"}const{data:a,error:s}=await qe.from("simulations").insert({title:e.title,description:e.description,category:e.category,difficulty:e.difficulty,duration:e.duration,learning_objectives:e.learningObjectives||[],skills_tested:e.skillsTested||[],html_content:e.htmlContent,is_ai_generated:!0,is_published:!0,is_active:!0,tags:e.tags||[],created_by:(n==null?void 0:n.id)||null,creator_name:i,metadata:{ai_model:"gemini-2.5-pro",generation_prompt:e.userPrompt||"",version:"1.0",created_via:"ai_builder",is_active:!0}}).select().single();if(s)throw console.error("Database error saving simulation:",s),s;return console.log(" Simulation saved to database:",a.id),a}catch(n){throw console.error("Error in saveSimulation:",n),n}},async updateSimulation(e,t){try{const{data:r,error:n}=await qe.from("simulations").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("Database error updating simulation:",n),n;return r}catch(r){throw console.error("Error in updateSimulation:",r),r}},async getUserSimulations(){try{const{data:{user:e}}=await qe.auth.getUser();if(!e)return[];const{data:t,error:r}=await qe.from("simulations").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});if(r)throw console.error("Database error fetching user simulations:",r),r;return t||[]}catch(e){throw console.error("Error in getUserSimulations:",e),e}},async deleteSimulation(e){try{const{error:t}=await qe.from("simulations").delete().eq("id",e);if(t)throw console.error("Database error deleting simulation:",t),t;console.log(" Simulation deleted from database:",e)}catch(t){throw console.error("Error in deleteSimulation:",t),t}},async testConnection(){try{const{data:e,error:t}=await qe.from("simulations").select("count").limit(1);return t?(console.error("Database connection test failed:",t),!1):(console.log(" Database connection successful"),!0)}catch(e){return console.error("Error testing database connection:",e),!1}}},rW=()=>{const[e,t]=T.useState([]),[r,n]=T.useState("All"),[i,a]=T.useState(""),[s,o]=T.useState(!0),[l,c]=T.useState(null);T.useEffect(()=>{(async()=>{try{o(!0),c(null),console.log(" Loading simulations from database...");const y=await E_.getAllSimulations();console.log(" Loaded HTML simulations from database:",y.length);const{taskBasedService:v}=await Ta(async()=>{const{taskBasedService:x}=await Promise.resolve().then(()=>$me);return{taskBasedService:x}},void 0);let b=[];try{b=await v.getAllSimulations(),console.log(" Loaded task-based simulations from database:",b.length)}catch(x){console.warn("Could not load task-based simulations:",x)}const w=b.map(x=>({id:x.id,slug:x.slug,title:x.title,description:x.description,category:x.category,difficulty:x.difficulty,duration:x.estimated_duration,is_ai_generated:!1,isDefault:!1,isTaskBased:!0,...x.slug==="noah-smart-fitness-watch"&&{id:"noah-demo"}}));t([...w,...y])}catch(y){console.error(" Error loading from database:",y),c("Failed to load simulations. Please refresh the page."),t([{id:"noah-demo",slug:"noah-smart-fitness-watch",title:"Noah Smart Fitness Watch - Product Management",description:"End-to-end product management simulation: from market research to post-launch analytics. Practice real PM skills with 7 comprehensive tasks.",category:"Product Management",difficulty:"Intermediate",duration:"6-8 hours",is_ai_generated:!1,isDefault:!1,isTaskBased:!0}])}finally{o(!1)}})()},[]);const d=["All","Product Management","Sales","Leadership","Marketing","HR"],f=e.filter(g=>{const y=r==="All"||g.category===r,v=i===""||g.title.toLowerCase().includes(i.toLowerCase())||g.description.toLowerCase().includes(i.toLowerCase());return y&&v}),p=g=>{switch(g){case"Beginner":return"bg-green-100 text-green-700";case"Intermediate":return"bg-yellow-100 text-yellow-700";case"Advanced":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},h=g=>g.isTaskBased||g.id==="noah-demo"?g.slug?`/simulation/${g.slug}`:"/demosimulation":g.is_ai_generated||g.html_content?`/simulation/html/${g.id}`:`/simulation/custom/${g.id}`,m=g=>{if(g.isTaskBased||g.id==="noah-demo")return"";if(g.is_ai_generated)return"";if(g.category){const y=g.category.toLowerCase();if(y.includes("customer")||y.includes("service"))return"";if(y.includes("sales"))return"";if(y.includes("priorit")||y.includes("management"))return"";if(y.includes("team")||y.includes("conflict"))return"";if(y.includes("product"))return"";if(y.includes("leadership"))return"";if(y.includes("marketing"))return"";if(y.includes("hr")||y.includes("human"))return""}return""};return s?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulations..."})]})}):u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[l&&u.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.725-1.36 3.49 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:l})})]})}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Browse Simulations"}),u.jsx("p",{className:"text-lg text-slate-600",children:"Choose a simulation to practice real-world workplace skills"})]}),u.jsxs("div",{className:"mb-8 space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search simulations...",value:i,onChange:g=>a(g.target.value),className:"w-full px-5 py-3 pl-12 bg-white border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),u.jsx("svg",{className:"absolute left-4 top-3.5 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(g=>u.jsx("button",{onClick:()=>n(g),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${r===g?"bg-gradient-to-r from-primary to-accent text-white shadow-md":"bg-white text-slate-700 border border-slate-300 hover:border-primary"}`,children:g},g))})]}),u.jsxs("div",{className:"mb-6 text-slate-600",children:["Showing ",u.jsx("span",{className:"font-semibold text-slate-900",children:f.length})," simulation",f.length!==1?"s":""]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(g=>u.jsxs("div",{className:"group bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-2xl hover:border-primary transition-all duration-200 transform hover:scale-105",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"text-4xl",children:m(g)}),u.jsx("span",{className:"text-xs font-semibold text-slate-600 bg-slate-100 px-3 py-1 rounded-full",children:g.category})]}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2 group-hover:text-primary transition-colors",children:g.title}),u.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:g.description}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${p(g.difficulty)}`,children:g.difficulty}),u.jsxs("span",{className:"text-slate-500 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.duration]})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:u.jsx(tn,{to:h(g),className:"block w-full py-2 px-4 text-center text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all transform hover:scale-105",children:"Try Simulation"})}),!g.isDefault&&u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:"text-xs font-semibold text-primary bg-primary/10 px-2 py-1 rounded",children:"Custom Simulation"})})]},g.id))}),f.length===0&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No simulations found"}),u.jsx("p",{className:"text-slate-600 mb-6",children:"Try adjusting your search or filter criteria"}),u.jsx("button",{onClick:()=>{n("All"),a("")},className:"px-6 py-3 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Clear Filters"})]})]})})},Yc={async getMySimulations(){try{const{data:{user:e}}=await qe.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:r}=await qe.from("task_based_simulations").select("*").or(`created_by.eq.${e.id},created_by.is.null`).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching recruiter simulations:",r),r;return console.log(` Found ${(t==null?void 0:t.length)||0} simulations for recruiter ${e.id}`),t||[]}catch(e){throw console.error("Error fetching recruiter simulations:",e),e}},async getSimulationParticipants(e){var t;try{const{data:{user:r}}=await qe.auth.getUser();if(!r)throw new Error("User not authenticated");console.log(` Fetching participants for simulation ${e} (recruiter: ${r.id})`);const{data:n,error:i}=await qe.from("task_based_simulations").select("id, created_by, title").eq("id",e).single();if(i)throw console.error("Error verifying simulation ownership:",i),i;if(!n)return console.warn(` Simulation ${e} not found`),[];if(n.created_by&&n.created_by!==r.id)return console.warn(` User ${r.id} does not own simulation ${e} (owner: ${n.created_by})`),[];console.log(` Verified ownership for simulation: ${n.title}`);const{data:a,error:s}=await qe.from("task_based_progress").select("*").eq("simulation_id",e).not("completed_at","is",null).order("completed_at",{ascending:!1}).limit(1e3);if(s)throw console.error("Error fetching progress:",s),(s.code==="42501"||(t=s.message)!=null&&t.includes("permission"))&&console.error(" RLS policy blocked access. Check that the simulation is mapped to this recruiter."),s;if(console.log(` Found ${(a==null?void 0:a.length)||0} completed progress records`),!a||a.length===0)return[];const o=[...new Set(a.map(p=>p.user_id))];console.log(` Fetching profiles for ${o.length} users`);const{data:l,error:c}=await qe.from("user_profiles").select("id, full_name, email, avatar_url, user_role, created_at").in("id",o);c&&(console.error("Error fetching profiles:",c),console.warn(" Continuing without profile data due to RLS restrictions"));const d=new Map((l==null?void 0:l.map(p=>[p.id,p]))||[]),f=a.map(p=>({...p,user_profiles:d.get(p.user_id)||{id:p.user_id,full_name:"Anonymous",email:"N/A",user_role:null,created_at:null}}));return console.log(` Returning ${f.length} participants`),f}catch(r){throw console.error("Error fetching participants:",r),r}},async getSimulationSubmissions(e){try{const{data:t,error:r}=await qe.from("task_based_progress").select("user_id").eq("simulation_id",e).not("completed_at","is",null);if(r)throw r;const n=(t==null?void 0:t.map(d=>d.user_id))||[];if(n.length===0)return[];const{data:i,error:a}=await qe.from("task_submissions").select("*").eq("simulation_id",e).in("user_id",n).order("submitted_at",{ascending:!1});if(a)throw a;if(!i||i.length===0)return[];const{data:s,error:o}=await qe.from("user_profiles").select("id, full_name, email, avatar_url").in("id",n);if(o)throw o;const l=new Map((s==null?void 0:s.map(d=>[d.id,d]))||[]);return i.map(d=>({...d,user_profiles:l.get(d.user_id)||null}))}catch(t){throw console.error("Error fetching submissions:",t),t}},async getSimulationAnalytics(e){try{const{data:{user:t}}=await qe.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r}=await qe.from("task_based_simulations").select("id, created_by").eq("id",e).single();if(!r||r.created_by&&r.created_by!==t.id)return{totalParticipants:0,completedParticipants:0,completionRate:0,averageScore:0,topPerformers:[],scoreDistribution:{"90-100":0,"80-89":0,"70-79":0,"60-69":0,"0-59":0},averageDurationHours:0,taskPerformance:{}};const{data:n,error:i}=await qe.from("task_based_progress").select("*").eq("simulation_id",e);if(i)throw i;const{data:a,error:s}=await qe.from("task_submissions").select("*").eq("simulation_id",e);if(s)throw s;const o=(n==null?void 0:n.filter(b=>b.completed_at!==null))||[],l=o.length,c=l,d=l>0?c/l*100:0,f=o.filter(b=>b.final_score!==null),p=f.length>0?f.reduce((b,w)=>b+(w.final_score||0),0)/f.length:0,h=[...f].sort((b,w)=>(w.final_score||0)-(b.final_score||0)).slice(0,10),m={"90-100":0,"80-89":0,"70-79":0,"60-69":0,"0-59":0};f.forEach(b=>{const w=b.final_score||0;w>=90?m["90-100"]++:w>=80?m["80-89"]++:w>=70?m["70-79"]++:w>=60?m["60-69"]++:m["0-59"]++});const g=o.filter(b=>b.completed_at&&b.started_at),y=g.length>0?g.reduce((b,w)=>{const x=new Date(w.completed_at)-new Date(w.started_at);return b+x/(1e3*60*60)},0)/g.length:0,v={};return a==null||a.forEach(b=>{v[b.task_id]||(v[b.task_id]={taskId:b.task_id,totalSubmissions:0,averageScore:0,scores:[]}),v[b.task_id].totalSubmissions++,b.score!==null&&v[b.task_id].scores.push(b.score)}),Object.keys(v).forEach(b=>{const w=v[b];w.scores.length>0&&(w.averageScore=w.scores.reduce((x,N)=>x+N,0)/w.scores.length)}),{totalParticipants:l,completedParticipants:c,completionRate:Math.round(d*100)/100,averageScore:Math.round(p*100)/100,topPerformers:h,scoreDistribution:m,averageDurationHours:Math.round(y*100)/100,taskPerformance:v}}catch(t){throw console.error("Error calculating analytics:",t),t}},async getUserProfile(e){try{const{data:t,error:r}=await qe.from("user_profiles").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Error fetching user profile:",t),t}},async getUserSimulationHistory(e){try{const{data:t,error:r}=await qe.from("task_based_progress").select(`
          *,
          task_based_simulations!inner (
            id,
            title,
            slug,
            category,
            company_info
          )
        `).eq("user_id",e).order("started_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Error fetching user history:",t),t}}},nW=()=>{const{user:e,isAuthenticated:t}=A_(),r=Hn(),[n,i]=T.useState([]),[a,s]=T.useState(null),[o,l]=T.useState(!0),[c,d]=T.useState(null),[f,p]=T.useState(!1);T.useEffect(()=>{t&&e?(h(),m()):l(!1)},[t,e]);const h=async()=>{try{const{data:y,error:v}=await qe.from("user_profiles").select("user_role").eq("id",e.id).single();if(!v&&y){const b=y.user_role==="recruiter"||y.user_role==="hiring_manager";p(b),s(y)}}catch(y){console.error("Error checking user role:",y)}},m=async()=>{try{l(!0),d(null);const y=await Yc.getMySimulations(),v=await Promise.all(y.map(async b=>{try{const w=await Yc.getSimulationParticipants(b.id),x=await Yc.getSimulationAnalytics(b.id);return{...b,participantCount:w.length,completedCount:x.completedParticipants,averageScore:x.averageScore,completionRate:x.completionRate}}catch(w){return console.error(`Error loading stats for ${b.id}:`,w),{...b,participantCount:0,completedCount:0,averageScore:0,completionRate:0}}}));i(v)}catch(y){console.error("Error loading simulations:",y),d("Failed to load simulations. Please try again.")}finally{l(!1)}},g=y=>{const v=(y||"").toLowerCase();return v.includes("product")?"":v.includes("marketing")?"":v.includes("sales")?"":v.includes("engineering")?"":v.includes("design")?"":""};return t?!f&&a?u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Recruiter Access Required"}),u.jsxs("p",{className:"text-slate-600 mb-6",children:["This dashboard is only available for recruiters and hiring managers. Your current role is: ",u.jsx("strong",{children:a.user_role})]}),u.jsx(tn,{to:"/browse",className:"inline-block px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Browse Simulations"})]})})}):u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"mb-10",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Recruiter Dashboard"}),u.jsx("p",{className:"text-lg text-slate-600",children:"View and manage your simulations, track candidate performance, and analyze results"})]}),u.jsxs(tn,{to:"/creator/build",className:"inline-flex items-center px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105",children:[u.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Simulation"]})]})}),n.length>0&&u.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-10",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Simulations"}),u.jsx("div",{className:"text-3xl font-bold text-slate-900",children:n.length})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Participants"}),u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.reduce((y,v)=>y+(v.participantCount||0),0)})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),u.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.reduce((y,v)=>y+(v.completedCount||0),0)})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Avg. Score"}),u.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[n.length>0?Math.round(n.reduce((y,v)=>y+(v.averageScore||0),0)/n.length):0,"%"]})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"My Simulations"}),o?u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading your simulations..."})]}):c?u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-red-200 text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Error Loading Simulations"}),u.jsx("p",{className:"text-slate-600 mb-6",children:c}),u.jsx("button",{onClick:m,className:"px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Try Again"})]}):n.length===0?u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No simulations yet"}),u.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first simulation to start evaluating candidates"}),u.jsxs(tn,{to:"/creator/build",className:"inline-flex items-center px-6 py-3 text-white bg-gradient-to-r from-primary to-accent rounded-lg font-semibold hover:shadow-lg transition-all",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Simulation"]})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(y=>u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"text-4xl",children:g(y.category)}),u.jsx("span",{className:"text-xs font-semibold text-primary bg-primary/10 px-3 py-1 rounded-full",children:y.category||"General"})]}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:y.title}),u.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:y.description||"No description available"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Participants"}),u.jsx("div",{className:"text-lg font-bold text-blue-600",children:y.participantCount||0})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Completed"}),u.jsx("div",{className:"text-lg font-bold text-green-600",children:y.completedCount||0})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Avg. Score"}),u.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[y.averageScore?Math.round(y.averageScore):"N/A","%"]})]}),u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Completion"}),u.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[y.completionRate?Math.round(y.completionRate):0,"%"]})]})]}),u.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[u.jsx("button",{onClick:()=>r(`/creator/simulation/${y.id}`),className:"flex-1 px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-md transition-all",children:"View Details"}),u.jsx(tn,{to:`/simulation/${y.slug}`,className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Preview"})]})]},y.id))})]})]})}):u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Please Sign In"}),u.jsx("p",{className:"text-slate-600 mb-6",children:"You need to be signed in to view your simulations."}),u.jsx(tn,{to:"/auth?mode=login",className:"inline-block px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Sign In"})]})})})},C4="ai-generate";async function h8(e,t){try{if(console.log(" Calling Edge Function:",C4),console.log(" Action:",e),console.log(" Payload:",t),!qe)throw new Error("Supabase client is not initialized. Check your .env file for VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY");const{data:r,error:n}=await qe.functions.invoke(C4,{body:{action:e,payload:t}});if(console.log(" Response data:",r),console.log(" Response error:",n),n)throw console.error("Edge Function invocation error details:",{message:n.message,status:n.status,statusText:n.statusText,context:n.context}),new Error(`Failed to send a request to the Edge Function: ${n.message||JSON.stringify(n)}`);if(!r)throw new Error("No data returned from Edge Function");if(!r.success)throw new Error(r.error||"AI service returned error");return r.data}catch(r){throw console.error(" Error calling Edge Function:",r),console.error("Error details:",{name:r.name,message:r.message,stack:r.stack}),r}}const iW=async e=>{var t;try{console.log(" Generating HTML simulation with GPT-4-turbo-preview..."),console.log("User prompt:",e);const r=await h8("generateHTMLSimulation",{userPrompt:e});return console.log(" HTML Simulation generated successfully!"),console.log("- Title:",r.title),console.log("- Category:",r.category),console.log("- HTML length:",((t=r.htmlContent)==null?void 0:t.length)||0,"characters"),r}catch(r){throw console.error("Failed to generate HTML simulation:",r),new Error(`Failed to generate simulation: ${r.message}`)}},aW=async(e,t)=>{try{console.log(" Regenerating HTML simulation with feedback..."),console.log("Feedback:",t);const r=await h8("regenerateHTMLSimulation",{currentHTML:e,feedback:t});return console.log(" HTML Simulation regenerated successfully!"),r}catch(r){throw console.error("Failed to regenerate HTML simulation:",r),new Error(`Failed to regenerate simulation: ${r.message}`)}},ev={async logActivity(e,t={},r={}){const{data:{user:n}}=await qe.auth.getUser();if(!n){console.warn("Cannot log activity: User not authenticated");return}const{error:i}=await qe.from("user_activity").insert({user_id:n.id,activity_type:e,activity_data:t,metadata:{...r,user_agent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()}});i&&console.error("Error logging activity:",i)},async startSimulation(e){const{data:{user:t}}=await qe.auth.getUser();if(!t)return null;const{data:r,error:n}=await qe.from("simulation_sessions").insert({user_id:t.id,simulation_id:e,status:"started"}).select().single();return n?(console.error("Error creating session:",n),null):(await this.logActivity("simulation_started",{simulation_id:e,session_id:r.id}),r)},async updateProgress(e,t){const{error:r}=await qe.from("simulation_sessions").update({current_step:t.currentStep,progress_percentage:t.percentage,simulation_state:t.state,status:"in_progress"}).eq("id",e);r&&console.error("Error updating progress:",r)},async completeSimulation(e,t,r){const{data:{user:n}}=await qe.auth.getUser();if(!n)return;const{error:i}=await qe.from("simulation_sessions").update({status:"completed",completed_at:new Date().toISOString(),final_score:t.final,max_score:t.max,progress_percentage:100,user_responses:r}).eq("id",e);if(i){console.error("Error completing session:",i);return}await this.logActivity("simulation_completed",{session_id:e,score:t.final,max_score:t.max})},async getUserSimulationHistory(e){const{data:t,error:r}=await qe.from("simulation_sessions").select(`
        *,
        simulations (
          id,
          title,
          category,
          difficulty
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},async getUserCreatedSimulations(e){const{data:t,error:r}=await qe.from("simulations").select("*").eq("created_by",e).order("created_at",{ascending:!1});if(r)throw r;return t}},sW=({onSimulationCreated:e})=>{const[t,r]=T.useState(1),[n,i]=T.useState(null),[a,s]=T.useState(!1),[o,l]=T.useState(null),[c,d]=T.useState(""),[f,p]=T.useState({title:"",description:"",simulationType:"",learningObjectives:[],currentObjective:"",skillsTested:[],targetAudience:"",experienceLevel:"",industry:"",companySize:"",scenarioContext:"",duration:"",difficulty:"",numberOfSteps:5,specificRequirements:[],currentRequirement:"",additionalContext:""}),h=()=>{f.currentObjective.trim()&&p({...f,learningObjectives:[...f.learningObjectives,f.currentObjective.trim()],currentObjective:""})},m=A=>{p({...f,learningObjectives:f.learningObjectives.filter((P,C)=>C!==A)})},g=()=>{f.currentRequirement.trim()&&p({...f,specificRequirements:[...f.specificRequirements,f.currentRequirement.trim()],currentRequirement:""})},y=A=>{p({...f,specificRequirements:f.specificRequirements.filter((P,C)=>C!==A)})},v=A=>{p({...f,skillsTested:f.skillsTested.includes(A)?f.skillsTested.filter(P=>P!==A):[...f.skillsTested,A]})},b=()=>`
      Create a ${f.simulationType} simulation with these specifications:
      
      TITLE: ${f.title}
      DESCRIPTION: ${f.description}
      
      SIMULATION TYPE: ${f.simulationType}
      INDUSTRY: ${f.industry}
      TARGET AUDIENCE: ${f.targetAudience}
      EXPERIENCE LEVEL: ${f.experienceLevel}
      DURATION: ${f.duration}
      DIFFICULTY: ${f.difficulty}
      NUMBER OF STEPS: ${f.numberOfSteps}
      
      LEARNING OBJECTIVES:
      ${f.learningObjectives.map(A=>`- ${A}`).join(`
`)}
      
      SKILLS TESTED:
      ${f.skillsTested.join(", ")}
      
      CONTEXT:
      ${f.scenarioContext}
      
      SPECIFIC REQUIREMENTS:
      ${f.specificRequirements.map(A=>`- ${A}`).join(`
`)}
      
      ADDITIONAL CONTEXT:
      ${f.additionalContext}
      
      Create an interactive HTML simulation that:
      1. Follows the ${f.simulationType} format
      2. Tests the specified skills: ${f.skillsTested.join(", ")}
      3. Takes approximately ${f.duration}
      4. Includes ${f.numberOfSteps} main steps/scenarios
      5. Provides feedback and scoring
      6. Is appropriate for ${f.experienceLevel} level learners
      7. Focuses on: ${f.learningObjectives.join(", ")}
    `,w=()=>{const A={};return f.title.trim()||(A.title="Title is required"),f.description.trim()||(A.description="Description is required"),f.simulationType||(A.simulationType="Please select a simulation type"),f.learningObjectives.length===0&&(A.learningObjectives="Add at least one learning objective"),f.skillsTested.length===0&&(A.skillsTested="Select at least one skill"),f.targetAudience||(A.targetAudience="Please select target audience"),f.industry||(A.industry="Please select industry"),f.duration||(A.duration="Please select duration"),f.difficulty||(A.difficulty="Please select difficulty"),A},x=async()=>{var P;const A=w();if(Object.keys(A).length>0){l(Object.values(A)[0]);return}s(!0),l(null);try{const C=b();console.log(" Generating simulation with structured prompt:",C);const k=await iW(C);console.log(" Generated simulation:",k),console.log(" HTML Content length:",(P=k.htmlContent)==null?void 0:P.length),i(k),r(2)}catch(C){l(`Failed to generate simulation: ${C.message}`)}finally{s(!1)}},N=async()=>{if(!c.trim()){l("Please provide feedback for regeneration");return}s(!0),l(null);try{const A=await aW(n.htmlContent,c);i(A),d("")}catch(A){l(`Failed to regenerate simulation: ${A.message}`)}finally{s(!1)}},O=async()=>{try{s(!0),l(null),console.log(" Saving simulation to database...");const A=await E_.saveSimulation({...n,userPrompt:b(),formData:f});console.log(" Simulation saved to database:",A.id),await ev.logActivity("simulation_created",{simulation_id:A.id,title:A.title,category:A.category}),await ev.logActivity("simulation_published",{simulation_id:A.id,title:A.title}),e(A),alert(" Simulation published successfully to database!"),r(1),setUserPrompt(""),i(null),d("")}catch(A){console.error(" Error saving simulation to database:",A),l(`Failed to publish simulation: ${A.message}`)}finally{s(!1)}},j=()=>{r(1),i(null),d(""),l(null),p({title:"",description:"",simulationType:"",learningObjectives:[],currentObjective:"",skillsTested:[],targetAudience:"",experienceLevel:"",industry:"",companySize:"",scenarioContext:"",duration:"",difficulty:"",numberOfSteps:5,specificRequirements:[],currentRequirement:"",additionalContext:""})};return u.jsxs("div",{className:"max-w-6xl mx-auto",children:[t===1&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:" Create your own simulations"})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Basic Information"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Simulation Title *"}),u.jsx("input",{type:"text",value:f.title,onChange:A=>p({...f,title:A.target.value}),placeholder:"e.g., Customer Service Training Simulation",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Target Audience *"}),u.jsxs("select",{value:f.targetAudience,onChange:A=>p({...f,targetAudience:A.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[u.jsx("option",{value:"",children:"Select target audience"}),u.jsx("option",{value:"Customer Service",children:"Customer Service"}),u.jsx("option",{value:"Sales Team",children:"Sales Team"}),u.jsx("option",{value:"Managers",children:"Managers"}),u.jsx("option",{value:"New Hires",children:"New Hires"}),u.jsx("option",{value:"General Staff",children:"General Staff"}),u.jsx("option",{value:"Students",children:"Students"})]})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description *"}),u.jsx("textarea",{value:f.description,onChange:A=>p({...f,description:A.target.value}),placeholder:"Brief description of what this simulation will teach...",className:"w-full h-24 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all resize-none"})]})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" What type of simulation?"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{value:"role-play",label:" Role Play",desc:"Interactive conversations"},{value:"decision-tree",label:" Decision Tree",desc:"Multiple choice scenarios"},{value:"scenario-based",label:" Scenario Based",desc:"Step-by-step situations"},{value:"interactive-story",label:" Interactive Story",desc:"Narrative with choices"}].map(A=>u.jsxs("label",{className:"cursor-pointer",children:[u.jsx("input",{type:"radio",name:"simulationType",value:A.value,checked:f.simulationType===A.value,onChange:P=>p({...f,simulationType:P.target.value}),className:"sr-only"}),u.jsxs("div",{className:`p-4 border-2 rounded-lg text-center transition-all ${f.simulationType===A.value?"border-primary bg-primary/5":"border-slate-300 hover:border-slate-400"}`,children:[u.jsx("div",{className:"text-2xl mb-2",children:A.label.split(" ")[0]}),u.jsx("div",{className:"font-semibold text-slate-800",children:A.label.split(" ").slice(1).join(" ")}),u.jsx("div",{className:"text-sm text-slate-600 mt-1",children:A.desc})]})]},A.value))})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Learning Objectives *"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:f.currentObjective,onChange:A=>p({...f,currentObjective:A.target.value}),placeholder:"Add learning objective (press Enter)",className:"flex-1 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",onKeyPress:A=>A.key==="Enter"&&h()}),u.jsx("button",{type:"button",onClick:h,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-accent transition-colors",children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:f.learningObjectives.map((A,P)=>u.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[A,u.jsx("button",{type:"button",onClick:()=>m(P),className:"text-blue-600 hover:text-blue-800",children:""})]},P))})]})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Skills Being Tested *"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:["Communication","Leadership","Problem Solving","Empathy","Negotiation","Time Management","Critical Thinking","Teamwork","Adaptability","Decision Making"].map(A=>u.jsxs("label",{className:"cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.skillsTested.includes(A),onChange:()=>v(A),className:"sr-only"}),u.jsx("div",{className:`p-3 border-2 rounded-lg text-center transition-all ${f.skillsTested.includes(A)?"border-primary bg-primary/5 text-primary":"border-slate-300 hover:border-slate-400"}`,children:A})]},A))})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Industry & Context"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Industry *"}),u.jsxs("select",{value:f.industry,onChange:A=>p({...f,industry:A.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[u.jsx("option",{value:"",children:"Select industry"}),u.jsx("option",{value:"Technology",children:"Technology"}),u.jsx("option",{value:"Healthcare",children:"Healthcare"}),u.jsx("option",{value:"Retail",children:"Retail"}),u.jsx("option",{value:"Finance",children:"Finance"}),u.jsx("option",{value:"Education",children:"Education"}),u.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),u.jsx("option",{value:"Other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience Level *"}),u.jsxs("select",{value:f.experienceLevel,onChange:A=>p({...f,experienceLevel:A.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[u.jsx("option",{value:"",children:"Select level"}),u.jsx("option",{value:"Beginner",children:"Beginner"}),u.jsx("option",{value:"Intermediate",children:"Intermediate"}),u.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Scenario Context"}),u.jsx("textarea",{value:f.scenarioContext,onChange:A=>p({...f,scenarioContext:A.target.value}),placeholder:"Describe the specific situation or context...",className:"w-full h-20 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all resize-none"})]})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Simulation Settings"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),u.jsxs("select",{value:f.duration,onChange:A=>p({...f,duration:A.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[u.jsx("option",{value:"",children:"Select duration"}),u.jsx("option",{value:"5-10 minutes",children:"5-10 minutes"}),u.jsx("option",{value:"10-15 minutes",children:"10-15 minutes"}),u.jsx("option",{value:"15-20 minutes",children:"15-20 minutes"}),u.jsx("option",{value:"20-30 minutes",children:"20-30 minutes"}),u.jsx("option",{value:"30+ minutes",children:"30+ minutes"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Difficulty *"}),u.jsxs("select",{value:f.difficulty,onChange:A=>p({...f,difficulty:A.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",children:[u.jsx("option",{value:"",children:"Select difficulty"}),u.jsx("option",{value:"Beginner",children:"Beginner"}),u.jsx("option",{value:"Intermediate",children:"Intermediate"}),u.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Number of Steps"}),u.jsx("input",{type:"number",min:"1",max:"20",value:f.numberOfSteps,onChange:A=>p({...f,numberOfSteps:parseInt(A.target.value)||5}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all"})]})]})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Specific Requirements"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:f.currentRequirement,onChange:A=>p({...f,currentRequirement:A.target.value}),placeholder:"Add specific requirement (press Enter)",className:"flex-1 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all",onKeyPress:A=>A.key==="Enter"&&g()}),u.jsx("button",{type:"button",onClick:g,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-accent transition-colors",children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:f.specificRequirements.map((A,P)=>u.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[A,u.jsx("button",{type:"button",onClick:()=>y(P),className:"text-green-600 hover:text-green-800",children:""})]},P))})]})]}),u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Additional Context"}),u.jsx("textarea",{value:f.additionalContext,onChange:A=>p({...f,additionalContext:A.target.value}),placeholder:"Any additional context, special instructions, or specific details...",className:"w-full h-20 px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20 transition-all resize-none"})]}),o&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:u.jsx("div",{className:"flex items-center",children:u.jsxs("span",{className:"text-red-700 font-medium",children:[" ",o]})})}),u.jsx("div",{className:"flex justify-center pt-6",children:u.jsx("button",{onClick:x,disabled:a,className:"px-12 py-4 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-xl hover:shadow-2xl transform hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?u.jsxs("div",{className:"flex items-center",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):" Generate Simulation"})})]})]}),t===2&&n&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:n.title}),u.jsx("p",{className:"text-slate-600 mb-4",children:n.description}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:n.category}),u.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:n.difficulty}),u.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[" ",n.duration]})]})]})}),n.learningObjectives&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Learning Objectives:"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-slate-600 space-y-1",children:n.learningObjectives.map((A,P)=>u.jsx("li",{children:A},P))})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:" Simulation Preview"}),u.jsxs("div",{className:"border-2 border-slate-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-slate-50 px-4 py-2 border-b border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),u.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),u.jsx("span",{className:"ml-2 text-sm text-slate-600",children:"Simulation Preview"})]})}),u.jsx("div",{className:"bg-white",children:n.htmlContent?u.jsx("iframe",{srcDoc:n.htmlContent,title:"Simulation Preview",className:"w-full border-0",style:{minHeight:"600px",height:"70vh"},sandbox:"allow-scripts allow-same-origin allow-forms"}):u.jsxs("div",{className:"p-8 text-center text-slate-500",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("div",{className:"text-lg font-medium mb-2",children:"No HTML content generated"}),u.jsx("div",{className:"text-sm",children:"The simulation generation may have failed. Check the console for errors."})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Want to improve it?"}),u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Provide feedback and the AI will regenerate the simulation with improvements."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:c,onChange:A=>d(A.target.value),placeholder:"e.g., Make it more challenging, Add more specific metrics, Include time pressure...",className:"flex-1 px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-primary focus:ring focus:ring-primary/20",disabled:a}),u.jsx("button",{onClick:N,disabled:a||!c.trim(),className:"px-6 py-2 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Regenerating...":" Regenerate"})]})]}),o&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:u.jsxs("div",{className:"text-red-700 font-medium",children:[" ",o]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:j,className:"flex-1 px-6 py-3 bg-slate-200 text-slate-700 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:" Start Over"}),u.jsx("button",{onClick:O,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-semibold hover:shadow-lg transform hover:-translate-y-0.5 transition-all",children:" Publish Simulation"})]})]})]})},oW=()=>{const e=Hn(),t=r=>{e("/creator")};return u.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4",children:u.jsx(sW,{onSimulationCreated:t})})})},iw={USER_PROGRESS:"trysimulate_progress",CUSTOM_SIMULATIONS:"trysimulate_custom"},lW=()=>{const e=uW();return[...cW(),...e]},cW=()=>[{id:"default-customer-comments-1",title:"Customer Feedback Dashboard  Food Delivery App",type:"customer-comments",category:"Product Management",description:"Handle customer complaints with empathy and provide solutions.",difficulty:"Beginner",duration:"10 min",created:"2025-01-15",isDefault:!0,scenario:{role:"Product/Marketing Manager",context:"You manage a food delivery app. Three customer comments need professional replies.",comments:[{id:1,user:"Rina",text:"My order arrived cold. Really disappointed."},{id:2,user:"Amit",text:"Promo code DIDN'T apply. I lost money."},{id:3,user:"Sonal",text:"The app crashed when I tried to pay."}]}},{id:"default-sales-negotiation-1",title:"SaaS Pricing Negotiation  Startup Discount Request",type:"sales-negotiation",category:"Sales",description:"Navigate a 30% discount request while protecting value.",difficulty:"Intermediate",duration:"15 min",created:"2025-01-14",isDefault:!0,scenario:{role:"Sales Executive",context:"You pitched a collaboration SaaS to an early-stage startup. After the demo, the buyer requests a 30% discount.",email:{from:"Rahul  Head of Ops, AcmeStartup",subject:"Re: Demo Follow-up",body:"Thanks for the demo  product looks useful. However, your quoted annual price is above our budget. Can you do a 30% discount for our startup? If not, we may need to consider other options."},rubric:{empathy:25,value:30,alternatives:30,closing:15}}},{id:"default-prioritization-1",title:"Task Prioritization  A Busy PM's Day",type:"prioritization",category:"Product Management",description:"Reorder 10 tasks by priority under time pressure.",difficulty:"Intermediate",duration:"12 min",created:"2025-01-13",isDefault:!0,scenario:{role:"Product Manager",context:"You have 10 tasks competing for attention. Prioritize them correctly.",tasks:[{id:1,title:"Reply to CEO email about release go/no-go",est_time:10,ideal_rank:1,note:"High business impact; time-sensitive (CEO asked for update)"},{id:2,title:"Review high-severity customer bug & assign triage",est_time:20,ideal_rank:2,note:"Customer-visible; may require hotfix"},{id:3,title:"Attend company Town Hall (mandatory)",est_time:60,ideal_rank:3,note:"Fixed time  must attend"},{id:4,title:"Schedule requirements-gathering call for PI planning",est_time:10,ideal_rank:4,note:"Enables PI planning; schedule soon"},{id:5,title:"Approve marketing campaign copy launching tomorrow",est_time:15,ideal_rank:5,note:"Deadline-bound; blocks publish"},{id:6,title:"Update roadmap slide and share with stakeholders",est_time:30,ideal_rank:6,note:"Important for alignment"},{id:7,title:"One-on-one with direct report (scheduled)",est_time:30,ideal_rank:7,note:"People management; scheduled"},{id:8,title:"Respond to vendor on contract renewal/pricing",est_time:20,ideal_rank:8,note:"Renewal in 7 days; can delegate if needed"},{id:9,title:"Review analytics dashboard for KPI anomalies",est_time:25,ideal_rank:9,note:"Monitor for anomalies; lower unless issue found"},{id:10,title:"Prepare optional cross-vertical demo (can skip)",est_time:45,ideal_rank:10,note:"Optional; postpone if busy"}]}},{id:"default-team-conflict-1",title:"Team Conflict  Engineering vs Design Disagreement",type:"team-conflict",category:"Leadership",description:"Resolve a heated Slack discussion between team members.",difficulty:"Advanced",duration:"20 min",created:"2025-01-12",isDefault:!0,scenario:{role:"Project Manager / Team Lead",context:"Two team members are in conflict over a design decision in the team Slack channel.",messages:[{id:1,user:"Sarah (Designer)",avatar:"S",text:"We need to stick with the original design. We user-tested it for 2 weeks.",time:"10:23 AM"},{id:2,user:"Dev (Engineer)",avatar:"D",text:"The original design will take 3 extra weeks to build. We don't have that time.",time:"10:25 AM"},{id:3,user:"Sarah (Designer)",avatar:"S",text:"So we're just ignoring user research now? This is exactly what happened last quarter.",time:"10:27 AM"},{id:4,user:"Dev (Engineer)",avatar:"D",text:"I'm not ignoring research. I'm being realistic about our sprint capacity.",time:"10:28 AM"}]}}],uW=()=>{const e=localStorage.getItem(iw.CUSTOM_SIMULATIONS);return e?JSON.parse(e):[]},$p=e=>lW().find(r=>r.id===e),Up=(e,t)=>{const r=localStorage.getItem(iw.USER_PROGRESS),n=r?JSON.parse(r):{};n[e]={...t,lastUpdated:new Date().toISOString()},localStorage.setItem(iw.USER_PROGRESS,JSON.stringify(n))},dW=()=>{var N,O,j,A,P,C,k,E,I,M;const{id:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState({}),[l,c]=T.useState(""),[d,f]=T.useState({}),[p,h]=T.useState(!1),[m,g]=T.useState(!0);T.useEffect(()=>{const U=$p(e);g(!1),U&&U.type==="customer-comments"?(n(U),U.scenario&&U.scenario.comments&&U.scenario.comments.length>0&&a(U.scenario.comments[0].id)):(alert("Simulation not found"),t("/browse"))},[e,t]);const y=U=>{const Z=U.toLowerCase();let Q=/sorry|apolog|understand|thank|appreciate/.test(Z),K=/refund|replace|voucher|help|fix|send|arrange|process|resolve|solution/.test(Z),W=/order|id|tomorrow|within|confirm|please|share|contact|follow/.test(Z),V=/stupid|hate|angry|idiot|trash|terrible|awful/.test(Z),$=0;$+=Q?40:0,$+=K?40:0,$+=W?20:0,V&&($-=30),$<0&&($=0);let R=[];return Q?R.push(" Shows empathy / understanding."):R.push(" Missing empathy  start with an apology or acknowledgment."),K?R.push(" Offered some form of help or solution."):R.push(" No clear resolution or action proposed."),W?R.push(" Clear or asks for necessary info / next steps."):R.push(" Could be clearer or ask for order details."),V&&R.push(" Avoid negative tone or harsh words."),{total:$,feedback:R}},v=()=>{var Q,K;if(!l.trim()){alert("Please type a reply before submitting.");return}const U=y(l);o({...s,[i]:l}),f({...d,[i]:U}),c("");const Z=(K=(Q=r==null?void 0:r.scenario)==null?void 0:Q.comments)==null?void 0:K.findIndex(W=>W.id===i);Z!==void 0&&Z<r.scenario.comments.length-1&&a(r.scenario.comments[Z+1].id)},b=()=>{const U=Object.values(d).reduce((Q,K)=>Q+K.total,0),Z=Math.round(U/Object.values(d).length);Up(e,Z),h(!0)},w=(O=(N=r==null?void 0:r.scenario)==null?void 0:N.comments)==null?void 0:O.find(U=>U.id===i),x=(A=(j=r==null?void 0:r.scenario)==null?void 0:j.comments)==null?void 0:A.every(U=>s[U.id]);if(m||!r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulation..."})});if(!r.scenario||!r.scenario.comments)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg text-red-600 mb-4",children:"Simulation data is incomplete"}),u.jsx("button",{onClick:()=>t("/browse"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-accent",children:"Back to Browse"})]})});if(p){const U=Object.values(d).reduce((Q,K)=>Q+K.total,0),Z=Math.round(U/Object.values(d).length);return u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Simulation Complete!"}),u.jsx("p",{className:"text-slate-600",children:"Here's how you performed"})]}),u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl p-6 mb-8 text-center border border-primary/20",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Average Score"}),u.jsx("div",{className:"text-5xl font-bold text-primary",children:Z}),u.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"out of 100"})]}),u.jsxs("div",{className:"space-y-6 mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Per-Comment Feedback"}),(C=(P=r==null?void 0:r.scenario)==null?void 0:P.comments)==null?void 0:C.map(Q=>{const K=d[Q.id];return K?u.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-slate-900",children:Q.user}),u.jsx("div",{className:"text-sm text-slate-600 mt-1",children:Q.text})]}),u.jsxs("div",{className:"text-2xl font-bold text-primary",children:[K.total,"/100"]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Your Reply:"}),u.jsx("div",{className:"text-sm text-slate-600",children:s[Q.id]})]}),u.jsx("div",{className:"space-y-2",children:K.feedback.map((W,V)=>u.jsx("div",{className:"text-sm text-slate-700",children:W},V))})]},Q.id):null})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})})})}return u.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),u.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),u.jsx("p",{className:"text-slate-600",children:r.description})]}),u.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl p-6 shadow-lg border border-slate-200 h-fit",children:[u.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Customer Comments"}),u.jsx("div",{className:"space-y-3",children:(E=(k=r==null?void 0:r.scenario)==null?void 0:k.comments)==null?void 0:E.map(U=>u.jsxs("div",{onClick:()=>a(U.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i===U.id?"border-primary bg-primary/5":s[U.id]?"border-green-300 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:U.user}),s[U.id]&&u.jsx("span",{className:"text-green-600",children:""})]}),u.jsx("div",{className:"text-xs text-slate-600 line-clamp-2",children:U.text})]},U.id))}),u.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Click a comment to reply"})]}),u.jsx("div",{className:"lg:col-span-6 bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:w?u.jsxs(u.Fragment,{children:[u.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["From: ",w.user]}),u.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 mb-6",children:u.jsx("p",{className:"text-slate-700",children:w.text})}),s[i]?u.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"font-semibold text-green-900",children:"Your Reply (Submitted)"}),u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[d[i].total,"/100"]})]}),u.jsx("p",{className:"text-slate-700 mb-4",children:s[i]}),u.jsx("div",{className:"space-y-2",children:d[i].feedback.map((U,Z)=>u.jsx("div",{className:"text-sm text-slate-700",children:U},Z))})]}):u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block font-semibold text-slate-900 mb-2",children:"Your Reply"}),u.jsx("textarea",{value:l,onChange:U=>c(U.target.value),placeholder:"Type your professional response...",rows:6,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"}),u.jsx("button",{onClick:v,className:"mt-4 w-full py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Send Reply"})]})]}):u.jsx("div",{className:"text-center py-12 text-slate-500",children:"Select a comment to reply"})}),u.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl p-6 shadow-lg border border-slate-200 h-fit",children:[u.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Your Progress"}),u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 mb-6 text-center border border-primary/20",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Replies Submitted"}),u.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Object.keys(s).length,"/",((M=(I=r==null?void 0:r.scenario)==null?void 0:I.comments)==null?void 0:M.length)||0]})]}),x&&u.jsx("button",{onClick:b,className:"w-full py-3 font-semibold text-white bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg hover:shadow-lg transition-all mb-4",children:"Finish & See Results"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Tips"}),u.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:'Start with empathy ("Sorry / I understand")'})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Offer a solution (refund, replacement, follow-up)"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Be polite and clear"})]})]})]})]})]})]})})},fW=()=>{const{id:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState(""),[s,o]=T.useState(null),[l,c]=T.useState(!1);T.useEffect(()=>{const h=$p(e);h&&h.type==="sales-negotiation"?n(h):(alert("Simulation not found"),t("/browse"))},[e,t]);const d=h=>{const m={empathy:25,value:30,alternatives:30,closing:15},g={empathy:["thanks","thank you","appreciate","understand","i appreciate","sorry","glad","happy to hear","great to hear"],value:["roi","return on","outcome","saves","save","time","efficiency","productivity","uptime","support","integration","reduce cost","value","benefit","results"],alternatives:["pilot","trial","6-month","6 month","6 months","12-month","12 month","12 months","commit","commitment","startup discount","discount","phased","limited","seat","seats","tier","bundle","option","pay monthly","monthly"],closing:["call","jump on","shall i","shall we","which option","which would work","finalise","finalize","sign","ready to move","next step","let me know","confirm","send updated quote"]},y=(U,Z)=>{const Q=(U||"").toLowerCase();if(!Q)return 0;let K=0;for(const W of Z)Q.includes(W)&&K++;return Math.min(1,K/Z.length)},v=U=>{const Z=(U||"").toLowerCase();if(!/\b(30%|30 percent|50%|50 percent)\b/.test(Z))return!1;const K=["if","commit","commitment","sign","for 12","for 6","on 12","on 6","with a","subject to","upon","when you","if you"];for(const W of K)if(Z.includes(W))return!1;return!0},b=y(h,g.empathy),w=y(h,g.value);let x=y(h,g.alternatives);const N=y(h,g.closing),O=["if you commit","if you sign","commit to","12 months","6 months","for 12 months","for 6 months","pilot","trial"];let j=!1;for(const U of O)h.toLowerCase().includes(U)&&(j=!0);j&&(x=Math.min(1,x*1.2));const A=v(h);A&&(x=Math.max(0,x-.35));const P=Math.round(m.empathy*b),C=Math.round(m.value*w),k=Math.round(m.alternatives*x),E=Math.round(m.closing*N);let I=P+C+k+E;I=Math.max(0,Math.min(100,I));const M=[];return b>.4?M.push(" Good empathy  you acknowledged their concern or thanked them."):M.push(" Missing empathy  start with recognition of their budget concern."),w>.3?M.push(" You reinforced value  linked features to ROI/outcomes."):M.push(" Value reinforcement is missing  reiterate key outcomes you deliver."),x>.4?A?M.push(" You offered a discount but it appeared unconditional  prefer conditional concessions."):M.push(" Good  you proposed alternatives that protect margin while moving the deal forward."):M.push(" No strong alternative offer  suggest conditional concessions (pilot, longer commitment, limited features)."),N>.3?M.push(" Nice close / next step  you asked for a decision or offered a call/quote."):M.push(" Missing a clear call-to-action  close with a next-step."),{finalTotal:I,empathyScore:P,valueScore:C,altScore:k,closingScore:E,feedback:M,WEIGHTS:m}},f=()=>{if(!i.trim()){alert("Please write your negotiation reply before submitting.");return}const h=d(i);o(h),c(!0),Up(e,h.finalTotal,h.feedback)},p=()=>{a(""),o(null),c(!1)};return r?u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),u.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),u.jsx("p",{className:"text-slate-600",children:r.description})]}),u.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"lg:col-span-7 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Scenario"}),u.jsx("p",{className:"text-slate-600 mb-6",children:r.scenario.context}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Buyer Email"}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[u.jsxs("div",{className:"font-bold text-slate-900 mb-2",children:["From: ",r.scenario.email.from]}),r.scenario.email.subject&&u.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:["Subject: ",r.scenario.email.subject]}),u.jsx("div",{className:"text-slate-700 mt-3",children:r.scenario.email.body})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Your Reply"}),u.jsx("textarea",{value:i,onChange:h=>a(h.target.value),disabled:l,placeholder:"Write your negotiation reply here...",rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none disabled:bg-slate-100"}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx("button",{onClick:f,disabled:l,className:`flex-1 py-3 font-semibold text-white rounded-lg transition-all ${l?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-primary to-accent hover:shadow-lg"}`,children:"Submit Reply"}),u.jsx("button",{onClick:p,className:"px-6 py-3 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Reset"})]}),u.jsx("div",{className:"mt-3 text-sm text-slate-600",children:"Focus on: empathy, reinforce key value, offer alternatives (pilot/terms), and close with a clear next step."})]})]}),u.jsxs("div",{className:"lg:col-span-5 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Scoring & Feedback"}),s?u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-sm font-bold text-slate-900 mb-4",children:"Per-Competency Scores"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Empathy"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.empathyScore," / ",s.WEIGHTS.empathy]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full",style:{width:`${s.empathyScore/s.WEIGHTS.empathy*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Value Reinforcement"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.valueScore," / ",s.WEIGHTS.value]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full",style:{width:`${s.valueScore/s.WEIGHTS.value*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Alternatives / Creativity"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.altScore," / ",s.WEIGHTS.alternatives]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full",style:{width:`${s.altScore/s.WEIGHTS.alternatives*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Closing / Next Step"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.closingScore," / ",s.WEIGHTS.closing]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 h-2 rounded-full",style:{width:`${s.closingScore/s.WEIGHTS.closing*100}%`}})})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl p-6 mb-6 text-center border border-primary/20",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Final Score"}),u.jsx("div",{className:"text-5xl font-bold text-primary",children:s.finalTotal}),u.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"out of 100"})]}),u.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200 mb-6",children:[u.jsx("div",{className:"font-bold text-amber-900 mb-3",children:"Feedback"}),u.jsx("div",{className:"space-y-2",children:s.feedback.map((h,m)=>u.jsx("div",{className:"text-sm text-slate-700",children:h},m))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Behind-the-scenes Actions"}),u.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Prepare updated quotes with conditional discounts"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Gather ROI examples tailored to the buyer"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Track internal KPIs: ARR, discount impact, pilot metrics"})]})]})]})]}):u.jsx("div",{className:"text-slate-500 text-center py-12",children:"No reply submitted yet. Your scoring and feedback will appear here after you submit your reply."})]})]}),s&&u.jsxs("div",{className:"mt-6 flex gap-4",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),u.jsx("button",{onClick:p,className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg text-slate-600",children:"Loading..."})})};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cg(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(t){return typeof t}:cg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function hW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function No(){return No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(this,arguments)}function pW(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mW(e,t){if(e==null)return{};var r=pW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gW="1.15.6";function go(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Lo=go(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qp=go(/Edge/i),L4=go(/firefox/i),zh=go(/safari/i)&&!go(/chrome/i)&&!go(/android/i),O_=go(/iP(ad|od|hone)/i),p8=go(/chrome/i)&&go(/android/i),m8={capture:!1,passive:!1};function Lt(e,t,r){e.addEventListener(t,r,!Lo&&m8)}function Ct(e,t,r){e.removeEventListener(t,r,!Lo&&m8)}function tv(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function g8(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ns(e,t,r,n){if(e){r=r||document;do{if(t!=null&&(t[0]===">"?e.parentNode===r&&tv(e,t):tv(e,t))||n&&e===r)return e;if(e===r)break}while(e=g8(e))}return null}var I4=/\s+/g;function Gi(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(I4," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(I4," ")}}function vt(e,t,r){var n=e&&e.style;if(n){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),t===void 0?r:r[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=r+(typeof r=="string"?"":"px")}}function Od(e,t){var r="";if(typeof e=="string")r=e;else do{var n=vt(e,"transform");n&&n!=="none"&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function v8(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,a=n.length;if(r)for(;i<a;i++)r(n[i],i);return n}return[]}function Ls(){var e=document.scrollingElement;return e||document.documentElement}function rn(e,t,r,n,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,s,o,l,c,d,f;if(e!==window&&e.parentNode&&e!==Ls()?(a=e.getBoundingClientRect(),s=a.top,o=a.left,l=a.bottom,c=a.right,d=a.height,f=a.width):(s=0,o=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||r)&&e!==window&&(i=i||e.parentNode,!Lo))do if(i&&i.getBoundingClientRect&&(vt(i,"transform")!=="none"||r&&vt(i,"position")!=="static")){var p=i.getBoundingClientRect();s-=p.top+parseInt(vt(i,"border-top-width")),o-=p.left+parseInt(vt(i,"border-left-width")),l=s+a.height,c=o+a.width;break}while(i=i.parentNode);if(n&&e!==window){var h=Od(i||e),m=h&&h.a,g=h&&h.d;h&&(s/=g,o/=m,f/=m,d/=g,l=s+d,c=o+f)}return{top:s,left:o,bottom:l,right:c,width:f,height:d}}}function R4(e,t,r){for(var n=_l(e,!0),i=rn(e)[t];n;){var a=rn(n)[r],s=void 0;if(s=i>=a,!s)return n;if(n===Ls())break;n=_l(n,!1)}return!1}function Hd(e,t,r,n){for(var i=0,a=0,s=e.children;a<s.length;){if(s[a].style.display!=="none"&&s[a]!==mt.ghost&&(n||s[a]!==mt.dragged)&&ns(s[a],r.draggable,e,!1)){if(i===t)return s[a];i++}a++}return null}function P_(e,t){for(var r=e.lastElementChild;r&&(r===mt.ghost||vt(r,"display")==="none"||t&&!tv(r,t));)r=r.previousElementSibling;return r||null}function ka(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==mt.clone&&(!t||tv(e,t))&&r++;return r}function D4(e){var t=0,r=0,n=Ls();if(e)do{var i=Od(e),a=i.a,s=i.d;t+=e.scrollLeft*a,r+=e.scrollTop*s}while(e!==n&&(e=e.parentNode));return[t,r]}function vW(e,t){for(var r in e)if(e.hasOwnProperty(r)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r)}return-1}function _l(e,t){if(!e||!e.getBoundingClientRect)return Ls();var r=e,n=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=vt(r);if(r.clientWidth<r.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Ls();if(n||t)return r;n=!0}}while(r=r.parentNode);return Ls()}function yW(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Kb(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Wh;function y8(e,t){return function(){if(!Wh){var r=arguments,n=this;r.length===1?e.call(n,r[0]):e.apply(n,r),Wh=setTimeout(function(){Wh=void 0},t)}}}function bW(){clearTimeout(Wh),Wh=void 0}function b8(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function x8(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function w8(e,t,r){var n={};return Array.from(e.children).forEach(function(i){var a,s,o,l;if(!(!ns(i,t.draggable,e,!1)||i.animated||i===r)){var c=rn(i);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,c.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,c.top),n.right=Math.max((o=n.right)!==null&&o!==void 0?o:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Pi="Sortable"+new Date().getTime();function xW(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(vt(i,"display")==="none"||i===mt.ghost)){e.push({target:i,rect:rn(i)});var a=Rs({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=Od(i,!0);s&&(a.top-=s.f,a.left-=s.e)}i.fromRect=a}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(vW(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,s=0;e.forEach(function(o){var l=0,c=o.target,d=c.fromRect,f=rn(c),p=c.prevFromRect,h=c.prevToRect,m=o.rect,g=Od(c,!0);g&&(f.top-=g.f,f.left-=g.e),c.toRect=f,c.thisAnimationDuration&&Kb(p,f)&&!Kb(d,f)&&(m.top-f.top)/(m.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(l=_W(m,p,h,i.options)),Kb(f,d)||(c.prevFromRect=d,c.prevToRect=f,l||(l=i.options.animation),i.animate(c,m,f,l)),l&&(a=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),e=[]},animate:function(n,i,a,s){if(s){vt(n,"transition",""),vt(n,"transform","");var o=Od(this.el),l=o&&o.a,c=o&&o.d,d=(i.left-a.left)/(l||1),f=(i.top-a.top)/(c||1);n.animatingX=!!d,n.animatingY=!!f,vt(n,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=wW(n),vt(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),vt(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){vt(n,"transition",""),vt(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function wW(e){return e.offsetWidth}function _W(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}var Ku=[],Vb={initializeByDefault:!0},zp={mount:function(t){for(var r in Vb)Vb.hasOwnProperty(r)&&!(r in t)&&(t[r]=Vb[r]);Ku.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ku.push(t)},pluginEvent:function(t,r,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=t+"Global";Ku.forEach(function(s){r[s.pluginName]&&(r[s.pluginName][a]&&r[s.pluginName][a](Rs({sortable:r},n)),r.options[s.pluginName]&&r[s.pluginName][t]&&r[s.pluginName][t](Rs({sortable:r},n)))})},initializePlugins:function(t,r,n,i){Ku.forEach(function(o){var l=o.pluginName;if(!(!t.options[l]&&!o.initializeByDefault)){var c=new o(t,r,t.options);c.sortable=t,c.options=t.options,t[l]=c,No(n,c.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var s=this.modifyOption(t,a,t.options[a]);typeof s<"u"&&(t.options[a]=s)}},getEventProperties:function(t,r){var n={};return Ku.forEach(function(i){typeof i.eventProperties=="function"&&No(n,i.eventProperties.call(r[i.pluginName],t))}),n},modifyOption:function(t,r,n){var i;return Ku.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[r]=="function"&&(i=a.optionListeners[r].call(t[a.pluginName],n))}),i}};function NW(e){var t=e.sortable,r=e.rootEl,n=e.name,i=e.targetEl,a=e.cloneEl,s=e.toEl,o=e.fromEl,l=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,m=e.extraEventProperties;if(t=t||r&&r[Pi],!!t){var g,y=t.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Lo&&!qp?g=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(n,!0,!0)),g.to=s||r,g.from=o||r,g.item=i||r,g.clone=a,g.oldIndex=l,g.newIndex=c,g.oldDraggableIndex=d,g.newDraggableIndex=f,g.originalEvent=p,g.pullMode=h?h.lastPutMode:void 0;var b=Rs(Rs({},m),zp.getEventProperties(n,t));for(var w in b)g[w]=b[w];r&&r.dispatchEvent(g),y[v]&&y[v].call(t,g)}}var SW=["evt"],ki=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,a=mW(n,SW);zp.pluginEvent.bind(mt)(t,r,Rs({dragEl:Fe,parentEl:Rr,ghostEl:St,rootEl:gr,nextEl:Oc,lastDownEl:ug,cloneEl:jr,cloneHidden:vl,dragStarted:kh,putSortable:$n,activeSortable:mt.active,originalEvent:i,oldIndex:yd,oldDraggableIndex:Hh,newIndex:Yi,newDraggableIndex:ul,hideGhostForTarget:j8,unhideGhostForTarget:k8,cloneNowHidden:function(){vl=!0},cloneNowShown:function(){vl=!1},dispatchSortableEvent:function(o){di({sortable:r,name:o,originalEvent:i})}},a))};function di(e){NW(Rs({putSortable:$n,cloneEl:jr,targetEl:Fe,rootEl:gr,oldIndex:yd,oldDraggableIndex:Hh,newIndex:Yi,newDraggableIndex:ul},e))}var Fe,Rr,St,gr,Oc,ug,jr,vl,yd,Yi,Hh,ul,b0,$n,nd=!1,rv=!1,nv=[],Nc,Ya,Gb,Yb,M4,B4,kh,Vu,Kh,Vh=!1,x0=!1,dg,Jn,Xb=[],aw=!1,iv=[],Ny=typeof document<"u",w0=O_,F4=qp||Lo?"cssFloat":"float",jW=Ny&&!p8&&!O_&&"draggable"in document.createElement("div"),_8=function(){if(Ny){if(Lo)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),N8=function(t,r){var n=vt(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Hd(t,0,r),s=Hd(t,1,r),o=a&&vt(a),l=s&&vt(s),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+rn(a).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+rn(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&o.float!=="none"){var f=o.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return a&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||c>=i&&n[F4]==="none"||s&&n[F4]==="none"&&c+d>i)?"vertical":"horizontal"},kW=function(t,r,n){var i=n?t.left:t.top,a=n?t.right:t.bottom,s=n?t.width:t.height,o=n?r.left:r.top,l=n?r.right:r.bottom,c=n?r.width:r.height;return i===o||a===l||i+s/2===o+c/2},AW=function(t,r){var n;return nv.some(function(i){var a=i[Pi].options.emptyInsertThreshold;if(!(!a||P_(i))){var s=rn(i),o=t>=s.left-a&&t<=s.right+a,l=r>=s.top-a&&r<=s.bottom+a;if(o&&l)return n=i}}),n},S8=function(t){function r(a,s){return function(o,l,c,d){var f=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(a==null&&(s||f))return!0;if(a==null||a===!1)return!1;if(s&&a==="clone")return a;if(typeof a=="function")return r(a(o,l,c,d),s)(o,l,c,d);var p=(s?o:l).options.group.name;return a===!0||typeof a=="string"&&a===p||a.join&&a.indexOf(p)>-1}}var n={},i=t.group;(!i||cg(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=r(i.pull,!0),n.checkPut=r(i.put),n.revertClone=i.revertClone,t.group=n},j8=function(){!_8&&St&&vt(St,"display","none")},k8=function(){!_8&&St&&vt(St,"display","")};Ny&&!p8&&document.addEventListener("click",function(e){if(rv)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),rv=!1,!1},!0);var Sc=function(t){if(Fe){t=t.touches?t.touches[0]:t;var r=AW(t.clientX,t.clientY);if(r){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=r,n.preventDefault=void 0,n.stopPropagation=void 0,r[Pi]._onDragOver(n)}}},EW=function(t){Fe&&Fe.parentNode[Pi]._isOutsideThisEl(t.target)};function mt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=No({},t),e[Pi]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return N8(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,o){s.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:mt.supportPointer!==!1&&"PointerEvent"in window&&(!zh||O_),emptyInsertThreshold:5};zp.initializePlugins(this,e,r);for(var n in r)!(n in t)&&(t[n]=r[n]);S8(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:jW,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Lt(e,"pointerdown",this._onTapStart):(Lt(e,"mousedown",this._onTapStart),Lt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Lt(e,"dragover",this),Lt(e,"dragenter",this)),nv.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),No(this,xW())}mt.prototype={constructor:mt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Vu=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,Fe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,n=this.el,i=this.options,a=i.preventOnFilter,s=t.type,o=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(o||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=i.filter;if(DW(n),!Fe&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&zh&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ns(l,i.draggable,n,!1),!(l&&l.animated)&&ug!==l)){if(yd=ka(l),Hh=ka(l,i.draggable),typeof d=="function"){if(d.call(this,t,l,this)){di({sortable:r,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),ki("filter",r,{evt:t}),a&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=ns(c,f.trim(),n,!1),f)return di({sortable:r,rootEl:f,name:"filter",targetEl:l,fromEl:n,toEl:n}),ki("filter",r,{evt:t}),!0}),d)){a&&t.preventDefault();return}i.handle&&!ns(c,i.handle,n,!1)||this._prepareDragStart(t,o,l)}}},_prepareDragStart:function(t,r,n){var i=this,a=i.el,s=i.options,o=a.ownerDocument,l;if(n&&!Fe&&n.parentNode===a){var c=rn(n);if(gr=a,Fe=n,Rr=Fe.parentNode,Oc=Fe.nextSibling,ug=n,b0=s.group,mt.dragged=Fe,Nc={target:Fe,clientX:(r||t).clientX,clientY:(r||t).clientY},M4=Nc.clientX-c.left,B4=Nc.clientY-c.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,Fe.style["will-change"]="all",l=function(){if(ki("delayEnded",i,{evt:t}),mt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!L4&&i.nativeDraggable&&(Fe.draggable=!0),i._triggerDragStart(t,r),di({sortable:i,name:"choose",originalEvent:t}),Gi(Fe,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){v8(Fe,d.trim(),Jb)}),Lt(o,"dragover",Sc),Lt(o,"mousemove",Sc),Lt(o,"touchmove",Sc),s.supportPointer?(Lt(o,"pointerup",i._onDrop),!this.nativeDraggable&&Lt(o,"pointercancel",i._onDrop)):(Lt(o,"mouseup",i._onDrop),Lt(o,"touchend",i._onDrop),Lt(o,"touchcancel",i._onDrop)),L4&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Fe.draggable=!0),ki("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(qp||Lo))){if(mt.eventCanceled){this._onDrop();return}s.supportPointer?(Lt(o,"pointerup",i._disableDelayedDrag),Lt(o,"pointercancel",i._disableDelayedDrag)):(Lt(o,"mouseup",i._disableDelayedDrag),Lt(o,"touchend",i._disableDelayedDrag),Lt(o,"touchcancel",i._disableDelayedDrag)),Lt(o,"mousemove",i._delayedDragTouchMoveHandler),Lt(o,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&Lt(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Fe&&Jb(Fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ct(t,"mouseup",this._disableDelayedDrag),Ct(t,"touchend",this._disableDelayedDrag),Ct(t,"touchcancel",this._disableDelayedDrag),Ct(t,"pointerup",this._disableDelayedDrag),Ct(t,"pointercancel",this._disableDelayedDrag),Ct(t,"mousemove",this._delayedDragTouchMoveHandler),Ct(t,"touchmove",this._delayedDragTouchMoveHandler),Ct(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?Lt(document,"pointermove",this._onTouchMove):r?Lt(document,"touchmove",this._onTouchMove):Lt(document,"mousemove",this._onTouchMove):(Lt(Fe,"dragend",this),Lt(gr,"dragstart",this._onDragStart));try{document.selection?fg(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(nd=!1,gr&&Fe){ki("dragStarted",this,{evt:r}),this.nativeDraggable&&Lt(document,"dragover",EW);var n=this.options;!t&&Gi(Fe,n.dragClass,!1),Gi(Fe,n.ghostClass,!0),mt.active=this,t&&this._appendGhost(),di({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Ya){this._lastX=Ya.clientX,this._lastY=Ya.clientY,j8();for(var t=document.elementFromPoint(Ya.clientX,Ya.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ya.clientX,Ya.clientY),t!==r);)r=t;if(Fe.parentNode[Pi]._isOutsideThisEl(t),r)do{if(r[Pi]){var n=void 0;if(n=r[Pi]._onDragOver({clientX:Ya.clientX,clientY:Ya.clientY,target:t,rootEl:r}),n&&!this.options.dragoverBubble)break}t=r}while(r=g8(r));k8()}},_onTouchMove:function(t){if(Nc){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,a=t.touches?t.touches[0]:t,s=St&&Od(St,!0),o=St&&s&&s.a,l=St&&s&&s.d,c=w0&&Jn&&D4(Jn),d=(a.clientX-Nc.clientX+i.x)/(o||1)+(c?c[0]-Xb[0]:0)/(o||1),f=(a.clientY-Nc.clientY+i.y)/(l||1)+(c?c[1]-Xb[1]:0)/(l||1);if(!mt.active&&!nd){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(St){s?(s.e+=d-(Gb||0),s.f+=f-(Yb||0)):s={a:1,b:0,c:0,d:1,e:d,f};var p="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");vt(St,"webkitTransform",p),vt(St,"mozTransform",p),vt(St,"msTransform",p),vt(St,"transform",p),Gb=d,Yb=f,Ya=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!St){var t=this.options.fallbackOnBody?document.body:gr,r=rn(Fe,!0,w0,!0,t),n=this.options;if(w0){for(Jn=t;vt(Jn,"position")==="static"&&vt(Jn,"transform")==="none"&&Jn!==document;)Jn=Jn.parentNode;Jn!==document.body&&Jn!==document.documentElement?(Jn===document&&(Jn=Ls()),r.top+=Jn.scrollTop,r.left+=Jn.scrollLeft):Jn=Ls(),Xb=D4(Jn)}St=Fe.cloneNode(!0),Gi(St,n.ghostClass,!1),Gi(St,n.fallbackClass,!0),Gi(St,n.dragClass,!0),vt(St,"transition",""),vt(St,"transform",""),vt(St,"box-sizing","border-box"),vt(St,"margin",0),vt(St,"top",r.top),vt(St,"left",r.left),vt(St,"width",r.width),vt(St,"height",r.height),vt(St,"opacity","0.8"),vt(St,"position",w0?"absolute":"fixed"),vt(St,"zIndex","100000"),vt(St,"pointerEvents","none"),mt.ghost=St,t.appendChild(St),vt(St,"transform-origin",M4/parseInt(St.style.width)*100+"% "+B4/parseInt(St.style.height)*100+"%")}},_onDragStart:function(t,r){var n=this,i=t.dataTransfer,a=n.options;if(ki("dragStart",this,{evt:t}),mt.eventCanceled){this._onDrop();return}ki("setupClone",this),mt.eventCanceled||(jr=x8(Fe),jr.removeAttribute("id"),jr.draggable=!1,jr.style["will-change"]="",this._hideClone(),Gi(jr,this.options.chosenClass,!1),mt.clone=jr),n.cloneId=fg(function(){ki("clone",n),!mt.eventCanceled&&(n.options.removeCloneOnHide||gr.insertBefore(jr,Fe),n._hideClone(),di({sortable:n,name:"clone"}))}),!r&&Gi(Fe,a.dragClass,!0),r?(rv=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Ct(document,"mouseup",n._onDrop),Ct(document,"touchend",n._onDrop),Ct(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,Fe)),Lt(document,"drop",n),vt(Fe,"transform","translateZ(0)")),nd=!0,n._dragStartId=fg(n._dragStarted.bind(n,r,t)),Lt(document,"selectstart",n),kh=!0,window.getSelection().removeAllRanges(),zh&&vt(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,n=t.target,i,a,s,o=this.options,l=o.group,c=mt.active,d=b0===l,f=o.sort,p=$n||c,h,m=this,g=!1;if(aw)return;function y(K,W){ki(K,m,Rs({evt:t,isOwner:d,axis:h?"vertical":"horizontal",revert:s,dragRect:i,targetRect:a,canSort:f,fromSortable:p,target:n,completed:b,onMove:function($,R){return _0(gr,r,Fe,i,$,rn($),t,R)},changed:w},W))}function v(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function b(K){return y("dragOverCompleted",{insertion:K}),K&&(d?c._hideClone():c._showClone(m),m!==p&&(Gi(Fe,$n?$n.options.ghostClass:c.options.ghostClass,!1),Gi(Fe,o.ghostClass,!0)),$n!==m&&m!==mt.active?$n=m:m===mt.active&&$n&&($n=null),p===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===Fe&&!Fe.animated||n===r&&!n.animated)&&(Vu=null),!o.dragoverBubble&&!t.rootEl&&n!==document&&(Fe.parentNode[Pi]._isOutsideThisEl(t.target),!K&&Sc(t)),!o.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function w(){Yi=ka(Fe),ul=ka(Fe,o.draggable),di({sortable:m,name:"change",toEl:r,newIndex:Yi,newDraggableIndex:ul,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=ns(n,o.draggable,r,!0),y("dragOver"),mt.eventCanceled)return g;if(Fe.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return b(!1);if(rv=!1,c&&!o.disabled&&(d?f||(s=Rr!==gr):$n===this||(this.lastPutMode=b0.checkPull(this,c,Fe,t))&&l.checkPut(this,c,Fe,t))){if(h=this._getDirection(t,n)==="vertical",i=rn(Fe),y("dragOverValid"),mt.eventCanceled)return g;if(s)return Rr=gr,v(),this._hideClone(),y("revert"),mt.eventCanceled||(Oc?gr.insertBefore(Fe,Oc):gr.appendChild(Fe)),b(!0);var x=P_(r,o.draggable);if(!x||TW(t,h,this)&&!x.animated){if(x===Fe)return b(!1);if(x&&r===t.target&&(n=x),n&&(a=rn(n)),_0(gr,r,Fe,i,n,a,t,!!n)!==!1)return v(),x&&x.nextSibling?r.insertBefore(Fe,x.nextSibling):r.appendChild(Fe),Rr=r,w(),b(!0)}else if(x&&CW(t,h,this)){var N=Hd(r,0,o,!0);if(N===Fe)return b(!1);if(n=N,a=rn(n),_0(gr,r,Fe,i,n,a,t,!1)!==!1)return v(),r.insertBefore(Fe,N),Rr=r,w(),b(!0)}else if(n.parentNode===r){a=rn(n);var O=0,j,A=Fe.parentNode!==r,P=!kW(Fe.animated&&Fe.toRect||i,n.animated&&n.toRect||a,h),C=h?"top":"left",k=R4(n,"top","top")||R4(Fe,"top","top"),E=k?k.scrollTop:void 0;Vu!==n&&(j=a[C],Vh=!1,x0=!P&&o.invertSwap||A),O=LW(t,n,a,h,P?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,x0,Vu===n);var I;if(O!==0){var M=ka(Fe);do M-=O,I=Rr.children[M];while(I&&(vt(I,"display")==="none"||I===St))}if(O===0||I===n)return b(!1);Vu=n,Kh=O;var U=n.nextElementSibling,Z=!1;Z=O===1;var Q=_0(gr,r,Fe,i,n,a,t,Z);if(Q!==!1)return(Q===1||Q===-1)&&(Z=Q===1),aw=!0,setTimeout(PW,30),v(),Z&&!U?r.appendChild(Fe):n.parentNode.insertBefore(Fe,Z?U:n),k&&b8(k,0,E-k.scrollTop),Rr=Fe.parentNode,j!==void 0&&!x0&&(dg=Math.abs(j-rn(n)[C])),w(),b(!0)}if(r.contains(Fe))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ct(document,"mousemove",this._onTouchMove),Ct(document,"touchmove",this._onTouchMove),Ct(document,"pointermove",this._onTouchMove),Ct(document,"dragover",Sc),Ct(document,"mousemove",Sc),Ct(document,"touchmove",Sc)},_offUpEvents:function(){var t=this.el.ownerDocument;Ct(t,"mouseup",this._onDrop),Ct(t,"touchend",this._onDrop),Ct(t,"pointerup",this._onDrop),Ct(t,"pointercancel",this._onDrop),Ct(t,"touchcancel",this._onDrop),Ct(document,"selectstart",this)},_onDrop:function(t){var r=this.el,n=this.options;if(Yi=ka(Fe),ul=ka(Fe,n.draggable),ki("drop",this,{evt:t}),Rr=Fe&&Fe.parentNode,Yi=ka(Fe),ul=ka(Fe,n.draggable),mt.eventCanceled){this._nulling();return}nd=!1,x0=!1,Vh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sw(this.cloneId),sw(this._dragStartId),this.nativeDraggable&&(Ct(document,"drop",this),Ct(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),zh&&vt(document.body,"user-select",""),vt(Fe,"transform",""),t&&(kh&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(gr===Rr||$n&&$n.lastPutMode!=="clone")&&jr&&jr.parentNode&&jr.parentNode.removeChild(jr),Fe&&(this.nativeDraggable&&Ct(Fe,"dragend",this),Jb(Fe),Fe.style["will-change"]="",kh&&!nd&&Gi(Fe,$n?$n.options.ghostClass:this.options.ghostClass,!1),Gi(Fe,this.options.chosenClass,!1),di({sortable:this,name:"unchoose",toEl:Rr,newIndex:null,newDraggableIndex:null,originalEvent:t}),gr!==Rr?(Yi>=0&&(di({rootEl:Rr,name:"add",toEl:Rr,fromEl:gr,originalEvent:t}),di({sortable:this,name:"remove",toEl:Rr,originalEvent:t}),di({rootEl:Rr,name:"sort",toEl:Rr,fromEl:gr,originalEvent:t}),di({sortable:this,name:"sort",toEl:Rr,originalEvent:t})),$n&&$n.save()):Yi!==yd&&Yi>=0&&(di({sortable:this,name:"update",toEl:Rr,originalEvent:t}),di({sortable:this,name:"sort",toEl:Rr,originalEvent:t})),mt.active&&((Yi==null||Yi===-1)&&(Yi=yd,ul=Hh),di({sortable:this,name:"end",toEl:Rr,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){ki("nulling",this),gr=Fe=Rr=St=Oc=jr=ug=vl=Nc=Ya=kh=Yi=ul=yd=Hh=Vu=Kh=$n=b0=mt.dragged=mt.ghost=mt.clone=mt.active=null,iv.forEach(function(t){t.checked=!0}),iv.length=Gb=Yb=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Fe&&(this._onDragOver(t),OW(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,n=this.el.children,i=0,a=n.length,s=this.options;i<a;i++)r=n[i],ns(r,s.draggable,this.el,!1)&&t.push(r.getAttribute(s.dataIdAttr)||RW(r));return t},sort:function(t,r){var n={},i=this.el;this.toArray().forEach(function(a,s){var o=i.children[s];ns(o,this.options.draggable,i,!1)&&(n[a]=o)},this),r&&this.captureAnimationState(),t.forEach(function(a){n[a]&&(i.removeChild(n[a]),i.appendChild(n[a]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return ns(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var n=this.options;if(r===void 0)return n[t];var i=zp.modifyOption(this,t,r);typeof i<"u"?n[t]=i:n[t]=r,t==="group"&&S8(n)},destroy:function(){ki("destroy",this);var t=this.el;t[Pi]=null,Ct(t,"mousedown",this._onTapStart),Ct(t,"touchstart",this._onTapStart),Ct(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ct(t,"dragover",this),Ct(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nv.splice(nv.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!vl){if(ki("hideClone",this),mt.eventCanceled)return;vt(jr,"display","none"),this.options.removeCloneOnHide&&jr.parentNode&&jr.parentNode.removeChild(jr),vl=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(vl){if(ki("showClone",this),mt.eventCanceled)return;Fe.parentNode==gr&&!this.options.group.revertClone?gr.insertBefore(jr,Fe):Oc?gr.insertBefore(jr,Oc):gr.appendChild(jr),this.options.group.revertClone&&this.animate(Fe,jr),vt(jr,"display",""),vl=!1}}};function OW(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function _0(e,t,r,n,i,a,s,o){var l,c=e[Pi],d=c.options.onMove,f;return window.CustomEvent&&!Lo&&!qp?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=r,l.draggedRect=n,l.related=i||t,l.relatedRect=a||rn(t),l.willInsertAfter=o,l.originalEvent=s,e.dispatchEvent(l),d&&(f=d.call(c,l,s)),f}function Jb(e){e.draggable=!1}function PW(){aw=!1}function CW(e,t,r){var n=rn(Hd(r.el,0,r.options,!0)),i=w8(r.el,r.options,St),a=10;return t?e.clientX<i.left-a||e.clientY<n.top&&e.clientX<n.right:e.clientY<i.top-a||e.clientY<n.bottom&&e.clientX<n.left}function TW(e,t,r){var n=rn(P_(r.el,r.options.draggable)),i=w8(r.el,r.options,St),a=10;return t?e.clientX>i.right+a||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>i.bottom+a||e.clientX>n.right&&e.clientY>n.top}function LW(e,t,r,n,i,a,s,o){var l=n?e.clientY:e.clientX,c=n?r.height:r.width,d=n?r.top:r.left,f=n?r.bottom:r.right,p=!1;if(!s){if(o&&dg<c*i){if(!Vh&&(Kh===1?l>d+c*a/2:l<f-c*a/2)&&(Vh=!0),Vh)p=!0;else if(Kh===1?l<d+dg:l>f-dg)return-Kh}else if(l>d+c*(1-i)/2&&l<f-c*(1-i)/2)return IW(t)}return p=p||s,p&&(l<d+c*a/2||l>f-c*a/2)?l>d+c/2?1:-1:0}function IW(e){return ka(Fe)<ka(e)?1:-1}function RW(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function DW(e){iv.length=0;for(var t=e.getElementsByTagName("input"),r=t.length;r--;){var n=t[r];n.checked&&iv.push(n)}}function fg(e){return setTimeout(e,0)}function sw(e){return clearTimeout(e)}Ny&&Lt(document,"touchmove",function(e){(mt.active||nd)&&e.cancelable&&e.preventDefault()});mt.utils={on:Lt,off:Ct,css:vt,find:v8,is:function(t,r){return!!ns(t,r,t,!1)},extend:yW,throttle:y8,closest:ns,toggleClass:Gi,clone:x8,index:ka,nextTick:fg,cancelNextTick:sw,detectDirection:N8,getChild:Hd,expando:Pi};mt.get=function(e){return e[Pi]};mt.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(mt.utils=Rs(Rs({},mt.utils),n.utils)),zp.mount(n)})};mt.create=function(e,t){return new mt(e,t)};mt.version=gW;var Zr=[],Ah,ow,lw=!1,Zb,Qb,av,Eh;function MW(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(r){var n=r.originalEvent;this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Lt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Lt(document,"touchmove",this._handleFallbackAutoScroll):Lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var n=r.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?Ct(document,"dragover",this._handleAutoScroll):(Ct(document,"pointermove",this._handleFallbackAutoScroll),Ct(document,"touchmove",this._handleFallbackAutoScroll),Ct(document,"mousemove",this._handleFallbackAutoScroll)),$4(),hg(),bW()},nulling:function(){av=ow=Ah=lw=Eh=Zb=Qb=null,Zr.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,n){var i=this,a=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,o=document.elementFromPoint(a,s);if(av=r,n||this.options.forceAutoScrollFallback||qp||Lo||zh){ex(r,this.options,o,n);var l=_l(o,!0);lw&&(!Eh||a!==Zb||s!==Qb)&&(Eh&&$4(),Eh=setInterval(function(){var c=_l(document.elementFromPoint(a,s),!0);c!==l&&(l=c,hg()),ex(r,i.options,c,n)},10),Zb=a,Qb=s)}else{if(!this.options.bubbleScroll||_l(o,!0)===Ls()){hg();return}ex(r,this.options,_l(o,!1),!1)}}},No(e,{pluginName:"scroll",initializeByDefault:!0})}function hg(){Zr.forEach(function(e){clearInterval(e.pid)}),Zr=[]}function $4(){clearInterval(Eh)}var ex=y8(function(e,t,r,n){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,o=t.scrollSpeed,l=Ls(),c=!1,d;ow!==r&&(ow=r,hg(),Ah=t.scroll,d=t.scrollFn,Ah===!0&&(Ah=_l(r,!0)));var f=0,p=Ah;do{var h=p,m=rn(h),g=m.top,y=m.bottom,v=m.left,b=m.right,w=m.width,x=m.height,N=void 0,O=void 0,j=h.scrollWidth,A=h.scrollHeight,P=vt(h),C=h.scrollLeft,k=h.scrollTop;h===l?(N=w<j&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),O=x<A&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(N=w<j&&(P.overflowX==="auto"||P.overflowX==="scroll"),O=x<A&&(P.overflowY==="auto"||P.overflowY==="scroll"));var E=N&&(Math.abs(b-i)<=s&&C+w<j)-(Math.abs(v-i)<=s&&!!C),I=O&&(Math.abs(y-a)<=s&&k+x<A)-(Math.abs(g-a)<=s&&!!k);if(!Zr[f])for(var M=0;M<=f;M++)Zr[M]||(Zr[M]={});(Zr[f].vx!=E||Zr[f].vy!=I||Zr[f].el!==h)&&(Zr[f].el=h,Zr[f].vx=E,Zr[f].vy=I,clearInterval(Zr[f].pid),(E!=0||I!=0)&&(c=!0,Zr[f].pid=setInterval((function(){n&&this.layer===0&&mt.active._onTouchMove(av);var U=Zr[this.layer].vy?Zr[this.layer].vy*o:0,Z=Zr[this.layer].vx?Zr[this.layer].vx*o:0;typeof d=="function"&&d.call(mt.dragged.parentNode[Pi],Z,U,e,av,Zr[this.layer].el)!=="continue"||b8(Zr[this.layer].el,Z,U)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&p!==l&&(p=_l(p,!1)));lw=c}},30),A8=function(t){var r=t.originalEvent,n=t.putSortable,i=t.dragEl,a=t.activeSortable,s=t.dispatchSortableEvent,o=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(r){var c=n||a;o();var d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,f=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(f)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function C_(){}C_.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Hd(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r),this.sortable.animateAll(),n&&n.animateAll()},drop:A8};No(C_,{pluginName:"revertOnSpill"});function T_(){}T_.prototype={onSpill:function(t){var r=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),i.animateAll()},drop:A8};No(T_,{pluginName:"removeOnSpill"});mt.mount(new MW);mt.mount(T_,C_);const BW=()=>{const{id:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState([]),[s,o]=T.useState(null),[l,c]=T.useState(!1),[d,f]=T.useState(!1),p=T.useRef(null),h=T.useRef(null);T.useEffect(()=>{const O=$p(e);if(O&&O.type==="prioritization"){n(O);const j=[...O.scenario.tasks].sort((A,P)=>A.ideal_rank-P.ideal_rank);a(j)}else alert("Simulation not found"),t("/browse")},[e,t]),T.useEffect(()=>(p.current&&!h.current&&!l&&(h.current=new mt(p.current,{animation:160,handle:".drag-handle",onEnd:O=>{const j=[...i],[A]=j.splice(O.oldIndex,1);j.splice(O.newIndex,0,A),a(j)}})),()=>{h.current&&(h.current.destroy(),h.current=null)}),[i,l]);const m=["#2563eb","#ef4444","#f59e0b","#10b981","#6366f1","#ec4899","#8b5cf6","#3b82f6","#fb7185","#f97316"],g=O=>m[(O-1)%m.length],y=(O,j)=>{const A=O.replace("#",""),P=parseInt(A.substring(0,2),16),C=parseInt(A.substring(2,4),16),k=parseInt(A.substring(4,6),16);return`rgba(${P},${C},${k},${j})`},v=()=>{const O={};r.scenario.tasks.forEach(k=>O[k.id]=k.ideal_rank);let j=0;const A=i.map((k,E)=>{const I=E+1,M=O[k.id],U=Math.abs(I-M);return j+=U,{...k,userRank:I,idealRank:M,distance:U}}),P=r.scenario.tasks.length*(r.scenario.tasks.length-1)/2;return{score:Math.round((1-j/P)*100),totalDistance:j,maxDistance:P,perTask:A}},b=O=>O.map(A=>{let P="";return A.distance===0?P=` Good: placed correctly at #${A.userRank}.`:A.distance===1?P=` Acceptable: slightly off (placed #${A.userRank}, ideal #${A.idealRank}).`:P=` Problem: placed #${A.userRank} but ideal is #${A.idealRank}  consider moving this.`,{...A,msg:P}}),w=()=>{const O=v(),j=b(O.perTask);o({...O,feedback:j}),c(!0),Up(e,O.score)},x=()=>{const O=[...r.scenario.tasks].sort((j,A)=>j.ideal_rank-A.ideal_rank);a(O),o(null),c(!1),f(!1)},N=()=>{f(!d)};return r?u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-slate-200 mb-6",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),u.jsx("p",{className:"text-slate-600",children:r.description})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:x,className:"px-4 py-2 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Reset"}),u.jsxs("button",{onClick:N,className:"px-4 py-2 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:[d?"Hide":"Reveal"," Ideal Order"]})]})]})]}),u.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"lg:col-span-7 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"Your Task List"}),u.jsx("div",{className:"text-xs text-slate-500",children:"Drag the colored handle to reorder"})]}),u.jsx("ol",{ref:p,className:"space-y-4 mb-6",children:i.map((O,j)=>{const A=g(O.id);return u.jsxs("li",{className:"flex items-center gap-4 p-4 rounded-xl border bg-gradient-to-r from-white to-slate-50 shadow-md hover:shadow-lg transition-shadow",style:{borderLeft:`6px solid ${y(A,.3)}`},children:[u.jsx("div",{className:"drag-handle w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-lg cursor-grab active:cursor-grabbing flex-shrink-0",style:{background:A,boxShadow:`0 8px 18px ${y(A,.2)}`},children:O.id}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("div",{className:"font-bold text-slate-900 text-sm",children:["#",j+1]}),u.jsx("div",{className:"font-semibold text-slate-900",children:O.title}),u.jsxs("div",{className:"ml-auto px-3 py-1 rounded-full text-xs font-semibold",style:{background:y(A,.15),color:A},children:["est ",O.est_time,"m"]})]}),u.jsx("div",{className:"text-sm text-slate-600",children:O.note})]})]},O.id)})}),u.jsx("button",{onClick:w,disabled:l,className:`w-full py-3 font-semibold text-white rounded-lg transition-all ${l?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-primary to-accent hover:shadow-lg"}`,children:"Submit Priorities"}),u.jsx("div",{className:"mt-4 text-sm text-slate-600",children:" Tip: Quick wins, mandatory events, and customer-impacting items should be near the top."})]}),u.jsxs("div",{className:"lg:col-span-5 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"Results"}),u.jsx("div",{className:"text-xs text-slate-500",children:"Lower distance  better match"})]}),s?u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Distance"}),u.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[s.totalDistance," / ",s.maxDistance]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Final Score"}),u.jsx("div",{className:"text-5xl font-bold text-primary",children:s.score}),u.jsx("div",{className:"text-sm text-slate-600",children:"out of 100"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Per-Task Feedback"}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.feedback.map(O=>{const j=O.distance===0?"bg-green-50 border-green-200":O.distance===1?"bg-blue-50 border-blue-200":"bg-amber-50 border-amber-200";return u.jsxs("div",{className:`p-3 rounded-lg border ${j}`,children:[u.jsx("div",{className:"font-semibold text-slate-900 text-sm mb-1",children:O.title}),u.jsx("div",{className:"text-xs text-slate-700 mb-2",children:O.msg}),u.jsxs("div",{className:"text-xs text-slate-600",children:["Your rank: ",O.userRank,"  Ideal: ",O.idealRank]})]},O.id)})})]}),u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border border-primary/20",children:[u.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Quick Tips"}),u.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[u.jsx("li",{children:" Handle time-sensitive, CEO-level items first"}),u.jsx("li",{children:" Schedule fixed-time meetings early"}),u.jsx("li",{children:" Delegate or postpone optional work"})]})]})]}):u.jsx("div",{className:"text-slate-500 text-center py-12",children:"No submission yet  submit to view your score and feedback."}),d&&u.jsxs("div",{className:"mt-6 bg-slate-50 rounded-lg p-4 border border-slate-200",children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Ideal Priority Order"}),u.jsx("div",{className:"space-y-2",children:[...r.scenario.tasks].sort((O,j)=>O.ideal_rank-j.ideal_rank).map(O=>u.jsxs("div",{className:"text-sm",children:[u.jsxs("span",{className:"font-bold text-slate-900",children:["#",O.ideal_rank,"."]})," ",O.title,u.jsx("div",{className:"text-xs text-slate-600 ml-5",children:O.note})]},O.id))})]})]})]}),s&&u.jsxs("div",{className:"mt-6 flex gap-4",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),u.jsx("button",{onClick:x,className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg text-slate-600",children:"Loading..."})})},FW=()=>{const{id:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState(""),[s,o]=T.useState(null),[l,c]=T.useState(!1);T.useEffect(()=>{const h=$p(e);h&&h.type==="team-conflict"?n(h):(alert("Simulation not found"),t("/browse"))},[e,t]);const d=h=>{const m=h.toLowerCase(),g=/understand|acknowledge|hear|appreciate|thank|see|perspective|valid/.test(m),y=/both|team|together|we|us|align|common|goal|objective/.test(m),v=/suggest|propose|how about|let's|can we|meet|discuss|compromise|alternative|option/.test(m),b=/calm|step back|pause|take a moment|focus on|priority|deadline/.test(m),w=/wrong|fault|blame|always|never|should have|need to/.test(m);let x=g?25:0,N=y?25:0,O=v?30:0,j=b?20:0;w&&(x=Math.max(0,x-15),N=Math.max(0,N-15));const A=Math.min(100,x+N+O+j),P=[];return g?P.push(" Good empathy  you acknowledged both perspectives."):P.push(" Missing empathy  acknowledge both team members' viewpoints."),y?P.push(" Maintained neutrality  focused on team goals."):P.push(" Could be more neutral  emphasize shared objectives."),v?P.push(" Proposed a solution or next step."):P.push(" No clear solution offered  suggest a concrete next action."),b?P.push(" Helped de-escalate the situation."):P.push(` Could add de-escalation language (e.g., "Let's focus on...").`),w&&P.push(" Tone may come across as taking sides or being aggressive."),{totalScore:A,empathyScore:x,neutralityScore:N,solutionScore:O,deescalationScore:j,feedback:P}},f=()=>{if(!i.trim()){alert("Please type your response before submitting.");return}const h=d(i);o(h),c(!0),Up(e,h.totalScore,h.feedback)},p=()=>{a(""),o(null),c(!1)};return r?u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"text-primary hover:text-accent font-semibold mb-4 flex items-center",children:" Back to Browse"}),u.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),u.jsx("p",{className:"text-slate-600",children:r.description})]}),u.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"lg:col-span-7 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden",children:[u.jsxs("div",{className:"bg-slate-800 text-white p-4 flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-4"}),u.jsx("div",{className:"font-bold",children:"# team-discussion"})]}),u.jsxs("div",{className:"p-6 bg-slate-50 min-h-[400px] max-h-[500px] overflow-y-auto",children:[r.scenario.messages.map(h=>u.jsxs("div",{className:"mb-4 flex items-start",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-lg mr-3 flex-shrink-0",children:h.avatar}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[u.jsx("span",{className:"font-bold text-slate-900 text-sm",children:h.user}),u.jsx("span",{className:"text-xs text-slate-500",children:h.time})]}),u.jsx("div",{className:"text-slate-700 bg-white p-3 rounded-lg border border-slate-200 shadow-sm",children:h.text})]})]},h.id)),l&&u.jsxs("div",{className:"mb-4 flex items-start border-t-2 border-primary pt-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold text-lg mr-3 flex-shrink-0",children:"Y"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[u.jsxs("span",{className:"font-bold text-slate-900 text-sm",children:["You (",r.scenario.role,")"]}),u.jsx("span",{className:"text-xs text-slate-500",children:"Just now"})]}),u.jsx("div",{className:"text-slate-700 bg-primary/5 p-3 rounded-lg border-2 border-primary/30 shadow-sm",children:i})]})]})]}),!l&&u.jsxs("div",{className:"p-4 bg-white border-t border-slate-200",children:[u.jsx("textarea",{value:i,onChange:h=>a(h.target.value),placeholder:"Type your response as the team lead...",rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none mb-3"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:f,className:"flex-1 py-2 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Send Response"}),u.jsx("button",{onClick:p,className:"px-6 py-2 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Reset"})]})]})]}),u.jsxs("div",{className:"lg:col-span-5 bg-white rounded-xl p-8 shadow-xl border border-slate-200",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Scoring & Feedback"}),s?u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-sm font-bold text-slate-900 mb-4",children:"Score Breakdown"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Empathy"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.empathyScore," / 25"]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full",style:{width:`${s.empathyScore/25*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Neutrality"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.neutralityScore," / 25"]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full",style:{width:`${s.neutralityScore/25*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Solution Offered"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.solutionScore," / 30"]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full",style:{width:`${s.solutionScore/30*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"De-escalation"}),u.jsxs("span",{className:"font-bold text-slate-900",children:[s.deescalationScore," / 20"]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 h-2 rounded-full",style:{width:`${s.deescalationScore/20*100}%`}})})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl p-6 mb-6 text-center border border-primary/20",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Final Score"}),u.jsx("div",{className:"text-5xl font-bold text-primary",children:s.totalScore}),u.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"out of 100"})]}),u.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[u.jsx("div",{className:"font-bold text-amber-900 mb-3",children:"Feedback"}),u.jsx("div",{className:"space-y-2",children:s.feedback.map((h,m)=>u.jsx("div",{className:"text-sm text-slate-700",children:h},m))})]})]}):u.jsxs("div",{children:[u.jsx("div",{className:"text-slate-500 text-center py-8 mb-6",children:"Your response will be scored after submission."}),u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border border-primary/20",children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Evaluation Criteria"}),u.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"w-24 font-semibold",children:"Empathy:"}),u.jsx("span",{className:"flex-1",children:"25 points"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"w-24 font-semibold",children:"Neutrality:"}),u.jsx("span",{className:"flex-1",children:"25 points"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"w-24 font-semibold",children:"Solution:"}),u.jsx("span",{className:"flex-1",children:"30 points"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"w-24 font-semibold",children:"De-escalation:"}),u.jsx("span",{className:"flex-1",children:"20 points"})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Tips"}),u.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Acknowledge both perspectives without taking sides"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Focus on team goals and shared objectives"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Propose a concrete next step or meeting"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-primary mr-2",children:""}),u.jsx("span",{children:"Use calming, neutral language"})]})]})]})]})]})]}),s&&u.jsxs("div",{className:"mt-6 flex gap-4",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),u.jsx("button",{onClick:p,className:"px-6 py-3 font-semibold text-slate-700 bg-white border-2 border-slate-300 rounded-lg hover:border-slate-400 transition-all",children:"Try Again"})]})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg text-slate-600",children:"Loading..."})})},$W=()=>{var xe,fe;const{id:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState(!0),[s,o]=T.useState(0),[l,c]=T.useState({}),[d,f]=T.useState({}),[p,h]=T.useState(!1),[m,g]=T.useState("start"),[y,v]=T.useState([]),[b,w]=T.useState(!1),[x,N]=T.useState(0),[O,j]=T.useState([]),[A,P]=T.useState(""),[C,k]=T.useState(!1),[E,I]=T.useState({}),[M,U]=T.useState(!1),[Z,Q]=T.useState(!1);T.useEffect(()=>{const he=$p(e);a(!1),he&&he.isAIGenerated?n(he):(alert("AI-generated simulation not found"),t("/browse"))},[e,t]);const K=(he,pe)=>{c(be=>({...be,[he]:pe}))},W=()=>{(()=>{var pe,be,Ce,Me,Ie;switch(r.interactionType){case"multiple-choice":return s<(((pe=r.questions)==null?void 0:pe.length)||0)-1;case"scenario-based":return s<(((be=r.decisions)==null?void 0:be.length)||0)-1;case"role-play":return s<(((Ce=r.interactions)==null?void 0:Ce.length)||0)-1;case"text-input":return s<(((Me=r.interactions)==null?void 0:Me.length)||0)-1;case"decision-tree":case"drag-drop":return!1;default:return s<(((Ie=r.interactions)==null?void 0:Ie.length)||0)-1}})()?o(pe=>pe+1):V()},V=()=>{const he=$();Up(e,he),h(!0)},$=()=>{if(!r)return 0;switch(r.interactionType){case"multiple-choice":return R();case"scenario-based":return B();case"text-input":return q();default:return 75}},R=()=>{if(!(r!=null&&r.questions))return 0;let he=0;return r.questions.forEach(pe=>{var Ce;const be=l[pe.id];be&&((Ce=pe.options.find(Me=>Me.id===be))!=null&&Ce.isCorrect)&&he++}),Math.round(he/r.questions.length*100)},B=()=>{var pe;if(!(r!=null&&r.decisions))return 0;let he=0;return r.decisions.forEach(be=>{const Ce=l[be.id];if(Ce){const Me=be.options.find(Ie=>Ie.id===Ce);Me&&(he+=Me.score||0)}}),Math.min(he,((pe=r.evaluation)==null?void 0:pe.maxScore)||100)},q=()=>{if(!(r!=null&&r.interactions))return 0;let he=0;return r.interactions.forEach(pe=>{const be=l[pe.id];be&&be.length>10&&(he+=25,be.length>50&&(he+=25),be.length>100&&(he+=25),he+=25)}),Math.min(he,100)},H=he=>{switch(r.interactionType){case"text-input":return z(he);case"multiple-choice":return J(he);case"scenario-based":return ae(he);case"decision-tree":return X();case"role-play":return le();case"drag-drop":return ge();default:return de(he)}},z=he=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[u.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"Your Task"}),u.jsx("p",{className:"text-blue-800",children:he.prompt}),he.context&&u.jsx("p",{className:"text-blue-700 text-sm mt-2",children:he.context})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Your Response"}),u.jsx("textarea",{value:l[he.id]||"",onChange:pe=>K(he.id,pe.target.value),rows:6,maxLength:he.maxLength||500,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Type your response here..."}),u.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[(l[he.id]||"").length,"/",he.maxLength||500," characters"]})]})]}),J=he=>u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Question ",s+1]}),u.jsx("p",{className:"text-slate-700 mb-4",children:he.question}),he.context&&u.jsx("p",{className:"text-slate-600 text-sm mb-4",children:he.context}),u.jsx("div",{className:"space-y-3",children:he.options.map(pe=>u.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${l[he.id]===pe.id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("input",{type:"radio",name:`question-${he.id}`,value:pe.id,checked:l[he.id]===pe.id,onChange:be=>K(he.id,be.target.value),className:"mt-1 mr-3"}),u.jsx("span",{className:"text-slate-700",children:pe.text})]},pe.id))})]})}),ae=he=>u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Decision Point ",s+1]}),u.jsx("p",{className:"text-slate-700 mb-4",children:he.situation}),he.context&&u.jsx("p",{className:"text-slate-600 text-sm mb-4",children:he.context}),u.jsx("div",{className:"space-y-3",children:he.options.map(pe=>u.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${l[he.id]===pe.id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("input",{type:"radio",name:`decision-${he.id}`,value:pe.id,checked:l[he.id]===pe.id,onChange:be=>K(he.id,be.target.value),className:"mt-1 mr-3"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-slate-700 font-medium",children:pe.text}),pe.consequences&&u.jsx("div",{className:"text-slate-600 text-sm mt-1",children:pe.consequences})]})]},pe.id))})]})}),X=he=>{var Ie,He;const pe=()=>{var Ze;return(Ze=r.decisionTree)==null?void 0:Ze[m]},be=Ze=>{var ze;const $e=[...y,{node:m,choice:Ze.text,impact:Ze.impact}];v($e);const Ve=(ze=r.decisionTree)==null?void 0:ze[Ze.next];Ve?(g(Ze.next),Ve.isEnd&&(w(!0),K("decision-tree",{path:$e,ending:Ve}))):console.error("Next node not found:",Ze.next)},Ce=()=>{g("start"),v([]),w(!1)},Me=pe();if(b){const Ze=(Ie=r.decisionTree)==null?void 0:Ie[m];return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[u.jsx("h3",{className:"font-bold text-green-900 mb-4",children:"Decision Tree Complete!"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Your Path:"}),u.jsx("div",{className:"space-y-2",children:y.map(($e,Ve)=>u.jsxs("div",{className:"text-sm bg-white rounded p-3 border border-green-200",children:[u.jsxs("div",{className:"font-medium text-green-900",children:["Step ",Ve+1,": ",$e.choice]}),$e.impact&&u.jsxs("div",{className:"text-xs text-green-700 mt-1",children:[" ",$e.impact]})]},Ve))})]}),Ze&&u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[u.jsxs("h4",{className:"font-semibold text-green-800 mb-2",children:["Final Outcome: ",Ze.outcome]}),u.jsx("p",{className:"text-green-700 mb-3",children:Ze.description}),Ze.feedback&&u.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-3 rounded",children:[u.jsx("strong",{children:"Feedback:"})," ",Ze.feedback]})]}),u.jsx("button",{onClick:Ce,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Try Again"})]})]})})}return Me?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Decision Point ",y.length+1]}),u.jsx("p",{className:"text-slate-700 mb-2",children:Me.description}),u.jsx("p",{className:"text-lg font-semibold text-slate-900 mb-6",children:Me.question}),u.jsx("div",{className:"space-y-3",children:(He=Me.options)==null?void 0:He.map((Ze,$e)=>u.jsxs("button",{onClick:()=>be(Ze),className:"w-full text-left p-4 rounded-lg border-2 border-slate-200 hover:border-primary hover:bg-primary/5 transition-all",children:[u.jsx("div",{className:"font-medium text-slate-900 mb-2",children:Ze.text}),Ze.impact&&u.jsxs("div",{className:"text-sm text-slate-600",children:[" ",Ze.impact]}),Ze.consequences&&u.jsx("div",{className:"text-sm text-slate-600",children:Ze.consequences})]},$e))})]}),y.length>0&&u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Your Journey So Far:"}),u.jsx("div",{className:"space-y-1",children:y.map((Ze,$e)=>u.jsxs("div",{className:"text-sm text-blue-700",children:["Step ",$e+1,": ",Ze.choice]},$e))})]})]}):u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[u.jsx("h3",{className:"font-bold text-red-900 mb-4",children:"Error"}),u.jsx("p",{className:"text-red-700 mb-2",children:"Decision tree data is incomplete."}),u.jsxs("p",{className:"text-sm text-red-600",children:['Current node "',m,'" not found in decision tree.']}),u.jsx("button",{onClick:Ce,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reset Tree"})]})})},le=he=>{const pe=r.interactions||[],be=pe[x],Ce=()=>{if(!A.trim())return;const Ie=[...O,{type:"user",message:A,timestamp:new Date().toLocaleTimeString()}];j(Ie),P(""),x<pe.length-1?N(He=>He+1):(k(!0),K("role-play",{conversation:Ie}))},Me=()=>{N(0),j([]),P(""),k(!1)};return C?u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[u.jsx("h3",{className:"font-bold text-green-900 mb-4",children:"Role Play Complete!"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Conversation Summary:"}),u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:O.map((Ie,He)=>u.jsxs("div",{className:`text-sm p-2 rounded ${Ie.type==="user"?"bg-blue-100 text-blue-800 ml-4":"bg-slate-100 text-slate-700 mr-4"}`,children:[u.jsxs("strong",{children:[Ie.type==="user"?"You":"Character",":"]})," ",Ie.message]},He))})]}),u.jsx("button",{onClick:Me,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Try Again"})]})]})}):be?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsxs("h3",{className:"font-bold text-slate-900 mb-4",children:["Role Play - Interaction ",x+1]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Character:"}),u.jsx("p",{className:"text-slate-700",children:be.participant}),u.jsx("p",{className:"text-slate-600 text-sm",children:be.situation})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"What they say:"}),u.jsxs("p",{className:"text-blue-800 italic",children:['"',be.theirMessage,'"']}),be.context&&u.jsx("p",{className:"text-blue-700 text-sm mt-2",children:be.context})]})]}),O.length>0&&u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[u.jsx("h4",{className:"font-semibold text-slate-800 mb-3",children:"Conversation History:"}),u.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:O.map((Ie,He)=>u.jsxs("div",{className:`text-sm p-2 rounded ${Ie.type==="user"?"bg-blue-100 text-blue-800 ml-4":"bg-slate-100 text-slate-700 mr-4"}`,children:[u.jsxs("strong",{children:[Ie.type==="user"?"You":"Character",":"]})," ",Ie.message]},He))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 border border-slate-200",children:[u.jsx("h4",{className:"font-semibold text-slate-800 mb-3",children:"Your Response:"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("textarea",{value:A,onChange:Ie=>P(Ie.target.value),rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Type your response to the character..."}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm text-slate-500",children:[x+1," of ",pe.length," interactions"]}),u.jsx("button",{onClick:Ce,disabled:!A.trim(),className:`px-6 py-2 font-semibold text-white rounded-lg transition-all ${A.trim()?"bg-gradient-to-r from-primary to-accent hover:shadow-lg":"bg-slate-400 cursor-not-allowed"}`,children:x<pe.length-1?"Send & Continue":"Send & Finish"})]})]})]})]}):u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[u.jsx("h3",{className:"font-bold text-red-900 mb-4",children:"Error"}),u.jsx("p",{className:"text-red-700",children:"Role play data is incomplete."})]})})},ge=he=>{var Ke;const pe=r.items||[],be=r.categories||[],Ce=(ct,ht)=>{ct.dataTransfer.setData("text/plain",ht)},Me=ct=>{ct.preventDefault()},Ie=(ct,ht)=>{ct.preventDefault();const Ge=ct.dataTransfer.getData("text/plain");I(ft=>({...ft,[Ge]:ht}))},He=()=>{U(!0),Q(!0),K("drag-drop",{positions:E})},Ze=()=>{I({}),U(!1),Q(!1)},$e=()=>{var Ge;if(!((Ge=r.evaluation)!=null&&Ge.correctPlacements))return 0;let ct=0;const ht=Object.keys(r.evaluation.correctPlacements).length;return Object.entries(r.evaluation.correctPlacements).forEach(([ft,Dt])=>{E[ft]===Dt&&ct++}),Math.round(ct/ht*100)},Ve=ct=>pe.filter(ht=>E[ht.id]===ct),ze=()=>pe.filter(ct=>!E[ct.id]);if(Z){const ct=$e();return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[u.jsx("h3",{className:"font-bold text-green-900 mb-4",children:"Drag & Drop Complete!"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[ct,"%"]}),u.jsx("div",{className:"text-green-800",children:"Overall Score"})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Your Placements:"}),u.jsx("div",{className:"space-y-2",children:Object.entries(E).map(([ht,Ge])=>{var Ot,bt;const ft=pe.find(lr=>lr.id===ht),Dt=be.find(lr=>lr.id===Ge),dt=((bt=(Ot=r.evaluation)==null?void 0:Ot.correctPlacements)==null?void 0:bt[ht])===Ge;return u.jsxs("div",{className:`p-2 rounded text-sm ${dt?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[u.jsx("strong",{children:ft==null?void 0:ft.title}),"  ",Dt==null?void 0:Dt.title,dt?" ":" "]},ht)})})]}),u.jsx("button",{onClick:Ze,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Try Again"})]})]})})}return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Drag & Drop Task"}),u.jsx("p",{className:"text-slate-700 mb-4",children:(Ke=r.scenario)==null?void 0:Ke.task}),u.jsx("div",{className:"text-sm text-slate-600",children:"Drag each item to the appropriate category based on priority and importance."})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800",children:"Items to Organize:"}),u.jsx("div",{className:"space-y-2",children:ze().map(ct=>u.jsxs("div",{draggable:!0,onDragStart:ht=>Ce(ht,ct.id),className:"p-4 bg-white border-2 border-dashed border-slate-300 rounded-lg cursor-move hover:border-primary hover:bg-primary/5 transition-all",children:[u.jsx("div",{className:"font-medium text-slate-900",children:ct.title}),u.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ct.description}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:ct.timeEstimate}),u.jsxs("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:[ct.impact," impact"]}),u.jsxs("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:[ct.urgency," urgency"]})]})]},ct.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800",children:"Categories:"}),u.jsx("div",{className:"space-y-4",children:be.map(ct=>u.jsxs("div",{onDragOver:Me,onDrop:ht=>Ie(ht,ct.id),className:"min-h-[120px] p-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-all",children:[u.jsx("div",{className:"font-medium text-slate-900 mb-2",children:ct.title}),u.jsx("div",{className:"text-sm text-slate-600 mb-3",children:ct.description}),u.jsx("div",{className:"space-y-2",children:Ve(ct.id).map(ht=>u.jsx("div",{className:"p-2 bg-white border border-slate-200 rounded text-sm",children:ht.title},ht.id))})]},ct.id))})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:He,disabled:Object.keys(E).length===0,className:`px-8 py-3 font-semibold text-white rounded-lg transition-all ${Object.keys(E).length>0?"bg-gradient-to-r from-primary to-accent hover:shadow-lg":"bg-slate-400 cursor-not-allowed"}`,children:"Submit Organization"})})]})},de=he=>u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Custom Interaction"}),u.jsx("p",{className:"text-slate-700",children:he.prompt}),he.context&&u.jsx("p",{className:"text-slate-600 text-sm mt-2",children:he.context})]})});if(i||!r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulation..."})});if(p){const he=$();return u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Simulation Complete!"}),u.jsx("p",{className:"text-slate-600",children:"Here's how you performed"})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-4xl font-bold text-primary mb-2",children:[he,"%"]}),u.jsx("div",{className:"text-slate-600",children:"Overall Score"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold text-accent mb-2",children:((xe=r.interactions)==null?void 0:xe.length)||((fe=r.questions)==null?void 0:fe.length)||0}),u.jsx("div",{className:"text-slate-600",children:"Questions Answered"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold text-green-500 mb-2",children:r.difficulty}),u.jsx("div",{className:"text-slate-600",children:"Difficulty Level"})]})]}),r.learningObjectives&&u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Learning Objectives"}),u.jsx("ul",{className:"space-y-2",children:r.learningObjectives.map((pe,be)=>u.jsxs("li",{className:"flex items-center text-slate-700",children:[u.jsx("span",{className:"text-green-500 mr-2",children:""}),pe]},be))})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"flex-1 py-3 font-semibold text-white bg-gradient-to-r from-primary to-accent rounded-lg hover:shadow-lg transition-all",children:"Browse More Simulations"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Try Again"})]})]})})})}const ke=()=>{var he,pe,be,Ce;switch(r.interactionType){case"multiple-choice":return(he=r.questions)==null?void 0:he[s];case"scenario-based":return(pe=r.decisions)==null?void 0:pe[s];case"decision-tree":return r.decisionTree;case"role-play":return(be=r.interactions)==null?void 0:be[s];case"drag-drop":return r;default:return(Ce=r.interactions)==null?void 0:Ce[s]}},ve=()=>{var he,pe,be,Ce;switch(r.interactionType){case"multiple-choice":return`${s+1}/${((he=r.questions)==null?void 0:he.length)||1}`;case"scenario-based":return`${s+1}/${((pe=r.decisions)==null?void 0:pe.length)||1}`;case"decision-tree":return"Decision Tree";case"role-play":return`${s+1}/${((be=r.interactions)==null?void 0:be.length)||1}`;case"drag-drop":return"Drag & Drop";default:return`${s+1}/${((Ce=r.interactions)==null?void 0:Ce.length)||1}`}},ie=()=>{const he=ke(),pe=l[he==null?void 0:he.id],be=pe&&pe.trim().length>0;switch(console.log("canProceed debug:",{interactionType:r.interactionType,currentStep:s,currentInteraction:he==null?void 0:he.id,hasResponse:!!pe,responseLength:(pe==null?void 0:pe.length)||0,hasValidResponse:be,responseValue:pe,responses:l}),r.interactionType){case"decision-tree":case"drag-drop":return!1;case"multiple-choice":return!!pe;case"scenario-based":return!!pe;case"text-input":return be;case"role-play":return!0;default:return be}},We=()=>{var he,pe,be,Ce,Me;switch(r.interactionType){case"decision-tree":case"drag-drop":return"Complete";case"multiple-choice":return s<(((he=r.questions)==null?void 0:he.length)||0)-1?"Next":"Finish";case"scenario-based":return s<(((pe=r.decisions)==null?void 0:pe.length)||0)-1?"Next":"Finish";case"role-play":return s<(((be=r.interactions)==null?void 0:be.length)||0)-1?"Next":"Finish";case"text-input":return s<(((Ce=r.interactions)==null?void 0:Ce.length)||0)-1?"Next":"Finish";default:return s<(((Me=r.interactions)==null?void 0:Me.length)||0)-1?"Next":"Finish"}},Be=ke();return u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:r.title}),u.jsx("p",{className:"text-slate-600 mt-2",children:r.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-slate-500",children:"Progress"}),u.jsx("div",{className:"text-2xl font-bold text-primary",children:ve()})]})]}),r.scenario&&u.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[u.jsx("h3",{className:"font-bold text-slate-900 mb-3",children:"Scenario"}),u.jsxs("p",{className:"text-slate-700 mb-2",children:[u.jsx("strong",{children:"Role:"})," ",r.scenario.role]}),u.jsxs("p",{className:"text-slate-700",children:[u.jsx("strong",{children:"Context:"})," ",r.scenario.context]}),r.scenario.situation&&u.jsxs("p",{className:"text-slate-700 mt-2",children:[u.jsx("strong",{children:"Situation:"})," ",r.scenario.situation]})]})]}),u.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200 mb-6",children:Be&&H(Be)}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("button",{onClick:()=>t("/browse"),className:"px-6 py-3 font-semibold text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-all",children:"Exit Simulation"}),u.jsx("button",{onClick:W,disabled:!ie(),className:`px-6 py-3 font-semibold text-white rounded-lg transition-all ${ie()?"bg-gradient-to-r from-primary to-accent hover:shadow-lg":"bg-slate-400 cursor-not-allowed"}`,children:We()})]})]})})},UW=()=>{var l,c,d,f;const{id:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState(!0),[s,o]=T.useState(null);return T.useEffect(()=>{e&&(async()=>{try{a(!0),o(null),console.log(" Fetching simulation from database:",e);const h=await E_.getSimulationById(e);if(h)console.log(" Simulation loaded from database:",h.title),n(h);else throw new Error("Simulation not found in database")}catch(h){console.error(" Error fetching simulation from database:",h),o("Simulation not found in database")}finally{a(!1)}})()},[e]),i?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("div",{className:"text-lg text-slate-600",children:"Loading simulation..."})]})}):s||!r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg text-red-600 mb-4",children:"Simulation not found"}),u.jsx("p",{className:"text-slate-600 mb-6",children:"The simulation you're looking for doesn't exist in the database."}),u.jsx("button",{onClick:()=>t("/browse"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-accent transition-colors",children:"Back to Browse"})]})}):u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b border-slate-200",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>t("/browse"),className:"flex items-center text-slate-600 hover:text-primary transition-colors",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Simulations"]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:r.is_ai_generated?" AI Generated":" Template"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:r.category}),u.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:r.difficulty}),u.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:r.duration})]})]})}),u.jsx("div",{className:"bg-white border-b border-slate-200",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.title}),u.jsx("p",{className:"text-slate-600",children:r.description}),(((l=r.learning_objectives)==null?void 0:l.length)>0||((c=r.skills_tested)==null?void 0:c.length)>0)&&u.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[((d=r.learning_objectives)==null?void 0:d.length)>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Learning Objectives:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:r.learning_objectives.map((p,h)=>u.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:p},h))})]}),((f=r.skills_tested)==null?void 0:f.length)>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Skills Tested:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:r.skills_tested.map((p,h)=>u.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs",children:p},h))})]})]})]})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:u.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:u.jsx("iframe",{srcDoc:r.html_content,title:r.title,className:"w-full border-0",style:{minHeight:"800px",height:"100vh"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox"})})})]})},qW=({onSuccess:e,onSwitchToSignUp:t})=>{const[r,n]=T.useState({email:"",password:""}),[i,a]=T.useState(!1),[s,o]=T.useState(null),l=async d=>{d.preventDefault(),o(null),a(!0);try{const f=await vi.signIn(r.email,r.password);ev.logActivity("page_viewed",{page:"login",method:"email"}).catch(p=>console.log("Activity log failed:",p)),a(!1),e==null||e()}catch(f){o(f.message||"Invalid email or password"),a(!1)}},c=async()=>{try{a(!0),await vi.signInWithGoogle()}catch(d){o(d.message||"Failed to sign in with Google"),a(!1)}};return u.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-6",children:"Welcome Back"}),u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",placeholder:"you@example.com",value:r.email,onChange:d=>n({...r,email:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),u.jsx("input",{type:"password",placeholder:"Enter your password",value:r.password,onChange:d=>n({...r,password:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing In...":"Sign In"})]}),u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or"})})]}),u.jsxs("button",{type:"button",onClick:c,disabled:i,className:"w-full bg-white border-2 border-slate-300 text-slate-700 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),u.jsxs("p",{className:"text-center text-sm text-slate-600 mt-6",children:["Don't have an account?"," ",u.jsx("button",{type:"button",onClick:t,className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})},zW=({onSuccess:e,onSwitchToSignIn:t})=>{const[r,n]=T.useState({email:"",password:"",confirmPassword:"",fullName:"",userRole:"",howHeardAboutUs:"",marketingPurpose:""}),[i,a]=T.useState(!1),[s,o]=T.useState(null),l=async d=>{if(d.preventDefault(),o(null),a(!0),r.password!==r.confirmPassword){o("Passwords do not match"),a(!1);return}if(r.password.length<6){o("Password must be at least 6 characters"),a(!1);return}const f=r.email.trim().toLowerCase();if(!f.includes("@")||f.split("@").length!==2){o("Please enter a valid email address"),a(!1);return}const[p,h]=f.split("@");if(!p||!h||!h.includes(".")){o("Please enter a valid email address"),a(!1);return}try{await vi.signUp(f,r.password,{fullName:r.fullName,userRole:r.userRole,howHeardAboutUs:r.howHeardAboutUs,marketingPurpose:r.marketingPurpose}),ev.logActivity("page_viewed",{page:"signup",method:"email"}).catch(m=>console.log("Activity log failed:",m)),e==null||e()}catch(m){o(m.message||"Failed to create account")}finally{a(!1)}},c=async()=>{try{a(!0),await vi.signInWithGoogle()}catch(d){o(d.message||"Failed to sign up with Google"),a(!1)}};return u.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-6",children:"Create Account"}),u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name *"}),u.jsx("input",{type:"text",placeholder:"John Doe",value:r.fullName,onChange:d=>n({...r,fullName:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",placeholder:"you@example.com",value:r.email,onChange:d=>n({...r,email:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password *"}),u.jsx("input",{type:"password",placeholder:"At least 6 characters",value:r.password,onChange:d=>n({...r,password:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password *"}),u.jsx("input",{type:"password",placeholder:"Confirm your password",value:r.confirmPassword,onChange:d=>n({...r,confirmPassword:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"I am a... *"}),u.jsxs("select",{value:r.userRole,onChange:d=>n({...r,userRole:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select your role"}),u.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),u.jsx("option",{value:"student",children:"Student"}),u.jsx("option",{value:"professional",children:"Professional"}),u.jsx("option",{value:"professor",children:"Professor"}),u.jsx("option",{value:"recruiter",children:"Recruiter"}),u.jsx("option",{value:"other",children:"Other"})]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[r.userRole==="recruiter"&&"As a recruiter, you can create simulations and view candidate performance.",r.userRole==="student"&&"As a student, you can take simulations to showcase your skills."]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"How did you hear about us? *"}),u.jsxs("select",{value:r.howHeardAboutUs,onChange:d=>n({...r,howHeardAboutUs:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select an option"}),u.jsx("option",{value:"google_search",children:"Google Search"}),u.jsx("option",{value:"social_media",children:"Social Media"}),u.jsx("option",{value:"friend_referral",children:"Friend/Colleague Referral"}),u.jsx("option",{value:"linkedin",children:"LinkedIn"}),u.jsx("option",{value:"email_campaign",children:"Email Campaign"}),u.jsx("option",{value:"blog_article",children:"Blog Article"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["What would you like to use Simulate for?",u.jsx("span",{className:"text-slate-400 text-xs ml-1",children:"(Optional, for marketing insights)"})]}),u.jsx("textarea",{placeholder:"e.g., Training my team, Personal skill development, Evaluating candidates...",value:r.marketingPurpose,onChange:d=>n({...r,marketingPurpose:d.target.value}),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating Account...":"Sign Up"})]}),u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or"})})]}),u.jsxs("button",{type:"button",onClick:c,disabled:i,className:"w-full bg-white border-2 border-slate-300 text-slate-700 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),u.jsxs("p",{className:"text-center text-sm text-slate-600 mt-6",children:["Already have an account?"," ",u.jsx("button",{type:"button",onClick:t,className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})},WW=()=>{const[e]=jU(),t=Hn(),r=e.get("mode"),[n,i]=T.useState(r!=="signup");T.useEffect(()=>{r==="signup"?i(!1):r==="login"&&i(!0)},[r]);const a=async()=>{await new Promise(s=>setTimeout(s,300));try{const s=await vi.getCurrentUser();if(s){const o=await vi.isProfileComplete(s.id);t(o?"/":"/complete-profile")}else t("/")}catch(s){console.error("Error checking profile:",s),t("/")}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center py-12 px-4",children:n?u.jsx(qW,{onSuccess:a,onSwitchToSignUp:()=>{i(!1),t("/auth?mode=signup",{replace:!0})}}):u.jsx(zW,{onSuccess:a,onSwitchToSignIn:()=>{i(!0),t("/auth?mode=login",{replace:!0})}})})},HW=()=>{const e=Hn(),[t,r]=T.useState(!0),[n,i]=T.useState(null);return T.useEffect(()=>{(async()=>{try{const{data:{session:s},error:o}=await qe.auth.getSession();if(o){console.error("Session error:",o),i(o.message),r(!1),setTimeout(()=>e("/auth"),2e3);return}if(s&&s.user)try{const l=await vi.isProfileComplete(s.user.id);e(l?"/":"/complete-profile")}catch(l){console.error("Profile check error:",l),e("/")}else i("No session found"),r(!1),setTimeout(()=>e("/auth"),2e3)}catch(s){console.error("Auth callback error:",s),i(s.message),r(!1),setTimeout(()=>e("/auth"),2e3)}})()},[e]),t?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Completing sign in..."})]})}):n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsxs("p",{className:"text-red-600 mb-2",children:["Error: ",n]}),u.jsx("p",{className:"text-slate-600 text-sm",children:"Redirecting to login..."})]})}):null},KW=()=>{const e=Hn(),[t,r]=T.useState(null),[n,i]=T.useState({userRole:"",howHeardAboutUs:"",marketingPurpose:""}),[a,s]=T.useState(!0),[o,l]=T.useState(!1),[c,d]=T.useState(null);T.useEffect(()=>{(async()=>{try{const h=await vi.getCurrentUser();if(!h){e("/auth");return}r(h);try{const m=await vi.getUserProfile(h.id);m&&m.user_role?e("/"):i({userRole:(m==null?void 0:m.user_role)||"",howHeardAboutUs:(m==null?void 0:m.how_heard_about_us)||"",marketingPurpose:(m==null?void 0:m.marketing_purpose)||""})}catch{console.log("No profile found, will create new one")}}catch(h){console.error("Error loading user:",h),e("/auth")}finally{s(!1)}})()},[e]);const f=async p=>{p.preventDefault(),d(null),l(!0);try{await vi.updateUserProfile(t.id,{user_role:n.userRole,how_heard_about_us:n.howHeardAboutUs,marketing_purpose:n.marketingPurpose}),e("/")}catch(h){d(h.message||"Failed to save profile")}finally{l(!1)}};return a?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex items-center justify-center py-12 px-4",children:u.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-2",children:"Complete Your Profile"}),u.jsx("p",{className:"text-center text-slate-600 mb-6",children:"Just a few more details to get started"}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"I am a... *"}),u.jsxs("select",{value:n.userRole,onChange:p=>i({...n,userRole:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select your role"}),u.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),u.jsx("option",{value:"student",children:"Student"}),u.jsx("option",{value:"professional",children:"Professional"}),u.jsx("option",{value:"professor",children:"Professor"}),u.jsx("option",{value:"recruiter",children:"Recruiter"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"How did you hear about us? *"}),u.jsxs("select",{value:n.howHeardAboutUs,onChange:p=>i({...n,howHeardAboutUs:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select an option"}),u.jsx("option",{value:"google_search",children:"Google Search"}),u.jsx("option",{value:"social_media",children:"Social Media"}),u.jsx("option",{value:"friend_referral",children:"Friend/Colleague Referral"}),u.jsx("option",{value:"linkedin",children:"LinkedIn"}),u.jsx("option",{value:"email_campaign",children:"Email Campaign"}),u.jsx("option",{value:"blog_article",children:"Blog Article"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["What would you like to use Simulate for?",u.jsx("span",{className:"text-slate-400 text-xs ml-1",children:"(Optional)"})]}),u.jsx("textarea",{placeholder:"e.g., Training my team, Personal skill development...",value:n.marketingPurpose,onChange:p=>i({...n,marketingPurpose:p.target.value}),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":"Complete Profile"})]})]})})},Kd={name:"Noah",fullName:"Noah Healthcare",description:"A mid-size healthcare products company, known for OTC medicines; now building a consumer Health & Fitness Smartwatch.",logo:""},VW=[{id:1,name:"Young Fitness Enthusiast",ageRange:"25-35",occupation:"Software Engineer / Marketing Professional",goals:"Track daily steps, heart rate during workouts, sleep quality",painPoints:"Wants accurate fitness tracking, long battery life, comfortable for all-day wear",techComfort:"High - uses multiple apps daily",avatar:""},{id:2,name:"Senior Wellness Monitor",ageRange:"55+",occupation:"Retired / Semi-retired professional",goals:"Monitor heart health, track medication reminders, emergency alerts",painPoints:"Needs large, readable display, simple interface, reliable health monitoring",techComfort:"Medium - comfortable with smartphones but prefers simplicity",avatar:""}],GW=[{name:"FitTrack Pro",features:["Advanced heart rate monitoring","7-day battery life","Waterproof design"],price:"$120"},{name:"HealthSync Watch",features:["FDA-approved health metrics","Medical-grade sensors","HIPAA-compliant data"],price:"$180"},{name:"ActiveLife Band",features:["Budget-friendly","Basic step counting","Sleep tracking"],price:"$60"}],N0={marketSize:"$45 billion",growthRate:"18% YoY",averagePrice:"$120",batteryExpectation:"5-7 days"},Gu={backend:["Node.js","Python (Django)","Java (Spring)","Go"],database:["PostgreSQL","MongoDB","Redis","InfluxDB"],mobile:["React Native","Flutter","Native iOS/Android"],embedded:["FreeRTOS","Zephyr","Custom RTOS"],cloud:["AWS","Google Cloud","Azure","Hybrid"],analytics:["Mixpanel","Amplitude","Google Analytics","Custom"]},YW=[{id:"product-lead",name:"Product Lead",essential:!0},{id:"backend-eng",name:"Backend Engineer",essential:!0},{id:"embedded-eng",name:"Embedded/Firmware Engineer",essential:!0},{id:"mobile-dev",name:"iOS/Android Developer",essential:!0},{id:"ux-designer",name:"UX Designer",essential:!0},{id:"qa",name:"QA Engineer",essential:!1},{id:"data-eng",name:"Data Engineer",essential:!1},{id:"compliance",name:"Regulatory/Compliance",essential:!0},{id:"devops",name:"DevOps Engineer",essential:!1},{id:"support",name:"Customer Support",essential:!1}],XW=[{id:1,type:"Fitness Influencer",name:"Alex Rivera",profile:"2M Instagram followers, fitness content creator, 28 years old",reach:"2M followers",cost:"$15,000",fit:"High - aligns with fitness enthusiast persona"},{id:2,type:"Medical Professional",name:"Dr. Sarah Chen",profile:"Cardiologist, 150K LinkedIn followers, health education advocate",reach:"150K professional network",cost:"$8,000",fit:"High - builds trust with senior wellness segment"},{id:3,type:"Lifestyle Celebrity",name:"Jordan Kim",profile:"Actor/TV personality, 5M followers, wellness lifestyle brand",reach:"5M followers",cost:"$50,000",fit:"Medium - broad reach but expensive"},{id:4,type:"Fitness Celebrity",name:"Marcus Thompson",profile:"Former athlete, 1M YouTube subscribers, fitness coach",reach:"1M subscribers",cost:"$25,000",fit:"High - credible fitness authority"}],mn={dau:[{day:1,users:1200},{day:5,users:1850},{day:10,users:2100},{day:15,users:1950},{day:20,users:1800},{day:25,users:1650},{day:30,users:1500}],metrics:{onboardingCompletion:70,setupDropoff:30,crashRate:.5,avgSessionTime:12,retention7Day:30,retention30Day:12},nps:{promoters:4,passives:60,detractors:36},reviews:[{id:1,rating:2,text:"Battery dies in 2 days, not the 7 days promised. Very disappointed.",sentiment:"negative",issue:"battery"},{id:2,rating:2,text:"Step count is way off. Walked 5,000 steps but watch showed only 2,000. Accuracy is terrible.",sentiment:"negative",issue:"accuracy"},{id:3,rating:5,text:"Super comfortable to wear all day. Love the design and how lightweight it is!",sentiment:"positive",issue:"comfort"},{id:4,rating:5,text:"The app is really intuitive. Easy to set up and navigate. Great UX!",sentiment:"positive",issue:"app-ux"}]},U4=[{id:"battery-opt",label:"Battery optimization firmware update"},{id:"firmware-fix",label:"Firmware bug fix for step counting accuracy"},{id:"onboarding-simplify",label:"Onboarding flow simplification"},{id:"marketing-incentives",label:"Marketing incentives & referral program"},{id:"partner-discount",label:"Partner discount program"},{id:"support-responses",label:"Proactive customer support responses"}],JW={task1:18,task2:12,task3:12,task4:12,task5:14,task6:22,task7:10},q4={task1:{"Product Sense":.4,"Data Insights":.3,Communication:.3},task2:{"Technical Feasibility":.5,"Teaming & Planning":.5},task3:{"Teaming & Planning":.6,"Product Sense":.4},task4:{UX:1},task5:{"GTM & Marketing":.7,"Product Sense":.3},task6:{"Data Insights":.5,Communication:.5},task7:{Communication:.6,"Product Sense":.4}},S0=({onNext:e,onComplete:t,simulation:r,task:n})=>{var y;const i=()=>{t("task0"),e()},a=(r==null?void 0:r.company_info)||Kd,s=(r==null?void 0:r.slug)==="argo-marketing-foundations"||(a==null?void 0:a.name)==="Argo"||(r==null?void 0:r.category)==="Marketing",o=s?"from-purple-600 to-pink-600":"from-primary to-accent",l=s?"from-purple-50 to-pink-50":"from-blue-50 to-indigo-50",c=s?"border-purple-200":"border-blue-200",d=(n==null?void 0:n.config)||{},f=d.headline||(s?"Heard of These Marketing Jobs?":"Welcome to the Simulation"),p=d.bullets||(s?["Social Media Coordinator","Brand Strategist","Growth Marketing Analyst","Customer Insights Associate"]:[]),h=d.body||(s?"This simulation walks through five hands-on marketing tasks to show what entry-level marketing roles feel like. By the end you'll practice creative writing, data analysis, customer insight, SEO selection, and reflection.":"You are a Product Manager leading the product development. You'll be responsible for the entire product lifecycle from ideation to post-launch optimization."),m=((y=r==null?void 0:r.tasks)==null?void 0:y.filter(v=>v.id!=="task0"))||[],g=(r==null?void 0:r.learning_objectives)||[];return u.jsx("div",{className:"max-w-5xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[u.jsxs("div",{className:`flex items-center gap-4 mb-8 p-6 bg-gradient-to-r ${l} rounded-xl border ${c}`,children:[u.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${o} rounded-xl flex items-center justify-center text-3xl shadow-lg`,children:a.logo||""}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:a.fullName||a.name}),u.jsx("p",{className:"text-gray-600 mt-1",children:a.description||(r==null?void 0:r.description)})]})]}),u.jsxs("div",{className:"mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o} rounded-xl flex items-center justify-center`,children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:f})]}),u.jsx("div",{className:`bg-gradient-to-r ${l} rounded-xl p-6 border ${c}`,children:u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:h})}),p.length>0&&u.jsx("div",{className:"mt-4 space-y-2",children:p.map((v,b)=>u.jsxs("div",{className:`flex items-center gap-3 p-4 bg-gradient-to-r ${l} rounded-xl border ${c}`,children:[u.jsx("span",{className:"text-2xl",children:b===0?"":b===1?"":b===2?"":""}),u.jsx("span",{className:"text-gray-700 font-medium",children:v})]},b))})]}),m.length>0&&u.jsxs("div",{className:"mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o} rounded-xl flex items-center justify-center`,children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Simulation Overview"})]}),u.jsx("div",{className:"space-y-4",children:m.map((v,b)=>{var w,x;return u.jsxs("div",{className:`flex items-start gap-4 p-5 bg-gradient-to-r ${l} rounded-xl border ${c} hover:shadow-md transition-all`,children:[u.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${o} rounded-lg flex items-center justify-center text-white font-bold shadow-lg flex-shrink-0`,children:b+1}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"font-semibold text-gray-900 text-lg mb-1 flex items-center gap-2",children:[u.jsx("span",{children:v.icon||""}),u.jsx("span",{children:v.name})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[v.estimated_time||"N/A"," - ",((x=(w=v.config)==null?void 0:w.instruction)==null?void 0:x.substring(0,80))||"Complete this task"]})]})]},v.id)})})]}),g.length>0&&u.jsxs("div",{className:"mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Learning Objectives"})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:g.map((v,b)=>u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[u.jsx("span",{className:"text-green-600 text-xl mt-0.5",children:""}),u.jsx("span",{className:"text-gray-700 font-medium",children:v})]},b))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-6 mb-8",children:[u.jsxs("h4",{className:"font-bold text-gray-900 mb-4 text-lg flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Quick Tips"]}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-bold",children:""}),u.jsx("span",{children:"You can upload files (PDF, images) - they'll be marked as submitted"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-bold",children:""}),u.jsx("span",{children:"Use the rich text editor for detailed responses"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-bold",children:""}),u.jsx("span",{children:"Scoring is based on rubric criteria - check example answers for guidance"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-bold",children:""}),u.jsx("span",{children:"You can navigate between tasks using the left sidebar"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-bold",children:""}),u.jsx("span",{children:"Your progress is saved automatically"})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:i,className:`px-10 py-4 bg-gradient-to-r ${o} text-white rounded-xl ${s?"hover:from-purple-700 hover:to-pink-700":"hover:from-blue-700 hover:to-indigo-700"} font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-3`,children:["Start ",m.length>0?m[0].name:"Task 1",u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})})};function ZW(){this.__data__=[],this.size=0}var QW=ZW;function eH(e,t){return e===t||e!==e&&t!==t}var E8=eH,tH=E8;function rH(e,t){for(var r=e.length;r--;)if(tH(e[r][0],t))return r;return-1}var Sy=rH,nH=Sy,iH=Array.prototype,aH=iH.splice;function sH(e){var t=this.__data__,r=nH(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aH.call(t,r,1),--this.size,!0}var oH=sH,lH=Sy;function cH(e){var t=this.__data__,r=lH(t,e);return r<0?void 0:t[r][1]}var uH=cH,dH=Sy;function fH(e){return dH(this.__data__,e)>-1}var hH=fH,pH=Sy;function mH(e,t){var r=this.__data__,n=pH(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gH=mH,vH=QW,yH=oH,bH=uH,xH=hH,wH=gH;function uf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uf.prototype.clear=vH;uf.prototype.delete=yH;uf.prototype.get=bH;uf.prototype.has=xH;uf.prototype.set=wH;var jy=uf,_H=jy;function NH(){this.__data__=new _H,this.size=0}var SH=NH;function jH(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kH=jH;function AH(e){return this.__data__.get(e)}var EH=AH;function OH(e){return this.__data__.has(e)}var PH=OH,CH=typeof na=="object"&&na&&na.Object===Object&&na,O8=CH,TH=O8,LH=typeof self=="object"&&self&&self.Object===Object&&self,IH=TH||LH||Function("return this")(),Io=IH,RH=Io,DH=RH.Symbol,L_=DH,z4=L_,P8=Object.prototype,MH=P8.hasOwnProperty,BH=P8.toString,ch=z4?z4.toStringTag:void 0;function FH(e){var t=MH.call(e,ch),r=e[ch];try{e[ch]=void 0;var n=!0}catch{}var i=BH.call(e);return n&&(t?e[ch]=r:delete e[ch]),i}var $H=FH,UH=Object.prototype,qH=UH.toString;function zH(e){return qH.call(e)}var WH=zH,W4=L_,HH=$H,KH=WH,VH="[object Null]",GH="[object Undefined]",H4=W4?W4.toStringTag:void 0;function YH(e){return e==null?e===void 0?GH:VH:H4&&H4 in Object(e)?HH(e):KH(e)}var ky=YH;function XH(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var C8=XH,JH=ky,ZH=C8,QH="[object AsyncFunction]",eK="[object Function]",tK="[object GeneratorFunction]",rK="[object Proxy]";function nK(e){if(!ZH(e))return!1;var t=JH(e);return t==eK||t==tK||t==QH||t==rK}var T8=nK,iK=Io,aK=iK["__core-js_shared__"],sK=aK,tx=sK,K4=function(){var e=/[^.]+$/.exec(tx&&tx.keys&&tx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oK(e){return!!K4&&K4 in e}var lK=oK,cK=Function.prototype,uK=cK.toString;function dK(e){if(e!=null){try{return uK.call(e)}catch{}try{return e+""}catch{}}return""}var L8=dK,fK=T8,hK=lK,pK=C8,mK=L8,gK=/[\\^$.*+?()[\]{}|]/g,vK=/^\[object .+?Constructor\]$/,yK=Function.prototype,bK=Object.prototype,xK=yK.toString,wK=bK.hasOwnProperty,_K=RegExp("^"+xK.call(wK).replace(gK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NK(e){if(!pK(e)||hK(e))return!1;var t=fK(e)?_K:vK;return t.test(mK(e))}var SK=NK;function jK(e,t){return e==null?void 0:e[t]}var kK=jK,AK=SK,EK=kK;function OK(e,t){var r=EK(e,t);return AK(r)?r:void 0}var df=OK,PK=df,CK=Io,TK=PK(CK,"Map"),I_=TK,LK=df,IK=LK(Object,"create"),Ay=IK,V4=Ay;function RK(){this.__data__=V4?V4(null):{},this.size=0}var DK=RK;function MK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var BK=MK,FK=Ay,$K="__lodash_hash_undefined__",UK=Object.prototype,qK=UK.hasOwnProperty;function zK(e){var t=this.__data__;if(FK){var r=t[e];return r===$K?void 0:r}return qK.call(t,e)?t[e]:void 0}var WK=zK,HK=Ay,KK=Object.prototype,VK=KK.hasOwnProperty;function GK(e){var t=this.__data__;return HK?t[e]!==void 0:VK.call(t,e)}var YK=GK,XK=Ay,JK="__lodash_hash_undefined__";function ZK(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=XK&&t===void 0?JK:t,this}var QK=ZK,eV=DK,tV=BK,rV=WK,nV=YK,iV=QK;function ff(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ff.prototype.clear=eV;ff.prototype.delete=tV;ff.prototype.get=rV;ff.prototype.has=nV;ff.prototype.set=iV;var aV=ff,G4=aV,sV=jy,oV=I_;function lV(){this.size=0,this.__data__={hash:new G4,map:new(oV||sV),string:new G4}}var cV=lV;function uV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dV=uV,fV=dV;function hV(e,t){var r=e.__data__;return fV(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ey=hV,pV=Ey;function mV(e){var t=pV(this,e).delete(e);return this.size-=t?1:0,t}var gV=mV,vV=Ey;function yV(e){return vV(this,e).get(e)}var bV=yV,xV=Ey;function wV(e){return xV(this,e).has(e)}var _V=wV,NV=Ey;function SV(e,t){var r=NV(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var jV=SV,kV=cV,AV=gV,EV=bV,OV=_V,PV=jV;function hf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hf.prototype.clear=kV;hf.prototype.delete=AV;hf.prototype.get=EV;hf.prototype.has=OV;hf.prototype.set=PV;var I8=hf,CV=jy,TV=I_,LV=I8,IV=200;function RV(e,t){var r=this.__data__;if(r instanceof CV){var n=r.__data__;if(!TV||n.length<IV-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new LV(n)}return r.set(e,t),this.size=r.size,this}var DV=RV,MV=jy,BV=SH,FV=kH,$V=EH,UV=PH,qV=DV;function pf(e){var t=this.__data__=new MV(e);this.size=t.size}pf.prototype.clear=BV;pf.prototype.delete=FV;pf.prototype.get=$V;pf.prototype.has=UV;pf.prototype.set=qV;var zV=pf,WV="__lodash_hash_undefined__";function HV(e){return this.__data__.set(e,WV),this}var KV=HV;function VV(e){return this.__data__.has(e)}var GV=VV,YV=I8,XV=KV,JV=GV;function sv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new YV;++t<r;)this.add(e[t])}sv.prototype.add=sv.prototype.push=XV;sv.prototype.has=JV;var ZV=sv;function QV(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var eG=QV;function tG(e,t){return e.has(t)}var rG=tG,nG=ZV,iG=eG,aG=rG,sG=1,oG=2;function lG(e,t,r,n,i,a){var s=r&sG,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var f=-1,p=!0,h=r&oG?new nG:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var m=e[f],g=t[f];if(n)var y=s?n(g,m,f,t,e,a):n(m,g,f,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!iG(t,function(v,b){if(!aG(h,b)&&(m===v||i(m,v,r,n,a)))return h.push(b)})){p=!1;break}}else if(!(m===g||i(m,g,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var R8=lG,cG=Io,uG=cG.Uint8Array,dG=uG;function fG(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var hG=fG;function pG(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var mG=pG,Y4=L_,X4=dG,gG=E8,vG=R8,yG=hG,bG=mG,xG=1,wG=2,_G="[object Boolean]",NG="[object Date]",SG="[object Error]",jG="[object Map]",kG="[object Number]",AG="[object RegExp]",EG="[object Set]",OG="[object String]",PG="[object Symbol]",CG="[object ArrayBuffer]",TG="[object DataView]",J4=Y4?Y4.prototype:void 0,rx=J4?J4.valueOf:void 0;function LG(e,t,r,n,i,a,s){switch(r){case TG:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case CG:return!(e.byteLength!=t.byteLength||!a(new X4(e),new X4(t)));case _G:case NG:case kG:return gG(+e,+t);case SG:return e.name==t.name&&e.message==t.message;case AG:case OG:return e==t+"";case jG:var o=yG;case EG:var l=n&xG;if(o||(o=bG),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=wG,s.set(e,t);var d=vG(o(e),o(t),n,i,a,s);return s.delete(e),d;case PG:if(rx)return rx.call(e)==rx.call(t)}return!1}var IG=LG;function RG(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var DG=RG,MG=Array.isArray,R_=MG,BG=DG,FG=R_;function $G(e,t,r){var n=t(e);return FG(e)?n:BG(n,r(e))}var UG=$G;function qG(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var zG=qG;function WG(){return[]}var HG=WG,KG=zG,VG=HG,GG=Object.prototype,YG=GG.propertyIsEnumerable,Z4=Object.getOwnPropertySymbols,XG=Z4?function(e){return e==null?[]:(e=Object(e),KG(Z4(e),function(t){return YG.call(e,t)}))}:VG,JG=XG;function ZG(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var QG=ZG;function eY(e){return e!=null&&typeof e=="object"}var Oy=eY,tY=ky,rY=Oy,nY="[object Arguments]";function iY(e){return rY(e)&&tY(e)==nY}var aY=iY,Q4=aY,sY=Oy,D8=Object.prototype,oY=D8.hasOwnProperty,lY=D8.propertyIsEnumerable,cY=Q4(function(){return arguments}())?Q4:function(e){return sY(e)&&oY.call(e,"callee")&&!lY.call(e,"callee")},uY=cY,ov={exports:{}};function dY(){return!1}var fY=dY;ov.exports;(function(e,t){var r=Io,n=fY,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(ov,ov.exports);var M8=ov.exports,hY=9007199254740991,pY=/^(?:0|[1-9]\d*)$/;function mY(e,t){var r=typeof e;return t=t??hY,!!t&&(r=="number"||r!="symbol"&&pY.test(e))&&e>-1&&e%1==0&&e<t}var gY=mY,vY=9007199254740991;function yY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vY}var B8=yY,bY=ky,xY=B8,wY=Oy,_Y="[object Arguments]",NY="[object Array]",SY="[object Boolean]",jY="[object Date]",kY="[object Error]",AY="[object Function]",EY="[object Map]",OY="[object Number]",PY="[object Object]",CY="[object RegExp]",TY="[object Set]",LY="[object String]",IY="[object WeakMap]",RY="[object ArrayBuffer]",DY="[object DataView]",MY="[object Float32Array]",BY="[object Float64Array]",FY="[object Int8Array]",$Y="[object Int16Array]",UY="[object Int32Array]",qY="[object Uint8Array]",zY="[object Uint8ClampedArray]",WY="[object Uint16Array]",HY="[object Uint32Array]",dr={};dr[MY]=dr[BY]=dr[FY]=dr[$Y]=dr[UY]=dr[qY]=dr[zY]=dr[WY]=dr[HY]=!0;dr[_Y]=dr[NY]=dr[RY]=dr[SY]=dr[DY]=dr[jY]=dr[kY]=dr[AY]=dr[EY]=dr[OY]=dr[PY]=dr[CY]=dr[TY]=dr[LY]=dr[IY]=!1;function KY(e){return wY(e)&&xY(e.length)&&!!dr[bY(e)]}var VY=KY;function GY(e){return function(t){return e(t)}}var YY=GY,lv={exports:{}};lv.exports;(function(e,t){var r=O8,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(lv,lv.exports);var XY=lv.exports,JY=VY,ZY=YY,ek=XY,tk=ek&&ek.isTypedArray,QY=tk?ZY(tk):JY,F8=QY,eX=QG,tX=uY,rX=R_,nX=M8,iX=gY,aX=F8,sX=Object.prototype,oX=sX.hasOwnProperty;function lX(e,t){var r=rX(e),n=!r&&tX(e),i=!r&&!n&&nX(e),a=!r&&!n&&!i&&aX(e),s=r||n||i||a,o=s?eX(e.length,String):[],l=o.length;for(var c in e)(t||oX.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||iX(c,l)))&&o.push(c);return o}var cX=lX,uX=Object.prototype;function dX(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||uX;return e===r}var fX=dX;function hX(e,t){return function(r){return e(t(r))}}var pX=hX,mX=pX,gX=mX(Object.keys,Object),vX=gX,yX=fX,bX=vX,xX=Object.prototype,wX=xX.hasOwnProperty;function _X(e){if(!yX(e))return bX(e);var t=[];for(var r in Object(e))wX.call(e,r)&&r!="constructor"&&t.push(r);return t}var NX=_X,SX=T8,jX=B8;function kX(e){return e!=null&&jX(e.length)&&!SX(e)}var AX=kX,EX=cX,OX=NX,PX=AX;function CX(e){return PX(e)?EX(e):OX(e)}var TX=CX,LX=UG,IX=JG,RX=TX;function DX(e){return LX(e,RX,IX)}var MX=DX,rk=MX,BX=1,FX=Object.prototype,$X=FX.hasOwnProperty;function UX(e,t,r,n,i,a){var s=r&BX,o=rk(e),l=o.length,c=rk(t),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in t:$X.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var y=s;++f<l;){p=o[f];var v=e[p],b=t[p];if(n)var w=s?n(b,v,p,t,e,a):n(v,b,p,e,t,a);if(!(w===void 0?v===b||i(v,b,r,n,a):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var x=e.constructor,N=t.constructor;x!=N&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof N=="function"&&N instanceof N)&&(g=!1)}return a.delete(e),a.delete(t),g}var qX=UX,zX=df,WX=Io,HX=zX(WX,"DataView"),KX=HX,VX=df,GX=Io,YX=VX(GX,"Promise"),XX=YX,JX=df,ZX=Io,QX=JX(ZX,"Set"),eJ=QX,tJ=df,rJ=Io,nJ=tJ(rJ,"WeakMap"),iJ=nJ,cw=KX,uw=I_,dw=XX,fw=eJ,hw=iJ,$8=ky,mf=L8,nk="[object Map]",aJ="[object Object]",ik="[object Promise]",ak="[object Set]",sk="[object WeakMap]",ok="[object DataView]",sJ=mf(cw),oJ=mf(uw),lJ=mf(dw),cJ=mf(fw),uJ=mf(hw),Pc=$8;(cw&&Pc(new cw(new ArrayBuffer(1)))!=ok||uw&&Pc(new uw)!=nk||dw&&Pc(dw.resolve())!=ik||fw&&Pc(new fw)!=ak||hw&&Pc(new hw)!=sk)&&(Pc=function(e){var t=$8(e),r=t==aJ?e.constructor:void 0,n=r?mf(r):"";if(n)switch(n){case sJ:return ok;case oJ:return nk;case lJ:return ik;case cJ:return ak;case uJ:return sk}return t});var dJ=Pc,nx=zV,fJ=R8,hJ=IG,pJ=qX,lk=dJ,ck=R_,uk=M8,mJ=F8,gJ=1,dk="[object Arguments]",fk="[object Array]",j0="[object Object]",vJ=Object.prototype,hk=vJ.hasOwnProperty;function yJ(e,t,r,n,i,a){var s=ck(e),o=ck(t),l=s?fk:lk(e),c=o?fk:lk(t);l=l==dk?j0:l,c=c==dk?j0:c;var d=l==j0,f=c==j0,p=l==c;if(p&&uk(e)){if(!uk(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new nx),s||mJ(e)?fJ(e,t,r,n,i,a):hJ(e,t,l,r,n,i,a);if(!(r&gJ)){var h=d&&hk.call(e,"__wrapped__"),m=f&&hk.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,y=m?t.value():t;return a||(a=new nx),i(g,y,r,n,a)}}return p?(a||(a=new nx),pJ(e,t,r,n,i,a)):!1}var bJ=yJ,xJ=bJ,pk=Oy;function U8(e,t,r,n,i){return e===t?!0:e==null||t==null||!pk(e)&&!pk(t)?e!==e&&t!==t:xJ(e,t,r,n,U8,i)}var wJ=U8,_J=wJ;function NJ(e,t){return _J(e,t)}var SJ=NJ,q8={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:na,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),s=i(18),o=i(19),l=i(45),c=i(46),d=i(47),f=i(48),p=i(49),h=i(12),m=i(32),g=i(33),y=i(31),v=i(1),b={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:a.default,Format:s.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:d.default,Inline:c.default,Text:p.default,Attributor:{Attribute:h.default,Class:m.default,Style:g.default,Store:y.default}};n.default=b},function(r,n,i){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var w in b)b.hasOwnProperty(w)&&(v[w]=b[w])};return function(v,b){y(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(y){a(v,y);function v(b){var w=this;return b="[Parchment] "+b,w=y.call(this,b)||this,w.message=b,w.name=w.constructor.name,w}return v}(Error);n.ParchmentError=s;var o={},l={},c={},d={};n.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function p(y,v){var b=m(y);if(b==null)throw new s("Unable to create "+y+" blot");var w=b,x=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(v);return new w(x,v)}n.create=p;function h(y,v){return v===void 0&&(v=!1),y==null?null:y[n.DATA_KEY]!=null?y[n.DATA_KEY].blot:v?h(y.parentNode,v):null}n.find=h;function m(y,v){v===void 0&&(v=f.ANY);var b;if(typeof y=="string")b=d[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)b=d.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?b=d.block:y&f.LEVEL&f.INLINE&&(b=d.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var x in w)if(b=l[w[x]],b)break;b=b||c[y.tagName]}return b==null?null:v&f.LEVEL&b.scope&&v&f.TYPE&b.scope?b:null}n.query=m;function g(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(x){return g(x)});var b=y[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new s("Invalid definition");if(b.blotName==="abstract")throw new s("Cannot register abstract class");if(d[b.blotName||b.attrName]=b,typeof b.keyName=="string")o[b.keyName]=b;else if(b.className!=null&&(l[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(x){return x.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var w=Array.isArray(b.tagName)?b.tagName:[b.tagName];w.forEach(function(x){(c[x]==null||b.className==null)&&(c[x]=b)})}return b}n.register=g},function(r,n,i){var a=i(51),s=i(11),o=i(3),l=i(20),c="\0",d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,p){var h={};return f.length===0?this:(h.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(h.attributes=p),this.push(h))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,p){if(f<=0)return this;var h={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(h.attributes=p),this.push(h)},d.prototype.push=function(f){var p=this.ops.length,h=this.ops[p-1];if(f=o(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[p-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(p-=1,h=this.ops[p-1],typeof h!="object"))return this.ops.unshift(f),this;if(s(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[p-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[p-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var p=[],h=[];return this.forEach(function(m){var g=f(m)?p:h;g.push(m)}),[p,h]},d.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},d.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},d.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var h=[],m=l.iterator(this.ops),g=0;g<p&&m.hasNext();){var y;g<f?y=m.next(f-g):(y=m.next(p-g),h.push(y)),g+=l.length(y)}return new d(h)},d.prototype.compose=function(f){var p=l.iterator(this.ops),h=l.iterator(f.ops),m=[],g=h.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;p.peekType()==="insert"&&p.peekLength()<=y;)y-=p.peekLength(),m.push(p.next());g.retain-y>0&&h.next(g.retain-y)}for(var v=new d(m);p.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(p.peekType()==="delete")v.push(p.next());else{var b=Math.min(p.peekLength(),h.peekLength()),w=p.next(b),x=h.next(b);if(typeof x.retain=="number"){var N={};typeof w.retain=="number"?N.retain=b:N.insert=w.insert;var O=l.attributes.compose(w.attributes,x.attributes,typeof w.retain=="number");if(O&&(N.attributes=O),v.push(N),!h.hasNext()&&s(v.ops[v.ops.length-1],N)){var j=new d(p.rest());return v.concat(j).chop()}}else typeof x.delete=="number"&&typeof w.retain=="number"&&v.push(x)}return v.chop()},d.prototype.concat=function(f){var p=new d(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},d.prototype.diff=function(f,p){if(this.ops===f.ops)return new d;var h=[this,f].map(function(b){return b.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var x=b===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),m=new d,g=a(h[0],h[1],p),y=l.iterator(this.ops),v=l.iterator(f.ops);return g.forEach(function(b){for(var w=b[1].length;w>0;){var x=0;switch(b[0]){case a.INSERT:x=Math.min(v.peekLength(),w),m.push(v.next(x));break;case a.DELETE:x=Math.min(w,y.peekLength()),y.next(x),m.delete(x);break;case a.EQUAL:x=Math.min(y.peekLength(),v.peekLength(),w);var N=y.next(x),O=v.next(x);s(N.insert,O.insert)?m.retain(x,l.attributes.diff(N.attributes,O.attributes)):m.push(O).delete(x);break}w-=x}}),m.chop()},d.prototype.eachLine=function(f,p){p=p||`
`;for(var h=l.iterator(this.ops),m=new d,g=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),v=l.length(y)-h.peekLength(),b=typeof y.insert=="string"?y.insert.indexOf(p,v)-v:-1;if(b<0)m.push(h.next());else if(b>0)m.push(h.next(b));else{if(f(m,h.next(1).attributes||{},g)===!1)return;g+=1,m=new d}}m.length()>0&&f(m,{},g)},d.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var h=l.iterator(this.ops),m=l.iterator(f.ops),g=new d;h.hasNext()||m.hasNext();)if(h.peekType()==="insert"&&(p||m.peekType()!=="insert"))g.retain(l.length(h.next()));else if(m.peekType()==="insert")g.push(m.next());else{var y=Math.min(h.peekLength(),m.peekLength()),v=h.next(y),b=m.next(y);if(v.delete)continue;b.delete?g.push(b):g.retain(y,l.attributes.transform(v.attributes,b.attributes,p))}return g.chop()},d.prototype.transformPosition=function(f,p){p=!!p;for(var h=l.iterator(this.ops),m=0;h.hasNext()&&m<=f;){var g=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){f-=Math.min(g,f-m);continue}else y==="insert"&&(m<f||!p)&&(f+=g);m+=g}return f},r.exports=d},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},c=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var m=i.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!g)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},d=function(h,m){s&&m.name==="__proto__"?s(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},f=function(h,m){if(m==="__proto__")if(i.call(h,m)){if(o)return o(h,m).value}else return;return h[m]};r.exports=function p(){var h,m,g,y,v,b,w=arguments[0],x=1,N=arguments.length,O=!1;for(typeof w=="boolean"&&(O=w,w=arguments[1]||{},x=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});x<N;++x)if(h=arguments[x],h!=null)for(m in h)g=f(w,m),y=f(h,m),w!==y&&(O&&y&&(c(y)||(v=l(y)))?(v?(v=!1,b=g&&l(g)?g:[]):b=g&&c(g)?g:{},d(w,{name:m,newValue:p(O,b,y)})):typeof y<"u"&&d(w,{name:m,newValue:y}));return w}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function k(E,I){for(var M=0;M<I.length;M++){var U=I[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}return function(E,I,M){return I&&k(E.prototype,I),M&&k(E,M),E}}(),s=function k(E,I,M){E===null&&(E=Function.prototype);var U=Object.getOwnPropertyDescriptor(E,I);if(U===void 0){var Z=Object.getPrototypeOf(E);return Z===null?void 0:k(Z,I,M)}else{if("value"in U)return U.value;var Q=U.get;return Q===void 0?void 0:Q.call(M)}},o=i(3),l=w(o),c=i(2),d=w(c),f=i(0),p=w(f),h=i(16),m=w(h),g=i(6),y=w(g),v=i(7),b=w(v);function w(k){return k&&k.__esModule?k:{default:k}}function x(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function N(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function O(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var j=1,A=function(k){O(E,k);function E(){return x(this,E),N(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"attach",value:function(){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,U){var Z=p.default.query(M,p.default.Scope.BLOCK_ATTRIBUTE);Z!=null&&this.attributes.attribute(Z,U)}},{key:"formatAt",value:function(M,U,Z,Q){this.format(Z,Q)}},{key:"insertAt",value:function(M,U,Z){if(typeof U=="string"&&U.endsWith(`
`)){var Q=p.default.create(P.blotName);this.parent.insertBefore(Q,M===0?this:this.next),Q.insertAt(0,U.slice(0,-1))}else s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,M,U,Z)}}]),E}(p.default.Embed);A.scope=p.default.Scope.BLOCK_BLOT;var P=function(k){O(E,k);function E(I){x(this,E);var M=N(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return M.cache={},M}return a(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(M,U){return U.length()===0?M:M.insert(U.value(),C(U))},new d.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(M,U){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,M,U),this.cache={}}},{key:"formatAt",value:function(M,U,Z,Q){U<=0||(p.default.query(Z,p.default.Scope.BLOCK)?M+U===this.length()&&this.format(Z,Q):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,M,Math.min(U,this.length()-M-1),Z,Q),this.cache={})}},{key:"insertAt",value:function(M,U,Z){if(Z!=null)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,M,U,Z);if(U.length!==0){var Q=U.split(`
`),K=Q.shift();K.length>0&&(M<this.length()-1||this.children.tail==null?s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),K):this.children.tail.insertAt(this.children.tail.length(),K),this.cache={});var W=this;Q.reduce(function(V,$){return W=W.split(V,!0),W.insertAt(0,$),$.length},M+K.length)}}},{key:"insertBefore",value:function(M,U){var Z=this.children.head;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,M,U),Z instanceof m.default&&Z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(M,U){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,M,U),this.cache={}}},{key:"optimize",value:function(M){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(M===0||M>=this.length()-j)){var Z=this.clone();return M===0?(this.parent.insertBefore(Z,this),this):(this.parent.insertBefore(Z,this.next),Z)}else{var Q=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,M,U);return this.cache={},Q}}}]),E}(p.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[y.default,p.default.Embed,b.default];function C(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(E=(0,l.default)(E,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?E:C(k.parent,E)}n.bubbleFormats=C,n.BlockEmbed=A,n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(V,$){var R=[],B=!0,q=!1,H=void 0;try{for(var z=V[Symbol.iterator](),J;!(B=(J=z.next()).done)&&(R.push(J.value),!($&&R.length===$));B=!0);}catch(ae){q=!0,H=ae}finally{try{!B&&z.return&&z.return()}finally{if(q)throw H}}return R}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function W(V,$){for(var R=0;R<$.length;R++){var B=$[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,$,R){return $&&W(V.prototype,$),R&&W(V,R),V}}();i(50);var l=i(2),c=C(l),d=i(14),f=C(d),p=i(8),h=C(p),m=i(9),g=C(m),y=i(0),v=C(y),b=i(15),w=C(b),x=i(3),N=C(x),O=i(10),j=C(O),A=i(34),P=C(A);function C(W){return W&&W.__esModule?W:{default:W}}function k(W,V,$){return V in W?Object.defineProperty(W,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):W[V]=$,W}function E(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}var I=(0,j.default)("quill"),M=function(){o(W,null,[{key:"debug",value:function($){$===!0&&($="log"),j.default.level($)}},{key:"find",value:function($){return $.__quill||v.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&I.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,R){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var H=$.attrName||$.blotName;typeof H=="string"?this.register("formats/"+H,$,R):Object.keys($).forEach(function(z){B.register(z,$[z],R)})}else this.imports[$]!=null&&!q&&I.warn("Overwriting "+$+" with",R),this.imports[$]=R,($.startsWith("blots/")||$.startsWith("formats/"))&&R.blotName!=="abstract"?v.default.register(R):$.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function W(V){var $=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,W),this.options=U(V,R),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",V);this.options.debug&&W.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(H){H===h.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(H,z){var J=$.selection.lastRange,ae=J&&J.length===0?J.index:void 0;Z.call($,function(){return $.editor.update(null,z,ae)},H)});var q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(W,[{key:"addContainer",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var B=$;$=document.createElement("div"),$.classList.add(B)}return this.container.insertBefore($,R),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,R,B){var q=this,H=Q($,R,B),z=s(H,4);return $=z[0],R=z[1],B=z[3],Z.call(this,function(){return q.editor.deleteText($,R)},B,$,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,R){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return Z.call(this,function(){var H=B.getSelection(!0),z=new c.default;if(H==null)return z;if(v.default.query($,v.default.Scope.BLOCK))z=B.editor.formatLine(H.index,H.length,k({},$,R));else{if(H.length===0)return B.selection.format($,R),z;z=B.editor.formatText(H.index,H.length,k({},$,R))}return B.setSelection(H,h.default.sources.SILENT),z},q)}},{key:"formatLine",value:function($,R,B,q,H){var z=this,J=void 0,ae=Q($,R,B,q,H),X=s(ae,4);return $=X[0],R=X[1],J=X[2],H=X[3],Z.call(this,function(){return z.editor.formatLine($,R,J)},H,$,0)}},{key:"formatText",value:function($,R,B,q,H){var z=this,J=void 0,ae=Q($,R,B,q,H),X=s(ae,4);return $=X[0],R=X[1],J=X[2],H=X[3],Z.call(this,function(){return z.editor.formatText($,R,J)},H,$,0)}},{key:"getBounds",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof $=="number"?B=this.selection.getBounds($,R):B=this.selection.getBounds($.index,$.length);var q=this.container.getBoundingClientRect();return{bottom:B.bottom-q.top,height:B.height,left:B.left-q.left,right:B.right-q.left,top:B.top-q.top,width:B.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,B=Q($,R),q=s(B,2);return $=q[0],R=q[1],this.editor.getContents($,R)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,R):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,R)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,B=Q($,R),q=s(B,2);return $=q[0],R=q[1],this.editor.getText($,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,R,B){var q=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return Z.call(this,function(){return q.editor.insertEmbed($,R,B)},H,$)}},{key:"insertText",value:function($,R,B,q,H){var z=this,J=void 0,ae=Q($,0,B,q,H),X=s(ae,4);return $=X[0],J=X[2],H=X[3],Z.call(this,function(){return z.editor.insertText($,R,J)},H,$,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,R,B){this.clipboard.dangerouslyPasteHTML($,R,B)}},{key:"removeFormat",value:function($,R,B){var q=this,H=Q($,R,B),z=s(H,4);return $=z[0],R=z[1],B=z[3],Z.call(this,function(){return q.editor.removeFormat($,R)},B,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var R=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return Z.call(this,function(){$=new c.default($);var q=R.getLength(),H=R.editor.deleteText(0,q),z=R.editor.applyDelta($),J=z.ops[z.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),z.delete(1));var ae=H.compose(z);return ae},B)}},{key:"setSelection",value:function($,R,B){if($==null)this.selection.setRange(null,R||W.sources.API);else{var q=Q($,R,B),H=s(q,4);$=H[0],R=H[1],B=H[3],this.selection.setRange(new b.Range($,R),B),B!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,B=new c.default().insert($);return this.setContents(B,R)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,R=this.scroll.update($);return this.selection.update($),R}},{key:"updateContents",value:function($){var R=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return Z.call(this,function(){return $=new c.default($),R.editor.applyDelta($,B)},B,!0)}}]),W}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=h.default.events,M.sources=h.default.sources,M.version="1.3.7",M.imports={delta:c.default,parchment:v.default,"core/module":g.default,"core/theme":P.default};function U(W,V){if(V=(0,N.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},V),!V.theme||V.theme===M.DEFAULTS.theme)V.theme=P.default;else if(V.theme=M.import("themes/"+V.theme),V.theme==null)throw new Error("Invalid theme "+V.theme+". Did you register it?");var $=(0,N.default)(!0,{},V.theme.DEFAULTS);[$,V].forEach(function(q){q.modules=q.modules||{},Object.keys(q.modules).forEach(function(H){q.modules[H]===!0&&(q.modules[H]={})})});var R=Object.keys($.modules).concat(Object.keys(V.modules)),B=R.reduce(function(q,H){var z=M.import("modules/"+H);return z==null?I.error("Cannot load "+H+" module. Are you sure you registered it?"):q[H]=z.DEFAULTS||{},q},{});return V.modules!=null&&V.modules.toolbar&&V.modules.toolbar.constructor!==Object&&(V.modules.toolbar={container:V.modules.toolbar}),V=(0,N.default)(!0,{},M.DEFAULTS,{modules:B},$,V),["bounds","container","scrollingContainer"].forEach(function(q){typeof V[q]=="string"&&(V[q]=document.querySelector(V[q]))}),V.modules=Object.keys(V.modules).reduce(function(q,H){return V.modules[H]&&(q[H]=V.modules[H]),q},{}),V}function Z(W,V,$,R){if(this.options.strict&&!this.isEnabled()&&V===h.default.sources.USER)return new c.default;var B=$==null?null:this.getSelection(),q=this.editor.delta,H=W();if(B!=null&&($===!0&&($=B.index),R==null?B=K(B,H,V):R!==0&&(B=K(B,$,R,V)),this.setSelection(B,h.default.sources.SILENT)),H.length()>0){var z,J=[h.default.events.TEXT_CHANGE,H,q,V];if((z=this.emitter).emit.apply(z,[h.default.events.EDITOR_CHANGE].concat(J)),V!==h.default.sources.SILENT){var ae;(ae=this.emitter).emit.apply(ae,J)}}return H}function Q(W,V,$,R,B){var q={};return typeof W.index=="number"&&typeof W.length=="number"?typeof V!="number"?(B=R,R=$,$=V,V=W.length,W=W.index):(V=W.length,W=W.index):typeof V!="number"&&(B=R,R=$,$=V,V=0),(typeof $>"u"?"undefined":a($))==="object"?(q=$,B=R):typeof $=="string"&&(R!=null?q[$]=R:B=$),B=B||h.default.sources.API,[W,V,q,B]}function K(W,V,$,R){if(W==null)return null;var B=void 0,q=void 0;if(V instanceof c.default){var H=[W.index,W.index+W.length].map(function(X){return V.transformPosition(X,R!==h.default.sources.USER)}),z=s(H,2);B=z[0],q=z[1]}else{var J=[W.index,W.index+W.length].map(function(X){return X<V||X===V&&R===h.default.sources.USER?X:$>=0?X+$:Math.max(V,X+$)}),ae=s(J,2);B=ae[0],q=ae[1]}return new b.Range(B,q-B)}n.expandConfig=U,n.overload=Q,n.default=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(7),l=f(o),c=i(0),d=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var g=function(y){m(v,y);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"formatAt",value:function(w,x,N,O){if(v.compare(this.statics.blotName,N)<0&&d.default.query(N,d.default.Scope.BLOT)){var j=this.isolate(w,x);O&&j.wrap(N,O)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,w,x,N,O)}},{key:"optimize",value:function(w){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,w),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(w,x){var N=v.order.indexOf(w),O=v.order.indexOf(x);return N>=0||O>=0?N-O:w===x?0:w<x?-1:1}}]),v}(d.default.Inline);g.allowedChildren=[g,d.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(w,x){for(var N=0;N<x.length;N++){var O=x[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,x,N){return x&&b(w.prototype,x),N&&b(w,N),w}}(),s=function b(w,x,N){w===null&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,x);if(O===void 0){var j=Object.getPrototypeOf(w);return j===null?void 0:b(j,x,N)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(N)}},o=i(54),l=f(o),c=i(10),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function h(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=(0,d.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(b){document.addEventListener(b,function(){for(var w=arguments.length,x=Array(w),N=0;N<w;N++)x[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var j;(j=O.__quill.emitter).handleDOM.apply(j,x)}})})});var v=function(b){m(w,b);function w(){p(this,w);var x=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return x.listeners={},x.on("error",g.error),x}return a(w,[{key:"emit",value:function(){g.log.apply(g,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var O=arguments.length,j=Array(O>1?O-1:0),A=1;A<O;A++)j[A-1]=arguments[A];(this.listeners[N.type]||[]).forEach(function(P){var C=P.node,k=P.handler;(N.target===C||C.contains(N.target))&&k.apply(void 0,[N].concat(j))})}},{key:"listenDOM",value:function(N,O,j){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:O,handler:j})}}]),w}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,o),this.quill=l,this.options=c};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function o(c){if(a.indexOf(c)<=a.indexOf(s)){for(var d,f=arguments.length,p=Array(f>1?f-1:0),h=1;h<f;h++)p[h-1]=arguments[h];(d=console)[c].apply(d,p)}}function l(c){return a.reduce(function(d,f){return d[f]=o.bind(console,f,c),d},{})}o.level=l.level=function(c){s=c},n.default=l},function(r,n,i){var a=Array.prototype.slice,s=i(52),o=i(53),l=r.exports=function(p,h,m){return m||(m={}),p===h?!0:p instanceof Date&&h instanceof Date?p.getTime()===h.getTime():!p||!h||typeof p!="object"&&typeof h!="object"?m.strict?p===h:p==h:f(p,h,m)};function c(p){return p==null}function d(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,h,m){var g,y;if(c(p)||c(h)||p.prototype!==h.prototype)return!1;if(o(p))return o(h)?(p=a.call(p),h=a.call(h),l(p,h,m)):!1;if(d(p)){if(!d(h)||p.length!==h.length)return!1;for(g=0;g<p.length;g++)if(p[g]!==h[g])return!1;return!0}try{var v=s(p),b=s(h)}catch{return!1}if(v.length!=b.length)return!1;for(v.sort(),b.sort(),g=v.length-1;g>=0;g--)if(v[g]!=b[g])return!1;for(g=v.length-1;g>=0;g--)if(y=v[g],!l(p[y],h[y],m))return!1;return typeof p==typeof h}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function o(l,c,d){d===void 0&&(d={}),this.attrName=l,this.keyName=c;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var d=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function A(P,C){var k=[],E=!0,I=!1,M=void 0;try{for(var U=P[Symbol.iterator](),Z;!(E=(Z=U.next()).done)&&(k.push(Z.value),!(C&&k.length===C));E=!0);}catch(Q){I=!0,M=Q}finally{try{!E&&U.return&&U.return()}finally{if(I)throw M}}return k}return function(P,C){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(P,C){for(var k=0;k<C.length;k++){var E=C[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,C,k){return C&&A(P.prototype,C),k&&A(P,k),P}}(),o=function A(P,C,k){P===null&&(P=Function.prototype);var E=Object.getOwnPropertyDescriptor(P,C);if(E===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:A(I,C,k)}else{if("value"in E)return E.value;var M=E.get;return M===void 0?void 0:M.call(k)}},l=i(2),c=b(l),d=i(0),f=b(d),p=i(4),h=b(p),m=i(6),g=b(m),y=i(7),v=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function w(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function x(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function N(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var O=function(A){N(P,A);function P(){return w(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(g.default);O.blotName="code",O.tagName="CODE";var j=function(A){N(P,A);function P(){return w(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var k=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(I,M){return I.insert(M).insert(`
`,k.formats())},new c.default)}},{key:"format",value:function(k,E){if(!(k===this.statics.blotName&&E)){var I=this.descendant(v.default,this.length()-1),M=a(I,1),U=M[0];U!=null&&U.deleteAt(U.length()-1,1),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,k,E)}}},{key:"formatAt",value:function(k,E,I,M){if(E!==0&&!(f.default.query(I,f.default.Scope.BLOCK)==null||I===this.statics.blotName&&M===this.statics.formats(this.domNode))){var U=this.newlineIndex(k);if(!(U<0||U>=k+E)){var Z=this.newlineIndex(k,!0)+1,Q=U-Z+1,K=this.isolate(Z,Q),W=K.next;K.format(I,M),W instanceof P&&W.formatAt(0,k-Z+E-Q,I,M)}}}},{key:"insertAt",value:function(k,E,I){if(I==null){var M=this.descendant(v.default,k),U=a(M,2),Z=U[0],Q=U[1];Z.insertAt(Q,E)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var I=this.domNode.textContent.slice(k).indexOf(`
`);return I>-1?k+I:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,k);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(k),E.moveChildren(this),E.remove())}},{key:"replace",value:function(k){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var I=f.default.find(E);I==null?E.parentNode.removeChild(E):I instanceof f.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(k){var E=o(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,k);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),P}(h.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",n.Code=O,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(V,$){var R=[],B=!0,q=!1,H=void 0;try{for(var z=V[Symbol.iterator](),J;!(B=(J=z.next()).done)&&(R.push(J.value),!($&&R.length===$));B=!0);}catch(ae){q=!0,H=ae}finally{try{!B&&z.return&&z.return()}finally{if(q)throw H}}return R}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function W(V,$){for(var R=0;R<$.length;R++){var B=$[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,$,R){return $&&W(V.prototype,$),R&&W(V,R),V}}(),l=i(2),c=E(l),d=i(20),f=E(d),p=i(0),h=E(p),m=i(13),g=E(m),y=i(24),v=E(y),b=i(4),w=E(b),x=i(16),N=E(x),O=i(21),j=E(O),A=i(11),P=E(A),C=i(3),k=E(C);function E(W){return W&&W.__esModule?W:{default:W}}function I(W,V,$){return V in W?Object.defineProperty(W,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):W[V]=$,W}function M(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,Z=function(){function W(V){M(this,W),this.scroll=V,this.delta=this.getDelta()}return o(W,[{key:"applyDelta",value:function($){var R=this,B=!1;this.scroll.update();var q=this.scroll.length();return this.scroll.batchStart(),$=K($),$.reduce(function(H,z){var J=z.retain||z.delete||z.insert.length||1,ae=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var X=z.insert;X.endsWith(`
`)&&B&&(B=!1,X=X.slice(0,-1)),H>=q&&!X.endsWith(`
`)&&(B=!0),R.scroll.insertAt(H,X);var le=R.scroll.line(H),ge=s(le,2),de=ge[0],ke=ge[1],ve=(0,k.default)({},(0,b.bubbleFormats)(de));if(de instanceof w.default){var ie=de.descendant(h.default.Leaf,ke),We=s(ie,1),Be=We[0];ve=(0,k.default)(ve,(0,b.bubbleFormats)(Be))}ae=f.default.attributes.diff(ve,ae)||{}}else if(a(z.insert)==="object"){var xe=Object.keys(z.insert)[0];if(xe==null)return H;R.scroll.insertAt(H,xe,z.insert[xe])}q+=J}return Object.keys(ae).forEach(function(fe){R.scroll.formatAt(H,J,fe,ae[fe])}),H+J},0),$.reduce(function(H,z){return typeof z.delete=="number"?(R.scroll.deleteAt(H,z.delete),H):H+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,R){return this.scroll.deleteAt($,R),this.update(new c.default().retain($).delete(R))}},{key:"formatLine",value:function($,R){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(q).forEach(function(H){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[H])){var z=B.scroll.lines($,Math.max(R,1)),J=R;z.forEach(function(ae){var X=ae.length();if(!(ae instanceof g.default))ae.format(H,q[H]);else{var le=$-ae.offset(B.scroll),ge=ae.newlineIndex(le+J)-le+1;ae.formatAt(le,ge,H,q[H])}J-=X})}}),this.scroll.optimize(),this.update(new c.default().retain($).retain(R,(0,j.default)(q)))}},{key:"formatText",value:function($,R){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(q).forEach(function(H){B.scroll.formatAt($,R,H,q[H])}),this.update(new c.default().retain($).retain(R,(0,j.default)(q)))}},{key:"getContents",value:function($,R){return this.delta.slice($,$+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,R){return $.concat(R.delta())},new c.default)}},{key:"getFormat",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],q=[];R===0?this.scroll.path($).forEach(function(z){var J=s(z,1),ae=J[0];ae instanceof w.default?B.push(ae):ae instanceof h.default.Leaf&&q.push(ae)}):(B=this.scroll.lines($,R),q=this.scroll.descendants(h.default.Leaf,$,R));var H=[B,q].map(function(z){if(z.length===0)return{};for(var J=(0,b.bubbleFormats)(z.shift());Object.keys(J).length>0;){var ae=z.shift();if(ae==null)return J;J=Q((0,b.bubbleFormats)(ae),J)}return J});return k.default.apply(k.default,H)}},{key:"getText",value:function($,R){return this.getContents($,R).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function($,R,B){return this.scroll.insertAt($,R,B),this.update(new c.default().retain($).insert(I({},R,B)))}},{key:"insertText",value:function($,R){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,R),Object.keys(q).forEach(function(H){B.scroll.formatAt($,R.length,H,q[H])}),this.update(new c.default().retain($).insert(R,(0,j.default)(q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==w.default.blotName||$.children.length>1?!1:$.children.head instanceof N.default}},{key:"removeFormat",value:function($,R){var B=this.getText($,R),q=this.scroll.line($+R),H=s(q,2),z=H[0],J=H[1],ae=0,X=new c.default;z!=null&&(z instanceof g.default?ae=z.newlineIndex(J)-J+1:ae=z.length()-J,X=z.delta().slice(J,J+ae-1).insert(`
`));var le=this.getContents($,R+ae),ge=le.diff(new c.default().insert(B).concat(X)),de=new c.default().retain($).concat(ge);return this.applyDelta(de)}},{key:"update",value:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,q=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(U)&&h.default.find(R[0].target)){var H=h.default.find(R[0].target),z=(0,b.bubbleFormats)(H),J=H.offset(this.scroll),ae=R[0].oldValue.replace(v.default.CONTENTS,""),X=new c.default().insert(ae),le=new c.default().insert(H.value()),ge=new c.default().retain(J).concat(X.diff(le,B));$=ge.reduce(function(de,ke){return ke.insert?de.insert(ke.insert,z):de.push(ke)},new c.default),this.delta=q.compose($)}else this.delta=this.getDelta(),(!$||!(0,P.default)(q.compose($),this.delta))&&($=q.diff(this.delta,B));return $}}]),W}();function Q(W,V){return Object.keys(V).reduce(function($,R){return W[R]==null||(V[R]===W[R]?$[R]=V[R]:Array.isArray(V[R])?V[R].indexOf(W[R])<0&&($[R]=V[R].concat([W[R]])):$[R]=[V[R],W[R]]),$},{})}function K(W){return W.reduce(function(V,$){if($.insert===1){var R=(0,j.default)($.attributes);return delete R.image,V.insert({image:$.attributes.image},R)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,j.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var B=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return V.insert(B,$.attributes)}return V.push($)},new c.default)}n.default=Z},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function A(P,C){var k=[],E=!0,I=!1,M=void 0;try{for(var U=P[Symbol.iterator](),Z;!(E=(Z=U.next()).done)&&(k.push(Z.value),!(C&&k.length===C));E=!0);}catch(Q){I=!0,M=Q}finally{try{!E&&U.return&&U.return()}finally{if(I)throw M}}return k}return function(P,C){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(P,C){for(var k=0;k<C.length;k++){var E=C[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,C,k){return C&&A(P.prototype,C),k&&A(P,k),P}}(),o=i(0),l=v(o),c=i(21),d=v(c),f=i(11),p=v(f),h=i(8),m=v(h),g=i(10),y=v(g);function v(A){return A&&A.__esModule?A:{default:A}}function b(A){if(Array.isArray(A)){for(var P=0,C=Array(A.length);P<A.length;P++)C[P]=A[P];return C}else return Array.from(A)}function w(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}var x=(0,y.default)("quill:selection"),N=function A(P){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,A),this.index=P,this.length=C},O=function(){function A(P,C){var k=this;w(this,A),this.emitter=C,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(E,I){E===m.default.events.TEXT_CHANGE&&I.length()>0&&k.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var E=k.getNativeRange();E!=null&&E.start.node!==k.cursor.textNode&&k.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(E,I){if(I.range){var M=I.range,U=M.startNode,Z=M.startOffset,Q=M.endNode,K=M.endOffset;k.setNativeRange(U,Z,Q,K)}}),this.update(m.default.sources.SILENT)}return s(A,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var k=C.cursor.restore();if(!k)return;setTimeout(function(){C.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var I=l.default.find(E.start.node,!1);if(I==null)return;if(I instanceof l.default.Leaf){var M=I.split(E.start.offset);I.parent.insertBefore(this.cursor,M)}else I.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(C,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();C=Math.min(C,E-1),k=Math.min(C+k,E-1)-C;var I=void 0,M=this.scroll.leaf(C),U=a(M,2),Z=U[0],Q=U[1];if(Z==null)return null;var K=Z.position(Q,!0),W=a(K,2);I=W[0],Q=W[1];var V=document.createRange();if(k>0){V.setStart(I,Q);var $=this.scroll.leaf(C+k),R=a($,2);if(Z=R[0],Q=R[1],Z==null)return null;var B=Z.position(Q,!0),q=a(B,2);return I=q[0],Q=q[1],V.setEnd(I,Q),V.getBoundingClientRect()}else{var H="left",z=void 0;return I instanceof Text?(Q<I.data.length?(V.setStart(I,Q),V.setEnd(I,Q+1)):(V.setStart(I,Q-1),V.setEnd(I,Q),H="right"),z=V.getBoundingClientRect()):(z=Z.domNode.getBoundingClientRect(),Q>0&&(H="right")),{bottom:z.top+z.height,height:z.height,left:z[H],right:z[H],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var k=C.getRangeAt(0);if(k==null)return null;var E=this.normalizeNative(k);return x.info("getNativeRange",E),E}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var k=this.normalizedToRange(C);return[k,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var k=this,E=[[C.start.node,C.start.offset]];C.native.collapsed||E.push([C.end.node,C.end.offset]);var I=E.map(function(Z){var Q=a(Z,2),K=Q[0],W=Q[1],V=l.default.find(K,!0),$=V.offset(k.scroll);return W===0?$:V instanceof l.default.Container?$+V.length():$+V.index(K,W)}),M=Math.min(Math.max.apply(Math,b(I)),this.scroll.length()-1),U=Math.min.apply(Math,[M].concat(b(I)));return new N(U,M-U)}},{key:"normalizeNative",value:function(C){if(!j(this.root,C.startContainer)||!C.collapsed&&!j(this.root,C.endContainer))return null;var k={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[k.start,k.end].forEach(function(E){for(var I=E.node,M=E.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>M)I=I.childNodes[M],M=0;else if(I.childNodes.length===M)I=I.lastChild,M=I instanceof Text?I.data.length:I.childNodes.length+1;else break;E.node=I,E.offset=M}),k}},{key:"rangeToNative",value:function(C){var k=this,E=C.collapsed?[C.index]:[C.index,C.index+C.length],I=[],M=this.scroll.length();return E.forEach(function(U,Z){U=Math.min(M-1,U);var Q=void 0,K=k.scroll.leaf(U),W=a(K,2),V=W[0],$=W[1],R=V.position($,Z!==0),B=a(R,2);Q=B[0],$=B[1],I.push(Q,$)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(C){var k=this.lastRange;if(k!=null){var E=this.getBounds(k.index,k.length);if(E!=null){var I=this.scroll.length()-1,M=this.scroll.line(Math.min(k.index,I)),U=a(M,1),Z=U[0],Q=Z;if(k.length>0){var K=this.scroll.line(Math.min(k.index+k.length,I)),W=a(K,1);Q=W[0]}if(!(Z==null||Q==null)){var V=C.getBoundingClientRect();E.top<V.top?C.scrollTop-=V.top-E.top:E.bottom>V.bottom&&(C.scrollTop+=E.bottom-V.bottom)}}}}},{key:"setNativeRange",value:function(C,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",C,k,E,I),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||E.parentNode==null))){var U=document.getSelection();if(U!=null)if(C!=null){this.hasFocus()||this.root.focus();var Z=(this.getNativeRange()||{}).native;if(Z==null||M||C!==Z.startContainer||k!==Z.startOffset||E!==Z.endContainer||I!==Z.endOffset){C.tagName=="BR"&&(k=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),E.tagName=="BR"&&(I=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var Q=document.createRange();Q.setStart(C,k),Q.setEnd(E,I),U.removeAllRanges(),U.addRange(Q)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof k=="string"&&(E=k,k=!1),x.info("setRange",C),C!=null){var I=this.rangeToNative(C);this.setNativeRange.apply(this,b(I).concat([k]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,k=this.lastRange,E=this.getRange(),I=a(E,2),M=I[0],U=I[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(k,this.lastRange)){var Z;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var Q=[m.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(k),C];if((Z=this.emitter).emit.apply(Z,[m.default.events.EDITOR_CHANGE].concat(Q)),C!==m.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,Q)}}}}]),A}();function j(A,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),A.contains(P)}n.Range=N,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(0),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"insertInto",value:function(v,b){v.children.length===0?s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,v,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);h.blotName="break",h.tagName="BR",n.default=h},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),o=i(30),l=i(1),c=function(f){a(p,f);function p(h){var m=f.call(this,h)||this;return m.build(),m}return p.prototype.appendChild=function(h){this.insertBefore(h)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},p.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var g=d(m);h.insertBefore(g,h.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},p.prototype.deleteAt=function(h,m){if(h===0&&m===this.length())return this.remove();this.children.forEachAt(h,m,function(g,y,v){g.deleteAt(y,v)})},p.prototype.descendant=function(h,m){var g=this.children.find(m),y=g[0],v=g[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,v]:y instanceof p?y.descendant(h,v):[null,-1]},p.prototype.descendants=function(h,m,g){m===void 0&&(m=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],v=g;return this.children.forEachAt(m,g,function(b,w,x){(h.blotName==null&&h(b)||h.blotName!=null&&b instanceof h)&&y.push(b),b instanceof p&&(y=y.concat(b.descendants(h,w,v))),v-=x}),y},p.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(h,m,g,y){this.children.forEachAt(h,m,function(v,b,w){v.formatAt(b,w,g,y)})},p.prototype.insertAt=function(h,m,g){var y=this.children.find(h),v=y[0],b=y[1];if(v)v.insertAt(b,m,g);else{var w=g==null?l.create("text",m):l.create(m,g);this.appendChild(w)}},p.prototype.insertBefore=function(h,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return h instanceof g}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,m)},p.prototype.length=function(){return this.children.reduce(function(h,m){return h+m.length()},0)},p.prototype.moveChildren=function(h,m){this.children.forEach(function(g){h.insertBefore(g,m)})},p.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var m=l.create(this.statics.defaultChild);this.appendChild(m),m.optimize(h)}else this.remove()},p.prototype.path=function(h,m){m===void 0&&(m=!1);var g=this.children.find(h,m),y=g[0],v=g[1],b=[[this,h]];return y instanceof p?b.concat(y.path(v,m)):(y!=null&&b.push([y,v]),b)},p.prototype.removeChild=function(h){this.children.remove(h)},p.prototype.replace=function(h){h instanceof p&&h.moveChildren(this),f.prototype.replace.call(this,h)},p.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(h,this.length(),function(y,v,b){y=y.split(v,m),g.appendChild(y)}),g},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(h,m){var g=this,y=[],v=[];h.forEach(function(b){b.target===g.domNode&&b.type==="childList"&&(y.push.apply(y,b.addedNodes),v.push.apply(v,b.removedNodes))}),v.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(b);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(b){return b.parentNode==g.domNode}).sort(function(b,w){return b===w?0:b.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var w=null;b.nextSibling!=null&&(w=l.find(b.nextSibling));var x=d(b);(x.next!=w||x.next==null)&&(x.parent!=null&&x.parent.removeChild(g),g.insertBefore(x,w||void 0))})},p}(o.default);function d(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(m){p.domNode.appendChild(m)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),o=i(31),l=i(17),c=i(1),d=function(f){a(p,f);function p(h){var m=f.call(this,h)||this;return m.attributes=new o.default(m.domNode),m}return p.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},p.prototype.format=function(h,m){var g=c.query(h);g instanceof s.default?this.attributes.attribute(g,m):m&&g!=null&&(h!==this.statics.blotName||this.formats()[h]!==m)&&this.replaceWith(h,m)},p.prototype.formats=function(){var h=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(h[this.statics.blotName]=m),h},p.prototype.replaceWith=function(h,m){var g=f.prototype.replaceWith.call(this,h,m);return this.attributes.copy(g),g},p.prototype.update=function(h,m){var g=this;f.prototype.update.call(this,h,m),h.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(h,m){var g=f.prototype.wrap.call(this,h,m);return g instanceof p&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},p}(l.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){c(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),o=i(1),l=function(c){a(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},d.prototype.position=function(f,p){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=o.Scope.INLINE_BLOT,d}(s.default);n.default=l},function(r,n,i){var a=i(11),s=i(3),o={attributes:{compose:function(c,d,f){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var p=s(!0,{},d);f||(p=Object.keys(p).reduce(function(m,g){return p[g]!=null&&(m[g]=p[g]),m},{}));for(var h in c)c[h]!==void 0&&d[h]===void 0&&(p[h]=c[h]);return Object.keys(p).length>0?p:void 0},diff:function(c,d){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var f=Object.keys(c).concat(Object.keys(d)).reduce(function(p,h){return a(c[h],d[h])||(p[h]=d[h]===void 0?null:d[h]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(c,d,f){if(typeof c!="object")return d;if(typeof d=="object"){if(!f)return d;var p=Object.keys(d).reduce(function(h,m){return c[m]===void 0&&(h[m]=d[m]),h},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var d=this.ops[this.index];if(d){var f=this.offset,p=o.length(d);if(c>=p-f?(c=p-f,this.index+=1,this.offset=0):this.offset+=c,typeof d.delete=="number")return{delete:c};var h={};return d.attributes&&(h.attributes=d.attributes),typeof d.retain=="number"?h.retain=c:typeof d.insert=="string"?h.insert=d.insert.substr(f,c):h.insert=d.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,d=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=c,this.index=d,[f].concat(p)}else return[]},r.exports=o},function(r,n){var i=function(){function a(g,y){return y!=null&&g instanceof y}var s;try{s=Map}catch{s=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,v,b,w){typeof y=="object"&&(v=y.depth,b=y.prototype,w=y.includeNonEnumerable,y=y.circular);var x=[],N=[],O=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function j(A,P){if(A===null)return null;if(P===0)return A;var C,k;if(typeof A!="object")return A;if(a(A,s))C=new s;else if(a(A,o))C=new o;else if(a(A,l))C=new l(function(V,$){A.then(function(R){V(j(R,P-1))},function(R){$(j(R,P-1))})});else if(c.__isArray(A))C=[];else if(c.__isRegExp(A))C=new RegExp(A.source,m(A)),A.lastIndex&&(C.lastIndex=A.lastIndex);else if(c.__isDate(A))C=new Date(A.getTime());else{if(O&&Buffer.isBuffer(A))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(A.length):C=new Buffer(A.length),A.copy(C),C;a(A,Error)?C=Object.create(A):typeof b>"u"?(k=Object.getPrototypeOf(A),C=Object.create(k)):(C=Object.create(b),k=b)}if(y){var E=x.indexOf(A);if(E!=-1)return N[E];x.push(A),N.push(C)}a(A,s)&&A.forEach(function(V,$){var R=j($,P-1),B=j(V,P-1);C.set(R,B)}),a(A,o)&&A.forEach(function(V){var $=j(V,P-1);C.add($)});for(var I in A){var M;k&&(M=Object.getOwnPropertyDescriptor(k,I)),!(M&&M.set==null)&&(C[I]=j(A[I],P-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(A),I=0;I<U.length;I++){var Z=U[I],Q=Object.getOwnPropertyDescriptor(A,Z);Q&&!Q.enumerable&&!w||(C[Z]=j(A[Z],P-1),Q.enumerable||Object.defineProperty(C,Z,{enumerable:!1}))}if(w)for(var K=Object.getOwnPropertyNames(A),I=0;I<K.length;I++){var W=K[I],Q=Object.getOwnPropertyDescriptor(A,W);Q&&Q.enumerable||(C[W]=j(A[W],P-1),Object.defineProperty(C,W,{enumerable:!1}))}return C}return j(g,v)}c.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function d(g){return Object.prototype.toString.call(g)}c.__objToStr=d;function f(g){return typeof g=="object"&&d(g)==="[object Date]"}c.__isDate=f;function p(g){return typeof g=="object"&&d(g)==="[object Array]"}c.__isArray=p;function h(g){return typeof g=="object"&&d(g)==="[object RegExp]"}c.__isRegExp=h;function m(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=m,c}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(k,E){var I=[],M=!0,U=!1,Z=void 0;try{for(var Q=k[Symbol.iterator](),K;!(M=(K=Q.next()).done)&&(I.push(K.value),!(E&&I.length===E));M=!0);}catch(W){U=!0,Z=W}finally{try{!M&&Q.return&&Q.return()}finally{if(U)throw Z}}return I}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(k,E){for(var I=0;I<E.length;I++){var M=E[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,M.key,M)}}return function(k,E,I){return E&&C(k.prototype,E),I&&C(k,I),k}}(),o=function C(k,E,I){k===null&&(k=Function.prototype);var M=Object.getOwnPropertyDescriptor(k,E);if(M===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:C(U,E,I)}else{if("value"in M)return M.value;var Z=M.get;return Z===void 0?void 0:Z.call(I)}},l=i(0),c=x(l),d=i(8),f=x(d),p=i(4),h=x(p),m=i(16),g=x(m),y=i(13),v=x(y),b=i(25),w=x(b);function x(C){return C&&C.__esModule?C:{default:C}}function N(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function O(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function j(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}function A(C){return C instanceof h.default||C instanceof p.BlockEmbed}var P=function(C){j(k,C);function k(E,I){N(this,k);var M=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E));return M.emitter=I.emitter,Array.isArray(I.whitelist)&&(M.whitelist=I.whitelist.reduce(function(U,Z){return U[Z]=!0,U},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return s(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,M){var U=this.line(I),Z=a(U,2),Q=Z[0],K=Z[1],W=this.line(I+M),V=a(W,1),$=V[0];if(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,I,M),$!=null&&Q!==$&&K>0){if(Q instanceof p.BlockEmbed||$ instanceof p.BlockEmbed){this.optimize();return}if(Q instanceof v.default){var R=Q.newlineIndex(Q.length(),!0);if(R>-1&&(Q=Q.split(R+1),Q===$)){this.optimize();return}}else if($ instanceof v.default){var B=$.newlineIndex(0);B>-1&&$.split(B+1)}var q=$.children.head instanceof g.default?null:$.children.head;Q.moveChildren($,q),Q.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,M,U,Z){this.whitelist!=null&&!this.whitelist[U]||(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,I,M,U,Z),this.optimize())}},{key:"insertAt",value:function(I,M,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[M])){if(I>=this.length())if(U==null||c.default.query(M,c.default.Scope.BLOCK)==null){var Z=c.default.create(this.statics.defaultChild);this.appendChild(Z),U==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),Z.insertAt(0,M,U)}else{var Q=c.default.create(M,U);this.appendChild(Q)}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,I,M,U);this.optimize()}}},{key:"insertBefore",value:function(I,M){if(I.statics.scope===c.default.Scope.INLINE_BLOT){var U=c.default.create(this.statics.defaultChild);U.appendChild(I),I=U}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,I,M)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(A,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function Z(Q,K,W){var V=[],$=W;return Q.children.forEachAt(K,W,function(R,B,q){A(R)?V.push(R):R instanceof c.default.Container&&(V=V.concat(Z(R,B,$))),$-=q}),V};return U(this,I,M)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,I,M),I.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,I,M))}},{key:"path",value:function(I){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var M=f.default.sources.USER;typeof I=="string"&&(M=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,M,I),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,M,I)}}}]),k}(c.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[h.default,p.BlockEmbed,w.default],n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},s=function(){function z(J,ae){var X=[],le=!0,ge=!1,de=void 0;try{for(var ke=J[Symbol.iterator](),ve;!(le=(ve=ke.next()).done)&&(X.push(ve.value),!(ae&&X.length===ae));le=!0);}catch(ie){ge=!0,de=ie}finally{try{!le&&ke.return&&ke.return()}finally{if(ge)throw de}}return X}return function(J,ae){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return z(J,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function z(J,ae){for(var X=0;X<ae.length;X++){var le=ae[X];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,ae,X){return ae&&z(J.prototype,ae),X&&z(J,X),J}}(),l=i(21),c=C(l),d=i(11),f=C(d),p=i(3),h=C(p),m=i(2),g=C(m),y=i(20),v=C(y),b=i(0),w=C(b),x=i(5),N=C(x),O=i(10),j=C(O),A=i(9),P=C(A);function C(z){return z&&z.__esModule?z:{default:z}}function k(z,J,ae){return J in z?Object.defineProperty(z,J,{value:ae,enumerable:!0,configurable:!0,writable:!0}):z[J]=ae,z}function E(z,J){if(!(z instanceof J))throw new TypeError("Cannot call a class as a function")}function I(z,J){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:z}function M(z,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);z.prototype=Object.create(J&&J.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(z,J):z.__proto__=J)}var U=(0,j.default)("quill:keyboard"),Z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Q=function(z){M(J,z),o(J,null,[{key:"match",value:function(X,le){return le=H(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!le[ge]!==X[ge]&&le[ge]!==null})?!1:le.key===(X.which||X.keyCode)}}]);function J(ae,X){E(this,J);var le=I(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ae,X));return le.bindings={},Object.keys(le.options.bindings).forEach(function(ge){ge==="list autofill"&&ae.scroll.whitelist!=null&&!ae.scroll.whitelist.list||le.options.bindings[ge]&&le.addBinding(le.options.bindings[ge])}),le.addBinding({key:J.keys.ENTER,shiftKey:null},R),le.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},W),le.addBinding({key:J.keys.DELETE},{collapsed:!0},V)):(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),le.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},V)),le.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},$),le.addBinding({key:J.keys.DELETE},{collapsed:!1},$),le.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),le.listen(),le}return o(J,[{key:"addBinding",value:function(X){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=H(X);if(de==null||de.key==null)return U.warn("Attempted to add invalid keyboard binding",de);typeof le=="function"&&(le={handler:le}),typeof ge=="function"&&(ge={handler:ge}),de=(0,h.default)(de,le,ge),this.bindings[de.key]=this.bindings[de.key]||[],this.bindings[de.key].push(de)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var ge=le.which||le.keyCode,de=(X.bindings[ge]||[]).filter(function(ze){return J.match(le,ze)});if(de.length!==0){var ke=X.quill.getSelection();if(!(ke==null||!X.quill.hasFocus())){var ve=X.quill.getLine(ke.index),ie=s(ve,2),We=ie[0],Be=ie[1],xe=X.quill.getLeaf(ke.index),fe=s(xe,2),he=fe[0],pe=fe[1],be=ke.length===0?[he,pe]:X.quill.getLeaf(ke.index+ke.length),Ce=s(be,2),Me=Ce[0],Ie=Ce[1],He=he instanceof w.default.Text?he.value().slice(0,pe):"",Ze=Me instanceof w.default.Text?Me.value().slice(Ie):"",$e={collapsed:ke.length===0,empty:ke.length===0&&We.length()<=1,format:X.quill.getFormat(ke),offset:Be,prefix:He,suffix:Ze},Ve=de.some(function(ze){if(ze.collapsed!=null&&ze.collapsed!==$e.collapsed||ze.empty!=null&&ze.empty!==$e.empty||ze.offset!=null&&ze.offset!==$e.offset)return!1;if(Array.isArray(ze.format)){if(ze.format.every(function(Ke){return $e.format[Ke]==null}))return!1}else if(a(ze.format)==="object"&&!Object.keys(ze.format).every(function(Ke){return ze.format[Ke]===!0?$e.format[Ke]!=null:ze.format[Ke]===!1?$e.format[Ke]==null:(0,f.default)(ze.format[Ke],$e.format[Ke])}))return!1;return ze.prefix!=null&&!ze.prefix.test($e.prefix)||ze.suffix!=null&&!ze.suffix.test($e.suffix)?!1:ze.handler.call(X,ke,$e)!==!0});Ve&&le.preventDefault()}}}})}}]),J}(P.default);Q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Q.DEFAULTS={bindings:{bold:q("bold"),italic:q("italic"),underline:q("underline"),indent:{key:Q.keys.TAB,format:["blockquote","indent","list"],handler:function(J,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:Q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:Q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,ae){ae.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):ae.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:Q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,N.default.sources.USER)}},tab:{key:Q.keys.TAB,handler:function(J){this.quill.history.cutoff();var ae=new g.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(ae,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,N.default.sources.SILENT)}},"list empty enter":{key:Q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,ae){this.quill.format("list",!1,N.default.sources.USER),ae.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:Q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var ae=this.quill.getLine(J.index),X=s(ae,2),le=X[0],ge=X[1],de=(0,h.default)({},le.formats(),{list:"checked"}),ke=new g.default().retain(J.index).insert(`
`,de).retain(le.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(ke,N.default.sources.USER),this.quill.setSelection(J.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,ae){var X=this.quill.getLine(J.index),le=s(X,2),ge=le[0],de=le[1],ke=new g.default().retain(J.index).insert(`
`,ae.format).retain(ge.length()-de-1).retain(1,{header:null});this.quill.updateContents(ke,N.default.sources.USER),this.quill.setSelection(J.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,ae){var X=ae.prefix.length,le=this.quill.getLine(J.index),ge=s(le,2),de=ge[0],ke=ge[1];if(ke>X)return!0;var ve=void 0;switch(ae.prefix.trim()){case"[]":case"[ ]":ve="unchecked";break;case"[x]":ve="checked";break;case"-":case"*":ve="bullet";break;default:ve="ordered"}this.quill.insertText(J.index," ",N.default.sources.USER),this.quill.history.cutoff();var ie=new g.default().retain(J.index-ke).delete(X+1).retain(de.length()-2-ke).retain(1,{list:ve});this.quill.updateContents(ie,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-X,N.default.sources.SILENT)}},"code exit":{key:Q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var ae=this.quill.getLine(J.index),X=s(ae,2),le=X[0],ge=X[1],de=new g.default().retain(J.index+le.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(de,N.default.sources.USER)}},"embed left":K(Q.keys.LEFT,!1),"embed left shift":K(Q.keys.LEFT,!0),"embed right":K(Q.keys.RIGHT,!1),"embed right shift":K(Q.keys.RIGHT,!0)}};function K(z,J){var ae,X=z===Q.keys.LEFT?"prefix":"suffix";return ae={key:z,shiftKey:J,altKey:null},k(ae,X,/^$/),k(ae,"handler",function(ge){var de=ge.index;z===Q.keys.RIGHT&&(de+=ge.length+1);var ke=this.quill.getLeaf(de),ve=s(ke,1),ie=ve[0];return ie instanceof w.default.Embed?(z===Q.keys.LEFT?J?this.quill.setSelection(ge.index-1,ge.length+1,N.default.sources.USER):this.quill.setSelection(ge.index-1,N.default.sources.USER):J?this.quill.setSelection(ge.index,ge.length+1,N.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,N.default.sources.USER),!1):!0}),ae}function W(z,J){if(!(z.index===0||this.quill.getLength()<=1)){var ae=this.quill.getLine(z.index),X=s(ae,1),le=X[0],ge={};if(J.offset===0){var de=this.quill.getLine(z.index-1),ke=s(de,1),ve=ke[0];if(ve!=null&&ve.length()>1){var ie=le.formats(),We=this.quill.getFormat(z.index-1,1);ge=v.default.attributes.diff(ie,We)||{}}}var Be=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(z.index-Be,Be,N.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(z.index-Be,Be,ge,N.default.sources.USER),this.quill.focus()}}function V(z,J){var ae=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(z.index>=this.quill.getLength()-ae)){var X={},le=0,ge=this.quill.getLine(z.index),de=s(ge,1),ke=de[0];if(J.offset>=ke.length()-1){var ve=this.quill.getLine(z.index+1),ie=s(ve,1),We=ie[0];if(We){var Be=ke.formats(),xe=this.quill.getFormat(z.index,1);X=v.default.attributes.diff(Be,xe)||{},le=We.length()}}this.quill.deleteText(z.index,ae,N.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(z.index+le-1,ae,X,N.default.sources.USER)}}function $(z){var J=this.quill.getLines(z),ae={};if(J.length>1){var X=J[0].formats(),le=J[J.length-1].formats();ae=v.default.attributes.diff(le,X)||{}}this.quill.deleteText(z,N.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(z.index,1,ae,N.default.sources.USER),this.quill.setSelection(z.index,N.default.sources.SILENT),this.quill.focus()}function R(z,J){var ae=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var X=Object.keys(J.format).reduce(function(le,ge){return w.default.query(ge,w.default.Scope.BLOCK)&&!Array.isArray(J.format[ge])&&(le[ge]=J.format[ge]),le},{});this.quill.insertText(z.index,`
`,X,N.default.sources.USER),this.quill.setSelection(z.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(le){X[le]==null&&(Array.isArray(J.format[le])||le!=="link"&&ae.quill.format(le,J.format[le],N.default.sources.USER))})}function B(z){return{key:Q.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(ae){var X=w.default.query("code-block"),le=ae.index,ge=ae.length,de=this.quill.scroll.descendant(X,le),ke=s(de,2),ve=ke[0],ie=ke[1];if(ve!=null){var We=this.quill.getIndex(ve),Be=ve.newlineIndex(ie,!0)+1,xe=ve.newlineIndex(We+ie+ge),fe=ve.domNode.textContent.slice(Be,xe).split(`
`);ie=0,fe.forEach(function(he,pe){z?(ve.insertAt(Be+ie,X.TAB),ie+=X.TAB.length,pe===0?le+=X.TAB.length:ge+=X.TAB.length):he.startsWith(X.TAB)&&(ve.deleteAt(Be+ie,X.TAB.length),ie-=X.TAB.length,pe===0?le-=X.TAB.length:ge-=X.TAB.length),ie+=he.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(le,ge,N.default.sources.SILENT)}}}}function q(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(ae,X){this.quill.format(z,!X.format[z],N.default.sources.USER)}}}function H(z){if(typeof z=="string"||typeof z=="number")return H({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,c.default)(z,!1)),typeof z.key=="string")if(Q.keys[z.key.toUpperCase()]!=null)z.key=Q.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[Z]=z.shortKey,delete z.shortKey),z}n.default=Q,n.SHORTKEY=Z},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,w){var x=[],N=!0,O=!1,j=void 0;try{for(var A=b[Symbol.iterator](),P;!(N=(P=A.next()).done)&&(x.push(P.value),!(w&&x.length===w));N=!0);}catch(C){O=!0,j=C}finally{try{!N&&A.return&&A.return()}finally{if(O)throw j}}return x}return function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return v(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(b,w,x){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:v(O,w,x)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(x)}},o=function(){function v(b,w){for(var x=0;x<w.length;x++){var N=w[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,x){return w&&v(b.prototype,w),x&&v(b,x),b}}(),l=i(0),c=p(l),d=i(7),f=p(d);function p(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function m(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){g(b,v),o(b,null,[{key:"value",value:function(){}}]);function b(w,x){h(this,b);var N=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return N.selection=x,N.textNode=document.createTextNode(b.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return o(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,N){if(this._length!==0)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,N);for(var O=this,j=0;O!=null&&O.statics.scope!==c.default.Scope.BLOCK_BLOT;)j+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=b.CONTENTS.length,O.optimize(),O.formatAt(j,b.CONTENTS.length,x,N),this._length=0)}},{key:"index",value:function(x,N){return x===this.textNode?0:s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,N=this.selection.getNativeRange(),O=void 0,j=void 0,A=void 0;if(N!=null&&N.start.node===x&&N.end.node===x){var P=[x,N.start.offset,N.end.offset];O=P[0],j=P[1],A=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var C=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=b.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var k=[j,A].map(function(I){return Math.max(0,Math.min(O.data.length,I-1))}),E=a(k,2);return j=E[0],A=E[1],{startNode:O,startOffset:j,endNode:O,endOffset:A}}}}},{key:"update",value:function(x,N){var O=this;if(x.some(function(A){return A.type==="characterData"&&A.target===O.textNode})){var j=this.restore();j&&(N.range=j)}}},{key:"value",value:function(){return""}}]),b}(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=c(a),o=i(4),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default.Container);h.allowedChildren=[l.default,o.BlockEmbed,h],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){p(v,y);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"value",value:function(w){var x=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):x}}]),v}(l.default.Attributor.Style),m=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new h("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=h,n.ColorClass=m,n.ColorStyle=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function g(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&g(y.prototype,v),b&&g(y,b),y}}(),s=function g(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:g(x,v,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){p(y,g);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(b,w){if(b!==this.statics.blotName||!w)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(b){var w=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return b=this.sanitize(b),w.setAttribute("href",b),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return m(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),y}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(g,y){var v=document.createElement("a");v.href=g;var b=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(b)>-1}n.default=h,n.sanitize=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),o=i(23),l=f(o),c=i(107),d=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function m(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var g=function(){function y(v){var b=this;p(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.togglePicker();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var w=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),b.hasAttribute("value")&&x.setAttribute("data-value",b.getAttribute("value")),b.textContent&&x.setAttribute("data-label",b.textContent),x.addEventListener("click",function(){w.selectItem(x,!0)}),x.addEventListener("keydown",function(N){switch(N.keyCode){case l.default.keys.ENTER:w.selectItem(x,!0),N.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),N.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=d.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(x){var N=b.buildItem(x);w.appendChild(N),x.selected===!0&&b.selectItem(N)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(w){b.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(b!==x&&(x!=null&&x.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var x=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),y}();n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=U(a),o=i(5),l=U(o),c=i(4),d=U(c),f=i(16),p=U(f),h=i(25),m=U(h),g=i(24),y=U(g),v=i(35),b=U(v),w=i(6),x=U(w),N=i(22),O=U(N),j=i(7),A=U(j),P=i(55),C=U(P),k=i(42),E=U(k),I=i(23),M=U(I);function U(Z){return Z&&Z.__esModule?Z:{default:Z}}l.default.register({"blots/block":d.default,"blots/block/embed":c.BlockEmbed,"blots/break":p.default,"blots/container":m.default,"blots/cursor":y.default,"blots/embed":b.default,"blots/inline":x.default,"blots/scroll":O.default,"blots/text":A.default,"modules/clipboard":C.default,"modules/history":E.default,"modules/keyboard":M.default}),s.default.register(d.default,p.default,y.default,x.default,O.default,A.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function o(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},o.prototype.deleteAt=function(l,c){var d=this.isolate(l,c);d.remove()},o.prototype.formatAt=function(l,c,d,f){var p=this.isolate(l,c);if(a.query(d,a.Scope.BLOT)!=null&&f)p.wrap(d,f);else if(a.query(d,a.Scope.ATTRIBUTE)!=null){var h=a.create(this.statics.scope);p.wrap(h),h.format(d,f)}},o.prototype.insertAt=function(l,c,d){var f=d==null?a.create("text",c):a.create(c,d),p=this.split(l);this.parent.insertBefore(f,p)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,c),c!=null&&(d=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var d=this.split(l);return d.split(c),d},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var d=typeof l=="string"?a.create(l,c):l;return d.replace(this),d},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var d=typeof l=="string"?a.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},o.blotName="abstract",o}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),s=i(32),o=i(33),l=i(1),c=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var p=a.default.keys(this.domNode),h=s.default.keys(this.domNode),m=o.default.keys(this.domNode);p.concat(h).concat(m).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof a.default&&(f.attributes[y.attrName]=y)})},d.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(h){var m=p.attributes[h].value(p.domNode);f.format(h,m)})},d.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){p.attributes[h].remove(p.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,h){return p[h]=f.attributes[h].value(f.domNode),p},{})},d}();n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){c(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function o(c,d){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(d+"-")===0})}var l=function(c){a(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},d.prototype.remove=function(f){var p=o(f,this.keyName);p.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var p=o(f,this.keyName)[0]||"",h=p.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},d}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){c(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function o(c){var d=c.split("-"),f=d.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return d[0]+f}var l=function(c){a(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var h=p.split(":");return h[0].trim()})},d.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[o(this.keyName)]=p,!0):!1},d.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var p=f.style[o(this.keyName)];return this.canAdd(f,p)?p:""},d}(s.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(c,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,d,f){return d&&l(c.prototype,d),f&&l(c,f),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,d){s(this,l),this.quill=c,this.options=d,this.modules={}}return a(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();o.DEFAULTS={modules:{}},o.themes={default:o},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,w){for(var x=0;x<w.length;x++){var N=w[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,x){return w&&v(b.prototype,w),x&&v(b,x),b}}(),s=function v(b,w,x){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:v(O,w,x)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(x)}},o=i(0),l=f(o),c=i(7),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var g="\uFEFF",y=function(v){m(b,v);function b(w){p(this,b);var x=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(N){x.contentNode.appendChild(N)}),x.leftGuard=document.createTextNode(g),x.rightGuard=document.createTextNode(g),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return a(b,[{key:"index",value:function(x,N){return x===this.leftGuard?0:x===this.rightGuard?1:s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,N)}},{key:"restore",value:function(x){var N=void 0,O=void 0,j=x.data.split(g).join("");if(x===this.leftGuard)if(this.prev instanceof d.default){var A=this.prev.length();this.prev.insertAt(A,j),N={startNode:this.prev.domNode,startOffset:A+j.length}}else O=document.createTextNode(j),this.parent.insertBefore(l.default.create(O),this),N={startNode:O,startOffset:j.length};else x===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,j),N={startNode:this.next.domNode,startOffset:j.length}):(O=document.createTextNode(j),this.parent.insertBefore(l.default.create(O),this.next),N={startNode:O,startOffset:j.length}));return x.data=g,N}},{key:"update",value:function(x,N){var O=this;x.forEach(function(j){if(j.type==="characterData"&&(j.target===O.leftGuard||j.target===O.rightGuard)){var A=O.restore(j.target);A&&(N.range=A)}})}}]),b}(l.default.Embed);n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);n.AlignAttribute=c,n.AlignClass=d,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),s=l(a),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=c,n.BackgroundStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=c,n.DirectionClass=d,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function v(b,w){for(var x=0;x<w.length;x++){var N=w[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,x){return w&&v(b.prototype,w),x&&v(b,x),b}}(),s=function v(b,w,x){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:v(O,w,x)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(x)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new l.default.Attributor.Class("font","ql-font",h),g=function(v){p(b,v);function b(){return d(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(x){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),b}(l.default.Attributor.Style),y=new g("font","font-family",h);n.FontStyle=y,n.FontClass=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),s=o(a);function o(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=c},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function w(x,N){for(var O=0;O<N.length;O++){var j=N[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,N,O){return N&&w(x.prototype,N),O&&w(x,O),x}}(),s=i(0),o=p(s),l=i(5),c=p(l),d=i(9),f=p(d);function p(w){return w&&w.__esModule?w:{default:w}}function h(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function m(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function g(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var y=function(w){g(x,w);function x(N,O){h(this,x);var j=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N,O));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(c.default.events.EDITOR_CHANGE,function(A,P,C,k){A!==c.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||k===c.default.sources.USER?j.record(P,C):j.transform(P))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return a(x,[{key:"change",value:function(O,j){if(this.stack[O].length!==0){var A=this.stack[O].pop();this.stack[j].push(A),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A[O],c.default.sources.USER),this.ignoreChange=!1;var P=b(A[O]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,j){if(O.ops.length!==0){this.stack.redo=[];var A=this.quill.getContents().diff(j),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var C=this.stack.undo.pop();A=A.compose(C.undo),O=C.redo.compose(O)}else this.lastRecorded=P;this.stack.undo.push({redo:O,undo:A}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(j){j.undo=O.transform(j.undo,!0),j.redo=O.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=O.transform(j.undo,!0),j.redo=O.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(w){var x=w.ops[w.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(N){return o.default.query(N,o.default.Scope.BLOCK)!=null}):!1}function b(w){var x=w.reduce(function(O,j){return O+=j.delete||0,O},0),N=w.length()-x;return v(w)&&(N-=1),N}n.default=y,n.getLastChangeIndex=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function R(B,q){for(var H=0;H<q.length;H++){var z=q[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(B,z.key,z)}}return function(B,q,H){return q&&R(B.prototype,q),H&&R(B,H),B}}(),s=function R(B,q,H){B===null&&(B=Function.prototype);var z=Object.getOwnPropertyDescriptor(B,q);if(z===void 0){var J=Object.getPrototypeOf(B);return J===null?void 0:R(J,q,H)}else{if("value"in z)return z.value;var ae=z.get;return ae===void 0?void 0:ae.call(H)}},o=i(3),l=P(o),c=i(2),d=P(c),f=i(8),p=P(f),h=i(23),m=P(h),g=i(34),y=P(g),v=i(59),b=P(v),w=i(60),x=P(w),N=i(28),O=P(N),j=i(61),A=P(j);function P(R){return R&&R.__esModule?R:{default:R}}function C(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function k(R,B){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:R}function E(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(R,B):R.__proto__=B)}var I=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],Z=["1","2","3",!1],Q=["small",!1,"large","huge"],K=function(R){E(B,R);function B(q,H){C(this,B);var z=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,q,H)),J=function ae(X){if(!document.body.contains(q.root))return document.body.removeEventListener("click",ae);z.tooltip!=null&&!z.tooltip.root.contains(X.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(le){le.container.contains(X.target)||le.close()})};return q.emitter.listenDOM("click",document.body,J),z}return a(B,[{key:"addModule",value:function(H){var z=s(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(H,z){H.forEach(function(J){var ae=J.getAttribute("class")||"";ae.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),z[X]!=null))if(X==="direction")J.innerHTML=z[X][""]+z[X].rtl;else if(typeof z[X]=="string")J.innerHTML=z[X];else{var le=J.value||"";le!=null&&z[X][le]&&(J.innerHTML=z[X][le])}})})}},{key:"buildPickers",value:function(H,z){var J=this;this.pickers=H.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&$(X,I),new x.default(X,z.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var le=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&$(X,M,le==="background"?"#ffffff":"#000000"),new b.default(X,z[le])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?$(X,U):X.classList.contains("ql-header")?$(X,Z):X.classList.contains("ql-size")&&$(X,Q)),new O.default(X)});var ae=function(){J.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,ae)}}]),B}(y.default);K.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,q=this.container.querySelector("input.ql-image[type=file]");q==null&&(q=document.createElement("input"),q.setAttribute("type","file"),q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),q.classList.add("ql-image"),q.addEventListener("change",function(){if(q.files!=null&&q.files[0]!=null){var H=new FileReader;H.onload=function(z){var J=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain(J.index).delete(J.length).insert({image:z.target.result}),p.default.sources.USER),B.quill.setSelection(J.index+1,p.default.sources.SILENT),q.value=""},H.readAsDataURL(q.files[0])}}),this.container.appendChild(q)),q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(R){E(B,R);function B(q,H){C(this,B);var z=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,q,H));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(B,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(z){m.default.match(z,"enter")?(H.save(),z.preventDefault()):m.default.match(z,"escape")&&(H.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,p.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":H=V(H);case"formula":{if(!H)break;var J=this.quill.getSelection(!0);if(J!=null){var ae=J.index+J.length;this.quill.insertEmbed(ae,this.root.getAttribute("data-mode"),H,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ae+1," ",p.default.sources.USER),this.quill.setSelection(ae+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(A.default);function V(R){var B=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":R}function $(R,B){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(H){var z=document.createElement("option");H===q?z.setAttribute("selected","selected"):z.setAttribute("value",H),R.appendChild(z)})}n.BaseTooltip=W,n.default=K},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},s.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},s.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},s.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},s.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},s.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,d=this.iterator();c=d();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},s.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},s.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var d=this.find(o),f=d[0],p=d[1],h,m=o-p,g=this.iterator(f);(h=g())&&m<o+l;){var y=h.length();o>m?c(h,o-m,Math.min(l,m+y-o)):c(h,0,Math.min(y,o+l-m)),m+=y}},s.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},s.prototype.reduce=function(o,l){for(var c,d=this.iterator();c=d();)l=o(l,c);return l},s}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,d=function(f){a(p,f);function p(h){var m=f.call(this,h)||this;return m.scroll=m,m.observer=new MutationObserver(function(g){m.update(g)}),m.observer.observe(m.domNode,l),m.attach(),m}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(h,m){this.update(),h===0&&m===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,h,m)},p.prototype.formatAt=function(h,m,g,y){this.update(),f.prototype.formatAt.call(this,h,m,g,y)},p.prototype.insertAt=function(h,m,g){this.update(),f.prototype.insertAt.call(this,h,m,g)},p.prototype.optimize=function(h,m){var g=this;h===void 0&&(h=[]),m===void 0&&(m={}),f.prototype.optimize.call(this,m);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var v=function(N,O){O===void 0&&(O=!0),!(N==null||N===g)&&N.domNode.parentNode!=null&&(N.domNode[o.DATA_KEY].mutations==null&&(N.domNode[o.DATA_KEY].mutations=[]),O&&v(N.parent))},b=function(N){N.domNode[o.DATA_KEY]==null||N.domNode[o.DATA_KEY].mutations==null||(N instanceof s.default&&N.children.forEach(b),N.optimize(m))},w=h,x=0;w.length>0;x+=1){if(x>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(N){var O=o.find(N.target,!0);O!=null&&(O.domNode===N.target&&(N.type==="childList"?(v(o.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(j){var A=o.find(j,!1);v(A,!1),A instanceof s.default&&A.children.forEach(function(P){v(P,!1)})})):N.type==="attributes"&&v(O.prev)),v(O))}),this.children.forEach(b),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)h.push(y.pop())}},p.prototype.update=function(h,m){var g=this;m===void 0&&(m={}),h=h||this.observer.takeRecords(),h.map(function(y){var v=o.find(y.target,!0);return v==null?null:v.domNode[o.DATA_KEY].mutations==null?(v.domNode[o.DATA_KEY].mutations=[y],v):(v.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],m)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,m),this.optimize(h,m)},p.blotName="scroll",p.defaultChild="block",p.scope=o.Scope.BLOCK_BLOT,p.tagName="DIV",p}(s.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var h in p)p.hasOwnProperty(h)&&(f[h]=p[h])};return function(f,p){d(f,p);function h(){this.constructor=f}f.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),o=i(1);function l(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var p in d)if(d[p]!==f[p])return!1;return!0}var c=function(d){a(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return d.formats.call(this,p)},f.prototype.format=function(p,h){var m=this;p===this.statics.blotName&&!h?(this.children.forEach(function(g){g instanceof s.default||(g=g.wrap(f.blotName,!0)),m.attributes.copy(g)}),this.unwrap()):d.prototype.format.call(this,p,h)},f.prototype.formatAt=function(p,h,m,g){if(this.formats()[m]!=null||o.query(m,o.Scope.ATTRIBUTE)){var y=this.isolate(p,h);y.format(m,g)}else d.prototype.formatAt.call(this,p,h,m,g)},f.prototype.optimize=function(p){d.prototype.optimize.call(this,p);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var m=this.next;m instanceof f&&m.prev===this&&l(h,m.formats())&&(m.moveChildren(this),m.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){c(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),o=i(1),l=function(c){a(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(f){var p=o.query(d.blotName).tagName;if(f.tagName!==p)return c.formats.call(this,f)},d.prototype.format=function(f,p){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(d.blotName):c.prototype.format.call(this,f,p))},d.prototype.formatAt=function(f,p,h,m){o.query(h,o.Scope.BLOCK)!=null?this.format(h,m):c.prototype.formatAt.call(this,f,p,h,m)},d.prototype.insertAt=function(f,p,h){if(h==null||o.query(p,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,p,h);else{var m=this.split(f),g=o.create(p,h);m.parent.insertBefore(g,m)}},d.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,p)},d.blotName="block",d.scope=o.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){l(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),o=function(l){a(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(d){},c.prototype.format=function(d,f){l.prototype.formatAt.call(this,0,this.length(),d,f)},c.prototype.formatAt=function(d,f,p,h){d===0&&f===this.length()?this.format(p,h):l.prototype.formatAt.call(this,d,f,p,h)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);n.default=o},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){c(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),o=i(1),l=function(c){a(d,c);function d(f){var p=c.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},d.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},d.prototype.index=function(f,p){return this.domNode===f?p:-1},d.prototype.insertAt=function(f,p,h){h==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,p,h)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,p){return[this.domNode,f]},d.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var h=o.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},d.prototype.update=function(f,p){var h=this;f.some(function(m){return m.type==="characterData"&&m.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=o.Scope.INLINE_BLOT,d}(s.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:s.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var d=c.indexOf(o,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),d=c.length>>>0,f=arguments[1],p,h=0;h<d;h++)if(p=c[h],l.call(f,p,h,c))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,s=0;function o(x,N,O){if(x==N)return x?[[s,x]]:[];(O<0||x.length<O)&&(O=null);var j=f(x,N),A=x.substring(0,j);x=x.substring(j),N=N.substring(j),j=p(x,N);var P=x.substring(x.length-j);x=x.substring(0,x.length-j),N=N.substring(0,N.length-j);var C=l(x,N);return A&&C.unshift([s,A]),P&&C.push([s,P]),m(C),O!=null&&(C=v(C,O)),C=b(C),C}function l(x,N){var O;if(!x)return[[a,N]];if(!N)return[[i,x]];var j=x.length>N.length?x:N,A=x.length>N.length?N:x,P=j.indexOf(A);if(P!=-1)return O=[[a,j.substring(0,P)],[s,A],[a,j.substring(P+A.length)]],x.length>N.length&&(O[0][0]=O[2][0]=i),O;if(A.length==1)return[[i,x],[a,N]];var C=h(x,N);if(C){var k=C[0],E=C[1],I=C[2],M=C[3],U=C[4],Z=o(k,I),Q=o(E,M);return Z.concat([[s,U]],Q)}return c(x,N)}function c(x,N){for(var O=x.length,j=N.length,A=Math.ceil((O+j)/2),P=A,C=2*A,k=new Array(C),E=new Array(C),I=0;I<C;I++)k[I]=-1,E[I]=-1;k[P+1]=0,E[P+1]=0;for(var M=O-j,U=M%2!=0,Z=0,Q=0,K=0,W=0,V=0;V<A;V++){for(var $=-V+Z;$<=V-Q;$+=2){var R=P+$,B;$==-V||$!=V&&k[R-1]<k[R+1]?B=k[R+1]:B=k[R-1]+1;for(var q=B-$;B<O&&q<j&&x.charAt(B)==N.charAt(q);)B++,q++;if(k[R]=B,B>O)Q+=2;else if(q>j)Z+=2;else if(U){var H=P+M-$;if(H>=0&&H<C&&E[H]!=-1){var z=O-E[H];if(B>=z)return d(x,N,B,q)}}}for(var J=-V+K;J<=V-W;J+=2){var H=P+J,z;J==-V||J!=V&&E[H-1]<E[H+1]?z=E[H+1]:z=E[H-1]+1;for(var ae=z-J;z<O&&ae<j&&x.charAt(O-z-1)==N.charAt(j-ae-1);)z++,ae++;if(E[H]=z,z>O)W+=2;else if(ae>j)K+=2;else if(!U){var R=P+M-J;if(R>=0&&R<C&&k[R]!=-1){var B=k[R],q=P+B-R;if(z=O-z,B>=z)return d(x,N,B,q)}}}}return[[i,x],[a,N]]}function d(x,N,O,j){var A=x.substring(0,O),P=N.substring(0,j),C=x.substring(O),k=N.substring(j),E=o(A,P),I=o(C,k);return E.concat(I)}function f(x,N){if(!x||!N||x.charAt(0)!=N.charAt(0))return 0;for(var O=0,j=Math.min(x.length,N.length),A=j,P=0;O<A;)x.substring(P,A)==N.substring(P,A)?(O=A,P=O):j=A,A=Math.floor((j-O)/2+O);return A}function p(x,N){if(!x||!N||x.charAt(x.length-1)!=N.charAt(N.length-1))return 0;for(var O=0,j=Math.min(x.length,N.length),A=j,P=0;O<A;)x.substring(x.length-A,x.length-P)==N.substring(N.length-A,N.length-P)?(O=A,P=O):j=A,A=Math.floor((j-O)/2+O);return A}function h(x,N){var O=x.length>N.length?x:N,j=x.length>N.length?N:x;if(O.length<4||j.length*2<O.length)return null;function A(Q,K,W){for(var V=Q.substring(W,W+Math.floor(Q.length/4)),$=-1,R="",B,q,H,z;($=K.indexOf(V,$+1))!=-1;){var J=f(Q.substring(W),K.substring($)),ae=p(Q.substring(0,W),K.substring(0,$));R.length<ae+J&&(R=K.substring($-ae,$)+K.substring($,$+J),B=Q.substring(0,W-ae),q=Q.substring(W+J),H=K.substring(0,$-ae),z=K.substring($+J))}return R.length*2>=Q.length?[B,q,H,z,R]:null}var P=A(O,j,Math.ceil(O.length/4)),C=A(O,j,Math.ceil(O.length/2)),k;if(!P&&!C)return null;C?P?k=P[4].length>C[4].length?P:C:k=C:k=P;var E,I,M,U;x.length>N.length?(E=k[0],I=k[1],M=k[2],U=k[3]):(M=k[0],U=k[1],E=k[2],I=k[3]);var Z=k[4];return[E,I,M,U,Z]}function m(x){x.push([s,""]);for(var N=0,O=0,j=0,A="",P="",C;N<x.length;)switch(x[N][0]){case a:j++,P+=x[N][1],N++;break;case i:O++,A+=x[N][1],N++;break;case s:O+j>1?(O!==0&&j!==0&&(C=f(P,A),C!==0&&(N-O-j>0&&x[N-O-j-1][0]==s?x[N-O-j-1][1]+=P.substring(0,C):(x.splice(0,0,[s,P.substring(0,C)]),N++),P=P.substring(C),A=A.substring(C)),C=p(P,A),C!==0&&(x[N][1]=P.substring(P.length-C)+x[N][1],P=P.substring(0,P.length-C),A=A.substring(0,A.length-C))),O===0?x.splice(N-j,O+j,[a,P]):j===0?x.splice(N-O,O+j,[i,A]):x.splice(N-O-j,O+j,[i,A],[a,P]),N=N-O-j+(O?1:0)+(j?1:0)+1):N!==0&&x[N-1][0]==s?(x[N-1][1]+=x[N][1],x.splice(N,1)):N++,j=0,O=0,A="",P="";break}x[x.length-1][1]===""&&x.pop();var k=!1;for(N=1;N<x.length-1;)x[N-1][0]==s&&x[N+1][0]==s&&(x[N][1].substring(x[N][1].length-x[N-1][1].length)==x[N-1][1]?(x[N][1]=x[N-1][1]+x[N][1].substring(0,x[N][1].length-x[N-1][1].length),x[N+1][1]=x[N-1][1]+x[N+1][1],x.splice(N-1,1),k=!0):x[N][1].substring(0,x[N+1][1].length)==x[N+1][1]&&(x[N-1][1]+=x[N+1][1],x[N][1]=x[N][1].substring(x[N+1][1].length)+x[N+1][1],x.splice(N+1,1),k=!0)),N++;k&&m(x)}var g=o;g.INSERT=a,g.DELETE=i,g.EQUAL=s,r.exports=g;function y(x,N){if(N===0)return[s,x];for(var O=0,j=0;j<x.length;j++){var A=x[j];if(A[0]===i||A[0]===s){var P=O+A[1].length;if(N===P)return[j+1,x];if(N<P){x=x.slice();var C=N-O,k=[A[0],A[1].slice(0,C)],E=[A[0],A[1].slice(C)];return x.splice(j,1,k,E),[j+1,x]}else O=P}}throw new Error("cursor_pos is out of bounds!")}function v(x,N){var O=y(x,N),j=O[1],A=O[0],P=j[A],C=j[A+1];if(P==null)return x;if(P[0]!==s)return x;if(C!=null&&P[1]+C[1]===C[1]+P[1])return j.splice(A,2,C,P),w(j,A,2);if(C!=null&&C[1].indexOf(P[1])===0){j.splice(A,2,[C[0],P[1]],[0,P[1]]);var k=C[1].slice(P[1].length);return k.length>0&&j.splice(A+2,0,[C[0],k]),w(j,A,3)}else return x}function b(x){for(var N=!1,O=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},j=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},A=2;A<x.length;A+=1)x[A-2][0]===s&&j(x[A-2][1])&&x[A-1][0]===i&&O(x[A-1][1])&&x[A][0]===a&&O(x[A][1])&&(N=!0,x[A-1][1]=x[A-2][1].slice(-1)+x[A-1][1],x[A][1]=x[A-2][1].slice(-1)+x[A][1],x[A-2][1]=x[A-2][1].slice(0,-1));if(!N)return x;for(var P=[],A=0;A<x.length;A+=1)x[A][1].length>0&&P.push(x[A]);return P}function w(x,N,O){for(var j=N+O-1;j>=0&&j>=N-1;j--)if(j+1<x.length){var A=x[j],P=x[j+1];A[0]===P[1]&&x.splice(j,2,[A[0],A[1]+P[1]])}return x}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var s=[];for(var o in a)s.push(o);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:s,n.supported=a;function a(o){return Object.prototype.toString.call(o)=="[object Arguments]"}n.unsupported=s;function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function o(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)i.call(f,p)&&d.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d,f){var p=a?a+d:d,h=this._events[p];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,y=new Array(g);m<g;m++)y[m]=h[m].fn;return y},l.prototype.emit=function(d,f,p,h,m,g){var y=a?a+d:d;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,x;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,p),!0;case 4:return v.fn.call(v.context,f,p,h),!0;case 5:return v.fn.call(v.context,f,p,h,m),!0;case 6:return v.fn.call(v.context,f,p,h,m,g),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];v.fn.apply(v.context,w)}else{var N=v.length,O;for(x=0;x<N;x++)switch(v[x].once&&this.removeListener(d,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,f);break;case 3:v[x].fn.call(v[x].context,f,p);break;case 4:v[x].fn.call(v[x].context,f,p,h);break;default:if(!w)for(O=1,w=new Array(b-1);O<b;O++)w[O-1]=arguments[O];v[x].fn.apply(v[x].context,w)}}return!0},l.prototype.on=function(d,f,p){var h=new o(f,p||this),m=a?a+d:d;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.once=function(d,f,p){var h=new o(f,p||this,!0),m=a?a+d:d;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.removeListener=function(d,f,p,h){var m=a?a+d:d;if(!this._events[m])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var g=this._events[m];if(g.fn)g.fn===f&&(!h||g.once)&&(!p||g.context===p)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==f||h&&!g[y].once||p&&g[y].context!==p)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=a?a+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},s=function(){function xe(fe,he){var pe=[],be=!0,Ce=!1,Me=void 0;try{for(var Ie=fe[Symbol.iterator](),He;!(be=(He=Ie.next()).done)&&(pe.push(He.value),!(he&&pe.length===he));be=!0);}catch(Ze){Ce=!0,Me=Ze}finally{try{!be&&Ie.return&&Ie.return()}finally{if(Ce)throw Me}}return pe}return function(fe,he){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return xe(fe,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function xe(fe,he){for(var pe=0;pe<he.length;pe++){var be=he[pe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(fe,be.key,be)}}return function(fe,he,pe){return he&&xe(fe.prototype,he),pe&&xe(fe,pe),fe}}(),l=i(3),c=E(l),d=i(2),f=E(d),p=i(0),h=E(p),m=i(5),g=E(m),y=i(10),v=E(y),b=i(9),w=E(b),x=i(36),N=i(37),O=i(13),j=E(O),A=i(26),P=i(38),C=i(39),k=i(40);function E(xe){return xe&&xe.__esModule?xe:{default:xe}}function I(xe,fe,he){return fe in xe?Object.defineProperty(xe,fe,{value:he,enumerable:!0,configurable:!0,writable:!0}):xe[fe]=he,xe}function M(xe,fe){if(!(xe instanceof fe))throw new TypeError("Cannot call a class as a function")}function U(xe,fe){if(!xe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:xe}function Z(xe,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);xe.prototype=Object.create(fe&&fe.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(xe,fe):xe.__proto__=fe)}var Q=(0,v.default)("quill:clipboard"),K="__ql-matcher",W=[[Node.TEXT_NODE,Be],[Node.TEXT_NODE,ve],["br",ge],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,We],["li",ke],["b",ae.bind(ae,"bold")],["i",ae.bind(ae,"italic")],["style",de]],V=[x.AlignAttribute,P.DirectionAttribute].reduce(function(xe,fe){return xe[fe.keyName]=fe,xe},{}),$=[x.AlignStyle,N.BackgroundStyle,A.ColorStyle,P.DirectionStyle,C.FontStyle,k.SizeStyle].reduce(function(xe,fe){return xe[fe.keyName]=fe,xe},{}),R=function(xe){Z(fe,xe);function fe(he,pe){M(this,fe);var be=U(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,he,pe));return be.quill.root.addEventListener("paste",be.onPaste.bind(be)),be.container=be.quill.addContainer("ql-clipboard"),be.container.setAttribute("contenteditable",!0),be.container.setAttribute("tabindex",-1),be.matchers=[],W.concat(be.options.matchers).forEach(function(Ce){var Me=s(Ce,2),Ie=Me[0],He=Me[1];!pe.matchVisual&&He===ie||be.addMatcher(Ie,He)}),be}return o(fe,[{key:"addMatcher",value:function(pe,be){this.matchers.push([pe,be])}},{key:"convert",value:function(pe){if(typeof pe=="string")return this.container.innerHTML=pe.replace(/\>\r?\n +\</g,"><"),this.convert();var be=this.quill.getFormat(this.quill.selection.savedRange.index);if(be[j.default.blotName]){var Ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Ce,I({},j.default.blotName,be[j.default.blotName]))}var Me=this.prepareMatching(),Ie=s(Me,2),He=Ie[0],Ze=Ie[1],$e=J(this.container,He,Ze);return H($e,`
`)&&$e.ops[$e.ops.length-1].attributes==null&&($e=$e.compose(new f.default().retain($e.length()-1).delete(1))),Q.log("convert",this.container.innerHTML,$e),this.container.innerHTML="",$e}},{key:"dangerouslyPasteHTML",value:function(pe,be){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof pe=="string")this.quill.setContents(this.convert(pe),be),this.quill.setSelection(0,g.default.sources.SILENT);else{var Me=this.convert(be);this.quill.updateContents(new f.default().retain(pe).concat(Me),Ce),this.quill.setSelection(pe+Me.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(pe){var be=this;if(!(pe.defaultPrevented||!this.quill.isEnabled())){var Ce=this.quill.getSelection(),Me=new f.default().retain(Ce.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){Me=Me.concat(be.convert()).delete(Ce.length),be.quill.updateContents(Me,g.default.sources.USER),be.quill.setSelection(Me.length()-Ce.length,g.default.sources.SILENT),be.quill.scrollingContainer.scrollTop=Ie,be.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var pe=this,be=[],Ce=[];return this.matchers.forEach(function(Me){var Ie=s(Me,2),He=Ie[0],Ze=Ie[1];switch(He){case Node.TEXT_NODE:Ce.push(Ze);break;case Node.ELEMENT_NODE:be.push(Ze);break;default:[].forEach.call(pe.container.querySelectorAll(He),function($e){$e[K]=$e[K]||[],$e[K].push(Ze)});break}}),[be,Ce]}}]),fe}(w.default);R.DEFAULTS={matchers:[],matchVisual:!0};function B(xe,fe,he){return(typeof fe>"u"?"undefined":a(fe))==="object"?Object.keys(fe).reduce(function(pe,be){return B(pe,be,fe[be])},xe):xe.reduce(function(pe,be){return be.attributes&&be.attributes[fe]?pe.push(be):pe.insert(be.insert,(0,c.default)({},I({},fe,he),be.attributes))},new f.default)}function q(xe){if(xe.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return xe[fe]||(xe[fe]=window.getComputedStyle(xe))}function H(xe,fe){for(var he="",pe=xe.ops.length-1;pe>=0&&he.length<fe.length;--pe){var be=xe.ops[pe];if(typeof be.insert!="string")break;he=be.insert+he}return he.slice(-1*fe.length)===fe}function z(xe){if(xe.childNodes.length===0)return!1;var fe=q(xe);return["block","list-item"].indexOf(fe.display)>-1}function J(xe,fe,he){return xe.nodeType===xe.TEXT_NODE?he.reduce(function(pe,be){return be(xe,pe)},new f.default):xe.nodeType===xe.ELEMENT_NODE?[].reduce.call(xe.childNodes||[],function(pe,be){var Ce=J(be,fe,he);return be.nodeType===xe.ELEMENT_NODE&&(Ce=fe.reduce(function(Me,Ie){return Ie(be,Me)},Ce),Ce=(be[K]||[]).reduce(function(Me,Ie){return Ie(be,Me)},Ce)),pe.concat(Ce)},new f.default):new f.default}function ae(xe,fe,he){return B(he,xe,!0)}function X(xe,fe){var he=h.default.Attributor.Attribute.keys(xe),pe=h.default.Attributor.Class.keys(xe),be=h.default.Attributor.Style.keys(xe),Ce={};return he.concat(pe).concat(be).forEach(function(Me){var Ie=h.default.query(Me,h.default.Scope.ATTRIBUTE);Ie!=null&&(Ce[Ie.attrName]=Ie.value(xe),Ce[Ie.attrName])||(Ie=V[Me],Ie!=null&&(Ie.attrName===Me||Ie.keyName===Me)&&(Ce[Ie.attrName]=Ie.value(xe)||void 0),Ie=$[Me],Ie!=null&&(Ie.attrName===Me||Ie.keyName===Me)&&(Ie=$[Me],Ce[Ie.attrName]=Ie.value(xe)||void 0))}),Object.keys(Ce).length>0&&(fe=B(fe,Ce)),fe}function le(xe,fe){var he=h.default.query(xe);if(he==null)return fe;if(he.prototype instanceof h.default.Embed){var pe={},be=he.value(xe);be!=null&&(pe[he.blotName]=be,fe=new f.default().insert(pe,he.formats(xe)))}else typeof he.formats=="function"&&(fe=B(fe,he.blotName,he.formats(xe)));return fe}function ge(xe,fe){return H(fe,`
`)||fe.insert(`
`),fe}function de(){return new f.default}function ke(xe,fe){var he=h.default.query(xe);if(he==null||he.blotName!=="list-item"||!H(fe,`
`))return fe;for(var pe=-1,be=xe.parentNode;!be.classList.contains("ql-clipboard");)(h.default.query(be)||{}).blotName==="list"&&(pe+=1),be=be.parentNode;return pe<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:pe}))}function ve(xe,fe){return H(fe,`
`)||(z(xe)||fe.length()>0&&xe.nextSibling&&z(xe.nextSibling))&&fe.insert(`
`),fe}function ie(xe,fe){if(z(xe)&&xe.nextElementSibling!=null&&!H(fe,`

`)){var he=xe.offsetHeight+parseFloat(q(xe).marginTop)+parseFloat(q(xe).marginBottom);xe.nextElementSibling.offsetTop>xe.offsetTop+he*1.5&&fe.insert(`
`)}return fe}function We(xe,fe){var he={},pe=xe.style||{};return pe.fontStyle&&q(xe).fontStyle==="italic"&&(he.italic=!0),pe.fontWeight&&(q(xe).fontWeight.startsWith("bold")||parseInt(q(xe).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(fe=B(fe,he)),parseFloat(pe.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Be(xe,fe){var he=xe.data;if(xe.parentNode.tagName==="O:P")return fe.insert(he.trim());if(he.trim().length===0&&xe.parentNode.classList.contains("ql-clipboard"))return fe;if(!q(xe.parentNode).whiteSpace.startsWith("pre")){var pe=function(Ce,Me){return Me=Me.replace(/[^\u00a0]/g,""),Me.length<1&&Ce?" ":Me};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,pe.bind(pe,!0)),(xe.previousSibling==null&&z(xe.parentNode)||xe.previousSibling!=null&&z(xe.previousSibling))&&(he=he.replace(/^\s+/,pe.bind(pe,!1))),(xe.nextSibling==null&&z(xe.parentNode)||xe.nextSibling!=null&&z(xe.nextSibling))&&(he=he.replace(/\s+$/,pe.bind(pe,!1)))}return fe.insert(he)}n.default=R,n.matchAttributor=X,n.matchBlot=le,n.matchNewline=ve,n.matchSpacing=ie,n.matchText=Be},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(6),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"optimize",value:function(v){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function k(E,I){var M=[],U=!0,Z=!1,Q=void 0;try{for(var K=E[Symbol.iterator](),W;!(U=(W=K.next()).done)&&(M.push(W.value),!(I&&M.length===I));U=!0);}catch(V){Z=!0,Q=V}finally{try{!U&&K.return&&K.return()}finally{if(Z)throw Q}}return M}return function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(E,I){for(var M=0;M<I.length;M++){var U=I[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}return function(E,I,M){return I&&k(E.prototype,I),M&&k(E,M),E}}(),o=i(2),l=v(o),c=i(0),d=v(c),f=i(5),p=v(f),h=i(10),m=v(h),g=i(9),y=v(g);function v(k){return k&&k.__esModule?k:{default:k}}function b(k,E,I){return E in k?Object.defineProperty(k,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[E]=I,k}function w(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function x(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function N(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var O=(0,m.default)("quill:toolbar"),j=function(k){N(E,k);function E(I,M){w(this,E);var U=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,M));if(Array.isArray(U.options.container)){var Z=document.createElement("div");P(Z,U.options.container),I.container.parentNode.insertBefore(Z,I.container),U.container=Z}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var Q;return Q=O.error("Container required for toolbar",U.options),x(U,Q)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(K){U.addHandler(K,U.options.handlers[K])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(K){U.attach(K)}),U.quill.on(p.default.events.EDITOR_CHANGE,function(K,W){K===p.default.events.SELECTION_CHANGE&&U.update(W)}),U.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var K=U.quill.selection.getRange(),W=a(K,1),V=W[0];U.update(V)}),U}return s(E,[{key:"addHandler",value:function(M,U){this.handlers[M]=U}},{key:"attach",value:function(M){var U=this,Z=[].find.call(M.classList,function(K){return K.indexOf("ql-")===0});if(Z){if(Z=Z.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[Z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Z]==null){O.warn("ignoring attaching to disabled format",Z,M);return}if(d.default.query(Z)==null){O.warn("ignoring attaching to nonexistent format",Z,M);return}}var Q=M.tagName==="SELECT"?"change":"click";M.addEventListener(Q,function(K){var W=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var V=M.options[M.selectedIndex];V.hasAttribute("selected")?W=!1:W=V.value||!1}else M.classList.contains("ql-active")?W=!1:W=M.value||!M.hasAttribute("value"),K.preventDefault();U.quill.focus();var $=U.quill.selection.getRange(),R=a($,1),B=R[0];if(U.handlers[Z]!=null)U.handlers[Z].call(U,W);else if(d.default.query(Z).prototype instanceof d.default.Embed){if(W=prompt("Enter "+Z),!W)return;U.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(b({},Z,W)),p.default.sources.USER)}else U.quill.format(Z,W,p.default.sources.USER);U.update(B)}),this.controls.push([Z,M])}}},{key:"update",value:function(M){var U=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(Z){var Q=a(Z,2),K=Q[0],W=Q[1];if(W.tagName==="SELECT"){var V=void 0;if(M==null)V=null;else if(U[K]==null)V=W.querySelector("option[selected]");else if(!Array.isArray(U[K])){var $=U[K];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),V=W.querySelector('option[value="'+$+'"]')}V==null?(W.value="",W.selectedIndex=-1):V.selected=!0}else if(M==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var R=U[K]===W.getAttribute("value")||U[K]!=null&&U[K].toString()===W.getAttribute("value")||U[K]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",R)}else W.classList.toggle("ql-active",U[K]!=null)})}}]),E}(y.default);j.DEFAULTS={};function A(k,E,I){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+E),I!=null&&(M.value=I),k.appendChild(M)}function P(k,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(I){var M=document.createElement("span");M.classList.add("ql-formats"),I.forEach(function(U){if(typeof U=="string")A(M,U);else{var Z=Object.keys(U)[0],Q=U[Z];Array.isArray(Q)?C(M,Z,Q):A(M,Z,Q)}}),k.appendChild(M)})}function C(k,E,I){var M=document.createElement("select");M.classList.add("ql-"+E),I.forEach(function(U){var Z=document.createElement("option");U!==!1?Z.setAttribute("value",U):Z.setAttribute("selected","selected"),M.appendChild(Z)}),k.appendChild(M)}j.DEFAULTS={container:null,handlers:{clean:function(){var E=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&E.quill.format(U,!1)})}else this.quill.removeFormat(I,p.default.sources.USER)},direction:function(E){var I=this.quill.getFormat().align;E==="rtl"&&I==null?this.quill.format("align","right",p.default.sources.USER):!E&&I==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",E,p.default.sources.USER)},indent:function(E){var I=this.quill.getSelection(),M=this.quill.getFormat(I),U=parseInt(M.indent||0);if(E==="+1"||E==="-1"){var Z=E==="+1"?1:-1;M.direction==="rtl"&&(Z*=-1),this.quill.format("indent",U+Z,p.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,p.default.sources.USER)},list:function(E){var I=this.quill.getSelection(),M=this.quill.getFormat(I);E==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",E,p.default.sources.USER)}}},n.default=j,n.addControls=P},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(28),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(y,v){d(this,g);var b=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return b.label.innerHTML=v,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),b}return a(g,[{key:"buildItem",value:function(v){var b=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,v);return b.style.backgroundColor=v.getAttribute("value")||"",b}},{key:"selectItem",value:function(v,b){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,b);var w=this.label.querySelector(".ql-color-label"),x=v&&v.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=x:w.style.fill=x)}}]),g}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(28),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(y,v){d(this,g);var b=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=v[w.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return a(g,[{key:"selectItem",value:function(v,b){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,b),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),g}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(c,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,d,f){return d&&l(c.prototype,d),f&&l(c,f),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,d){var f=this;s(this,l),this.quill=c,this.boundsContainer=d||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,p=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),g=0;if(m.right>h.right&&(g=h.right-m.right,this.root.style.left=f+g+"px"),m.left<h.left&&(g=h.left-m.left,this.root.style.left=f+g+"px"),m.bottom>h.bottom){var y=m.bottom-m.top,v=d.bottom-d.top+y;this.root.style.top=p-v+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(k,E){var I=[],M=!0,U=!1,Z=void 0;try{for(var Q=k[Symbol.iterator](),K;!(M=(K=Q.next()).done)&&(I.push(K.value),!(E&&I.length===E));M=!0);}catch(W){U=!0,Z=W}finally{try{!M&&Q.return&&Q.return()}finally{if(U)throw Z}}return I}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function C(k,E,I){k===null&&(k=Function.prototype);var M=Object.getOwnPropertyDescriptor(k,E);if(M===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:C(U,E,I)}else{if("value"in M)return M.value;var Z=M.get;return Z===void 0?void 0:Z.call(I)}},o=function(){function C(k,E){for(var I=0;I<E.length;I++){var M=E[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,M.key,M)}}return function(k,E,I){return E&&C(k.prototype,E),I&&C(k,I),k}}(),l=i(3),c=w(l),d=i(8),f=w(d),p=i(43),h=w(p),m=i(27),g=w(m),y=i(15),v=i(41),b=w(v);function w(C){return C&&C.__esModule?C:{default:C}}function x(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function N(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function O(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=function(C){O(k,C);function k(E,I){x(this,k),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=j);var M=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,I));return M.quill.container.classList.add("ql-snow"),M}return o(k,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),b.default),this.tooltip=new P(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,U){I.handlers.link.call(I,!U.format.link)})}}]),k}(h.default);A.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var E=this.quill.getSelection();if(E==null||E.length==0)return;var I=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var M=this.quill.theme.tooltip;M.edit("link",I)}else this.quill.format("link",!1)}}}}});var P=function(C){O(k,C);function k(E,I){x(this,k);var M=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,I));return M.preview=M.root.querySelector("a.ql-preview"),M}return o(k,[{key:"listen",value:function(){var I=this;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(I.linkRange!=null){var U=I.linkRange;I.restoreFocus(),I.quill.formatText(U,"link",!1,f.default.sources.USER),delete I.linkRange}M.preventDefault(),I.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(M,U,Z){if(M!=null){if(M.length===0&&Z===f.default.sources.USER){var Q=I.quill.scroll.descendant(g.default,M.index),K=a(Q,2),W=K[0],V=K[1];if(W!=null){I.linkRange=new y.Range(M.index-V,W.length());var $=g.default.formats(W.domNode);I.preview.textContent=$,I.preview.setAttribute("href",$),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(p.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=A},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),s=be(a),o=i(36),l=i(38),c=i(64),d=i(65),f=be(d),p=i(66),h=be(p),m=i(67),g=be(m),y=i(37),v=i(26),b=i(39),w=i(40),x=i(56),N=be(x),O=i(68),j=be(O),A=i(27),P=be(A),C=i(69),k=be(C),E=i(70),I=be(E),M=i(71),U=be(M),Z=i(72),Q=be(Z),K=i(73),W=be(K),V=i(13),$=be(V),R=i(74),B=be(R),q=i(75),H=be(q),z=i(57),J=be(z),ae=i(41),X=be(ae),le=i(28),ge=be(le),de=i(59),ke=be(de),ve=i(60),ie=be(ve),We=i(61),Be=be(We),xe=i(108),fe=be(xe),he=i(62),pe=be(he);function be(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":b.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":$.default,"formats/header":h.default,"formats/list":g.default,"formats/bold":N.default,"formats/code":V.Code,"formats/italic":j.default,"formats/link":P.default,"formats/script":k.default,"formats/strike":I.default,"formats/underline":U.default,"formats/image":Q.default,"formats/video":W.default,"formats/list/item":m.ListItem,"modules/formula":B.default,"modules/syntax":H.default,"modules/toolbar":J.default,"themes/bubble":fe.default,"themes/snow":pe.default,"ui/icons":X.default,"ui/picker":ge.default,"ui/icon-picker":ie.default,"ui/color-picker":ke.default,"ui/tooltip":Be.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function g(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&g(y.prototype,v),b&&g(y,b),y}}(),s=function g(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:g(x,v,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){p(y,g);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"add",value:function(b,w){if(w==="+1"||w==="-1"){var x=this.value(b)||0;w=w==="+1"?x+1:x-1}return w===0?(this.remove(b),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,b,w)}},{key:"canAdd",value:function(b,w){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,b,w)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,b,parseInt(w))}},{key:"value",value:function(b){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b))||void 0}}]),y}(l.default.Attributor.Class),m=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&h(m.prototype,g),y&&h(m,y),m}}(),s=i(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function f(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var p=function(h){f(m,h);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),m}(o.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function x(N,O){for(var j=0;j<O.length;j++){var A=O[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,O,j){return O&&x(N.prototype,O),j&&x(N,j),N}}(),s=function x(N,O,j){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,O);if(A===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:x(P,O,j)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(j)}},o=i(0),l=h(o),c=i(4),d=h(c),f=i(25),p=h(f);function h(x){return x&&x.__esModule?x:{default:x}}function m(x,N,O){return N in x?Object.defineProperty(x,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[N]=O,x}function g(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}function y(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:x}function v(x,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);x.prototype=Object.create(N&&N.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(x,N):x.__proto__=N)}var b=function(x){v(N,x);function N(){return g(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"format",value:function(j,A){j===w.blotName&&!A?this.replaceWith(l.default.create(this.statics.scope)):s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,j,A)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,A){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,A),this):(this.parent.unwrap(),s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,j,A))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:s(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,j)}}]),N}(d.default);b.blotName="list-item",b.tagName="LI";var w=function(x){v(N,x),a(N,null,[{key:"create",value:function(j){var A=j==="ordered"?"OL":"UL",P=s(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,A);return(j==="checked"||j==="unchecked")&&P.setAttribute("data-checked",j==="checked"),P}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(O){g(this,N);var j=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O)),A=function(C){if(C.target.parentNode===O){var k=j.statics.formats(O),E=l.default.find(C.target);k==="checked"?E.format("list","unchecked"):k==="unchecked"&&E.format("list","checked")}};return O.addEventListener("touchstart",A),O.addEventListener("mousedown",A),j}return a(N,[{key:"format",value:function(j,A){this.children.length>0&&this.children.tail.format(j,A)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,A){if(j instanceof b)s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,j,A);else{var P=A==null?this.length():A.offset(this),C=this.split(P);C.parent.insertBefore(j,C)}}},{key:"optimize",value:function(j){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,j);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var A=l.default.create(this.statics.defaultChild);j.moveChildren(A),this.appendChild(A)}s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,j)}}]),N}(p.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[b],n.ListItem=b,n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(g,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,y,v)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(v)}},o=i(6),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){p(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),g}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f=function(p){d(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(0),l=d(o),c=i(27);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=["alt","height","width"],g=function(y){h(v,y);function v(){return f(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"format",value:function(w,x){m.indexOf(w)>-1?x?this.domNode.setAttribute(w,x):this.domNode.removeAttribute(w):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,x)}}],[{key:"create",value:function(w){var x=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return typeof w=="string"&&x.setAttribute("src",this.sanitize(w)),x}},{key:"formats",value:function(w){return m.reduce(function(x,N){return w.hasAttribute(N)&&(x[N]=w.getAttribute(N)),x},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(l.default.Embed);g.blotName="image",g.tagName="IMG",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),s=function y(v,b,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(w)}},o=i(4),l=i(27),c=d(l);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=["height","width"],g=function(y){h(v,y);function v(){return f(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"format",value:function(w,x){m.indexOf(w)>-1?x?this.domNode.setAttribute(w,x):this.domNode.removeAttribute(w):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,x)}}],[{key:"create",value:function(w){var x=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(w)),x}},{key:"formats",value:function(w){return m.reduce(function(x,N){return w.hasAttribute(N)&&(x[N]=w.getAttribute(N)),x},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function w(x,N){for(var O=0;O<N.length;O++){var j=N[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,N,O){return N&&w(x.prototype,N),O&&w(x,O),x}}(),s=function w(x,N,O){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,N);if(j===void 0){var A=Object.getPrototypeOf(x);return A===null?void 0:w(A,N,O)}else{if("value"in j)return j.value;var P=j.get;return P===void 0?void 0:P.call(O)}},o=i(35),l=h(o),c=i(5),d=h(c),f=i(9),p=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function g(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function y(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var v=function(w){y(x,w);function x(){return m(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(O){var j=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",O)),j}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),x}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var b=function(w){y(x,w),a(x,null,[{key:"register",value:function(){d.default.register(v,!0)}}]);function x(){m(this,x);var N=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return x}(p.default);n.FormulaBlot=v,n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function O(j,A){for(var P=0;P<A.length;P++){var C=A[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}return function(j,A,P){return A&&O(j.prototype,A),P&&O(j,P),j}}(),s=function O(j,A,P){j===null&&(j=Function.prototype);var C=Object.getOwnPropertyDescriptor(j,A);if(C===void 0){var k=Object.getPrototypeOf(j);return k===null?void 0:O(k,A,P)}else{if("value"in C)return C.value;var E=C.get;return E===void 0?void 0:E.call(P)}},o=i(0),l=g(o),c=i(5),d=g(c),f=i(9),p=g(f),h=i(13),m=g(h);function g(O){return O&&O.__esModule?O:{default:O}}function y(O,j){if(!(O instanceof j))throw new TypeError("Cannot call a class as a function")}function v(O,j){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:O}function b(O,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);O.prototype=Object.create(j&&j.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(O,j):O.__proto__=j)}var w=function(O){b(j,O);function j(){return y(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),j}(m.default);w.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),N=function(O){b(j,O),a(j,null,[{key:"register",value:function(){d.default.register(x,!0),d.default.register(w,!0)}}]);function j(A,P){y(this,j);var C=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,A,P));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return C.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){C.highlight(),k=null},C.options.interval)}),C.highlight(),C}return a(j,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(k){k.highlight(P.options.highlight)}),this.quill.update(d.default.sources.SILENT),C!=null&&this.quill.setSelection(C,d.default.sources.SILENT)}}}]),j}(p.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var j=window.hljs.highlightAuto(O);return j.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=x,n.default=N},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function j(A,P,C){A===null&&(A=Function.prototype);var k=Object.getOwnPropertyDescriptor(A,P);if(k===void 0){var E=Object.getPrototypeOf(A);return E===null?void 0:j(E,P,C)}else{if("value"in k)return k.value;var I=k.get;return I===void 0?void 0:I.call(C)}},s=function(){function j(A,P){for(var C=0;C<P.length;C++){var k=P[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,P,C){return P&&j(A.prototype,P),C&&j(A,C),A}}(),o=i(3),l=y(o),c=i(8),d=y(c),f=i(43),p=y(f),h=i(15),m=i(41),g=y(m);function y(j){return j&&j.__esModule?j:{default:j}}function v(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}function b(j,A){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:j}function w(j,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);j.prototype=Object.create(A&&A.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(j,A):j.__proto__=A)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(j){w(A,j);function A(P,C){v(this,A),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=x);var k=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,C));return k.quill.container.classList.add("ql-bubble"),k}return s(A,[{key:"extendToolbar",value:function(C){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),g.default)}}]),A}(p.default);N.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(j){w(A,j);function A(P,C){v(this,A);var k=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,C));return k.quill.on(d.default.events.EDITOR_CHANGE,function(E,I,M,U){if(E===d.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&U===d.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var Z=k.quill.getLines(I.index,I.length);if(Z.length===1)k.position(k.quill.getBounds(I));else{var Q=Z[Z.length-1],K=k.quill.getIndex(Q),W=Math.min(Q.length()-1,I.index+I.length-K),V=k.quill.getBounds(new h.Range(K,W));k.position(V)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return s(A,[{key:"listen",value:function(){var C=this;a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var k=C.quill.getSelection();k!=null&&C.position(C.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var k=a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"position",this).call(this,C),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",k===0)return k;E.style.marginLeft=-1*k-E.offsetWidth/2+"px"}}]),A}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=N},function(r,n,i){r.exports=i(63)}]).default})})(q8);var jJ=q8.exports,kJ=na&&na.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cv=na&&na.__assign||function(){return cv=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cv.apply(this,arguments)},AJ=na&&na.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n},Py=na&&na.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ns=Py(T),EJ=Py(by),uh=Py(SJ),mk=Py(jJ),OJ=function(e){kJ(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,s,o,l){var c,d,f,p;a==="text-change"?(d=(c=n).onEditorChangeText)===null||d===void 0||d.call(c,n.editor.root.innerHTML,s,l,n.unprivilegedEditor):a==="selection-change"&&((p=(f=n).onEditorChangeSelection)===null||p===void 0||p.call(f,s,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return t.prototype.validateProps=function(r){var n;if(Ns.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ns.default.Children.count(r.children)){var i=Ns.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var s=this.getEditorContents(),o=(a=r.value,a??"");this.isEqualValue(o,s)||this.setEditorContents(this.editor,o)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),AJ(this.cleanProps,this.dirtyProps).some(function(l){return!uh.default(r[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!uh.default(r[i],n.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var o=this.regenerationSnapshot,a=o.delta,l=o.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(a),gk(function(){return i.setEditorSelection(c,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var i=new mk.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?uh.default(r.ops,n.ops):uh.default(r,n)},t.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),gk(function(){return i.setEditorSelection(r,a)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=EJ.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,s=this.state.generation,o={key:s,ref:function(l){r.editingArea=l}};return Ns.default.Children.count(i)?Ns.default.cloneElement(Ns.default.Children.only(i),o):a?Ns.default.createElement("pre",cv({},o)):Ns.default.createElement("div",cv({},o))},t.prototype.render=function(){var r;return Ns.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,i,a){var s,o;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(o=(s=this.props).onChange)===null||o===void 0||o.call(s,r,n,i,a))}},t.prototype.onEditorChangeSelection=function(r,n,i){var a,s,o,l,c,d;if(this.editor){var f=this.getEditorSelection(),p=!f&&r,h=f&&!r;uh.default(r,f)||(this.selection=r,(s=(a=this.props).onChangeSelection)===null||s===void 0||s.call(a,r,n,i),p?(l=(o=this.props).onFocus)===null||l===void 0||l.call(o,r,n,i):h&&((d=(c=this.props).onBlur)===null||d===void 0||d.call(c,f,n,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=mk.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Ns.default.Component);function gk(e){Promise.resolve().then(e)}var PJ=OJ;const k0=Fs(PJ),z8=(e="noah-smart-fitness-watch")=>`simulation_data_${e}`,W8=(e="noah-smart-fitness-watch")=>`simulation_progress_${e}`,CJ="noah_simulation_data",TJ="noah_simulation_progress",gi=(e,t,r="noah-smart-fitness-watch")=>{try{const n=Wp(r);return n[e]={...t,savedAt:new Date().toISOString()},localStorage.setItem(z8(r),JSON.stringify(n)),!0}catch(n){return console.error("Error saving task data:",n),!1}},Ra=(e,t="noah-smart-fitness-watch")=>{try{return Wp(t)[e]||null}catch(r){return console.error("Error getting task data:",r),null}},Wp=(e="noah-smart-fitness-watch")=>{try{const t=localStorage.getItem(z8(e));if(t)return JSON.parse(t);if(e==="noah-smart-fitness-watch"){const r=localStorage.getItem(CJ);if(r)return JSON.parse(r)}return{}}catch(t){return console.error("Error getting all task data:",t),{}}},ca=(e,t="noah-smart-fitness-watch")=>{try{const r=dl(t);return r.completedTasks=[...new Set([...r.completedTasks,e])],r.lastUpdated=new Date().toISOString(),localStorage.setItem(W8(t),JSON.stringify(r)),!0}catch(r){return console.error("Error marking task complete:",r),!1}},dl=(e="noah-smart-fitness-watch")=>{try{const t=localStorage.getItem(W8(e));if(t)return JSON.parse(t);if(e==="noah-smart-fitness-watch"){const r=localStorage.getItem(TJ);if(r)return JSON.parse(r)}return{completedTasks:[],startedAt:new Date().toISOString(),lastUpdated:null}}catch(t){return console.error("Error getting progress:",t),{completedTasks:[],startedAt:new Date().toISOString(),lastUpdated:null}}},vk=(e="noah-smart-fitness-watch",t=null)=>{const r=dl(e);return(t||["task1","task2","task3","task4","task5","task6","task7"]).every(i=>r.completedTasks.includes(i))},qc={task1:{targetMarket:["persona","target","age","demographic","segment","user","customer"],userNeeds:["need","requirement","want","desire","pain","problem","challenge"],competitive:["competitor","competitive","differentiator","advantage","unique","vs","versus"],constraints:["regulatory","hipaa","privacy","battery","price","cost","budget","constraint","limit","regulation"]},task6:{battery:["battery","power","charge","life","endurance"],accuracy:["accuracy","accurate","step","count","sensor","measurement","precise"],retention:["retention","churn","drop","leave","abandon"]}},LJ=e=>Math.round(e/5*100),zc=(e,t)=>{if(!e)return 0;const r=e.toLowerCase(),n=t.filter(i=>r.includes(i.toLowerCase())).length;return Math.min(n/t.length,1)},D_=e=>{const{targetMarket:t,userNeeds:r,competitiveDiff:n,constraints:i}=e,a=`${t||""} ${r||""} ${n||""} ${i||""}`.toLowerCase(),s=Math.min(zc(t,qc.task1.targetMarket)*5,5)+(t&&t.length>50?1:0),o=Math.min(zc(r,qc.task1.userNeeds)*5,5)+(r&&r.split(",").length>=3?1:0),l=Math.min(zc(n,qc.task1.competitive)*5,5)+(n&&n.length>30?.5:0),c=Math.min(zc(i||a,qc.task1.constraints)*5,5),d={targetMarket:Math.min(s,5),userNeeds:Math.min(o,5),competitive:Math.min(l,5),constraints:Math.min(c,5)},f=d.targetMarket*.3+d.userNeeds*.3+d.competitive*.2+d.constraints*.2;return{score:LJ(f),breakdown:d,strengths:xu(d),improvements:wu(d)}},M_=e=>{const{selectedRoles:t,techStack:r}=e;let n=0;const i={},a=t==null?void 0:t.some(b=>b.id==="embedded-eng"),s=t==null?void 0:t.some(b=>b.id==="compliance"),o=t==null?void 0:t.some(b=>b.id==="backend-eng"),l=t==null?void 0:t.some(b=>b.id==="mobile-dev"),c=t==null?void 0:t.some(b=>b.id==="ux-designer"),d=((a?1:0)*.2+(s?1:0)*.2+(o?1:0)*.15+(l?1:0)*.15+(c?1:0)*.15+((t==null?void 0:t.length)>=5?.15:0))*5;i.roleCoverage=d,n+=d*.4;const f=(r==null?void 0:r.backend)&&r.backend.length>0,p=(r==null?void 0:r.database)&&r.database.length>0,h=(r==null?void 0:r.cloud)&&r.cloud.length>0,m=((f?1:0)*.33+(p?1:0)*.33+(h?1:0)*.34)*5;i.stackSuitability=m,n+=m*.3;const y=(e.hiringTimeline&&parseInt(e.hiringTimeline)>0?4:2)+(e.hiringTimeline&&parseInt(e.hiringTimeline)>=8?1:0);i.resourcesTimeline=y,n+=y*.2;const v=e.budget?4:2;return i.costAwareness=v,n+=v*.1,{score:Math.min(Math.round(n),100),breakdown:i,warnings:[!a&&"Warning: Embedded Engineer is essential for IoT device development",!s&&"Warning: Regulatory/Compliance role is critical for healthcare products"].filter(Boolean),strengths:xu(i),improvements:wu(i)}},B_=e=>{const{phases:t}=e;let r=0;const n={},i=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("discovery")||g.name.toLowerCase().includes("ideation")),a=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("development")||g.name.toLowerCase().includes("build")),s=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("test")||g.name.toLowerCase().includes("certification")),o=t==null?void 0:t.some(g=>g.name.toLowerCase().includes("deploy")||g.name.toLowerCase().includes("launch")),l=((i?1:0)*.25+(a?1:0)*.25+(s?1:0)*.25+(o?1:0)*.25)*5;n.completeness=l,r+=l*.35;const c=(t==null?void 0:t.reduce((g,y)=>g+(parseInt(y.duration)||0),0))||0,d=c>=12&&c<=52?5:c>=8&&c<12?3:c>52?2:1;n.durations=d,r+=d*.25;const p=((t==null?void 0:t.some(g=>{var y;return g.name.toLowerCase().includes("mvp")||((y=g.deliverables)==null?void 0:y.toLowerCase().includes("mvp"))}))?3:1)+((t==null?void 0:t.length)>=4?2:1);n.prioritization=p,r+=p*.25;const m=(t==null?void 0:t.some(g=>g.risks&&g.risks.length>0))||e.overallRisks?4:2;return n.riskIdentification=m,r+=m*.15,{score:Math.min(Math.round(r),100),breakdown:n,warnings:[c<12&&"Warning: Timeline seems too short for IoT + app development",!s&&"Warning: Testing/certification phase is critical for healthcare devices"].filter(Boolean),strengths:xu(n),improvements:wu(n)}},F_=e=>{const{explanation:t}=e;let r=0;const n={},i=t&&t.length>50?4:2;n.userFlow=i,r+=i*.3;const s=((t==null?void 0:t.toLowerCase().includes("metric"))||(t==null?void 0:t.toLowerCase().includes("data"))?2:1)+(t&&t.length>100?2:1);n.glanceability=s,r+=s*.25;const l=(t==null?void 0:t.toLowerCase().includes("accessibility"))||(t==null?void 0:t.toLowerCase().includes("font"))||(t==null?void 0:t.toLowerCase().includes("contrast"))?4:2;n.accessibility=l,r+=l*.15;const d=t&&t.length>50?4:1;return n.rationale=d,r+=d*.3,{score:Math.min(Math.round(r),100),breakdown:n,warnings:[!t&&"Warning: Explanation text is required for full credit"].filter(Boolean),strengths:xu(n),improvements:wu(n)}},$_=e=>{const{positioning:t,pricing:r,channels:n,ambassador:i,ambassadorJustification:a}=e;let s=0;const o={},l=t&&t.length>20?4:2;o.positioning=l,s+=l*.3;const c=n&&n.length>0,d=e.kpis&&e.kpis.length>0,f=(c?2:1)+(d?2:1);o.channelsKPIs=f,s+=f*.3;const p=i&&i.id,h=a&&a.length>30,m=(p?2:0)+(h?3:1);o.ambassador=m,s+=m*.25;const g=r?4:2;return o.pricing=g,s+=g*.15,{score:Math.min(Math.round(s),100),breakdown:o,strengths:xu(o),improvements:wu(o)}},U_=e=>{const{insights:t,prioritizedActions:r,customerReplies:n}=e;let i=0;const a={},s=(t==null?void 0:t.toLowerCase())||"",o=zc(s,qc.task6.battery)>0,l=zc(s,qc.task6.accuracy)>0,c=zc(s,qc.task6.retention)>0,d=((o?1:0)*.4+(l?1:0)*.4+(c?.2:0))*5;a.insights=d,i+=d*.4;const f=r&&r.length>=3,p=r==null?void 0:r.some(w=>w.toLowerCase().includes("battery")||w.toLowerCase().includes("firmware")),h=(f?2:1)+(p?3:1);a.prioritization=h,i+=h*.3;const m=n&&n.length>=2,g=(n==null?void 0:n.map(w=>w.length))||[],y=g.length>0?g.reduce((w,x)=>w+x,0)/g.length:0,v=n==null?void 0:n.some(w=>w.toLowerCase().includes("sorry")||w.toLowerCase().includes("apologize")||w.toLowerCase().includes("understand")),b=(m?2:0)+(y>50?2:1)+(v?1:0);return a.communication=b,i+=b*.3,{score:Math.min(Math.round(i),100),breakdown:a,strengths:xu(a),improvements:wu(a)}},q_=e=>{const{pitch:t,consolidatedReport:r}=e;let n=0;const i={},a=(r==null?void 0:r.toLowerCase().includes("kpi"))||(r==null?void 0:r.toLowerCase().includes("metric")),s=(r==null?void 0:r.toLowerCase().includes("roadmap"))||(r==null?void 0:r.toLowerCase().includes("timeline")),o=(r==null?void 0:r.toLowerCase().includes("budget"))||(r==null?void 0:r.toLowerCase().includes("cost")),l=((a?1:0)*.33+(s?1:0)*.33+(o?1:0)*.34)*5;i.synthesis=l,n+=l*.4;const c=(t==null?void 0:t.length)||0,d=(t==null?void 0:t.toLowerCase().includes("invest"))||(t==null?void 0:t.toLowerCase().includes("fund"))||(t==null?void 0:t.toLowerCase().includes("support")),f=(c>100?2:1)+(c>200?2:1)+(d?1:0);i.pitch=f,n+=f*.4;const h=(t==null?void 0:t.toLowerCase().includes("next"))||(r==null?void 0:r.toLowerCase().includes("next"))||(r==null?void 0:r.toLowerCase().includes("action"))?4:2;return i.nextSteps=h,n+=h*.2,{score:Math.min(Math.round(n),100),breakdown:i,strengths:xu(i),improvements:wu(i)}},xu=(e,t)=>{const r=[],n=Object.values(e).reduce((i,a)=>i+a,0)/Object.keys(e).length;return n>=4&&r.push("Strong overall performance across all criteria"),Object.values(e).some(i=>i>=4.5)&&r.push("Excellent performance in key areas"),n>=3.5&&r.push("Good understanding of core concepts"),r.length>0?r:["Completed the task"]},wu=(e,t)=>{const r=[],n=Object.values(e).reduce((i,a)=>i+a,0)/Object.keys(e).length;return n<3&&r.push("Consider providing more detailed responses"),Object.values(e).some(i=>i<2)&&r.push("Some areas need more attention to detail"),n<4&&r.push("Review the example answers for guidance"),r.length>0?r:["Continue practicing"]},H8=e=>{const t=JW;let r=0,n=0;return Object.keys(t).forEach(i=>{var l;const a=i.replace("task",""),s=((l=e[`task${a}`])==null?void 0:l.score)||0,o=t[i]/100;r+=s*o,n+=o}),Math.round(r/n)},IJ=e=>{const{selectedOption:t,budgetRemaining:r}=e;let n=60;return(t==="B"||t==="D")&&(n+=10),t==="C"&&(n+=15),{score:Math.min(n,100),breakdown:{decision:n*.5,budgetManagement:n*.3,signalQuality:n*.2},strengths:["Made a decision under pressure","Explored initial signals"],improvements:["Consider budget implications for future loops"]}},RJ=e=>{const{selectedOption:t}=e;let r=65;return t==="B"||t==="C"?r+=20:t==="A"&&(r+=10),{score:Math.min(r,100),breakdown:{strategicThinking:r*.4,dataAnalysis:r*.3,budgetManagement:r*.3},strengths:["Chose a strategic follow-up method"],improvements:["Consider which signals complement your first loop"]}},DJ=e=>{const{selectedOption:t}=e;let r=50;return t==="A"?r=95:t==="B"?r=60:t==="C"?r=55:t==="D"&&(r=50),{score:Math.min(r,100),breakdown:{decisionQuality:r*.5,stakeholderAlignment:r*.3,evidenceBased:r*.2},strengths:t==="A"?["Excellent persona choice - aligns with market reality and evidence"]:["Made a decisive choice under pressure"],improvements:t==="A"?["Continue validating this persona"]:["Consider evidence strength and market viability when choosing personas"]}},MJ=e=>{const{selectedOption:t,budgetRemaining:r}=e;let n=70;return t==="C"?n=95:t==="A"?n=85:t==="B"?n=75:t==="D"&&(n=70),r>=5e3&&(n+=5),{score:Math.min(n,100),breakdown:{validationMethod:n*.4,budgetManagement:n*.3,signalStrength:n*.3},strengths:["Completed validation experiment","Delivered results under pressure"],improvements:["Consider conversion signals for strongest validation"]}},K8=e=>{const t={"Product Sense":0,"Technical Feasibility":0,"Teaming & Planning":0,UX:0,"GTM & Marketing":0,"Data Insights":0,Communication:0},r={...t};return Object.keys(q4).forEach(n=>{var o;const i=n.replace("task",""),a=((o=e[`task${i}`])==null?void 0:o.score)||0,s=q4[n];Object.keys(s).forEach(l=>{const c=s[l];t[l]+=a*c,r[l]+=c})}),Object.keys(t).forEach(n=>{r[n]>0&&(t[n]=Math.round(t[n]/r[n]))}),t},V8=e=>{const{selectedOption:t}=e,n=t==="opt4",i=n?100:0;return{score:i,breakdown:{selection:i},strengths:n?["Correctly identified the headline that matches the brand tone (friendly, modern, reassuring)","Recognized the importance of making saving fun and approachable for Gen Z"]:[],improvements:n?[]:["Consider the target audience (Gen Z) and brand tone (friendly, modern, reassuring)",'The correct answer emphasizes making saving "fun" which aligns with Gen Z values',"Review the brief: goal is to build trust + get signups with a friendly, modern tone"],feedback:n?"Excellent choice! This headline captures the friendly, modern tone while making saving approachable for Gen Z.":"Not quite. Consider which headline best matches a friendly, modern, reassuring tone for Gen Z."}},G8=e=>{const{response:t}=e;if(!t)return{score:0,breakdown:{},strengths:[],improvements:["Please provide an answer"],feedback:"No response provided"};const r=t.toLowerCase();let n=0;const i={};(r.includes("conversion")||r.includes("low conversion"))&&(n+=30,i.conversion=30),(r.includes("churn")||r.includes("high churn"))&&(n+=20,i.churn=20),(r.includes("email")||r.includes("click rate"))&&(n+=10,i.email=10),t.trim().split(/\s+/).filter(Boolean).length>=12&&(n+=10,i.length=10);const s=["optimize","checkout","cart","mobile","drop","funnel"];let o=0;s.forEach(d=>{r.includes(d)&&(o+=5)}),o=Math.min(o,30),n+=o,o>0&&(i.keywords=o),n=Math.min(n,100);const l=[],c=[];return n>=70?(l.push("Identified key conversion and churn issues"),l.push("Demonstrated understanding of campaign metrics")):n>=40?(l.push("Recognized some important metrics"),c.push("Consider investigating conversion rates and churn more deeply")):(c.push("Focus on the most critical problem: low conversion and high churn"),c.push("Consider how email click rates and traffic relate to conversion")),!r.includes("conversion")&&!r.includes("churn")&&c.push("The most critical issues are low conversion and high churn - these should be prioritized"),{score:n,breakdown:i,strengths:l,improvements:c,feedback:n>=70?"Great analysis! You identified the key problems: conversion and churn.":"Good start. Consider focusing on conversion rates and churn as the primary concerns."}},Y8=e=>{const{response:t}=e;if(!t)return{score:0,breakdown:{},strengths:[],improvements:["Please provide an answer"],feedback:"No response provided"};const r=t.toLowerCase();let n=0;const i={};(r.includes("auto-categorize")||r.includes("automation")||r.includes("automatic")||r.includes("auto categorize"))&&(n+=30,i.automation=30),r.includes("time")&&(r.includes("save")||r.includes("waste")||r.includes("saving")||r.includes("efficient"))&&(n+=20,i.timeSaving=20),(r.includes("daily")||r.includes("consistent")||r.includes("regular")||r.includes("every day"))&&(n+=10,i.dailyUse=10),(r.includes("effort")||r.includes("easy")||r.includes("simple")||r.includes("convenient"))&&(n+=10,i.effort=10),(r.includes("receipt")||r.includes("manual"))&&(n+=10,i.receipt=10),n+=20,i.base=20,n=Math.min(n,100);const a=[],s=[];return n>=70?(a.push("Correctly identified automation as the key value"),a.push("Understood the time-saving benefit")):n>=40?(a.push("Recognized some customer needs"),s.push("Focus on what the customer explicitly mentioned: auto-categorization")):(s.push("The customer values automation - specifically auto-categorizing receipts"),s.push("Consider the pain point: manual entry is time-consuming")),{score:n,breakdown:i,strengths:a,improvements:s,feedback:n>=70?"Excellent insight! You identified that the customer values automation and time-saving.":"Good attempt. The customer specifically mentioned auto-categorization as the key value."}},X8=e=>{const{selectedOption:t}=e,n=t==="opt1",i=n?100:0;return{score:i,breakdown:{selection:i},strengths:n?["Correctly identified the best keyword for the target audience (parents teaching teens)",'Recognized that "budgeting apps for teens" directly matches the search intent']:[],improvements:n?[]:["Consider the target audience: parents who want to teach teens money skills","The keyword should directly match what parents would search for",'"budgeting apps for teens" is the most specific and relevant keyword for this goal'],feedback:n?"Perfect! This keyword directly targets parents searching for budgeting tools for their teens.":"Not quite. Think about what parents would search for when looking to teach teens about money."}},J8=e=>{const{response:t}=e;if(!t)return{score:0,breakdown:{},strengths:[],improvements:["Please provide a reflection"],feedback:"No response provided"};const r=t.toLowerCase();let n=0;const i={},a=t.trim().split(/\s+/).filter(Boolean).length;a>=30?(n+=30,i.length=30):a>=20?(n+=20,i.length=20):(n+=10,i.length=10),["creative","analyst","marketer","customer","seo","strategist","coordinator","insights"].some(m=>r.includes(m))&&(n+=30,i.roleMention=30),["because","i liked","i enjoy","strength","reason","why","appeal"].some(m=>r.includes(m))&&(n+=20,i.reason=20),["apply","use","practice","implement","work","career"].some(m=>r.includes(m))&&(n+=10,i.application=10),n=Math.min(n,100);const p=[],h=[];return n>=70?(p.push("Well-structured reflection with clear reasoning"),p.push("Demonstrated understanding of different marketing roles")):n>=40?(p.push("Good reflection"),h.push("Consider mentioning which specific role you liked and why"),h.push("Add more detail about how you might apply these skills")):(h.push("Expand your reflection to 3-4 sentences (30+ words)"),h.push("Mention which marketing role you found most interesting"),h.push("Explain why you liked that role and how you might apply the skills")),{score:n,breakdown:i,strengths:p,improvements:h,feedback:n>=70?"Excellent reflection! You clearly articulated your preferences and reasoning.":"Good start. Consider expanding your reflection with more specific details about which role you liked and why."}},BJ=Object.freeze(Object.defineProperty({__proto__:null,calculateFinalScore:H8,calculateSkillBreakdown:K8,validateArgoTask1:V8,validateArgoTask2:G8,validateArgoTask3:Y8,validateArgoTask4:X8,validateArgoTask5:J8,validatePersonaTask1:IJ,validatePersonaTask2:RJ,validatePersonaTask3:DJ,validatePersonaTask4:MJ,validateTask1:D_,validateTask2:M_,validateTask3:B_,validateTask4:F_,validateTask5:$_,validateTask6:U_,validateTask7:q_},Symbol.toStringTag,{value:"Module"})),yk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,c]=T.useState(""),[d,f]=T.useState(""),[p,h]=T.useState(""),[m,g]=T.useState(!1),[y,v]=T.useState(!1),[b,w]=T.useState(!1),[x,N]=T.useState(null);T.useEffect(()=>{const P=Ra(n);P&&(o(P.targetMarket||""),c(P.userNeeds||""),f(P.competitiveDiff||""),h(P.constraints||""),g(P.fileUploaded||!1),w(P.submitted||!1))},[n]);const O=P=>{P.target.files[0]&&(g(!0),setTimeout(()=>{alert("File uploaded successfully!")},100))},j=()=>{const P={targetMarket:s,userNeeds:l,competitiveDiff:d,constraints:p,fileUploaded:m};gi(n,{...P,submitted:!0});const C=D_(P);N(C),w(!0),ca(n),r(n),alert("Task 1 completed successfully!")},A={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]};return u.jsx("div",{className:"max-w-5xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:u.jsxs("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),u.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Task 1: Ideation & Market Research"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Validate your ability to define target segments, identify user needs, analyze competitors, and understand product constraints for the Smart Fitness Watch."})]})]}),u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Brand Constraints"})]}),u.jsxs("ul",{className:"text-base text-gray-700 space-y-2 ml-9",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:""})," Battery life goal: 5-7 days"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:""})," Medical data privacy emphasis (HIPAA considerations)"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:""})," Price ceiling: 8,00012,000 or $100150"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:""})," Must be comfortable for all-day wear"]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Target Personas"})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:VW.map(P=>u.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-gradient-to-br from-white to-gray-50 hover:shadow-lg transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center text-3xl",children:P.avatar}),u.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:P.name})]}),u.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"Age:"})," ",P.ageRange]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"Goals:"})," ",P.goals]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"Pain Points:"})," ",P.painPoints]})]})]},P.id))})]}),u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Industry Statistics"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Market Size",value:N0.marketSize},{label:"Growth Rate",value:N0.growthRate},{label:"Avg Price",value:N0.averagePrice},{label:"Battery Expectation",value:N0.batteryExpectation}].map((P,C)=>u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[u.jsx("div",{className:"text-xs text-gray-600 mb-1 uppercase tracking-wide",children:P.label}),u.jsx("div",{className:"font-bold text-gray-900 text-lg",children:P.value})]},C))})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:u.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Top Competitors"})]}),u.jsx("div",{className:"space-y-4",children:GW.map((P,C)=>u.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-5 bg-gradient-to-br from-white to-gray-50 hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:P.name}),u.jsx("span",{className:"text-sm font-semibold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:P.price})]}),u.jsx("ul",{className:"text-sm text-gray-700 space-y-2",children:P.features.map((k,E)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500 mt-1",children:""}),u.jsx("span",{children:k})]},E))})]},C))})]}),u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Your Tasks"})]}),u.jsxs("ol",{className:"space-y-3 text-base text-gray-700",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"1."}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-gray-900",children:"Define target market and primary persona"})," (max 150 words)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"2."}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-gray-900",children:"List top 5 user needs"})," and how the watch will serve those needs"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"3."}),u.jsx("span",{children:u.jsx("strong",{className:"text-gray-900",children:"Identify 3 key competitive differentiators"})})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:"4."}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-gray-900",children:"Upload optional supporting research"})," or paste market brief below"]})]})]})]}),u.jsxs("div",{className:"space-y-8 mb-8",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"1"}),"Target Market & Primary Persona (max 150 words)"]}),u.jsx(k0,{theme:"snow",value:s,onChange:o,modules:A,placeholder:"Describe your target market segment and primary persona...",className:"bg-white rounded-lg"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-green-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"2"}),"Top 5 User Needs & How Watch Serves Them"]}),u.jsx(k0,{theme:"snow",value:l,onChange:c,modules:A,placeholder:"List user needs and explain how the watch addresses each...",className:"bg-white rounded-lg"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"3"}),"Key Competitive Differentiators"]}),u.jsx(k0,{theme:"snow",value:d,onChange:f,modules:A,placeholder:"Identify 3 key ways your product will differentiate from competitors...",className:"bg-white rounded-lg"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 border-2 border-orange-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-orange-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"4"}),"Feasibility & Constraints Awareness"]}),u.jsx(k0,{theme:"snow",value:p,onChange:h,modules:A,placeholder:"Discuss regulatory, pricing, technical constraints and how you'll address them...",className:"bg-white rounded-lg"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 border-2 border-gray-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Optional: Upload Market Research Document (PDF/PNG)"]}),u.jsx("input",{type:"file",accept:".pdf,.png,.jpg",onChange:O,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-6 file:rounded-xl file:border-0 file:text-sm file:font-bold file:bg-gradient-to-r file:from-blue-500 file:to-indigo-600 file:text-white hover:file:from-blue-600 hover:file:to-indigo-700 file:shadow-lg file:cursor-pointer"}),m&&u.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-green-600 font-semibold bg-green-50 px-4 py-2 rounded-lg",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"File uploaded successfully"]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("button",{onClick:()=>v(!y),className:"flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl hover:from-blue-600 hover:to-indigo-700 font-semibold shadow-lg hover:shadow-xl transition-all",children:[u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),y?"Hide":"Show"," Example Answer"]}),y&&u.jsxs("div",{className:"mt-4 p-6 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200 text-base text-gray-700 space-y-3",children:[u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"Target Market:"})," Primary persona is the Young Fitness Enthusiast (25-35), tech-savvy professionals who want accurate fitness tracking and health monitoring."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"User Needs:"})," 1) Accurate step counting, 2) Heart rate monitoring during workouts, 3) Sleep quality tracking, 4) Long battery life, 5) Comfortable all-day wear."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"Differentiators:"})," 1) Medical-grade sensors at consumer price, 2) HIPAA-compliant data privacy, 3) 7-day battery life vs competitors' 2-3 days."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-gray-900",children:"Constraints:"})," Must comply with healthcare regulations, maintain price under $150, ensure battery life meets expectations, and prioritize data privacy."]})]})]}),x&&u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["Task Score: ",u.jsxs("span",{className:"text-green-600",children:[x.score,"/100"]})]})]}),x.strengths.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Strengths:"}),u.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:x.strengths.map((P,C)=>u.jsx("li",{children:P},C))})]}),x.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Areas for Improvement:"}),u.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:x.improvements.map((P,C)=>u.jsx("li",{children:P},C))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-2 border-gray-200",children:[u.jsxs("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:j,disabled:b,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transition-all",children:b?"Completed ":"Submit Task"}),b&&i&&u.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 font-bold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:["Next Task",u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},bk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState([]),[l,c]=T.useState({}),[d,f]=T.useState({backend:"",database:"",mobile:"",embedded:"",cloud:"",analytics:""}),[p,h]=T.useState(""),[m,g]=T.useState(""),[y,v]=T.useState(!1),[b,w]=T.useState(null);T.useEffect(()=>{const j=Ra(n);j&&(o(j.selectedRoles||[]),c(j.roleDetails||{}),f(j.techStack||d),h(j.hiringTimeline||""),g(j.budget||""),v(j.submitted||!1))},[n]);const x=j=>{if(s.find(A=>A.id===j.id)){o(s.filter(P=>P.id!==j.id));const A={...l};delete A[j.id],c(A)}else o([...s,j]),c({...l,[j.id]:{ftePercent:100,experience:"senior",timeline:"",budget:""}})},N=(j,A,P)=>{c({...l,[j]:{...l[j],[A]:P}})},O=()=>{const j={selectedRoles:s,roleDetails:l,techStack:d,hiringTimeline:p,budget:m};gi(n,{...j,submitted:!0});const A=M_(j);w(A),v(!0),ca(n),r(n),alert("Task 2 completed successfully!")};return u.jsx("div",{className:"max-w-5xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center shadow-lg",children:u.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Task 2: Team Composition & Tech Stack"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Specify the team you will form, roles, headcount, and tech stack choices for building the Smart Fitness Watch."})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:u.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Select Team Roles"})]}),u.jsx("div",{className:"flex flex-wrap gap-3",children:YW.map(j=>{const A=s.find(P=>P.id===j.id);return u.jsxs("button",{onClick:()=>x(j),className:`px-5 py-3 rounded-xl border-2 transition-all font-semibold shadow-md hover:shadow-lg ${A?"bg-gradient-to-r from-blue-500 to-indigo-600 border-blue-600 text-white shadow-lg transform scale-105":"bg-white border-gray-200 text-gray-700 hover:border-blue-300 hover:bg-blue-50"} ${j.essential?"ring-2 ring-yellow-400":""}`,children:[j.name," ",j.essential&&u.jsx("span",{className:"text-yellow-300",children:""})]},j.id)})}),u.jsxs("p",{className:"text-sm text-gray-600 mt-3 flex items-center gap-2",children:[u.jsx("span",{className:"text-yellow-500",children:""})," Essential roles"]})]}),s.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Role Details"})]}),u.jsx("div",{className:"space-y-4",children:s.map(j=>{var A,P,C,k;return u.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-gradient-to-br from-white to-gray-50 hover:shadow-lg transition-all",children:[u.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-4",children:j.name}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"FTE %"}),u.jsxs("select",{value:((A=l[j.id])==null?void 0:A.ftePercent)||100,onChange:E=>N(j.id,"ftePercent",parseInt(E.target.value)),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:100,children:"100% (Full-time)"}),u.jsx("option",{value:50,children:"50% (Part-time)"}),u.jsx("option",{value:25,children:"25% (Contractor)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Experience Level"}),u.jsxs("select",{value:((P=l[j.id])==null?void 0:P.experience)||"senior",onChange:E=>N(j.id,"experience",E.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"junior",children:"Junior"}),u.jsx("option",{value:"mid",children:"Mid-level"}),u.jsx("option",{value:"senior",children:"Senior"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Hiring Timeline (weeks)"}),u.jsx("input",{type:"number",value:((C=l[j.id])==null?void 0:C.timeline)||"",onChange:E=>N(j.id,"timeline",E.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., 8"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Budget Allocation (optional)"}),u.jsx("input",{type:"text",value:((k=l[j.id])==null?void 0:k.budget)||"",onChange:E=>N(j.id,"budget",E.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., $80K-$120K"})]})]})]},j.id)})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Technology Stack"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Backend Language"}),u.jsxs("select",{value:d.backend,onChange:j=>f({...d,backend:j.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"",children:"Select..."}),Gu.backend.map(j=>u.jsx("option",{value:j,children:j},j))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Database"}),u.jsxs("select",{value:d.database,onChange:j=>f({...d,database:j.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"",children:"Select..."}),Gu.database.map(j=>u.jsx("option",{value:j,children:j},j))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Mobile Stack"}),u.jsxs("select",{value:d.mobile,onChange:j=>f({...d,mobile:j.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"",children:"Select..."}),Gu.mobile.map(j=>u.jsx("option",{value:j,children:j},j))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Embedded Platform"}),u.jsxs("select",{value:d.embedded,onChange:j=>f({...d,embedded:j.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"",children:"Select..."}),Gu.embedded.map(j=>u.jsx("option",{value:j,children:j},j))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Cloud Provider"}),u.jsxs("select",{value:d.cloud,onChange:j=>f({...d,cloud:j.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"",children:"Select..."}),Gu.cloud.map(j=>u.jsx("option",{value:j,children:j},j))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Analytics Tools"}),u.jsxs("select",{value:d.analytics,onChange:j=>f({...d,analytics:j.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[u.jsx("option",{value:"",children:"Select..."}),Gu.analytics.map(j=>u.jsx("option",{value:j,children:j},j))]})]})]})]}),u.jsxs("div",{className:"mb-8 space-y-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Estimated Hiring Timeline (weeks)"}),u.jsx("input",{type:"number",value:p,onChange:j=>h(j.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., 12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Approximate Budget Band (optional)"}),u.jsx("input",{type:"text",value:m,onChange:j=>g(j.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"e.g., $500K-$800K"})]})]}),b&&u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["Task Score: ",u.jsxs("span",{className:"text-green-600",children:[b.score,"/100"]})]})]}),b.warnings&&b.warnings.length>0&&u.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border-2 border-yellow-300 rounded-xl",children:b.warnings.map((j,A)=>u.jsxs("p",{className:"text-base text-yellow-800 font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.725-1.36 3.49 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),j]},A))}),b.strengths.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Strengths:"}),u.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:b.strengths.map((j,A)=>u.jsx("li",{children:j},A))})]}),b.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Areas for Improvement:"}),u.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:b.improvements.map((j,A)=>u.jsx("li",{children:j},A))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-2 border-gray-200",children:[u.jsxs("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:O,disabled:y,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transition-all",children:y?"Completed ":"Submit Task"}),y&&i&&u.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 font-bold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:["Next Task",u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},FJ=[{id:1,name:"Ideation & Discovery",duration:4,deliverables:"",acceptanceCriteria:"",risks:"",color:"#3b82f6"},{id:2,name:"Development (MVP)",duration:16,deliverables:"",acceptanceCriteria:"",risks:"",color:"#10b981"},{id:3,name:"Testing & Certification",duration:8,deliverables:"",acceptanceCriteria:"",risks:"",color:"#f59e0b"},{id:4,name:"Deployment & Monitoring",duration:4,deliverables:"",acceptanceCriteria:"",risks:"",color:"#ef4444"},{id:5,name:"Marketing & Launch",duration:6,deliverables:"",acceptanceCriteria:"",risks:"",color:"#8b5cf6"}],xk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(FJ),[l,c]=T.useState(""),[d,f]=T.useState(!1),[p,h]=T.useState(null),[m,g]=T.useState(new Set([1,2,3,4,5])),[y,v]=T.useState("timeline"),b=T.useRef(null),w=T.useRef(null);T.useEffect(()=>{const E=Ra(n);E&&E.phases&&(o(E.phases),c(E.overallRisks||""),f(E.submitted||!1),E.expandedPhases&&g(new Set(E.expandedPhases)))},[n]),T.useEffect(()=>(b.current&&!w.current&&!d&&y==="list"&&(w.current=new mt(b.current,{animation:200,handle:".drag-handle",ghostClass:"opacity-50",chosenClass:"ring-2 ring-blue-500",onEnd:E=>{const I=[...s],[M]=I.splice(E.oldIndex,1);I.splice(E.newIndex,0,M),o(I)}})),()=>{w.current&&(w.current.destroy(),w.current=null)}),[s,d,y]);const x=(E,I,M)=>{const U=s.map(Z=>Z.id===E?{...Z,[I]:M}:Z);o(U),gi(n,{phases:U,overallRisks:l,expandedPhases:Array.from(m)})},N=(E,I)=>{const M=parseInt(I)||0,U=s.map(Z=>Z.id===E?{...Z,duration:Math.max(0,M)}:Z);o(U),gi(n,{phases:U,overallRisks:l,expandedPhases:Array.from(m)})},O=E=>{const I=new Set(m);I.has(E)?I.delete(E):I.add(E),g(I),gi(n,{phases:s,overallRisks:l,expandedPhases:Array.from(I)})},j=()=>{let E=0;return s.map(I=>{const M=E;return E+=I.duration||0,{...I,startWeek:M,endWeek:E}})},A=()=>{const E={phases:s,overallRisks:l};gi(n,{...E,submitted:!0,expandedPhases:Array.from(m)});const I=B_(E);h(I),f(!0),ca(n),r(n)},P=s.reduce((E,I)=>E+(I.duration||0),0),C=j(),k=Math.max(P,40);return u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Task 3: Roadmap & Phases"}),u.jsx("p",{className:"text-gray-700",children:"Break down the work into phases, estimate timelines, and define deliverables and acceptance criteria."})]}),u.jsxs("div",{className:"mb-6 flex gap-4 items-center",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"View:"}),u.jsx("button",{onClick:()=>v("timeline"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${y==="timeline"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Timeline View"}),u.jsx("button",{onClick:()=>v("list"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${y==="list"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" List View"})]}),u.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Total Timeline"}),u.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:[P," weeks (",Math.round(P/4.33)," months)"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mt-3 shadow-inner",children:u.jsx("div",{className:"bg-gradient-to-r from-primary to-accent h-6 rounded-full transition-all duration-500 shadow-lg",style:{width:`${Math.min(P/52*100,100)}%`}})}),P<12&&u.jsx("p",{className:"text-sm text-yellow-700 mt-3 font-semibold",children:" Warning: Timeline seems short for IoT + app development"}),P>52&&u.jsx("p",{className:"text-sm text-orange-700 mt-3 font-semibold",children:" Consider breaking into smaller phases or reducing scope"})]}),y==="timeline"&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Visual Timeline (Gantt Chart)"}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200 overflow-x-auto",children:[u.jsx("div",{className:"mb-4 flex gap-1",children:Array.from({length:Math.min(k,52)},(E,I)=>u.jsx("div",{className:"flex-1 text-center",children:I%4===0&&u.jsxs("div",{className:"text-xs text-gray-600 font-semibold border-t-2 border-gray-300 pt-1",children:["W",I]})},I))}),u.jsx("div",{className:"space-y-3",children:C.map((E,I)=>{const M=E.duration/k*100,U=E.startWeek/k*100;return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:E.color}}),u.jsx("span",{className:"font-semibold text-gray-900 min-w-[200px]",children:E.name}),u.jsxs("span",{className:"text-sm text-gray-600",children:[E.duration," weeks"]})]}),u.jsx("div",{className:"relative h-12 bg-gray-200 rounded-lg overflow-hidden",children:u.jsx("div",{className:"absolute h-full rounded-lg shadow-md transition-all duration-300 flex items-center justify-center text-white font-semibold text-sm",style:{left:`${U}%`,width:`${M}%`,backgroundColor:E.color,minWidth:"60px"},children:E.duration>2&&`${E.duration}w`})})]},E.id)})})]}),u.jsx("div",{className:"mt-6 space-y-4",children:s.map(E=>u.jsxs("div",{className:"border-2 rounded-xl overflow-hidden transition-all",style:{borderColor:m.has(E.id)?E.color:"#e5e7eb"},children:[u.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>O(E.id),style:{backgroundColor:m.has(E.id)?`${E.color}10`:"white"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:E.color}}),u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:E.name})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration:"}),u.jsx("input",{type:"range",min:"0",max:"24",value:E.duration,onChange:I=>N(E.id,I.target.value),className:"w-32"}),u.jsx("input",{type:"number",min:"0",max:"24",value:E.duration,onChange:I=>N(E.id,I.target.value),className:"w-16 px-2 py-1 border-2 border-gray-300 rounded-lg font-semibold"}),u.jsx("span",{className:"text-sm text-gray-600",children:"weeks"})]}),u.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:m.has(E.id)?"":""})]})]})}),m.has(E.id)&&u.jsx("div",{className:"p-6 bg-white border-t-2",style:{borderColor:E.color},children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Primary Deliverables"}),u.jsx("textarea",{value:E.deliverables,onChange:I=>x(E.id,"deliverables",I.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"e.g., MVP hardware prototype, mobile app v1.0, regulatory approval..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Acceptance Criteria"}),u.jsx("textarea",{value:E.acceptanceCriteria,onChange:I=>x(E.id,"acceptanceCriteria",I.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"e.g., Battery life  5 days, step accuracy within 5%, FDA approval received..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Key Risks & Mitigations (optional)"}),u.jsx("textarea",{value:E.risks,onChange:I=>x(E.id,"risks",I.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"e.g., Supply chain delays - mitigate with multiple suppliers..."})]})]})})]},E.id))})]}),y==="list"&&u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:u.jsxs("p",{className:"text-sm text-gray-700",children:[" ",u.jsx("strong",{children:"Tip:"})," Drag phases by the handle () to reorder them. Adjust durations with the sliders."]})}),u.jsx("div",{ref:b,className:"space-y-4",children:s.map((E,I)=>u.jsxs("div",{className:"border-2 rounded-xl p-5 bg-white hover:shadow-lg transition-all",style:{borderColor:E.color},children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"drag-handle cursor-move text-gray-400 hover:text-gray-600 text-2xl",children:""}),u.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:E.color}}),u.jsx("h3",{className:"flex-1 font-bold text-gray-900 text-lg",children:E.name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration:"}),u.jsx("input",{type:"range",min:"0",max:"24",value:E.duration,onChange:M=>N(E.id,M.target.value),className:"w-32"}),u.jsx("input",{type:"number",min:"0",max:"24",value:E.duration,onChange:M=>N(E.id,M.target.value),className:"w-16 px-2 py-1 border-2 border-gray-300 rounded-lg font-semibold"}),u.jsx("span",{className:"text-sm text-gray-600",children:"weeks"})]}),u.jsx("button",{onClick:()=>O(E.id),className:"text-gray-500 hover:text-gray-700 px-3",children:m.has(E.id)?"":""})]}),m.has(E.id)&&u.jsxs("div",{className:"mt-4 pt-4 border-t-2 space-y-4",style:{borderColor:E.color},children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Primary Deliverables"}),u.jsx("textarea",{value:E.deliverables,onChange:M=>x(E.id,"deliverables",M.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"e.g., MVP hardware prototype, mobile app v1.0, regulatory approval..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Acceptance Criteria"}),u.jsx("textarea",{value:E.acceptanceCriteria,onChange:M=>x(E.id,"acceptanceCriteria",M.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"e.g., Battery life  5 days, step accuracy within 5%, FDA approval received..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Key Risks & Mitigations (optional)"}),u.jsx("textarea",{value:E.risks,onChange:M=>x(E.id,"risks",M.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"e.g., Supply chain delays - mitigate with multiple suppliers..."})]})]})]},E.id))})]}),u.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl border-2 border-yellow-200",children:[u.jsx("label",{className:"block text-base font-bold text-gray-900 mb-3",children:" Overall Project Risks & Mitigation Strategy"}),u.jsx("textarea",{value:l,onChange:E=>{c(E.target.value),gi(n,{phases:s,overallRisks:E.target.value,expandedPhases:Array.from(m)})},className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",rows:"4",placeholder:"Identify key risks across the project and how you'll mitigate them..."})]}),p&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",p.score,"/100"]}),p.warnings&&p.warnings.length>0&&u.jsx("div",{className:"mb-2",children:p.warnings.map((E,I)=>u.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",E]},I))}),p.strengths.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((E,I)=>u.jsx("li",{children:E},I))})]}),p.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((E,I)=>u.jsx("li",{children:E},I))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:A,disabled:d,className:"px-8 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Task"}),d&&i&&u.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Next Task "})]})]})]})})},$J=({onDrawingChange:e,initialDrawing:t=null})=>{const r=T.useRef(null),n=T.useRef(null),[i,a]=T.useState(!1),[s,o]=T.useState("pen"),[l,c]=T.useState("#000000"),[d,f]=T.useState(3),[p,h]=T.useState(null);T.useEffect(()=>{const N=r.current;if(!N)return;const O=N.getContext("2d");if(N.width=N.offsetWidth,N.height=600,O.strokeStyle=l,O.lineWidth=d,O.lineCap="round",O.lineJoin="round",t){const j=new Image;j.onload=()=>{O.clearRect(0,0,N.width,N.height),O.drawImage(j,0,0)},j.src=t}},[t]),T.useEffect(()=>{const N=r.current;if(!N)return;const O=N.getContext("2d");O.strokeStyle=l,O.lineWidth=d},[l,d]);const m=N=>{const j=r.current.getBoundingClientRect(),A=N.clientX!==void 0?N.clientX:N.touches&&N.touches[0]?N.touches[0].clientX:0,P=N.clientY!==void 0?N.clientY:N.touches&&N.touches[0]?N.touches[0].clientY:0;return{x:A-j.left,y:P-j.top}},g=N=>{N.preventDefault(),a(!0);const j=r.current.getContext("2d"),{x:A,y:P}=m(N);j.beginPath(),j.moveTo(A,P)},y=N=>{if(!i)return;N.preventDefault();const j=r.current.getContext("2d"),{x:A,y:P}=m(N);s==="eraser"?(j.globalCompositeOperation="destination-out",j.lineWidth=d*2):(j.globalCompositeOperation="source-over",j.lineWidth=d,j.strokeStyle=l),j.lineTo(A,P),j.stroke(),n.current||(n.current=setTimeout(()=>{b(),n.current=null},500))},v=N=>{N&&N.preventDefault(),i&&(a(!1),n.current&&(clearTimeout(n.current),n.current=null),b())},b=async()=>{const N=r.current;if(N)try{const O=N.toDataURL("image/png");h(O),e&&e(O)}catch(O){console.error("Error saving drawing:",O)}},w=()=>{const N=r.current;if(!N)return;N.getContext("2d").clearRect(0,0,N.width,N.height),h(null),e&&e(null)},x=async()=>{const N=r.current;if(N)try{return N.toDataURL("image/png")}catch(O){return console.error("Error exporting image:",O),null}};return Ng.useImperativeHandle(Ng.forwardRef(()=>null),()=>({exportAsImage:x})),u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Tool:"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>o("pen"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${s==="pen"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Pen"}),u.jsx("button",{onClick:()=>o("eraser"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${s==="eraser"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Eraser"}),u.jsx("button",{onClick:w,className:"px-4 py-2 rounded-lg font-semibold text-sm bg-white text-red-600 border-2 border-red-300 hover:bg-red-50 transition-all",children:" Clear"})]})]}),s==="pen"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Color:"}),u.jsx("input",{type:"color",value:l,onChange:N=>c(N.target.value),className:"w-12 h-10 rounded-lg border-2 border-gray-300 cursor-pointer"}),u.jsx("div",{className:"flex gap-1",children:["#000000","#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"].map(N=>u.jsx("button",{onClick:()=>c(N),className:`w-8 h-8 rounded-lg border-2 ${l===N?"border-gray-900 scale-110":"border-gray-300"}`,style:{backgroundColor:N},title:N},N))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Size:"}),u.jsx("input",{type:"range",min:"1",max:"10",value:d,onChange:N=>f(parseInt(N.target.value)),className:"w-24"}),u.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[d,"px"]})]})]})}),u.jsx("div",{className:"border-4 border-gray-300 rounded-xl bg-white shadow-inner overflow-hidden",children:u.jsx("canvas",{ref:r,onMouseDown:g,onMouseMove:y,onMouseUp:v,onMouseLeave:v,onTouchStart:g,onTouchMove:y,onTouchEnd:v,className:"w-full cursor-crosshair",style:{height:"600px",touchAction:"none"}})}),p&&u.jsx("p",{className:"mt-2 text-sm text-green-600 font-medium",children:" Drawing saved"})]})},wk=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,simulation:s,taskData:o})=>{const[l,c]=T.useState("draw"),[d,f]=T.useState(!1),[p,h]=T.useState(null),[m,g]=T.useState(null),[y,v]=T.useState(""),[b,w]=T.useState(!1),[x,N]=T.useState(null);T.useEffect(()=>{const P=Ra(n);P&&(c(P.inputMethod||"draw"),f(P.fileUploaded||!1),h(P.uploadedFile||null),g(P.drawingData||null),v(P.explanation||""),w(P.submitted||!1))},[n]);const O=async P=>{const C=P.target.files[0];if(C){const k=new FileReader;k.onloadend=()=>{const E=k.result;h(E),f(!0),g(null)},k.readAsDataURL(C)}},j=P=>{g(P),P&&(f(!1),h(null))},A=()=>{if(!m&&!d){alert("Please either draw a wireframe or upload a file before submitting.");return}const P={inputMethod:l,fileUploaded:d,uploadedFile:p,drawingData:m,explanation:y,hasWireframe:!!(m||d)};gi(n,{...P,submitted:!0});const C=F_(P);N(C),w(!0),ca(n),r(n)};return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task 4: Low-fidelity Wireframe / UX Sketch"}),u.jsx("p",{className:"text-gray-700 mb-6",children:"Sketch 3 key screens for the Smart Fitness Watch app: onboarding, home summary, and activity detail."}),u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Design Requirements"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Onboarding screen:"})," Welcome flow, permissions setup, initial configuration"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Home summary:"})," Daily metrics overview, key stats at a glance"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Activity detail:"})," Detailed view of steps, heart rate, sleep data"]})]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Design Tips"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsx("li",{children:" Show key metrics prominently on each screen"}),u.jsx("li",{children:" Consider accessibility (font sizes, color contrast)"}),u.jsx("li",{children:" Design for glanceability - users should see info quickly"}),u.jsx("li",{children:" Think about edge cases (empty states, error messages)"})]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[u.jsx("label",{className:"block text-base font-bold text-gray-900 mb-4",children:"Choose Input Method"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>c("draw"),className:`flex-1 px-6 py-4 rounded-xl font-semibold transition-all ${l==="draw"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg transform scale-105":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Draw on Whiteboard"}),u.jsx("button",{onClick:()=>c("upload"),className:`flex-1 px-6 py-4 rounded-xl font-semibold transition-all ${l==="upload"?"bg-gradient-to-r from-primary to-accent text-white shadow-lg transform scale-105":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"}`,children:" Upload File"})]})]}),l==="draw"&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-base font-bold text-gray-900 mb-4",children:"Draw Your Wireframe"}),u.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200",children:u.jsx($J,{onDrawingChange:j,initialDrawing:m})}),m&&u.jsx("p",{className:"mt-2 text-sm text-green-600 font-medium",children:" Drawing saved automatically"}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Draw your wireframe directly on the canvas above. Your drawing is saved automatically."})]}),l==="upload"&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-base font-bold text-gray-900 mb-2",children:"Upload Wireframe/Sketch (PNG, JPG, or PDF)"}),u.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.pdf",onChange:O,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-6 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-primary file:to-accent file:text-white hover:file:opacity-90 transition-all"}),d&&p&&u.jsxs("div",{className:"mt-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[u.jsx("p",{className:"text-sm text-green-700 font-semibold mb-2",children:" File uploaded successfully"}),u.jsx("img",{src:p,alt:"Uploaded wireframe",className:"max-w-full h-auto rounded-lg border-2 border-gray-200",style:{maxHeight:"300px"}})]}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"You can sketch on paper and take a photo, use a design tool, or create a simple wireframe."})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Explanation of Design Choices (50-150 words)"}),u.jsx("textarea",{value:y,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"6",placeholder:"Explain your design rationale: Why did you prioritize certain information? How does the layout support user needs? What accessibility considerations did you make?..."}),u.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[y.length," characters"]})]}),x&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",x.score,"/100"]}),x.warnings&&x.warnings.length>0&&u.jsx("div",{className:"mb-2",children:x.warnings.map((P,C)=>u.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",P]},C))}),x.strengths.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:x.strengths.map((P,C)=>u.jsx("li",{children:P},C))})]}),x.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:x.improvements.map((P,C)=>u.jsx("li",{children:P},C))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:A,disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Completed ":"Submit Task"}),b&&i&&u.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Next Task "})]})]})]})})},_k=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,c]=T.useState(""),[d,f]=T.useState(""),[p,h]=T.useState(""),[m,g]=T.useState(null),[y,v]=T.useState(""),[b,w]=T.useState(!1),[x,N]=T.useState(!1),[O,j]=T.useState(null);T.useEffect(()=>{const C=Ra(n);C&&(o(C.positioning||""),c(C.pricing||""),f(C.channels||""),h(C.kpis||""),g(C.selectedAmbassador||null),v(C.ambassadorJustification||""),w(C.fileUploaded||!1),N(C.submitted||!1))},[n]);const A=C=>{C.target.files[0]&&(w(!0),setTimeout(()=>{alert("Creative uploaded successfully!")},100))},P=()=>{const C={positioning:s,pricing:l,channels:d,kpis:p,ambassador:m,ambassadorJustification:y,fileUploaded:b};gi(n,{...C,submitted:!0});const k=$_(C);j(k),N(!0),ca(n),r(n),alert("Task 5 completed successfully!")};return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task 5: Go-To-Market Strategy & Partnerships"}),u.jsx("p",{className:"text-gray-700 mb-6",children:"Craft your marketing positioning, select distribution channels, choose an ambassador, and define pricing strategy."}),u.jsxs("div",{className:"space-y-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Positioning Statement (1 sentence)"}),u.jsx("input",{type:"text",value:s,onChange:C=>o(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., 'Noah Smart Watch: Medical-grade health monitoring at consumer prices, designed for active lifestyles.'"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Pricing Model"}),u.jsxs("select",{value:l,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[u.jsx("option",{value:"",children:"Select pricing model..."}),u.jsx("option",{value:"one-time",children:"One-time purchase ($100-$150)"}),u.jsx("option",{value:"subscription",children:"Subscription + device ($50 device + $10/month)"}),u.jsx("option",{value:"care-plan",children:"Care plan bundle ($120/year includes device + premium features)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Distribution Channels"}),u.jsx("textarea",{value:d,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",placeholder:"e.g., Direct-to-consumer (website), Pharmacies, Retail partnerships (Best Buy, Target), Healthcare provider partnerships..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Launch Channels & KPIs"}),u.jsx("textarea",{value:p,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",placeholder:"e.g., Social media campaigns, influencer partnerships, PR launch event. KPIs: 10K pre-orders in first month, 4.5+ app store rating, 30% conversion rate..."})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Select Brand Ambassador"}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:XW.map(C=>u.jsxs("div",{onClick:()=>g(C),className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${(m==null?void 0:m.id)===C.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900",children:C.name}),u.jsx("p",{className:"text-sm text-gray-600",children:C.type})]}),u.jsx("span",{className:"text-xs text-gray-500",children:C.cost})]}),u.jsx("p",{className:"text-sm text-gray-700 mb-2",children:C.profile}),u.jsxs("div",{className:"text-xs text-gray-600",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Reach:"})," ",C.reach]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Fit:"})," ",C.fit]})]})]},C.id))}),m&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Justify Your Ambassador Choice (30-80 words)"}),u.jsx("textarea",{value:y,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",placeholder:"Explain why this ambassador aligns with your target persona and budget..."})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Optional: Upload One-Liner Creative / Tagline"}),u.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.pdf",onChange:A,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),b&&u.jsx("p",{className:"mt-2 text-sm text-green-600",children:" File uploaded successfully"})]}),O&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",O.score,"/100"]}),O.strengths.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:O.strengths.map((C,k)=>u.jsx("li",{children:C},k))})]}),O.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:O.improvements.map((C,k)=>u.jsx("li",{children:C},k))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:P,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Completed ":"Submit Task"}),x&&i&&u.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Next Task "})]})]})]})})};function Z8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Z8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Z8(e))&&(n&&(n+=" "),n+=t);return n}var UJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function z_(e){if(typeof e!="string")return!1;var t=UJ;return t.includes(e)}var qJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Q8(e){if(typeof e!="string")return!1;var t=qJ;return t.includes(e)}function eL(e){return typeof e=="string"&&e.startsWith("data-")}function ua(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Q8(n)||eL(n)});return Object.fromEntries(t)}function su(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ua(t)}return typeof e=="object"&&!Array.isArray(e)?ua(e):null}function xi(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Q8(n)||eL(n)||z_(n)});return Object.fromEntries(t)}function zJ(e){return e==null?null:T.isValidElement(e)?xi(e.props):typeof e=="object"&&!Array.isArray(e)?xi(e):null}var WJ=["children","width","height","viewBox","className","style","title","desc"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function HJ(e,t){if(e==null)return{};var r,n,i=KJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tL=T.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=HJ(e,WJ),f=a||{width:n,height:i,x:0,y:0},p=qt("recharts-surface",s);return T.createElement("svg",pw({},xi(d),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),T.createElement("title",null,l),T.createElement("desc",null,c),r)}),VJ=["children","className"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(null,arguments)}function GJ(e,t){if(e==null)return{};var r,n,i=YJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tn=T.forwardRef((e,t)=>{var{children:r,className:n}=e,i=GJ(e,VJ),a=qt("recharts-layer",n);return T.createElement("g",mw({className:a},xi(i),{ref:t}),r)}),XJ=T.createContext(null);function ar(e){return function(){return e}}const rL=Math.cos,uv=Math.sin,fs=Math.sqrt,dv=Math.PI,Cy=2*dv,gw=Math.PI,vw=2*gw,Cc=1e-6,JJ=vw-Cc;function nL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ZJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nL;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class QJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nL:ZJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,d=s-t,f=o-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Cc)if(!(Math.abs(f*l-c*d)>Cc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,m=i-o,g=l*l+c*c,y=h*h+m*m,v=Math.sqrt(g),b=Math.sqrt(p),w=a*Math.tan((gw-Math.acos((g+p-y)/(2*v*b)))/2),x=w/b,N=w/v;Math.abs(x-1)>Cc&&this._append`L${t+x*d},${r+x*f}`,this._append`A${a},${a},0,0,${+(f*h>d*m)},${this._x1=t+N*l},${this._y1=r+N*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,d=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Cc||Math.abs(this._y1-d)>Cc)&&this._append`L${c},${d}`,n&&(p<0&&(p=p%vw+vw),p>JJ?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:p>Cc&&this._append`A${n},${n},0,${+(p>=gw)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function W_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new QJ(t)}function H_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iL(e){this._context=e}iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ty(e){return new iL(e)}function aL(e){return e[0]}function sL(e){return e[1]}function oL(e,t){var r=ar(!0),n=null,i=Ty,a=null,s=W_(o);e=typeof e=="function"?e:e===void 0?aL:ar(e),t=typeof t=="function"?t:t===void 0?sL:ar(t);function o(l){var c,d=(l=H_(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ar(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ar(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function A0(e,t,r){var n=null,i=ar(!0),a=null,s=Ty,o=null,l=W_(c);e=typeof e=="function"?e:e===void 0?aL:ar(+e),t=typeof t=="function"?t:ar(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sL:ar(+r);function c(f){var p,h,m,g=(f=H_(f)).length,y,v=!1,b,w=new Array(g),x=new Array(g);for(a==null&&(o=s(b=l())),p=0;p<=g;++p){if(!(p<g&&i(y=f[p],p,f))===v)if(v=!v)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=p-1;m>=h;--m)o.point(w[m],x[m]);o.lineEnd(),o.areaEnd()}v&&(w[p]=+e(y,p,f),x[p]=+t(y,p,f),o.point(n?+n(y,p,f):w[p],r?+r(y,p,f):x[p]))}if(b)return o=null,b+""||null}function d(){return oL().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ar(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class lL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eZ(e){return new lL(e,!0)}function tZ(e){return new lL(e,!1)}const K_={draw(e,t){const r=fs(t/dv);e.moveTo(r,0),e.arc(0,0,r,0,Cy)}},rZ={draw(e,t){const r=fs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},cL=fs(1/3),nZ=cL*2,iZ={draw(e,t){const r=fs(t/nZ),n=r*cL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},aZ={draw(e,t){const r=fs(t),n=-r/2;e.rect(n,n,r,r)}},sZ=.8908130915292852,uL=uv(dv/10)/uv(7*dv/10),oZ=uv(Cy/10)*uL,lZ=-rL(Cy/10)*uL,cZ={draw(e,t){const r=fs(t*sZ),n=oZ*r,i=lZ*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Cy*a/5,o=rL(s),l=uv(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},ix=fs(3),uZ={draw(e,t){const r=-fs(t/(ix*3));e.moveTo(0,r*2),e.lineTo(-ix*r,-r),e.lineTo(ix*r,-r),e.closePath()}},Na=-.5,Sa=fs(3)/2,yw=1/fs(12),dZ=(yw/2+1)*3,fZ={draw(e,t){const r=fs(t/dZ),n=r/2,i=r*yw,a=n,s=r*yw+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Na*n-Sa*i,Sa*n+Na*i),e.lineTo(Na*a-Sa*s,Sa*a+Na*s),e.lineTo(Na*o-Sa*l,Sa*o+Na*l),e.lineTo(Na*n+Sa*i,Na*i-Sa*n),e.lineTo(Na*a+Sa*s,Na*s-Sa*a),e.lineTo(Na*o+Sa*l,Na*l-Sa*o),e.closePath()}};function hZ(e,t){let r=null,n=W_(i);e=typeof e=="function"?e:ar(e||K_),t=typeof t=="function"?t:ar(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ar(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ar(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function fv(){}function hv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function dL(e){this._context=e}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pZ(e){return new dL(e)}function fL(e){this._context=e}fL.prototype={areaStart:fv,areaEnd:fv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mZ(e){return new fL(e)}function hL(e){this._context=e}hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gZ(e){return new hL(e)}function pL(e){this._context=e}pL.prototype={areaStart:fv,areaEnd:fv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vZ(e){return new pL(e)}function Nk(e){return e<0?-1:1}function Sk(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(Nk(a)+Nk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function jk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ax(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function pv(e){this._context=e}pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ax(this,this._t0,jk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ax(this,jk(this,r=Sk(this,e,t)),r);break;default:ax(this,this._t0,r=Sk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function mL(e){this._context=new gL(e)}(mL.prototype=Object.create(pv.prototype)).point=function(e,t){pv.prototype.point.call(this,t,e)};function gL(e){this._context=e}gL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function yZ(e){return new pv(e)}function bZ(e){return new mL(e)}function vL(e){this._context=e}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=kk(e),i=kk(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kk(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function xZ(e){return new vL(e)}function Ly(e,t){this._context=e,this._t=t}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wZ(e){return new Ly(e,.5)}function _Z(e){return new Ly(e,0)}function NZ(e){return new Ly(e,1)}function Vd(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function bw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SZ(e,t){return e[t]}function jZ(e){const t=[];return t.key=e,t}function kZ(){var e=ar([]),t=bw,r=Vd,n=SZ;function i(a){var s=Array.from(e.apply(this,arguments),jZ),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,d=H_(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ar(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ar(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?bw:typeof a=="function"?a:ar(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Vd,i):r},i}function AZ(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Vd(e,t)}}function EZ(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Vd(e,t)}}function OZ(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,m=0;m<o;++m){var g=e[t[m]],y=g[n][1]||0,v=g[n-1][1]||0;h+=y-v}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Vd(e,t)}}var Iy={},yL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(yL);var V_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(V_);var Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ry);var Dy={},bL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(bL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bL,r=Ry;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(Dy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yL,r=V_,n=Ry,i=Dy;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?r.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(Iy);var PZ=Iy.get;const ou=Fs(PZ);var Pn=e=>e===0?0:e>0?1:-1,us=e=>typeof e=="number"&&e!=+e,So=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!us(e),Ds=e=>tt(e)||typeof e=="string",CZ=0,bp=e=>{var t=++CZ;return"".concat(e||"").concat(t)},ai=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var a;if(So(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return us(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},xL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function vr(e,t,r){return tt(e)&&tt(t)?e+r*(t-e):t}function wL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ou(n,t))===r)}var wr=e=>e===null||typeof e>"u",Hp=e=>wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function TZ(e){return e!=null}function _u(){}var LZ=["type","size","sizeType"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(null,arguments)}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MZ(e,t){if(e==null)return{};var r,n,i=BZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _L={symbolCircle:K_,symbolCross:rZ,symbolDiamond:iZ,symbolSquare:aZ,symbolStar:cZ,symbolTriangle:uZ,symbolWye:fZ},FZ=Math.PI/180,$Z=e=>{var t="symbol".concat(Hp(e));return _L[t]||K_},UZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*FZ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qZ=(e,t)=>{_L["symbol".concat(Hp(e))]=t},NL=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=MZ(e,LZ),a=Ek(Ek({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=$Z(s),h=hZ().type(p).size(UZ(r,n,s)),m=h();if(m!==null)return m},{className:l,cx:c,cy:d}=a,f=xi(a);return tt(c)&&tt(d)&&tt(r)?T.createElement("path",xw({},f,{className:qt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};NL.registerSymbol=qZ;var SL=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,G_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{z_(i)&&(n[i]=a=>r[i](r,a))}),n},zZ=(e,t,r)=>n=>(e(t,r,n),null),My=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];z_(i)&&typeof a=="function"&&(n||(n={}),n[i]=zZ(a,t,r))}),n};function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ln(e,t){var r=WZ({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}var jL={},kL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(kL);var Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Y_);var AL={},By={},EL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(EL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EL;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(By);var OL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(OL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=OL;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(AL);var PL={},CL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iy;function r(n){return function(i){return t.get(i,n)}}e.property=r})(CL);var TL={},X_={},LL={},J_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(J_);var Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Z_);var Q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Q_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_,r=Z_,n=Q_;function i(d,f,p){return typeof p!="function"?i(d,f,()=>{}):a(d,f,function h(m,g,y,v,b,w){const x=p(m,g,y,v,b,w);return x!==void 0?!!x:a(m,g,h,w)},new Map)}function a(d,f,p,h){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,p,h);case"function":return Object.keys(f).length>0?a(d,{...f},p,h):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,p,h){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,h);if(f instanceof Map)return o(d,f,p,h);if(f instanceof Set)return c(d,f,p,h);const m=Object.keys(f);if(d==null)return m.length===0;if(m.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let g=0;g<m.length;g++){const y=m[g];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!p(d[y],f[y],y,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function o(d,f,p,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[m,g]of f.entries()){const y=d.get(m);if(p(y,g,m,d,f,h)===!1)return!1}return!0}function l(d,f,p,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const m=new Set;for(let g=0;g<f.length;g++){const y=f[g];let v=!1;for(let b=0;b<d.length;b++){if(m.has(b))continue;const w=d[b];let x=!1;if(p(w,y,g,d,f,h)&&(x=!0),x){m.add(b),v=!0;break}}if(!v)return!1}return!0}function c(d,f,p,h){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,h):!1}e.isMatchWith=i,e.isSetMatch=c})(LL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LL;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(X_);var IL={},eN={},RL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(RL);var tN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(tN);var rN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",x="[object BigUint64Array]",N="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",A="[object BigInt64Array]",P="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=x,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=P,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=j,e.int8ArrayTag=N,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(rN);var DL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(DL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RL,r=tN,n=rN,i=Z_,a=DL;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,p,h=new Map,m=void 0){const g=m==null?void 0:m(d,f,p,h);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const y=new Array(d.length);h.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,p,h,m);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;h.set(d,y);for(const[v,b]of d)y.set(v,o(b,v,p,h,m));return y}if(d instanceof Set){const y=new Set;h.set(d,y);for(const v of d)y.add(o(v,void 0,p,h,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,p,h,m);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,y),l(y,d,p,h,m),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return h.set(d,y),l(y,d,p,h,m),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return h.set(d,y),l(y,d,p,h,m),y}if(d instanceof Error){const y=new d.constructor;return h.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,p,h,m),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return h.set(d,y),l(y,d,p,h,m),y}if(d instanceof Number){const y=new Number(d.valueOf());return h.set(d,y),l(y,d,p,h,m),y}if(d instanceof String){const y=new String(d.valueOf());return h.set(d,y),l(y,d,p,h,m),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return h.set(d,y),l(y,d,p,h,m),y}return d}function l(d,f,p=d,h,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=o(f[v],v,p,h,m))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(IL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_,r=IL;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(TL);var ML={},BL={},FL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN,r=rN;function n(i,a){return t.cloneDeepWith(i,(s,o,l,c)=>{const d=a==null?void 0:a(s,o,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(FL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FL;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(BL);var $L={},nN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(nN);var UL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(UL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V_,r=nN,n=UL,i=Dy;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})($L);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_,r=Ry,n=BL,i=Iy,a=$L;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(ML);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_,r=CL,n=TL,i=ML;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(PL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kL,r=Y_,n=AL,i=PL;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(jL);var GZ=jL.uniqBy;const Pk=Fs(GZ);function YZ(e,t,r){return t===!0?Pk(e,r):typeof t=="function"?Pk(e,t):e}var qL={exports:{}},zL={},WL={exports:{}},HL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=T;function XZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JZ=typeof Object.is=="function"?Object.is:XZ,ZZ=Gd.useState,QZ=Gd.useEffect,eQ=Gd.useLayoutEffect,tQ=Gd.useDebugValue;function rQ(e,t){var r=t(),n=ZZ({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return eQ(function(){i.value=r,i.getSnapshot=t,sx(i)&&a({inst:i})},[e,r,t]),QZ(function(){return sx(i)&&a({inst:i}),e(function(){sx(i)&&a({inst:i})})},[e]),tQ(r),r}function sx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!JZ(e,r)}catch{return!0}}function nQ(e,t){return t()}var iQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nQ:rQ;HL.useSyncExternalStore=Gd.useSyncExternalStore!==void 0?Gd.useSyncExternalStore:iQ;WL.exports=HL;var aQ=WL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=T,sQ=aQ;function oQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lQ=typeof Object.is=="function"?Object.is:oQ,cQ=sQ.useSyncExternalStore,uQ=Fy.useRef,dQ=Fy.useEffect,fQ=Fy.useMemo,hQ=Fy.useDebugValue;zL.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=uQ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=fQ(function(){function l(h){if(!c){if(c=!0,d=h,h=n(h),i!==void 0&&s.hasValue){var m=s.value;if(i(m,h))return f=m}return f=h}if(m=f,lQ(d,h))return m;var g=n(h);return i!==void 0&&i(m,g)?(d=h,m):(d=h,f=g)}var c=!1,d,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=cQ(e,a[0],a[1]);return dQ(function(){s.hasValue=!0,s.value=o},[o]),hQ(o),o};qL.exports=zL;var pQ=qL.exports,iN=T.createContext(null),mQ=e=>e,_r=()=>{var e=T.useContext(iN);return e?e.store.dispatch:mQ},pg=()=>{},gQ=()=>pg,vQ=(e,t)=>e===t;function rt(e){var t=T.useContext(iN);return pQ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gQ,t?t.store.getState:pg,t?t.store.getState:pg,t?e:pg,vQ)}function yQ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function bQ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xQ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Ck=e=>Array.isArray(e)?e:[e];function wQ(e){const t=Array.isArray(e[0])?e[0]:e;return xQ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _Q(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var NQ=class{constructor(e){this.value=e}deref(){return this.value}},SQ=typeof WeakRef<"u"?WeakRef:NQ,jQ=0,Tk=1;function E0(){return{s:jQ,v:void 0,o:null,p:null}}function KL(e,t={}){let r=E0();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,h=l;p<h;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(m);y===void 0?(o=E0(),g.set(m,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(m);y===void 0?(o=E0(),g.set(m,o)):o=y}}const c=o;let d;if(o.s===Tk)d=o.v;else if(d=e.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new SQ(d):d}return c.s=Tk,c.v=d,d}return s.clearCache=()=>{r=E0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function kQ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),yQ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:h=KL,argsMemoizeOptions:m=[]}=d,g=Ck(p),y=Ck(m),v=wQ(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=h(function(){s++;const N=_Q(v,arguments);return o=b.apply(null,N),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var je=kQ(KL),AQ=Object.assign((e,t=je)=>{bQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>AQ}),VL={},GL={},YL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(YL);var XL={},aN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(aN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(XL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL,r=XL,n=Dy;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,m)=>{let g=h;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},d=(h,m)=>m==null||h==null?m:typeof h=="object"&&"key"in h?Object.hasOwn(m,h.key)?m[h.key]:c(m,h.path):typeof h=="function"?h(m):Array.isArray(h)?c(m,h):typeof m=="object"?m[h]:m,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(m=>d(m,h))})).slice().sort((h,m)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(h.criteria[g],m.criteria[g],o[g]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=i})(GL);var JL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(r,0),i}e.flatten=t})(JL);var sN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nN,r=By,n=J_,i=Q_;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(sN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GL,r=JL,n=sN;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(VL);var EQ=VL.sortBy;const $y=Fs(EQ);var ZL=e=>e.legend.settings,OQ=e=>e.legend.size,PQ=e=>e.legend.payload;je([PQ,ZL],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$y(n,r):n});var O0=1;function CQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>O0||Math.abs(s.left-t.left)>O0||Math.abs(s.top-t.top)>O0||Math.abs(s.width-t.width)>O0)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Un(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lk=TQ,ox=()=>Math.random().toString(36).substring(7).split("").join("."),LQ={INIT:`@@redux/INIT${ox()}`,REPLACE:`@@redux/REPLACE${ox()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ox()}`},mv=LQ;function oN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QL(e,t,r){if(typeof e!="function")throw new Error(Un(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Un(1));return r(QL)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,v)=>{s.set(v,y)}))}function d(){if(l)throw new Error(Un(3));return i}function f(y){if(typeof y!="function")throw new Error(Un(4));if(l)throw new Error(Un(5));let v=!0;c();const b=o++;return s.set(b,y),function(){if(v){if(l)throw new Error(Un(6));v=!1,c(),s.delete(b),a=null}}}function p(y){if(!oN(y))throw new Error(Un(7));if(typeof y.type>"u")throw new Error(Un(8));if(typeof y.type!="string")throw new Error(Un(17));if(l)throw new Error(Un(9));try{l=!0,i=n(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(Un(10));n=y,p({type:mv.REPLACE})}function m(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Un(11));function b(){const x=v;x.next&&x.next(d())}return b(),{unsubscribe:y(b)}},[Lk](){return this}}}return p({type:mv.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:h,[Lk]:m}}function IQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:mv.INIT})>"u")throw new Error(Un(12));if(typeof r(void 0,{type:mv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function e7(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{IQ(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],p=r[f],h=s[f],m=p(h,o);if(typeof m>"u")throw o&&o.type,new Error(Un(14));c[f]=m,l=l||m!==h}return l=l||n.length!==Object.keys(s).length,l?c:s}}function gv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function RQ(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Un(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=gv(...o)(i.dispatch),{...i,dispatch:a}}}function t7(e){return oN(e)&&"type"in e&&typeof e.type=="string"}var r7=Symbol.for("immer-nothing"),Ik=Symbol.for("immer-draftable"),da=Symbol.for("immer-state");function as(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xp=Object.getPrototypeOf;function lu(e){return!!e&&!!e[da]}function jo(e){var t;return e?n7(e)||Array.isArray(e)||!!e[Ik]||!!((t=e.constructor)!=null&&t[Ik])||Kp(e)||qy(e):!1}var DQ=Object.prototype.constructor.toString(),Rk=new WeakMap;function n7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Rk.get(r);return n===void 0&&(n=Function.toString.call(r),Rk.set(r,n)),n===DQ}function vv(e,t,r=!0){Uy(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Uy(e){const t=e[da];return t?t.type_:Array.isArray(e)?1:Kp(e)?2:qy(e)?3:0}function ww(e,t){return Uy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function i7(e,t,r){const n=Uy(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function MQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Kp(e){return e instanceof Map}function qy(e){return e instanceof Set}function Tc(e){return e.copy_||e.base_}function _w(e,t){if(Kp(e))return new Map(e);if(qy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=n7(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[da];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(xp(e),n)}else{const n=xp(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function lN(e,t=!1){return zy(e)||lu(e)||!jo(e)||(Uy(e)>1&&Object.defineProperties(e,{set:P0,add:P0,clear:P0,delete:P0}),Object.freeze(e),t&&Object.values(e).forEach(r=>lN(r,!0))),e}function BQ(){as(2)}var P0={value:BQ};function zy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var FQ={};function cu(e){const t=FQ[e];return t||as(0,e),t}var wp;function a7(){return wp}function $Q(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dk(e,t){t&&(cu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nw(e){Sw(e),e.drafts_.forEach(UQ),e.drafts_=null}function Sw(e){e===wp&&(wp=e.parent_)}function Mk(e){return wp=$Q(wp,e)}function UQ(e){const t=e[da];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Bk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[da].modified_&&(Nw(t),as(4)),jo(e)&&(e=yv(t,e),t.parent_||bv(t,e)),t.patches_&&cu("Patches").generateReplacementPatches_(r[da].base_,e,t.patches_,t.inversePatches_)):e=yv(t,r,[]),Nw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r7?e:void 0}function yv(e,t,r){if(zy(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[da];if(!i)return vv(t,(a,s)=>Fk(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return bv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),vv(s,(l,c)=>Fk(e,i,a,l,c,r,o),n),bv(e,a,!1),r&&e.patches_&&cu("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Fk(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=zy(i);if(!(o&&!s)){if(lu(i)){const l=a&&t&&t.type_!==3&&!ww(t.assigned_,n)?a.concat(n):void 0,c=yv(e,i,l);if(i7(r,n,c),lu(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(jo(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;yv(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Kp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&bv(e,i)}}}function bv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lN(t,r)}function qQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:a7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=cN;r&&(i=[n],a=_p);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var cN={get(e,t){if(t===da)return e;const r=Tc(e);if(!ww(r,t))return zQ(e,r,t);const n=r[t];return e.finalized_||!jo(n)?n:n===lx(e.base_,t)?(cx(e),e.copy_[t]=kw(n,e)):n},has(e,t){return t in Tc(e)},ownKeys(e){return Reflect.ownKeys(Tc(e))},set(e,t,r){const n=s7(Tc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=lx(Tc(e),t),a=i==null?void 0:i[da];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(MQ(r,i)&&(r!==void 0||ww(e.base_,t)))return!0;cx(e),jw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cx(e),jw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Tc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){as(11)},getPrototypeOf(e){return xp(e.base_)},setPrototypeOf(){as(12)}},_p={};vv(cN,(e,t)=>{_p[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_p.deleteProperty=function(e,t){return _p.set.call(this,e,t,void 0)};_p.set=function(e,t,r){return cN.set.call(this,e[0],t,r,e[0])};function lx(e,t){const r=e[da];return(r?Tc(r):e)[t]}function zQ(e,t,r){var i;const n=s7(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function s7(e,t){if(!(t in e))return;let r=xp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xp(r)}}function jw(e){e.modified_||(e.modified_=!0,e.parent_&&jw(e.parent_))}function cx(e){e.copy_||(e.copy_=_w(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...c){return s.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&as(6),n!==void 0&&typeof n!="function"&&as(7);let i;if(jo(t)){const a=Mk(this),s=kw(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Nw(a):Sw(a)}return Dk(a,n),Bk(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===r7&&(i=void 0),this.autoFreeze_&&lN(i,!0),n){const a=[],s=[];cu("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else as(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){jo(e)||as(8),lu(e)&&(e=vo(e));const t=Mk(this),r=kw(e,void 0);return r[da].isManual_=!0,Sw(t),r}finishDraft(e,t){const r=e&&e[da];(!r||!r.isManual_)&&as(9);const{scope_:n}=r;return Dk(n,t),Bk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=cu("Patches").applyPatches_;return lu(e)?n(e,t):this.produce(e,i=>n(i,t))}};function kw(e,t){const r=Kp(e)?cu("MapSet").proxyMap_(e,t):qy(e)?cu("MapSet").proxySet_(e,t):qQ(e,t);return(t?t.scope_:a7()).drafts_.push(r),r}function vo(e){return lu(e)||as(10,e),o7(e)}function o7(e){if(!jo(e)||zy(e))return e;const t=e[da];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_w(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_w(e,!0);return vv(r,(i,a)=>{i7(r,i,o7(a))},n),t&&(t.finalized_=!1),r}var Aw=new WQ,l7=Aw.produce,HQ=Aw.setUseStrictIteration.bind(Aw);function c7(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var KQ=c7(),VQ=c7,GQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gv:gv.apply(null,arguments)};function Da(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(oa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>t7(n)&&n.type===e,r}var u7=class Oh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Oh.prototype)}static get[Symbol.species](){return Oh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Oh(...t[0].concat(this)):new Oh(...t.concat(this))}};function $k(e){return jo(e)?l7(e,()=>{}):e}function C0(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YQ(e){return typeof e=="boolean"}var XQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new u7;return r&&(YQ(r)?s.push(KQ):s.push(VQ(r.extraArgument))),s},d7="RTK_autoBatch",xn=()=>e=>({payload:e,meta:{[d7]:!0}}),Uk=e=>t=>{setTimeout(t,e)},f7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Uk(10):e.type==="callback"?e.queueNotification:Uk(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),p=n.subscribe(f);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[d7]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(d)}finally{i=!0}}})},JQ=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new u7(e);return n&&i.push(f7(typeof n=="object"?n:void 0)),i};function ZQ(e){const t=XQ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(oN(r))o=e7(r);else throw new Error(oa(1));let l;typeof n=="function"?l=n(t):l=t();let c=gv;i&&(c=GQ({trace:!1,...typeof i=="object"&&i}));const d=RQ(...l),f=JQ(d);let p=typeof s=="function"?s(f):f();const h=c(...p);return QL(o,a,h)}function h7(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(oa(28));if(o in t)throw new Error(oa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}HQ(!1);function QQ(e){return typeof e=="function"}function eee(e,t){let[r,n,i]=h7(t),a;if(QQ(e))a=()=>$k(e());else{const o=$k(e);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(lu(d)){const h=f(d,l);return h===void 0?d:h}else{if(jo(d))return l7(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return s.getInitialState=a,s}var tee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ree=(e=21)=>{let t="",r=e;for(;r--;)t+=tee[Math.random()*64|0];return t},nee=Symbol.for("rtk-slice-createasyncthunk");function iee(e,t){return`${e}/${t}`}function aee({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[nee];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(oa(11));const o=(typeof i.reducers=="function"?i.reducers(oee()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(x,N){const O=typeof x=="string"?x:x.type;if(!O)throw new Error(oa(12));if(O in c.sliceCaseReducersByType)throw new Error(oa(13));return c.sliceCaseReducersByType[O]=N,d},addMatcher(x,N){return c.sliceMatchers.push({matcher:x,reducer:N}),d},exposeAction(x,N){return c.actionCreators[x]=N,d},exposeCaseReducer(x,N){return c.sliceCaseReducersByName[x]=N,d}};l.forEach(x=>{const N=o[x],O={reducerName:x,type:iee(a,x),createNotation:typeof i.reducers=="function"};cee(N)?dee(O,N,d,t):lee(O,N,d)});function f(){const[x={},N=[],O=void 0]=typeof i.extraReducers=="function"?h7(i.extraReducers):[i.extraReducers],j={...x,...c.sliceCaseReducersByType};return eee(i.initialState,A=>{for(let P in j)A.addCase(P,j[P]);for(let P of c.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of N)A.addMatcher(P.matcher,P.reducer);O&&A.addDefaultCase(O)})}const p=x=>x,h=new Map,m=new WeakMap;let g;function y(x,N){return g||(g=f()),g(x,N)}function v(){return g||(g=f()),g.getInitialState()}function b(x,N=!1){function O(A){let P=A[x];return typeof P>"u"&&N&&(P=C0(m,O,v)),P}function j(A=p){const P=C0(h,N,()=>new WeakMap);return C0(P,A,()=>{const C={};for(const[k,E]of Object.entries(i.selectors??{}))C[k]=see(E,A,()=>C0(m,A,v),N);return C})}return{reducerPath:x,getSelectors:j,get selectors(){return j(O)},selectSlice:O}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(x,{reducerPath:N,...O}={}){const j=N??s;return x.inject({reducerPath:j,reducer:y},O),{...w,...b(j,!0)}}};return w}}function see(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Di=aee();function oee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function lee({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!uee(n))throw new Error(oa(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Da(e,s):Da(e))}function cee(e){return e._reducerDefinitionType==="asyncThunk"}function uee(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dee({type:e,reducerName:t},r,n,i){if(!i)throw new Error(oa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||T0,pending:o||T0,rejected:l||T0,settled:c||T0})}function T0(){}var fee="task",p7="listener",m7="completed",uN="cancelled",hee=`task-${uN}`,pee=`task-${m7}`,Ew=`${p7}-${uN}`,mee=`${p7}-${m7}`,Wy=class{constructor(e){Ut(this,"name","TaskAbortError");Ut(this,"message");this.code=e,this.message=`${fee} ${uN} (reason: ${e})`}},dN=(e,t)=>{if(typeof e!="function")throw new TypeError(oa(32))},xv=()=>{},g7=(e,t=xv)=>(e.catch(t),e),v7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Jc=e=>{if(e.aborted){const{reason:t}=e;throw new Wy(t)}};function y7(e,t){let r=xv;return new Promise((n,i)=>{const a=()=>i(new Wy(e.reason));if(e.aborted){a();return}r=v7(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=xv})}var gee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wy?"cancelled":"rejected",error:r}}finally{t==null||t()}},wv=e=>t=>g7(y7(e,t).then(r=>(Jc(e),r))),b7=e=>{const t=wv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Pd}=Object,qk={},Hy="listenerMiddleware",vee=(e,t)=>{const r=n=>v7(e,()=>Xc(n,e.reason));return(n,i)=>{dN(n);const a=new AbortController;r(a);const s=gee(async()=>{Jc(e),Jc(a.signal);const o=await n({pause:wv(a.signal),delay:b7(a.signal),signal:a.signal});return Jc(a.signal),o},()=>Xc(a,pee));return i!=null&&i.autoJoin&&t.push(s.catch(xv)),{result:wv(e)(s),cancel(){Xc(a,hee)}}}},yee=(e,t)=>{const r=async(n,i)=>{Jc(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await y7(t,Promise.race(o));return Jc(t),l}finally{a()}};return(n,i)=>g7(r(n,i))},x7=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Da(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(oa(21));return dN(a),{predicate:i,type:t,effect:a}},w7=Pd(e=>{const{type:t,predicate:r,effect:n}=x7(e);return{id:ree(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(oa(22))}}},{withTypes:()=>w7}),zk=(e,t)=>{const{type:r,effect:n,predicate:i}=x7(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Ow=e=>{e.pending.forEach(t=>{Xc(t,Ew)})},bee=(e,t)=>()=>{for(const r of t.keys())Ow(r);e.clear()},Wk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_7=Pd(Da(`${Hy}/add`),{withTypes:()=>_7}),xee=Da(`${Hy}/removeAll`),N7=Pd(Da(`${Hy}/remove`),{withTypes:()=>N7}),wee=(...e)=>{console.error(`${Hy}/error`,...e)},Vp=(e={})=>{const t=new Map,r=new Map,n=h=>{const m=r.get(h)??0;r.set(h,m+1)},i=h=>{const m=r.get(h)??1;m===1?r.delete(h):r.set(h,m-1)},{extra:a,onError:s=wee}=e;dN(s);const o=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),m=>{h.unsubscribe(),m!=null&&m.cancelActive&&Ow(h)}),l=h=>{const m=zk(t,h)??w7(h);return o(m)};Pd(l,{withTypes:()=>l});const c=h=>{const m=zk(t,h);return m&&(m.unsubscribe(),h.cancelActive&&Ow(m)),!!m};Pd(c,{withTypes:()=>c});const d=async(h,m,g,y)=>{const v=new AbortController,b=yee(l,v.signal),w=[];try{h.pending.add(v),n(h),await Promise.resolve(h.effect(m,Pd({},g,{getOriginalState:y,condition:(x,N)=>b(x,N).then(Boolean),take:b,delay:b7(v.signal),pause:wv(v.signal),extra:a,signal:v.signal,fork:vee(v.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((x,N,O)=>{x!==v&&(Xc(x,Ew),O.delete(x))})},cancel:()=>{Xc(v,Ew),h.pending.delete(v)},throwIfCancelled:()=>{Jc(v.signal)}})))}catch(x){x instanceof Wy||Wk(s,x,{raisedBy:"effect"})}finally{await Promise.all(w),Xc(v,mee),i(h),h.pending.delete(v)}},f=bee(t,r);return{middleware:h=>m=>g=>{if(!t7(g))return m(g);if(_7.match(g))return l(g.payload);if(xee.match(g)){f();return}if(N7.match(g))return c(g.payload);let y=h.getState();const v=()=>{if(y===qk)throw new Error(oa(23));return y};let b;try{if(b=m(g),t.size>0){const w=h.getState(),x=Array.from(t.values());for(const N of x){let O=!1;try{O=N.predicate(g,w,y)}catch(j){O=!1,Wk(s,j,{raisedBy:"predicate"})}O&&d(N,g,h,v)}}}finally{y=qk}return b},startListening:l,stopListening:c,clearListeners:f}};function oa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _ee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S7=Di({name:"chartLayout",initialState:_ee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Nee,setLayout:See,setChartSize:jee,setScale:kee}=S7.actions,Aee=S7.reducer;function j7(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){Eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eee(e,t,r){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,r){return wr(e)||wr(t)?r:Ds(t)?ou(e,t,r):typeof t=="function"?t(e):r}var Cee=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&tt(e[a]))return bd(bd({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&tt(e[s]))return bd(bd({},e),{},{[s]:e[s]+(i||0)})}return e},Kl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",k7=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},A7=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:h}=e;if(!s)return null;var m=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=h==="angleAxis"&&a&&a.length>=2?Pn(a[0]-a[1])*2*g:g,f||p){var y=(f||p||[]).map((v,b)=>{var w=n?n.indexOf(v):v;return{coordinate:s(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!us(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:s(v)+g,value:v,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((v,b)=>({coordinate:s(v)+g,value:v,offset:g,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+g,value:n?n[v]:v,index:b,offset:g}))},Kk=1e-4,Tee=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Kk,a=Math.max(n[0],n[1])+Kk,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},Lee=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(i[0]=r),(!tt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Iee=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=us(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},Ree=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=us(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Dee={sign:Iee,expand:AZ,none:Vd,silhouette:EZ,wiggle:OZ,positive:Ree},Mee=(e,t,r)=>{var n=Dee[r],i=kZ().keys(t).value((a,s)=>Number(or(a,s,0))).order(bw).offset(n);return i(e)};function Bee(e){return e==null?void 0:String(e)}function Vk(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wr(i[t.dataKey])){var o=wL(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=or(i,wr(s)?t.dataKey:s);return wr(l)?null:t.scale(l)}var Gk=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=or(a,t.dataKey,t.scale.domain()[s]);return wr(o)?null:t.scale(o)-i/2+n},Fee=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},$ee=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Uee=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qee=(e,t,r)=>{if(e!=null)return Uee(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var d=j7(c,t,r),f=$ee(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Yk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=$y(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Jk(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return bd(bd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function gf(e,t){if(e)return String(e);if(typeof t=="string")return t}var zee=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Wee=(e,t)=>t==="centric"?e.angle:e.radius,Ro=e=>e.layout.width,Do=e=>e.layout.height,Hee=e=>e.layout.scale,E7=e=>e.layout.margin,Ky=je(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vy=je(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),O7="data-recharts-item-index",P7="data-recharts-item-data-key",Gp=60;function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){Kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kee(e,t,r){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yee=e=>e.brush.height;function Xee(e){var t=Vy(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Gp;return r+i}return r},0)}function Jee(e){var t=Vy(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Gp;return r+i}return r},0)}function Zee(e){var t=Ky(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Qee(e){var t=Ky(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _n=je([Ro,Do,E7,Yee,Xee,Jee,Zee,Qee,ZL,OQ],(e,t,r,n,i,a,s,o,l,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=L0(L0({},f),d),h=p.bottom;p.bottom+=n,p=Cee(p,l,c);var m=e-p.left-p.right,g=t-p.top-p.bottom;return L0(L0({brushBottom:h},p),{},{width:Math.max(m,0),height:Math.max(g,0)})}),ete=je(_n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fN=je(Ro,Do,(e,t)=>({x:0,y:0,width:e,height:t})),tte=T.createContext(null),oi=()=>T.useContext(tte)!=null,Gy=e=>e.brush,Yy=je([Gy,_n,E7],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:tt(e.width)?e.width:t.width})),C7={},T7={},L7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},m=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{m(),s=void 0,o=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=p==null;h(),l&&w&&d()};return v.schedule=h,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(L7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...g){d=n.apply(this,g),f=null},i,{edges:c}),h=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,g),d)},m=()=>(p.flush(),d);return h.cancel=p.cancel,h.flush=m,h}e.debounce=r})(T7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(C7);var rte=C7.throttle;const nte=Fs(rte);var _v=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},I7=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=So(n)?e:Number(n),l=So(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},ite={width:0,height:0,overflow:"visible"},ate={width:0,overflowX:"visible"},ste={height:0,overflowY:"visible"},ote={},lte=e=>{var{width:t,height:r}=e,n=So(t),i=So(r);return n&&i?ite:n?ate:i?ste:ote};function cte(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Gr(e){return Number.isFinite(e)}function Ms(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(null,arguments)}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t,r){return(t=dte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=T.createContext({width:-1,height:-1});function hte(e){return Ms(e.width)&&Ms(e.height)}function D7(e){var{children:t,width:r,height:n}=e,i=T.useMemo(()=>({width:r,height:n}),[r,n]);return hte(i)?T.createElement(R7.Provider,{value:i},t):null}var hN=()=>T.useContext(R7),pte=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:h,style:m={}}=e,g=T.useRef(null),y=T.useRef();y.current=h,T.useImperativeHandle(t,()=>g.current);var[v,b]=T.useState({containerWidth:n.width,containerHeight:n.height}),w=T.useCallback((A,P)=>{b(C=>{var k=Math.round(A),E=Math.round(P);return C.containerWidth===k&&C.containerHeight===E?C:{containerWidth:k,containerHeight:E}})},[]);T.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return _u;var A=E=>{var I,{width:M,height:U}=E[0].contentRect;w(M,U),(I=y.current)===null||I===void 0||I.call(y,M,U)};d>0&&(A=nte(A,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(A),{width:C,height:k}=g.current.getBoundingClientRect();return w(C,k),P.observe(g.current),()=>{P.disconnect()}},[w,d]);var{containerWidth:x,containerHeight:N}=v;_v(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:j}=I7(x,N,{width:i,height:a,aspect:r,maxHeight:l});return _v(O!=null&&O>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,j,i,a,s,o,r),T.createElement("div",{id:f?"".concat(f):void 0,className:qt("recharts-responsive-container",p),style:eA(eA({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},T.createElement("div",{style:lte({width:i,height:a})},T.createElement(D7,{width:O,height:j},c)))}),Cw=T.forwardRef((e,t)=>{var r=hN();if(Ms(r.width)&&Ms(r.height))return e.children;var{width:n,height:i}=cte({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=I7(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(a)&&tt(s)?T.createElement(D7,{width:a,height:s},e.children):T.createElement(pte,Pw({},e,{width:n,height:i,ref:t}))});function M7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xy=()=>{var e,t=oi(),r=rt(ete),n=rt(Yy),i=(e=rt(Gy))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},mte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B7=()=>{var e;return(e=rt(_n))!==null&&e!==void 0?e:mte},F7=()=>rt(Ro),$7=()=>rt(Do),Rt=e=>e.layout.layoutType,Yp=()=>rt(Rt),gte=()=>{var e=Yp();return e!==void 0},Jy=e=>{var t=_r(),r=oi(),{width:n,height:i}=e,a=hN(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),T.useEffect(()=>{!r&&Ms(s)&&Ms(o)&&t(jee({width:s,height:o}))},[t,r,s,o]),null},vte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},U7=Di({name:"legend",initialState:vte,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xn()},removeLegendPayload:{reducer(e,t){var r=vo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:xn()}}}),{setLegendSize:Fve,setLegendSettings:$ve,addLegendPayload:q7,removeLegendPayload:z7}=U7.actions,yte=U7.reducer;function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ux(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=xte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _te(e){return Array.isArray(e)&&Ds(e[0])&&Ds(e[1])?e.join(" ~ "):e}var Nte=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,h=()=>{if(a&&a.length){var N={padding:0,margin:0},O=(o?$y(a,o):a).map((j,A)=>{if(j.type==="none")return null;var P=j.formatter||s||_te,{value:C,name:k}=j,E=C,I=k;if(P){var M=P(C,k,j,A,a);if(Array.isArray(M))[E,I]=M;else if(M!=null)E=M;else return null}var U=ux({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:U},Ds(I)?T.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Ds(I)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},E),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},m=ux({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=ux({margin:0},i),y=!wr(d),v=y?d:"",b=qt("recharts-default-tooltip",l),w=qt("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var x=p?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Tw({className:b,style:m},x),T.createElement("p",{className:w,style:g},T.isValidElement(v)?v:"".concat(v)),h())},dh="recharts-tooltip-wrapper",Ste={visibility:"hidden"};function jte(e){var{coordinate:t,translateX:r,translateY:n}=e;return qt(dh,{["".concat(dh,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(dh,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(dh,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(dh,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function rA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&tt(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var p=l[n];if(p==null)return 0;if(s[n]){var h=d,m=p;return h<m?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var g=f+o,y=p+c;return g>y?Math.max(d,p):Math.max(f,p)}function kte(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ate(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&r?(d=rA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=rA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=kte({translateX:d,translateY:f,useTranslate3d:o})):c=Ste,{cssProperties:c,cssClasses:jte({translateX:d,translateY:f,coordinate:r})}}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lw(e,t,r){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ete(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pte extends T.PureComponent{constructor(){super(...arguments),Lw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=Ate({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:h}),x=v?{}:I0(I0({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=I0(I0({},x),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:y},a)}}var Cte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vl={devToolsEnabled:!1,isSsr:Cte()},W7=()=>{var e;return(e=rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(null,arguments)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){Tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tte(e,t,r){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sA={curveBasisClosed:mZ,curveBasisOpen:gZ,curveBasis:pZ,curveBumpX:eZ,curveBumpY:tZ,curveLinearClosed:vZ,curveLinear:Ty,curveMonotoneX:yZ,curveMonotoneY:bZ,curveNatural:xZ,curveStep:wZ,curveStepAfter:NZ,curveStepBefore:_Z},Nv=e=>Gr(e.x)&&Gr(e.y),oA=e=>e.base!=null&&Nv(e.base)&&Nv(e),fh=e=>e.x,hh=e=>e.y,Rte=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Hp(e));return(r==="curveMonotone"||r==="curveBump")&&t?sA["".concat(r).concat(t==="vertical"?"Y":"X")]:sA[r]||Ty},Dte=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=Rte(t,i),o=a?r.filter(Nv):r,l;if(Array.isArray(n)){var c=r.map((h,m)=>aA(aA({},h),{},{base:n[m]}));i==="vertical"?l=A0().y(hh).x1(fh).x0(h=>h.base.x):l=A0().x(fh).y1(hh).y0(h=>h.base.y);var d=l.defined(oA).curve(s),f=a?c.filter(oA):c;return d(f)}i==="vertical"&&tt(n)?l=A0().y(hh).x1(fh).x0(n):tt(n)?l=A0().x(fh).y1(hh).y0(n):l=oL().x(fh).y(hh);var p=l.defined(Nv).curve(s);return p(o)},pN=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Dte(e):n;return T.createElement("path",Iw({},ua(e),G_(e),{className:qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Mte=["x","y","top","left","width","height","className"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fte(e,t,r){return(t=$te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $te(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qte(e,t){if(e==null)return{};var r,n,i=zte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wte=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),Hte=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=qte(e,Mte),c=Bte({x:t,y:r,top:n,left:i,width:a,height:s},l);return!tt(t)||!tt(r)||!tt(a)||!tt(s)||!tt(n)||!tt(i)?null:T.createElement("path",Rw({},xi(c),{className:qt("recharts-cross",o),d:Wte(t,r,a,s,n,i)}))};function Kte(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){Vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vte(e,t,r){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),H7=(e,t,r)=>e.map(n=>"".concat(Xte(n)," ").concat(t,"ms ").concat(r)).join(","),Jte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Np=(e,t)=>Object.keys(t).reduce((r,n)=>uA(uA({},r),{},{[n]:e(n,t[n])}),{});function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sv=(e,t,r)=>e+(t-e)*r,Dw=e=>{var{from:t,to:r}=e;return t!==r},K7=(e,t,r)=>{var n=Np((i,a)=>{if(Dw(a)){var[s,o]=e(a.from,a.to,a.velocity);return bn(bn({},a),{},{from:s,velocity:o})}return a},t);return r<1?Np((i,a)=>Dw(a)?bn(bn({},a),{},{velocity:Sv(a.velocity,n[i].velocity,r),from:Sv(a.from,n[i].from,r)}):a,t):K7(e,n,r-1)};function tre(e,t,r,n,i,a){var s,o=n.reduce((p,h)=>bn(bn({},p),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Np((p,h)=>h.from,o),c=()=>!Object.values(o).filter(Dw).length,d=null,f=p=>{s||(s=p);var h=p-s,m=h/r.dt;o=K7(r,o,m),i(bn(bn(bn({},e),t),l())),s=p,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function rre(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>bn(bn({},f),{},{[p]:[e[p],t[p]]}),{}),c,d=f=>{c||(c=f);var p=(f-c)/n,h=Np((g,y)=>Sv(...y,r(p)),l);if(a(bn(bn(bn({},e),t),h)),p<1)o=s.setTimeout(d);else{var m=Np((g,y)=>Sv(...y,r(1)),l);a(bn(bn(bn({},e),t),m))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const nre=(e,t,r,n,i,a)=>{var s=Jte(e,t);return r==null?()=>(i(bn(bn({},e),t)),()=>{}):r.isStepper===!0?tre(e,t,r,s,i,a):rre(e,t,r,n,s,i,a)};var jv=1e-4,V7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],G7=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),fA=(e,t)=>r=>{var n=V7(e,t);return G7(n,r)},ire=(e,t)=>r=>{var n=V7(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return G7(i,r)},are=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},sre=(e,t,r,n)=>{var i=fA(e,r),a=fA(t,n),s=ire(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var h=i(f)-d,m=s(f);if(Math.abs(h-d)<jv||m<jv)return a(f);f=o(f-h/m)}return a(f)};return l.isStepper=!1,l},hA=function(){return sre(...are(...arguments))},ore=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*r,d=l*n,f=l+(c-d)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<jv&&Math.abs(f)<jv?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},lre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hA(e);case"spring":return ore();default:if(e.split("(")[0]==="cubic-bezier")return hA(e)}return typeof e=="function"?e:null};function cre(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class ure{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function dre(){return cre(new ure)}var fre=T.createContext(dre);function hre(e,t){var r=T.useContext(fre);return T.useMemo(()=>t??r(e),[e,t,r])}var pre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pA={t:0},dx={t:1};function Xp(e){var t=Ln(e,pre),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=hre(t.animationId,t.animationManager),[f,p]=T.useState(r?pA:dx),h=T.useRef(null);return T.useEffect(()=>{r||p(dx)},[r]),T.useEffect(()=>{if(!r||!n)return _u;var m=nre(pA,dx,lre(a),i,p,d.getTimeoutController()),g=()=>{h.current=m()};return d.start([l,s,g,i,o]),()=>{d.stop(),h.current&&h.current(),o()}},[r,n,i,a,s,l,o,d]),c(f.t)}function Jp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(bp(t)),n=T.useRef(e);return n.current!==e&&(r.current=bp(t),n.current=e),r.current}var mre=["radius"],gre=["radius"];function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vre(e,t,r){return(t=yre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(null,arguments)}function vA(e,t){if(e==null)return{};var r,n,i=xre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=i[f]>a?a:i[f];c="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),c+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*d[1])),c+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),c+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*d[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(e,",").concat(t+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*h,`
            L `).concat(e+r,",").concat(t+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*h," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},bA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y7=e=>{var t=Ln(e,bA),r=T.useRef(null),[n,i]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=T.useRef(o),v=T.useRef(l),b=T.useRef(a),w=T.useRef(s),x=T.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),N=Jp(x,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=qt("recharts-rectangle",d);if(!g){var j=xi(t),{radius:A}=j,P=vA(j,mre);return T.createElement("path",kv({},P,{radius:typeof c=="number"?c:void 0,className:O,d:yA(a,s,o,l,c)}))}var C=y.current,k=v.current,E=b.current,I=w.current,M="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),Z=H7(["strokeDasharray"],p,typeof f=="string"?f:bA.animationEasing);return T.createElement(Xp,{animationId:N,key:N,canBegin:n>0,duration:p,easing:f,isActive:g,begin:h},Q=>{var K=vr(C,o,Q),W=vr(k,l,Q),V=vr(E,a,Q),$=vr(I,s,Q);r.current&&(y.current=K,v.current=W,b.current=V,w.current=$);var R;m?Q>0?R={transition:Z,strokeDasharray:U}:R={strokeDasharray:M}:R={strokeDasharray:U};var B=xi(t),{radius:q}=B,H=vA(B,gre);return T.createElement("path",kv({},H,{radius:typeof c=="number"?c:void 0,className:O,d:yA(V,$,K,W,c),ref:r,style:gA(gA({},R),t.style)}))})};function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return(t=_re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _re(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av=Math.PI/180,Sre=e=>e*180/Math.PI,an=(e,t,r,n)=>({x:e+Math.cos(-Av*n)*r,y:t+Math.sin(-Av*n)*r}),X7=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},jre=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},kre=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=jre({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:Sre(l),angleInRadian:l}},Are=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Ere=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},Ore=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=kre({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=Are(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?wA(wA({},t),{},{radius:i,angle:Ere(d,t)}):null};function J7(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=an(t,r,n,i),o=an(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(null,arguments)}var Pre=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},R0=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,d=Math.asin(o/c)/Av,f=l?i:i+a*d,p=an(t,r,c,f),h=an(t,r,n,f),m=l?i-a*d:i,g=an(t,r,c*Math.cos(d*Av),m);return{center:p,circleTangency:h,lineTangency:g,theta:d}},Z7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=Pre(a,s),l=a+o,c=an(t,r,i,a),d=an(t,r,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=an(t,r,n,a),h=an(t,r,n,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Cre=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Pn(c-l),{circleTangency:f,lineTangency:p,theta:h}=R0({cx:t,cy:r,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:y}=R0({cx:t,cy:r,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-h-y;if(v<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Z7({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:x,theta:N}=R0({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:j,theta:A}=R0({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),P=o?Math.abs(l-c):Math.abs(l-c)-N-A;if(P<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},Tre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q7=e=>{var t=Ln(e,Tre),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var p=qt("recharts-sector",f),h=a-i,m=ai(s,h,0,!0),g;return m>0&&Math.abs(c-d)<360?g=Cre({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=Z7({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),T.createElement("path",Mw({},xi(t),{className:p,d:g}))};function Lre(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(SL(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=an(n,i,a,o),c=an(n,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return J7(t)}}var eI={},tI={},rI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN,r=tI;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=n})(eI);var Ire=eI.range;const nI=Fs(Ire);function Ll(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mN(e){let t,r,n;e.length!==2?(t=Ll,r=(o,l)=>Ll(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ll||e===Rre?e:Dre,r=e,n=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Dre(){return 0}function iI(e){return e===null?NaN:+e}function*Mre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Bre=mN(Ll),Zp=Bre.right;mN(iI).center;class _A extends Map{constructor(t,r=Ure){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(NA(this,t))}has(t){return super.has(NA(this,t))}set(t,r){return super.set(Fre(this,t),r)}delete(t){return super.delete($re(this,t))}}function NA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Fre({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $re({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ure(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qre(e=Ll){if(e===Ll)return aI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zre=Math.sqrt(50),Wre=Math.sqrt(10),Hre=Math.sqrt(2);function Ev(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=zre?10:a>=Wre?5:a>=Hre?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Ev(e,t,r*2):[o,l,c]}function Bw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Ev(t,e,r):Ev(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Fw(e,t,r){return t=+t,e=+e,r=+r,Ev(e,t,r)[2]}function $w(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Fw(t,e,r):Fw(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function SA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sI(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?aI:qre(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+p)),m=Math.min(n,Math.floor(t+(l-c)*f/l+p));sI(e,t,h,m,i)}const a=e[t];let s=r,o=n;for(ph(e,r,t),i(e[n],a)>0&&ph(e,r,n);s<o;){for(ph(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?ph(e,r,o):(++o,ph(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ph(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Kre(e,t,r){if(e=Float64Array.from(Mre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jA(e);if(t>=1)return SA(e);var n,i=(n-1)*t,a=Math.floor(i),s=SA(sI(e,a).subarray(0,a+1)),o=jA(e.subarray(a+1));return s+(o-s)*(i-a)}}function Vre(e,t,r=iI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Gre(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uw=Symbol("implicit");function gN(){var e=new _A,t=[],r=[],n=Uw;function i(a){let s=e.get(a);if(s===void 0){if(n!==Uw)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _A;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gN(t,r).unknown(n)},Fa.apply(i,arguments),i}function vN(){var e=gN().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,h=i<n,m=h?i:n,g=h?n:i;a=(g-m)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),m+=(g-m-a*(p-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var y=Gre(p).map(function(v){return m+a*v});return r(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return vN(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Fa.apply(f(),arguments)}function oI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oI(t())},e}function Yre(){return oI(vN.apply(null,arguments).paddingInner(1))}function yN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qp(){}var Sp=.7,Ov=1/Sp,Cd="\\s*([+-]?\\d+)\\s*",jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xre=/^#([0-9a-f]{3,8})$/,Jre=new RegExp(`^rgb\\(${Cd},${Cd},${Cd}\\)$`),Zre=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),Qre=new RegExp(`^rgba\\(${Cd},${Cd},${Cd},${jp}\\)$`),ene=new RegExp(`^rgba\\(${Is},${Is},${Is},${jp}\\)$`),tne=new RegExp(`^hsl\\(${jp},${Is},${Is}\\)$`),rne=new RegExp(`^hsla\\(${jp},${Is},${Is},${jp}\\)$`),kA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yN(Qp,kp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AA,formatHex:AA,formatHex8:nne,formatHsl:ine,formatRgb:EA,toString:EA});function AA(){return this.rgb().formatHex()}function nne(){return this.rgb().formatHex8()}function ine(){return cI(this).formatHsl()}function EA(){return this.rgb().formatRgb()}function kp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Xre.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?OA(t):r===3?new Ti(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?D0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?D0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jre.exec(e))?new Ti(t[1],t[2],t[3],1):(t=Zre.exec(e))?new Ti(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qre.exec(e))?D0(t[1],t[2],t[3],t[4]):(t=ene.exec(e))?D0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tne.exec(e))?TA(t[1],t[2]/100,t[3]/100,1):(t=rne.exec(e))?TA(t[1],t[2]/100,t[3]/100,t[4]):kA.hasOwnProperty(e)?OA(kA[e]):e==="transparent"?new Ti(NaN,NaN,NaN,0):null}function OA(e){return new Ti(e>>16&255,e>>8&255,e&255,1)}function D0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ti(e,t,r,n)}function ane(e){return e instanceof Qp||(e=kp(e)),e?(e=e.rgb(),new Ti(e.r,e.g,e.b,e.opacity)):new Ti}function qw(e,t,r,n){return arguments.length===1?ane(e):new Ti(e,t,r,n??1)}function Ti(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}yN(Ti,qw,lI(Qp,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new Ti(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sp:Math.pow(Sp,e),new Ti(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ti(Zc(this.r),Zc(this.g),Zc(this.b),Pv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PA,formatHex:PA,formatHex8:sne,formatRgb:CA,toString:CA}));function PA(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function sne(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function CA(){const e=Pv(this.opacity);return`${e===1?"rgb(":"rgba("}${Zc(this.r)}, ${Zc(this.g)}, ${Zc(this.b)}${e===1?")":`, ${e})`}`}function Pv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wc(e){return e=Zc(e),(e<16?"0":"")+e.toString(16)}function TA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ss(e,t,r,n)}function cI(e){if(e instanceof ss)return new ss(e.h,e.s,e.l,e.opacity);if(e instanceof Qp||(e=kp(e)),!e)return new ss;if(e instanceof ss)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ss(s,o,l,e.opacity)}function one(e,t,r,n){return arguments.length===1?cI(e):new ss(e,t,r,n??1)}function ss(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}yN(ss,one,lI(Qp,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new ss(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sp:Math.pow(Sp,e),new ss(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ti(fx(e>=240?e-240:e+120,i,n),fx(e,i,n),fx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ss(LA(this.h),M0(this.s),M0(this.l),Pv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pv(this.opacity);return`${e===1?"hsl(":"hsla("}${LA(this.h)}, ${M0(this.s)*100}%, ${M0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LA(e){return e=(e||0)%360,e<0?e+360:e}function M0(e){return Math.max(0,Math.min(1,e||0))}function fx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bN=e=>()=>e;function lne(e,t){return function(r){return e+r*t}}function cne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function une(e){return(e=+e)==1?uI:function(t,r){return r-t?cne(t,r,e):bN(isNaN(t)?r:t)}}function uI(e,t){var r=t-e;return r?lne(e,r):bN(isNaN(e)?t:e)}const IA=function e(t){var r=une(t);function n(i,a){var s=r((i=qw(i)).r,(a=qw(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=uI(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function dne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function fne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=vf(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function pne(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mne(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=vf(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var zw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hx=new RegExp(zw.source,"g");function gne(e){return function(){return e}}function vne(e){return function(t){return e(t)+""}}function yne(e,t){var r=zw.lastIndex=hx.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=zw.exec(e))&&(i=hx.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Cv(n,i)})),r=hx.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?vne(l[0].x):gne(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function vf(e,t){var r=typeof t,n;return t==null||r==="boolean"?bN(t):(r==="number"?Cv:r==="string"?(n=kp(t))?(t=n,IA):yne:t instanceof kp?IA:t instanceof Date?pne:fne(t)?dne:Array.isArray(t)?hne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mne:Cv)(e,t)}function xN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bne(e,t){t===void 0&&(t=e,e=vf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function xne(e){return function(){return e}}function Tv(e){return+e}var RA=[0,1];function yi(e){return e}function Ww(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xne(isNaN(t)?NaN:.5)}function wne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _ne(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Ww(i,n),a=r(s,a)):(n=Ww(n,i),a=r(a,s)),function(o){return a(n(o))}}function Nne(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Ww(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Zp(e,o,1,n)-1;return a[l](i[l](o))}}function em(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zy(){var e=RA,t=RA,r=vf,n,i,a,s=yi,o,l,c;function d(){var p=Math.min(e.length,t.length);return s!==yi&&(s=wne(e[0],e[p-1])),o=p>2?Nne:_ne,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(t,e.map(n),Cv)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Tv),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=xN,d()},f.clamp=function(p){return arguments.length?(s=p?!0:yi,d()):s!==yi},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,d()}}function wN(){return Zy()(yi,yi)}function Sne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xd(e){return e=Lv(Math.abs(e)),e?e[1]:NaN}function jne(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function kne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ane=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ap(e){if(!(t=Ane.exec(e)))throw new Error("invalid format: "+e);var t;return new _N({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ap.prototype=_N.prototype;function _N(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_N.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ene(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var dI;function One(e,t){var r=Lv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(dI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Lv(e,Math.max(0,t+a-1))[0]}function DA(e,t){var r=Lv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const MA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DA(e*100,t),r:DA,s:One,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BA(e){return e}var FA=Array.prototype.map,$A=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pne(e){var t=e.grouping===void 0||e.thousands===void 0?BA:jne(FA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?BA:kne(FA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Ap(f);var p=f.fill,h=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,x=f.trim,N=f.type;N==="n"?(b=!0,N="g"):MA[N]||(w===void 0&&(w=12),x=!0,N="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=g==="$"?n:/[%p]/.test(N)?s:"",A=MA[N],P=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(k){var E=O,I=j,M,U,Z;if(N==="c")I=A(k)+I,k="";else{k=+k;var Q=k<0||1/k<0;if(k=isNaN(k)?l:A(Math.abs(k),w),x&&(k=Ene(k)),Q&&+k==0&&m!=="+"&&(Q=!1),E=(Q?m==="("?m:o:m==="-"||m==="("?"":m)+E,I=(N==="s"?$A[8+dI/3]:"")+I+(Q&&m==="("?")":""),P){for(M=-1,U=k.length;++M<U;)if(Z=k.charCodeAt(M),48>Z||Z>57){I=(Z===46?i+k.slice(M+1):k.slice(M))+I,k=k.slice(0,M);break}}}b&&!y&&(k=t(k,1/0));var K=E.length+k.length+I.length,W=K<v?new Array(v-K+1).join(p):"";switch(b&&y&&(k=t(W+k,W.length?v-I.length:1/0),W=""),h){case"<":k=E+k+I+W;break;case"=":k=E+W+k+I;break;case"^":k=W.slice(0,K=W.length>>1)+E+k+I+W.slice(K);break;default:k=W+E+k+I;break}return a(k)}return C.toString=function(){return f+""},C}function d(f,p){var h=c((f=Ap(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Xd(p)/3)))*3,g=Math.pow(10,-m),y=$A[8+m/3];return function(v){return h(g*v)+y}}return{format:c,formatPrefix:d}}var B0,NN,fI;Cne({thousands:",",grouping:[3],currency:["$",""]});function Cne(e){return B0=Pne(e),NN=B0.format,fI=B0.formatPrefix,B0}function Tne(e){return Math.max(0,-Xd(Math.abs(e)))}function Lne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xd(t)/3)))*3-Xd(Math.abs(e)))}function Ine(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xd(t)-Xd(e))+1}function hI(e,t,r,n){var i=$w(e,t,r),a;switch(n=Ap(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Lne(i,s))&&(n.precision=a),fI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ine(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Tne(i))&&(n.precision=a-(n.type==="%")*2);break}}return NN(n)}function Gl(e){var t=e.domain;return e.ticks=function(r){var n=t();return Bw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return hI(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Fw(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function pI(){var e=wN();return e.copy=function(){return em(e,pI())},Fa.apply(e,arguments),Gl(e)}function mI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Tv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mI(e).unknown(t)},e=arguments.length?Array.from(e,Tv):[0,1],Gl(r)}function gI(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function UA(e){return Math.log(e)}function qA(e){return Math.exp(e)}function Rne(e){return-Math.log(-e)}function Dne(e){return-Math.exp(-e)}function Mne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bne(e){return e===10?Mne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zA(e){return(t,r)=>-e(-t,r)}function SN(e){const t=e(UA,qA),r=t.domain;let n=10,i,a;function s(){return i=Fne(n),a=Bne(n),r()[0]<0?(i=zA(i),a=zA(a),e(Rne,Dne)):e(UA,qA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=i(c),h=i(d),m,g;const y=o==null?10:+o;let v=[];if(!(n%1)&&h-p<y){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(m=1;m<n;++m)if(g=p<0?m/a(-p):m*a(p),!(g<c)){if(g>d)break;v.push(g)}}else for(;p<=h;++p)for(m=n-1;m>=1;--m)if(g=p>0?m/a(-p):m*a(p),!(g<c)){if(g>d)break;v.push(g)}v.length*2<y&&(v=Bw(c,d,y))}else v=Bw(p,h,Math.min(h-p,y)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ap(l)).precision==null&&(l.trim=!0),l=NN(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(gI(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function vI(){const e=SN(Zy()).domain([1,10]);return e.copy=()=>em(e,vI()).base(e.base()),Fa.apply(e,arguments),e}function WA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jN(e){var t=1,r=e(WA(t),HA(t));return r.constant=function(n){return arguments.length?e(WA(t=+n),HA(t)):t},Gl(r)}function yI(){var e=jN(Zy());return e.copy=function(){return em(e,yI()).constant(e.constant())},Fa.apply(e,arguments)}function KA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $ne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Une(e){return e<0?-e*e:e*e}function kN(e){var t=e(yi,yi),r=1;function n(){return r===1?e(yi,yi):r===.5?e($ne,Une):e(KA(r),KA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gl(t)}function AN(){var e=kN(Zy());return e.copy=function(){return em(e,AN()).exponent(e.exponent())},Fa.apply(e,arguments),e}function qne(){return AN.apply(null,arguments).exponent(.5)}function VA(e){return Math.sign(e)*e*e}function zne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bI(){var e=wN(),t=[0,1],r=!1,n;function i(a){var s=zne(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(VA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Tv)).map(VA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fa.apply(i,arguments),Gl(i)}function xI(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=Vre(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Zp(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ll),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return xI().domain(e).range(t).unknown(n)},Fa.apply(a,arguments)}function wI(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Zp(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return wI().domain([e,t]).range(i).unknown(a)},Fa.apply(Gl(s),arguments)}function _I(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Zp(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _I().domain(e).range(t).unknown(r)},Fa.apply(i,arguments)}const px=new Date,mx=new Date;function Nn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Nn(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(px.setTime(+a),mx.setTime(+s),e(px),e(mx),Math.floor(r(px,mx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Iv=Nn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Iv);Iv.range;const ho=1e3,Pa=ho*60,po=Pa*60,ko=po*24,EN=ko*7,GA=ko*30,gx=ko*365,Hc=Nn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCSeconds());Hc.range;const ON=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ho)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getMinutes());ON.range;const PN=Nn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCMinutes());PN.range;const CN=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ho-e.getMinutes()*Pa)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getHours());CN.range;const TN=Nn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCHours());TN.range;const tm=Nn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/ko,e=>e.getDate()-1);tm.range;const Qy=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ko,e=>e.getUTCDate()-1);Qy.range;const NI=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ko,e=>Math.floor(e/ko));NI.range;function Nu(e){return Nn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/EN)}const e1=Nu(0),Rv=Nu(1),Wne=Nu(2),Hne=Nu(3),Jd=Nu(4),Kne=Nu(5),Vne=Nu(6);e1.range;Rv.range;Wne.range;Hne.range;Jd.range;Kne.range;Vne.range;function Su(e){return Nn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/EN)}const t1=Su(0),Dv=Su(1),Gne=Su(2),Yne=Su(3),Zd=Su(4),Xne=Su(5),Jne=Su(6);t1.range;Dv.range;Gne.range;Yne.range;Zd.range;Xne.range;Jne.range;const LN=Nn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LN.range;const IN=Nn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());IN.range;const Ao=Nn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ao.range;const Eo=Nn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Eo.range;function SI(e,t,r,n,i,a){const s=[[Hc,1,ho],[Hc,5,5*ho],[Hc,15,15*ho],[Hc,30,30*ho],[a,1,Pa],[a,5,5*Pa],[a,15,15*Pa],[a,30,30*Pa],[i,1,po],[i,3,3*po],[i,6,6*po],[i,12,12*po],[n,1,ko],[n,2,2*ko],[r,1,EN],[t,1,GA],[t,3,3*GA],[e,1,gx]];function o(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const h=f&&typeof f.range=="function"?f:l(c,d,f),m=h?h.range(c,+d+1):[];return p?m.reverse():m}function l(c,d,f){const p=Math.abs(d-c)/f,h=mN(([,,y])=>y).right(s,p);if(h===s.length)return e.every($w(c/gx,d/gx,f));if(h===0)return Iv.every(Math.max($w(c,d,f),1));const[m,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return m.every(g)}return[o,l]}const[Zne,Qne]=SI(Eo,IN,t1,NI,TN,PN),[eie,tie]=SI(Ao,LN,e1,tm,CN,ON);function vx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function rie(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=gh(i),d=vh(i),f=gh(a),p=vh(a),h=gh(s),m=vh(s),g=gh(o),y=vh(o),v=gh(l),b=vh(l),w={a:Q,A:K,b:W,B:V,c:null,d:e6,e:e6,f:jie,g:Rie,G:Mie,H:_ie,I:Nie,j:Sie,L:jI,m:kie,M:Aie,p:$,q:R,Q:n6,s:i6,S:Eie,u:Oie,U:Pie,V:Cie,w:Tie,W:Lie,x:null,X:null,y:Iie,Y:Die,Z:Bie,"%":r6},x={a:B,A:q,b:H,B:z,c:null,d:t6,e:t6,f:qie,g:Zie,G:eae,H:Fie,I:$ie,j:Uie,L:AI,m:zie,M:Wie,p:J,q:ae,Q:n6,s:i6,S:Hie,u:Kie,U:Vie,V:Gie,w:Yie,W:Xie,x:null,X:null,y:Jie,Y:Qie,Z:tae,"%":r6},N={a:C,A:k,b:E,B:I,c:M,d:ZA,e:ZA,f:yie,g:JA,G:XA,H:QA,I:QA,j:pie,L:vie,m:hie,M:mie,p:P,q:fie,Q:xie,s:wie,S:gie,u:oie,U:lie,V:cie,w:sie,W:uie,x:U,X:Z,y:JA,Y:XA,Z:die,"%":bie};w.x=O(r,w),w.X=O(n,w),w.c=O(t,w),x.x=O(r,x),x.X=O(n,x),x.c=O(t,x);function O(X,le){return function(ge){var de=[],ke=-1,ve=0,ie=X.length,We,Be,xe;for(ge instanceof Date||(ge=new Date(+ge));++ke<ie;)X.charCodeAt(ke)===37&&(de.push(X.slice(ve,ke)),(Be=YA[We=X.charAt(++ke)])!=null?We=X.charAt(++ke):Be=We==="e"?" ":"0",(xe=le[We])&&(We=xe(ge,Be)),de.push(We),ve=ke+1);return de.push(X.slice(ve,ke)),de.join("")}}function j(X,le){return function(ge){var de=mh(1900,void 0,1),ke=A(de,X,ge+="",0),ve,ie;if(ke!=ge.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(le&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(ve=yx(mh(de.y,0,1)),ie=ve.getUTCDay(),ve=ie>4||ie===0?Dv.ceil(ve):Dv(ve),ve=Qy.offset(ve,(de.V-1)*7),de.y=ve.getUTCFullYear(),de.m=ve.getUTCMonth(),de.d=ve.getUTCDate()+(de.w+6)%7):(ve=vx(mh(de.y,0,1)),ie=ve.getDay(),ve=ie>4||ie===0?Rv.ceil(ve):Rv(ve),ve=tm.offset(ve,(de.V-1)*7),de.y=ve.getFullYear(),de.m=ve.getMonth(),de.d=ve.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ie="Z"in de?yx(mh(de.y,0,1)).getUTCDay():vx(mh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ie+5)%7:de.w+de.U*7-(ie+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,yx(de)):vx(de)}}function A(X,le,ge,de){for(var ke=0,ve=le.length,ie=ge.length,We,Be;ke<ve;){if(de>=ie)return-1;if(We=le.charCodeAt(ke++),We===37){if(We=le.charAt(ke++),Be=N[We in YA?le.charAt(ke++):We],!Be||(de=Be(X,ge,de))<0)return-1}else if(We!=ge.charCodeAt(de++))return-1}return de}function P(X,le,ge){var de=c.exec(le.slice(ge));return de?(X.p=d.get(de[0].toLowerCase()),ge+de[0].length):-1}function C(X,le,ge){var de=h.exec(le.slice(ge));return de?(X.w=m.get(de[0].toLowerCase()),ge+de[0].length):-1}function k(X,le,ge){var de=f.exec(le.slice(ge));return de?(X.w=p.get(de[0].toLowerCase()),ge+de[0].length):-1}function E(X,le,ge){var de=v.exec(le.slice(ge));return de?(X.m=b.get(de[0].toLowerCase()),ge+de[0].length):-1}function I(X,le,ge){var de=g.exec(le.slice(ge));return de?(X.m=y.get(de[0].toLowerCase()),ge+de[0].length):-1}function M(X,le,ge){return A(X,t,le,ge)}function U(X,le,ge){return A(X,r,le,ge)}function Z(X,le,ge){return A(X,n,le,ge)}function Q(X){return s[X.getDay()]}function K(X){return a[X.getDay()]}function W(X){return l[X.getMonth()]}function V(X){return o[X.getMonth()]}function $(X){return i[+(X.getHours()>=12)]}function R(X){return 1+~~(X.getMonth()/3)}function B(X){return s[X.getUTCDay()]}function q(X){return a[X.getUTCDay()]}function H(X){return l[X.getUTCMonth()]}function z(X){return o[X.getUTCMonth()]}function J(X){return i[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var le=O(X+="",w);return le.toString=function(){return X},le},parse:function(X){var le=j(X+="",!1);return le.toString=function(){return X},le},utcFormat:function(X){var le=O(X+="",x);return le.toString=function(){return X},le},utcParse:function(X){var le=j(X+="",!0);return le.toString=function(){return X},le}}}var YA={"-":"",_:" ",0:"0"},In=/^\s*\d+/,nie=/^%/,iie=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function aie(e){return e.replace(iie,"\\$&")}function gh(e){return new RegExp("^(?:"+e.map(aie).join("|")+")","i")}function vh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sie(e,t,r){var n=In.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function oie(e,t,r){var n=In.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lie(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function cie(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function uie(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XA(e,t,r){var n=In.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function JA(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function die(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fie(e,t,r){var n=In.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function hie(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ZA(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function pie(e,t,r){var n=In.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QA(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mie(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function gie(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function vie(e,t,r){var n=In.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function yie(e,t,r){var n=In.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bie(e,t,r){var n=nie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xie(e,t,r){var n=In.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function wie(e,t,r){var n=In.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function e6(e,t){return Ft(e.getDate(),t,2)}function _ie(e,t){return Ft(e.getHours(),t,2)}function Nie(e,t){return Ft(e.getHours()%12||12,t,2)}function Sie(e,t){return Ft(1+tm.count(Ao(e),e),t,3)}function jI(e,t){return Ft(e.getMilliseconds(),t,3)}function jie(e,t){return jI(e,t)+"000"}function kie(e,t){return Ft(e.getMonth()+1,t,2)}function Aie(e,t){return Ft(e.getMinutes(),t,2)}function Eie(e,t){return Ft(e.getSeconds(),t,2)}function Oie(e){var t=e.getDay();return t===0?7:t}function Pie(e,t){return Ft(e1.count(Ao(e)-1,e),t,2)}function kI(e){var t=e.getDay();return t>=4||t===0?Jd(e):Jd.ceil(e)}function Cie(e,t){return e=kI(e),Ft(Jd.count(Ao(e),e)+(Ao(e).getDay()===4),t,2)}function Tie(e){return e.getDay()}function Lie(e,t){return Ft(Rv.count(Ao(e)-1,e),t,2)}function Iie(e,t){return Ft(e.getFullYear()%100,t,2)}function Rie(e,t){return e=kI(e),Ft(e.getFullYear()%100,t,2)}function Die(e,t){return Ft(e.getFullYear()%1e4,t,4)}function Mie(e,t){var r=e.getDay();return e=r>=4||r===0?Jd(e):Jd.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function Bie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function t6(e,t){return Ft(e.getUTCDate(),t,2)}function Fie(e,t){return Ft(e.getUTCHours(),t,2)}function $ie(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function Uie(e,t){return Ft(1+Qy.count(Eo(e),e),t,3)}function AI(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function qie(e,t){return AI(e,t)+"000"}function zie(e,t){return Ft(e.getUTCMonth()+1,t,2)}function Wie(e,t){return Ft(e.getUTCMinutes(),t,2)}function Hie(e,t){return Ft(e.getUTCSeconds(),t,2)}function Kie(e){var t=e.getUTCDay();return t===0?7:t}function Vie(e,t){return Ft(t1.count(Eo(e)-1,e),t,2)}function EI(e){var t=e.getUTCDay();return t>=4||t===0?Zd(e):Zd.ceil(e)}function Gie(e,t){return e=EI(e),Ft(Zd.count(Eo(e),e)+(Eo(e).getUTCDay()===4),t,2)}function Yie(e){return e.getUTCDay()}function Xie(e,t){return Ft(Dv.count(Eo(e)-1,e),t,2)}function Jie(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function Zie(e,t){return e=EI(e),Ft(e.getUTCFullYear()%100,t,2)}function Qie(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function eae(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zd(e):Zd.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function tae(){return"+0000"}function r6(){return"%"}function n6(e){return+e}function i6(e){return Math.floor(+e/1e3)}var Yu,OI,PI;rae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rae(e){return Yu=rie(e),OI=Yu.format,Yu.parse,PI=Yu.utcFormat,Yu.utcParse,Yu}function nae(e){return new Date(e)}function iae(e){return e instanceof Date?+e:+new Date(+e)}function RN(e,t,r,n,i,a,s,o,l,c){var d=wN(),f=d.invert,p=d.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),x=c("%Y");function N(O){return(l(O)<O?h:o(O)<O?m:s(O)<O?g:a(O)<O?y:n(O)<O?i(O)<O?v:b:r(O)<O?w:x)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?p(Array.from(O,iae)):p().map(nae)},d.ticks=function(O){var j=p();return e(j[0],j[j.length-1],O??10)},d.tickFormat=function(O,j){return j==null?N:c(j)},d.nice=function(O){var j=p();return(!O||typeof O.range!="function")&&(O=t(j[0],j[j.length-1],O??10)),O?p(gI(j,O)):d},d.copy=function(){return em(d,RN(e,t,r,n,i,a,s,o,l,c))},d}function aae(){return Fa.apply(RN(eie,tie,Ao,LN,e1,tm,CN,ON,Hc,OI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sae(){return Fa.apply(RN(Zne,Qne,Eo,IN,t1,Qy,TN,PN,Hc,PI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function r1(){var e=0,t=1,r,n,i,a,s=yi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(p){var h,m;return arguments.length?([h,m]=p,s=f(h,m),c):[s(0),s(1)]}}return c.range=d(vf),c.rangeRound=d(xN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CI(){var e=Gl(r1()(yi));return e.copy=function(){return Yl(e,CI())},Mo.apply(e,arguments)}function TI(){var e=SN(r1()).domain([1,10]);return e.copy=function(){return Yl(e,TI()).base(e.base())},Mo.apply(e,arguments)}function LI(){var e=jN(r1());return e.copy=function(){return Yl(e,LI()).constant(e.constant())},Mo.apply(e,arguments)}function DN(){var e=kN(r1());return e.copy=function(){return Yl(e,DN()).exponent(e.exponent())},Mo.apply(e,arguments)}function oae(){return DN.apply(null,arguments).exponent(.5)}function II(){var e=[],t=yi;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ll),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Kre(e,a/n))},r.copy=function(){return II(t).domain(e)},Mo.apply(r,arguments)}function n1(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=yi,d,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=bne(g,[v,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=m(vf),h.rangeRound=m(xN),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function RI(){var e=Gl(n1()(yi));return e.copy=function(){return Yl(e,RI())},Mo.apply(e,arguments)}function DI(){var e=SN(n1()).domain([.1,1,10]);return e.copy=function(){return Yl(e,DI()).base(e.base())},Mo.apply(e,arguments)}function MI(){var e=jN(n1());return e.copy=function(){return Yl(e,MI()).constant(e.constant())},Mo.apply(e,arguments)}function MN(){var e=kN(n1());return e.copy=function(){return Yl(e,MN()).exponent(e.exponent())},Mo.apply(e,arguments)}function lae(){return MN.apply(null,arguments).exponent(.5)}const Ph=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vN,scaleDiverging:RI,scaleDivergingLog:DI,scaleDivergingPow:MN,scaleDivergingSqrt:lae,scaleDivergingSymlog:MI,scaleIdentity:mI,scaleImplicit:Uw,scaleLinear:pI,scaleLog:vI,scaleOrdinal:gN,scalePoint:Yre,scalePow:AN,scaleQuantile:xI,scaleQuantize:wI,scaleRadial:bI,scaleSequential:CI,scaleSequentialLog:TI,scaleSequentialPow:DN,scaleSequentialQuantile:II,scaleSequentialSqrt:oae,scaleSequentialSymlog:LI,scaleSqrt:qne,scaleSymlog:yI,scaleThreshold:_I,scaleTime:aae,scaleUtc:sae,tickFormat:hI},Symbol.toStringTag,{value:"Module"}));var Xl=e=>e.chartData,BN=je([Xl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),i1=(e,t,r,n)=>n?BN(e):Xl(e);function uu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Gr(t)&&Gr(r))return!0}return!1}function a6(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function BI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Gr(r))i=r;else if(typeof r=="function")return;if(Gr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(uu(s))return s}}function cae(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(uu(n))return a6(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(tt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Yk.test(i)){var l=Yk.exec(i);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(tt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Xk.test(a)){var d=Xk.exec(a);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[s,o];if(uu(p))return t==null?p:a6(p,t,r)}}}var yf=1e9,uae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$N,xr=!0,Ma="[DecimalError] ",Qc=Ma+"Invalid argument: ",FN=Ma+"Exponent out of range: ",bf=Math.floor,Lc=Math.pow,dae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ra,An=1e7,fr=7,FI=9007199254740991,Mv=bf(FI/fr),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return yo(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return er(yo(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return ln(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ra))throw Error(Ma+"NaN");if(r.s<1)throw Error(Ma+(r.s?"NaN":"-Infinity"));return r.eq(ra)?new n(0):(xr=!1,t=yo(Ep(r,a),Ep(e,a),a),xr=!0,er(t,i))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qI(t,e):$I(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ma+"NaN");return r.s?(xr=!1,t=yo(r,e,0,1).times(e),xr=!0,r.minus(t)):er(new n(r),i)};Xe.naturalExponential=Xe.exp=function(){return UI(this)};Xe.naturalLogarithm=Xe.ln=function(){return Ep(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$I(t,e):qI(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qc+e);if(t=ln(i)+1,n=i.d.length-1,r=n*fr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ma+"NaN")}for(e=ln(o),xr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Os(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(yo(o,a,s+2)).times(.5),Os(a.d).slice(0,s)===(t=Os(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(er(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return xr=!0,er(n,r)};Xe.times=Xe.mul=function(e){var t,r,n,i,a,s,o,l,c,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+t,a[i--]=o%An|0,t=o/An|0;a[i]=(a[i]+t)%An|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,xr?er(e,f.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bs(e,0,yf),t===void 0?t=n.rounding:Bs(t,0,8),er(r,e+ln(r)+1,t))};Xe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=du(n,!0):(Bs(e,0,yf),t===void 0?t=i.rounding:Bs(t,0,8),n=er(new i(n),e+1,t),r=du(n,!0,e+1)),r};Xe.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?du(i):(Bs(e,0,yf),t===void 0?t=a.rounding:Bs(t,0,8),n=er(new a(i),e+ln(i)+1,t),r=du(n.abs(),!1,e+ln(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return er(new t(e),ln(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ra);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ma+"Infinity");return o}if(o.eq(ra))return o;if(n=l.precision,e.eq(ra))return er(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=FI){for(i=new l(ra),t=Math.ceil(n/fr+4),xr=!1;r%2&&(i=i.times(o),o6(i.d,t)),r=bf(r/2),r!==0;)o=o.times(o),o6(o.d,t);return xr=!0,e.s<0?new l(ra).div(i):er(i,n)}}else if(a<0)throw Error(Ma+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,xr=!1,i=e.times(Ep(o,n+c)),xr=!0,i=UI(i),i.s=a,i};Xe.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ln(i),n=du(i,r<=a.toExpNeg||r>=a.toExpPos)):(Bs(e,1,yf),t===void 0?t=a.rounding:Bs(t,0,8),i=er(new a(i),e,t),r=ln(i),n=du(i,e<=r||r<=a.toExpNeg,e)),n};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bs(e,1,yf),t===void 0?t=n.rounding:Bs(t,0,8)),er(new n(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ln(e),r=e.constructor;return du(e,t<=r.toExpNeg||t>=r.toExpPos)};function $I(e,t){var r,n,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),xr?er(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/fr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/An|0,l[a]%=An;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,xr?er(t,f):t}function Bs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qc+e)}function Os(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=fr-n.length,r&&(a+=fl(r)),a+=n;s=e[t],n=s+"",r=fr-n.length,r&&(a+=fl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var yo=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%An|0,s=a/An|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*An+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,d,f,p,h,m,g,y,v,b,w,x,N,O,j,A,P=n.constructor,C=n.s==i.s?1:-1,k=n.d,E=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Ma+"Division by zero");for(l=n.e-i.e,j=E.length,N=k.length,h=new P(C),m=h.d=[],c=0;E[c]==(k[c]||0);)++c;if(E[c]>(k[c]||0)&&--l,a==null?b=a=P.precision:s?b=a+(ln(n)-ln(i))+1:b=a,b<0)return new P(0);if(b=b/fr+2|0,c=0,j==1)for(d=0,E=E[0],b++;(c<N||d)&&b--;c++)w=d*An+(k[c]||0),m[c]=w/E|0,d=w%E|0;else{for(d=An/(E[0]+1)|0,d>1&&(E=e(E,d),k=e(k,d),j=E.length,N=k.length),x=j,g=k.slice(0,j),y=g.length;y<j;)g[y++]=0;A=E.slice(),A.unshift(0),O=E[0],E[1]>=An/2&&++O;do d=0,o=t(E,g,j,y),o<0?(v=g[0],j!=y&&(v=v*An+(g[1]||0)),d=v/O|0,d>1?(d>=An&&(d=An-1),f=e(E,d),p=f.length,y=g.length,o=t(f,g,p,y),o==1&&(d--,r(f,j<p?A:E,p))):(d==0&&(o=d=1),f=E.slice()),p=f.length,p<y&&f.unshift(0),r(g,f,y),o==-1&&(y=g.length,o=t(E,g,j,y),o<1&&(d++,r(g,j<y?A:E,y))),y=g.length):o===0&&(d++,g=[0]),m[c++]=d,o&&g[0]?g[y++]=k[x]||0:(g=[k[x]],y=1);while((x++<N||g[0]!==void 0)&&b--)}return m[0]||m.shift(),h.e=l,er(h,s?a+ln(h)+1:a)}}();function UI(e,t){var r,n,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(ln(e)>16)throw Error(FN+ln(e));if(!e.s)return new d(ra);for(xr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Lc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new d(ra),d.precision=o;;){if(i=er(i.times(e),o),r=r.times(++l),s=a.plus(yo(i,r,o)),Os(s.d).slice(0,o)===Os(a.d).slice(0,o)){for(;c--;)a=er(a.times(a),o);return d.precision=f,t==null?(xr=!0,er(a,f)):a}a=s}}function ln(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function bx(e,t,r){if(t>e.LN10.sd())throw xr=!0,r&&(e.precision=r),Error(Ma+"LN10 precision limit exceeded");return er(new e(e.LN10),t)}function fl(e){for(var t="";e--;)t+="0";return t}function Ep(e,t){var r,n,i,a,s,o,l,c,d,f=1,p=10,h=e,m=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(Ma+(h.s?"NaN":"-Infinity"));if(h.eq(ra))return new g(0);if(t==null?(xr=!1,c=y):c=t,h.eq(10))return t==null&&(xr=!0),bx(g,c);if(c+=p,g.precision=c,r=Os(m),n=r.charAt(0),a=ln(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Os(h.d),n=r.charAt(0),f++;a=ln(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=bx(g,c+2,y).times(a+""),h=Ep(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=y,t==null?(xr=!0,er(h,y)):h;for(o=s=h=yo(h.minus(ra),h.plus(ra),c),d=er(h.times(h),c),i=3;;){if(s=er(s.times(d),c),l=o.plus(yo(s,new g(i),c)),Os(l.d).slice(0,c)===Os(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(bx(g,c+2,y).times(a+""))),o=yo(o,new g(f),c),g.precision=y,t==null?(xr=!0,er(o,y)):o;o=l,i+=2}}function s6(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=bf(r/fr),e.d=[],n=(r+1)%fr,r<0&&(n+=fr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=fr;n<i;)e.d.push(+t.slice(n,n+=fr));t=t.slice(n),n=fr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),xr&&(e.e>Mv||e.e<-Mv))throw Error(FN+r)}else e.s=0,e.e=0,e.d=[0];return e}function er(e,t,r){var n,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=fr,i=t,c=f[d=0];else{if(d=Math.ceil((n+1)/fr),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;n%=fr,i=n-fr+s}if(r!==void 0&&(a=Lc(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Lc(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=ln(e),f.length=1,t=t-a-1,f[0]=Lc(10,(fr-t%fr)%fr),e.e=bf(-t/fr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Lc(10,fr-n),f[d]=i>0?(c/Lc(10,s-i)%Lc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==An&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=An)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(xr&&(e.e>Mv||e.e<-Mv))throw Error(FN+ln(e));return e}function qI(e,t){var r,n,i,a,s,o,l,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),xr?er(t,h):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/fr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=An-1;--l[a],l[i]+=An}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,xr?er(t,h):t):new p(0)}function du(e,t,r){var n,i=ln(e),a=Os(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+fl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+fl(-i-1)+a,r&&(n=r-s)>0&&(a+=fl(n))):i>=s?(a+=fl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+fl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=fl(n))),e.s<0?"-"+a:a}function o6(e,t){if(e.length>t)return e.length=t,!0}function zI(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return s6(s,a.toString())}else if(typeof a!="string")throw Error(Qc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dae.test(a))s6(s,a);else throw Error(Qc+a)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zI,i.config=i.set=fae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fae(e){if(!e||typeof e!="object")throw Error(Ma+"Object expected");var t,r,n,i=["precision",1,yf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(bf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Qc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qc+r+": "+n);return this}var $N=zI(uae);ra=new $N(1);const Vt=$N;var hae=e=>e,WI={},HI=e=>e===WI,l6=e=>function t(){return arguments.length===0||arguments.length===1&&HI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KI=(e,t)=>e===1?t:l6(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==WI).length;return a>=e?t(...n):KI(e-a,l6(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(d=>HI(d)?o.shift():d);return t(...c,...o)}))}),a1=e=>KI(e.length,e),Hw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},pae=a1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),mae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hae;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Kw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),VI=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,r=e(...i)),r}};function GI(e){var t;return e===0?t=1:t=Math.floor(new Vt(e).abs().log(10).toNumber())+1,t}function YI(e,t,r){for(var n=new Vt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}a1((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});a1((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});a1((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var XI=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},JI=(e,t,r)=>{if(e.lte(0))return new Vt(0);var n=GI(e.toNumber()),i=new Vt(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Vt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new Vt(l.toNumber()):new Vt(Math.ceil(l.toNumber()))},gae=(e,t,r)=>{var n=new Vt(1),i=new Vt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Vt(10).pow(GI(e)-1),i=new Vt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Vt(Math.floor(e)))}else e===0?i=new Vt(Math.floor((t-1)/2)):r||(i=new Vt(Math.floor(e)));var s=Math.floor((t-1)/2),o=mae(pae(l=>i.add(new Vt(l-s).mul(n)).toNumber()),Hw);return o(0,t)},ZI=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var s=JI(new Vt(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Vt(0):(o=new Vt(t).add(r).div(2),o=o.sub(new Vt(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Vt(r).sub(o).div(s).toNumber()),d=l+c+1;return d>n?ZI(t,r,n,i,a+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:s,tickMin:o.sub(new Vt(l).mul(s)),tickMax:o.add(new Vt(c).mul(s))})};function vae(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=XI([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...Hw(0,n-1).map(()=>1/0)]:[...Hw(0,n-1).map(()=>-1/0),o];return t>r?Kw(l):l}if(s===o)return gae(s,n,i);var{step:c,tickMin:d,tickMax:f}=ZI(s,o,a,i,0),p=YI(d,f.add(new Vt(.1).mul(c)),c);return t>r?Kw(p):p}function yae(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=XI([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=JI(new Vt(s).sub(a).div(o-1),i,0),c=[...YI(new Vt(a),new Vt(s),l),s];return i===!1&&(c=c.map(d=>Math.round(d))),r>n?Kw(c):c}var bae=VI(vae),xae=VI(yae),QI=e=>e.rootProps.maxBarSize,wae=e=>e.rootProps.barGap,eR=e=>e.rootProps.barCategoryGap,_ae=e=>e.rootProps.barSize,rm=e=>e.rootProps.stackOffset,UN=e=>e.options.chartName,qN=e=>e.rootProps.syncId,tR=e=>e.rootProps.syncMethod,zN=e=>e.options.eventEmitter,sn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},oo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Qi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},s1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:oo.angleAxisId,includeHidden:!1,name:void 0,reversed:oo.reversed,scale:oo.scale,tick:oo.tick,tickCount:void 0,ticks:void 0,type:oo.type,unit:void 0},Sae={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:Qi.type,unit:void 0},jae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:oo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oo.scale,tick:oo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kae={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:"category",unit:void 0},WN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?jae:Nae,HN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kae:Sae,o1=e=>e.polarOptions,KN=je([Ro,Do,_n],X7),rR=je([o1,KN],(e,t)=>{if(e!=null)return ai(e.innerRadius,t,0)}),nR=je([o1,KN],(e,t)=>{if(e!=null)return ai(e.outerRadius,t,t*.8)}),Aae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},iR=je([o1],Aae);je([WN,iR],s1);var aR=je([KN,rR,nR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});je([HN,aR],s1);var sR=je([Rt,o1,rR,nR,Ro,Do],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ai(s,i,i/2),cy:ai(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Nr=(e,t)=>t,nm=(e,t,r)=>r;function VN(e){return e==null?void 0:e.id}function oR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var d=VN(o);c.forEach((f,p)=>{var h=a==null||i?p:String(or(f,a,null)),m=or(f,o.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[d]:m}),s.set(h,g)})}}),Array.from(s.values())}function l1(e){return e.stackId!=null&&e.dataKey!=null}var c1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function u1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Eae(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Sn=e=>{var t=Rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xf=e=>e.tooltip.settings.axisId;function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){Oae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oae(e,t,r){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw=[0,"auto"],Xi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lR=(e,t)=>e.cartesianAxis.xAxis[t],Bo=(e,t)=>{var r=lR(e,t);return r??Xi},Ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gp},cR=(e,t)=>e.cartesianAxis.yAxis[t],Fo=(e,t)=>{var r=cR(e,t);return r??Ji},Tae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GN=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Tae},Pr=(e,t,r)=>{switch(t){case"xAxis":return Bo(e,r);case"yAxis":return Fo(e,r);case"zAxis":return GN(e,r);case"angleAxis":return WN(e,r);case"radiusAxis":return HN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lae=(e,t,r)=>{switch(t){case"xAxis":return Bo(e,r);case"yAxis":return Fo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},im=(e,t,r)=>{switch(t){case"xAxis":return Bo(e,r);case"yAxis":return Fo(e,r);case"angleAxis":return WN(e,r);case"radiusAxis":return HN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function YN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var d1=e=>e.graphicalItems.cartesianItems,Iae=je([Nr,nm],YN),XN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),am=je([d1,Pr,Iae],XN,{memoizeOptions:{resultEqualityCheck:u1}}),dR=je([am],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(l1)),fR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rae=je([am],fR),JN=e=>e.map(t=>t.data).filter(Boolean).flat(1),Dae=je([am],JN,{memoizeOptions:{resultEqualityCheck:u1}}),ZN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},QN=je([Dae,i1],ZN),eS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:or(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:or(i,n)}))):e.map(n=>({value:n})),f1=je([QN,Pr,am],eS);function hR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mg(e){if(Ds(e)||e instanceof Date){var t=Number(e);if(Gr(t))return t}}function u6(e){if(Array.isArray(e)){var t=[mg(e[0]),mg(e[1])];return uu(t)?t:void 0}var r=mg(e);if(r!=null)return[r,r]}function Oo(e){return e.map(mg).filter(TZ)}function Mae(e,t,r){return!r||typeof t!="number"||us(t)?[]:r.length?Oo(r.flatMap(n=>{var i=or(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Gr(a)||!Gr(s)))return[t-a,t+s]})):[]}var jn=e=>{var t=Sn(e),r=xf(e);return im(e,t,r)},pR=je([jn],e=>e==null?void 0:e.dataKey),Bae=je([dR,i1,jn],oR),mR=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(VN);return[s,{stackedData:Mee(e,l,r),graphicalItems:o}]}))},Gw=je([Bae,dR,rm],mR),gR=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=qee(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Fae=je([Pr],e=>e.allowDataOverflow),tS=e=>{var t;if(e==null||!("domain"in e))return Vw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Oo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vw},rS=je([Pr],tS),nS=je([rS,Fae],BI),$ae=je([Gw,Xl,Nr,nS],gR,{memoizeOptions:{resultEqualityCheck:c1}}),h1=e=>e.errorBars,Uae=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>hR(r,n)),Fv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},iS=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,d,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(v=>hR(i,v)),p=or(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),h=Mae(o,p,f);if(h.length>=2){var m=Math.min(...h),g=Math.max(...h);(a==null||m<a)&&(a=m),(s==null||g>s)&&(s=g)}var y=u6(p);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=u6(or(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Gr(a)&&Gr(s))return[a,s]},qae=je([QN,Pr,Rae,h1,Nr],iS,{memoizeOptions:{resultEqualityCheck:c1}});function zae(e){var{value:t}=e;if(Ds(t)||t instanceof Date)return t}var Wae=(e,t,r)=>{var n=e.map(zae).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xL(n))?nI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},vR=e=>e.referenceElements.dots,wf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Hae=je([vR,Nr,nm],wf),yR=e=>e.referenceElements.areas,Kae=je([yR,Nr,nm],wf),bR=e=>e.referenceElements.lines,Vae=je([bR,Nr,nm],wf),xR=(e,t)=>{var r=Oo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Gae=je(Hae,Nr,xR),wR=(e,t)=>{var r=Oo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Yae=je([Kae,Nr],wR);function Xae(e){var t;if(e.x!=null)return Oo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Oo(r)}function Jae(e){var t;if(e.y!=null)return Oo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Oo(r)}var _R=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Xae(n):Jae(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zae=je([Vae,Nr],_R),Qae=je(Gae,Zae,Yae,(e,t,r)=>Fv(e,r,t)),aS=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Fv(n,a,i):Fv(a,i);return cae(t,c,e.allowDataOverflow)},ese=je([Pr,rS,nS,$ae,qae,Qae,Rt,Nr],aS,{memoizeOptions:{resultEqualityCheck:c1}}),tse=[0,1],sS=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Kl(t,a);if(c&&o==null){var d;return nI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?Wae(n,e,c):i==="expand"?tse:s}},oS=je([Pr,Rt,QN,f1,rm,Nr,ese],sS),NR=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Hp(a));return o in Ph?o:"point"}}},_f=je([Pr,Rt,uR,UN,Nr],NR);function rse(e){if(e!=null){if(e in Ph)return Ph[e]();var t="scale".concat(Hp(e));if(t in Ph)return Ph[t]()}}function lS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=rse(t);if(i!=null){var a=i.domain(r).range(n);return Tee(a),a}}}var cS=(e,t,r)=>{var n=tS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&uu(e))return bae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&uu(e))return xae(e,t.tickCount,t.allowDecimals)}},uS=je([oS,im,_f],cS),dS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&uu(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},nse=je([Pr,oS,uS,Nr],dS),ise=je(f1,Pr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Oo(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),SR=je(ise,Rt,eR,_n,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Gr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ai(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),ase=(e,t)=>{var r=Bo(e,t);return r==null||typeof r.padding!="string"?0:SR(e,"xAxis",t,r.padding)},sse=(e,t)=>{var r=Fo(e,t);return r==null||typeof r.padding!="string"?0:SR(e,"yAxis",t,r.padding)},ose=je(Bo,ase,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),lse=je(Fo,sse,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),cse=je([_n,ose,Yy,Gy,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),use=je([_n,Rt,lse,Yy,Gy,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sm=(e,t,r,n)=>{var i;switch(t){case"xAxis":return cse(e,r,n);case"yAxis":return use(e,r,n);case"zAxis":return(i=GN(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return iR(e);case"radiusAxis":return aR(e,r);default:return}},jR=je([Pr,sm],s1),Nf=je([Pr,_f,nse,jR],lS);je([am,h1,Nr],Uae);function kR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var p1=(e,t)=>t,m1=(e,t,r)=>r,dse=je(Ky,p1,m1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kR)),fse=je(Vy,p1,m1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kR)),AR=(e,t)=>({width:e.width,height:t.height}),hse=(e,t)=>{var r=typeof t.width=="number"?t.width:Gp;return{width:r,height:e.height}},ER=je(_n,Bo,AR),pse=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},mse=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},gse=je(Do,_n,dse,p1,m1,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=AR(t,o);s==null&&(s=pse(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),vse=je(Ro,_n,fse,p1,m1,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=hse(t,o);s==null&&(s=mse(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),yse=(e,t)=>{var r=Bo(e,t);if(r!=null)return gse(e,r.orientation,r.mirror)},bse=je([_n,Bo,yse,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),xse=(e,t)=>{var r=Fo(e,t);if(r!=null)return vse(e,r.orientation,r.mirror)},wse=je([_n,Fo,xse,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OR=je(_n,Fo,(e,t)=>{var r=typeof t.width=="number"?t.width:Gp;return{width:r,height:e.height}}),d6=(e,t,r)=>{switch(t){case"xAxis":return ER(e,r).width;case"yAxis":return OR(e,r).height;default:return}},PR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Kl(e,n),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&xL(l))return l}},fS=je([Rt,f1,Pr,Nr],PR),CR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Kl(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},hS=je([Rt,f1,im,Nr],CR),f6=je([Rt,Lae,_f,Nf,fS,hS,sm,uS,Nr],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var c=Kl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}}),_se=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var c=Kl(e,l),{type:d,ticks:f,tickCount:p}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/h:0;m=l==="angleAxis"&&a!=null&&a.length>=2?Pn(a[0]-a[1])*2*m:m;var g=f||i;if(g){var y=g.map((v,b)=>{var w=s?s.indexOf(v):v;return{index:b,coordinate:n(w)+m,value:v,offset:m}});return y.filter(v=>Gr(v.coordinate))}return c&&o?o.map((v,b)=>({coordinate:n(v)+m,value:v,index:b,offset:m})).filter(v=>Gr(v.coordinate)):n.ticks?n.ticks(p).map(v=>({coordinate:n(v)+m,value:v,offset:m})):n.domain().map((v,b)=>({coordinate:n(v)+m,value:s?s[v]:v,index:b,offset:m}))}},TR=je([Rt,im,_f,Nf,uS,sm,fS,hS,Nr],_se),Nse=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Kl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Pn(n[0]-n[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:i?i[d]:d,index:f,offset:c}))}},Dl=je([Rt,im,Nf,sm,fS,hS,Nr],Nse),Ml=je(Pr,Nf,(e,t)=>{if(!(e==null||t==null))return Bv(Bv({},e),{},{scale:t})}),Sse=je([Pr,_f,oS,jR],lS);je((e,t,r)=>GN(e,r),Sse,(e,t)=>{if(!(e==null||t==null))return Bv(Bv({},e),{},{scale:t})});var jse=je([Rt,Ky,Vy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LR=e=>e.options.defaultTooltipEventType,IR=e=>e.options.validateTooltipEventTypes;function RR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function pS(e,t){var r=LR(e),n=IR(e);return RR(t,r,n)}function kse(e){return rt(t=>pS(t,e))}var DR=(e,t)=>{var r,n=Number(t);if(!(us(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Ase=e=>e.tooltip.settings,yl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ese={itemInteraction:{click:yl,hover:yl},axisInteraction:{click:yl,hover:yl},keyboardInteraction:yl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MR=Di({name:"tooltip",initialState:Ese,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xn()},removeTooltipEntrySettings:{reducer(e,t){var r=vo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:xn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ose,removeTooltipEntrySettings:Pse,setTooltipSettingsState:Cse,setActiveMouseOverItemIndex:BR,mouseLeaveItem:Tse,mouseLeaveChart:FR,setActiveClickItemIndex:Lse,setMouseOverAxisIndex:$R,setMouseClickAxisIndex:Ise,setSyncInteraction:Yw,setKeyboardInteraction:Xw}=MR.actions,Rse=MR.reducer;function h6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(r),!0).forEach(function(n){Dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dse(e,t,r){return(t=Mse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mse(e){var t=Bse(e,"string");return typeof t=="symbol"?t:t+""}function Bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fse(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $se(e){return e.index!=null}var UR=(e,t,r,n)=>{if(t==null)return yl;var i=Fse(e,t,r);if(i==null)return yl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if($se(i)){if(a)return F0(F0({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return F0(F0({},yl),{},{coordinate:i.coordinate})},mS=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Gr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},qR=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},zR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},om=e=>e.options.tooltipPayloadSearcher,Sf=e=>e.tooltip;function p6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p6(Object(r),!0).forEach(function(n){Use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Use(e,t,r){return(t=qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wse(e,t){return e??t}var WR=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((p,h)=>{var m,{dataDefinedOnItem:g,settings:y}=h,v=Wse(g,o),b=Array.isArray(v)?j7(v,c,d):v,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:n,x=y==null?void 0:y.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?N=wL(b,n,i):N=a(b,t,l,x),Array.isArray(N))N.forEach(j=>{var A=m6(m6({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});p.push(Jk({tooltipEntrySettings:A,dataKey:j.dataKey,payload:j.payload,value:or(j.payload,j.dataKey),name:j.name}))});else{var O;p.push(Jk({tooltipEntrySettings:y,dataKey:w,payload:N,value:or(N,w),name:(O=or(N,x))!==null&&O!==void 0?O:y==null?void 0:y.name}))}return p},f)}},gS=je([jn,Rt,uR,UN,Sn],NR),Hse=je([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Kse=je([Sn,xf],YN),lm=je([Hse,jn,Kse],XN,{memoizeOptions:{resultEqualityCheck:u1}}),Vse=je([lm],e=>e.filter(l1)),Gse=je([lm],JN,{memoizeOptions:{resultEqualityCheck:u1}}),jf=je([Gse,Xl],ZN),Yse=je([Vse,Xl,jn],oR),vS=je([jf,jn,lm],eS),HR=je([jn],tS),Xse=je([jn],e=>e.allowDataOverflow),KR=je([HR,Xse],BI),Jse=je([lm],e=>e.filter(l1)),Zse=je([Yse,Jse,rm],mR),Qse=je([Zse,Xl,Sn,KR],gR),eoe=je([lm],fR),toe=je([jf,jn,eoe,h1,Sn],iS,{memoizeOptions:{resultEqualityCheck:c1}}),roe=je([vR,Sn,xf],wf),noe=je([roe,Sn],xR),ioe=je([yR,Sn,xf],wf),aoe=je([ioe,Sn],wR),soe=je([bR,Sn,xf],wf),ooe=je([soe,Sn],_R),loe=je([noe,ooe,aoe],Fv),coe=je([jn,HR,KR,Qse,toe,loe,Rt,Sn],aS),VR=je([jn,Rt,jf,vS,rm,Sn,coe],sS),uoe=je([VR,jn,gS],cS),doe=je([jn,VR,uoe,Sn],dS),GR=e=>{var t=Sn(e),r=xf(e),n=!1;return sm(e,t,r,n)},YR=je([jn,GR],s1),XR=je([jn,gS,doe,YR],lS),foe=je([Rt,vS,jn,Sn],PR),hoe=je([Rt,vS,jn,Sn],CR),poe=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,c=Kl(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pn(i[0]-i[1])*2*f:f,c&&s?s.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:a?a[p]:p,index:h,offset:f}))}}},$o=je([Rt,jn,gS,XR,GR,foe,hoe,Sn],poe),yS=je([LR,IR,Ase],(e,t,r)=>RR(r.shared,e,t)),JR=e=>e.tooltip.settings.trigger,bS=e=>e.tooltip.settings.defaultIndex,g1=je([Sf,yS,JR,bS],UR),Bl=je([g1,jf],mS),ZR=je([$o,Bl],DR),QR=je([g1],e=>{if(e)return e.dataKey}),eD=je([Sf,yS,JR,bS],zR),moe=je([Ro,Do,Rt,_n,$o,bS,eD,om],qR),goe=je([g1,moe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),voe=je([g1],e=>e.active),yoe=je([eD,Bl,Xl,pR,ZR,om,yS],WR),boe=je([yoe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function g6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(r),!0).forEach(function(n){xoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xoe(e,t,r){return(t=woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function woe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Noe=()=>rt(jn),Soe=()=>{var e=Noe(),t=rt($o),r=rt(XR);return Yd(!e||!r?void 0:v6(v6({},e),{},{scale:r}),t)};function y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(r),!0).forEach(function(n){joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function joe(e,t,r){return(t=koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function koe(e){var t=Aoe(e,"string");return typeof t=="symbol"?t:t+""}function Aoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eoe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Ooe=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Xu(Xu(Xu({},n),an(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Xu(Xu(Xu({},n),an(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Poe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var tD=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Pn(d-c)!==Pn(f-d)){var h=[];if(Pn(f-d)===Pn(i[1]-i[0])){p=f;var m=d+i[1]-i[0];h[0]=Math.min(m,(m+c)/2),h[1]=Math.max(m,(m+c)/2)}else{p=c;var g=f+i[1]-i[0];h[0]=Math.min(d,(g+d)/2),h[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:s}=r[l]);break}}else{var v=Math.min(c,f),b=Math.max(c,f);if(e>(v+d)/2&&e<=(b+d)/2){({index:s}=r[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},Coe=()=>rt(UN),xS=(e,t)=>t,rD=(e,t,r)=>r,wS=(e,t,r,n)=>n,Toe=je($o,e=>$y(e,t=>t.coordinate)),_S=je([Sf,xS,rD,wS],UR),nD=je([_S,jf],mS),Loe=(e,t,r)=>{if(t!=null){var n=Sf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},iD=je([Sf,xS,rD,wS],zR),$v=je([Ro,Do,Rt,_n,$o,wS,iD,om],qR),Ioe=je([_S,$v],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),aD=je([$o,nD],DR),Roe=je([iD,nD,Xl,pR,aD,om,xS],WR),Doe=je([_S],e=>({isActive:e.active,activeIndex:e.index})),Moe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&Poe(e,s)){var o=zee(e,t),l=tD(o,a,i,r,n),c=Eoe(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},Boe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=Ore(e,r);if(o){var l=Wee(o,t),c=tD(l,s,a,n,i),d=Ooe(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},Foe=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Moe(e,t,n,i,a,s,o):Boe(e,t,r,n,i,a,s)},$oe=je(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Uoe=je(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(sn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Eae}});function b6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t,r){return(t=zoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zoe(e){var t=Woe(e,"string");return typeof t=="symbol"?t:t+""}function Woe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hoe={},Koe={zIndexMap:Object.values(sn).reduce((e,t)=>x6(x6({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Hoe)},Voe=new Set(Object.values(sn));function Goe(e){return Voe.has(e)}var sD=Di({name:"zIndex",initialState:Koe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Goe(r)&&delete e.zIndexMap[r])},prepare:xn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:xn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:xn()}}}),{registerZIndexPortal:Yoe,unregisterZIndexPortal:Xoe,registerZIndexPortalId:Joe,unregisterZIndexPortalId:Zoe}=sD.actions,Qoe=sD.reducer;function Mi(e){var{zIndex:t,children:r}=e,n=gte(),i=n&&t!==void 0&&t!==0,a=oi(),s=_r();T.useLayoutEffect(()=>i?(s(Yoe({zIndex:t})),()=>{s(Xoe({zIndex:t}))}):_u,[s,t,i]);var o=rt(c=>$oe(c,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?by.createPortal(r,l):null}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(null,arguments)}function w6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(r),!0).forEach(function(n){ele(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ele(e,t,r){return(t=tle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tle(e){var t=rle(e,"string");return typeof t=="symbol"?t:t+""}function rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nle(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return T.isValidElement(t)?T.cloneElement(t,n):T.createElement(r,n)}function ile(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=r,p=n,h=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var m,g,y;if(d==="ScatterChart")m=f,g=Hte,y=sn.cursorLine;else if(d==="BarChart")m=Kte(o,f,a,s),g=Y7,y=sn.cursorRectangle;else if(o==="radial"&&SL(f)){var{cx:v,cy:b,radius:w,startAngle:x,endAngle:N}=J7(f);m={cx:v,cy:b,startAngle:x,endAngle:N,innerRadius:w,outerRadius:w},g=Q7,y=sn.cursorLine}else m={points:Lre(o,f,a)},g=pN,y=sn.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,j=$0($0($0($0({stroke:"#ccc",pointerEvents:"none"},a),m),su(l)),{},{payload:p,payloadIndex:h,className:qt("recharts-tooltip-cursor",O)});return T.createElement(Mi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},T.createElement(nle,{cursor:l,cursorComp:g,cursorProps:j}))}function ale(e){var t=Soe(),r=B7(),n=Yp(),i=Coe();return t==null||r==null||n==null||i==null?null:T.createElement(ile,Jw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var oD=T.createContext(null),sle=()=>T.useContext(oD),lD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||l,p),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,m=new Array(h);p<h;p++)m[p]=f[p].fn;return m},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,p,h,m){var g=r?r+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,p),!0;case 5:return y.fn.call(y.context,d,f,p,h),!0;case 6:return y.fn.call(y.context,d,f,p,h,m),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var x=y.length,N;for(w=0;w<x;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,p);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!d)return s(this,h),this;var m=this._events[h];if(m.fn)m.fn===d&&(!p||m.once)&&(!f||m.context===f)&&s(this,h);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==d||p&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(lD);var ole=lD.exports;const lle=Fs(ole);var Op=new lle,Zw="recharts.syncEvent.tooltip",_6="recharts.syncEvent.brush";function NS(e,t){if(t){var r=Number.parseInt(t,10);if(!us(r))return e==null?void 0:e[r]}}var cle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cD=Di({name:"options",initialState:cle,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ule=cD.reducer,{createEventEmitter:dle}=cD.actions;function fle(e){return e.tooltip.syncInteraction}var hle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uD=Di({name:"chartData",initialState:hle,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:N6,setDataStartEndIndexes:ple,setComputedData:Uve}=uD.actions,mle=uD.reducer,gle=["x","y"];function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(n){vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t,r){return(t=yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=ble(e,"string");return typeof t=="symbol"?t:t+""}function ble(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xle(e,t){if(e==null)return{};var r,n,i=wle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _le(){var e=rt(qN),t=rt(zN),r=_r(),n=rt(tR),i=rt($o),a=Yp(),s=Xy(),o=rt(l=>l.rootProps.className);T.useEffect(()=>{if(e==null)return _u;var l=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var p;if(s&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:m,y:g}=h,y=xle(h,gle),{x:v,y:b,width:w,height:x}=d.payload.sourceViewBox,N=Ju(Ju({},y),{},{x:s.x+(w?(m-v)/w:0)*s.width,y:s.y+(x?(g-b)/x:0)*s.height});r(Ju(Ju({},d),{},{payload:Ju(Ju({},d.payload),{},{coordinate:N})}))}else r(d);return}if(i!=null){var O;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},A=n(i,j);O=i[A]}else n==="value"&&(O=i.find(Z=>String(Z.value)===d.payload.label));var{coordinate:P}=d.payload;if(O==null||d.payload.active===!1||P==null||s==null){r(Yw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:k}=P,E=Math.min(C,s.x+s.width),I=Math.min(k,s.y+s.height),M={x:a==="horizontal"?O.coordinate:E,y:a==="horizontal"?I:O.coordinate},U=Yw({active:d.payload.active,coordinate:M,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(U)}}};return Op.on(Zw,l),()=>{Op.off(Zw,l)}},[o,r,t,e,n,i,a,s])}function Nle(){var e=rt(qN),t=rt(zN),r=_r();T.useEffect(()=>{if(e==null)return _u;var n=(i,a,s)=>{t!==s&&e===i&&r(ple(a))};return Op.on(_6,n),()=>{Op.off(_6,n)}},[r,t,e])}function Sle(){var e=_r();T.useEffect(()=>{e(dle())},[e]),_le(),Nle()}function jle(e,t,r,n,i,a){var s=rt(h=>Loe(h,e,t)),o=rt(zN),l=rt(qN),c=rt(tR),d=rt(fle),f=d==null?void 0:d.active,p=Xy();T.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=Yw({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p});Op.emit(Zw,l,h,o)}},[f,r,s,i,n,o,l,c,a,p])}function j6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(r),!0).forEach(function(n){kle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t,r){return(t=Ale(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ale(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ole(e){return e.dataKey}function Ple(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(Nte,t)}var A6=[],Cle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Vl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Qw(e){var t,r,n=Ln(e,Cle),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:h,reverseDirection:m,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:x,portal:N,axisId:O}=n,j=_r(),A=typeof x=="number"?String(x):x;T.useEffect(()=>{j(Cse({shared:b,trigger:w,axisId:O,active:i,defaultIndex:A}))},[j,b,w,O,i,A]);var P=Xy(),C=W7(),k=kse(b),{activeIndex:E,isActive:I}=(t=rt(J=>Doe(J,k,w,A)))!==null&&t!==void 0?t:{},M=rt(J=>Roe(J,k,w,A)),U=rt(J=>aD(J,k,w,A)),Z=rt(J=>Ioe(J,k,w,A)),Q=M,K=sle(),W=(r=i??I)!==null&&r!==void 0?r:!1,[V,$]=CQ([Q,W]),R=k==="axis"?U:void 0;jle(k,w,Z,R,E,W);var B=N??K;if(B==null||P==null||k==null)return null;var q=Q??A6;W||(q=A6),c&&q.length&&(q=YZ(q.filter(J=>J.value!=null&&(J.hide!==!0||n.includeHidden)),p,Ole));var H=q.length>0,z=T.createElement(Pte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:W,coordinate:Z,hasPayload:H,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:P,wrapperStyle:y,lastBoundingBox:V,innerRef:$,hasPortalFromProps:!!N},Ple(l,k6(k6({},n),{},{payload:q,label:R,active:W,activeIndex:E,coordinate:Z,accessibilityLayer:C})));return T.createElement(T.Fragment,null,by.createPortal(z,B),W&&T.createElement(ale,{cursor:v,tooltipEventType:k,coordinate:Z,payload:q,index:E}))}var Qd=e=>null;Qd.displayName="Cell";function Tle(e,t,r){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lle(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rle{constructor(t){Tle(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(n){Mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t,r){return(t=Ble(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ble(e){var t=Fle(e,"string");return typeof t=="symbol"?t:t+""}function Fle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $le={cacheSize:2e3,enableCache:!0},dD=Dle({},$le),O6=new Rle(dD.cacheSize),Ule={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P6="recharts_measurement_span";function qle(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var C6=(e,t)=>{try{var r=document.getElementById(P6);r||(r=document.createElement("span"),r.setAttribute("id",P6),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ule,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Gh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vl.isSsr)return{width:0,height:0};if(!dD.enableCache)return C6(t,r);var n=qle(t,r),i=O6.get(n);if(i)return i;var a=C6(t,r);return O6.set(n,a),a},T6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hle=Object.keys(fD),xd="NaN";function Kle(e,t){return e*fD[t]}class Ei{static parse(t){var r,[,n,i]=(r=Wle.exec(t))!==null&&r!==void 0?r:[];return new Ei(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,us(t)&&(this.unit=""),r!==""&&!zle.test(r)&&(this.num=NaN,this.unit=""),Hle.includes(r)&&(this.num=Kle(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ei(NaN,""):new Ei(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ei(NaN,""):new Ei(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ei(NaN,""):new Ei(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ei(NaN,""):new Ei(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return us(this.num)}}function hD(e){if(e.includes(xd))return xd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=T6.exec(t))!==null&&r!==void 0?r:[],s=Ei.parse(n??""),o=Ei.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return xd;t=t.replace(T6,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=L6.exec(t))!==null&&c!==void 0?c:[],h=Ei.parse(d??""),m=Ei.parse(p??""),g=f==="+"?h.add(m):h.subtract(m);if(g.isNaN())return xd;t=t.replace(L6,g.toString())}return t}var I6=/\(([^()]*)\)/;function Vle(e){for(var t=e,r;(r=I6.exec(t))!=null;){var[,n]=r;t=t.replace(I6,hD(n))}return t}function Gle(e){var t=e.replace(/\s+/g,"");return t=Vle(t),t=hD(t),t}function Yle(e){try{return Gle(e)}catch{return xd}}function xx(e){var t=Yle(e.slice(5,-1));return t===xd?"":t}var Xle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jle=["dx","dy","angle","className","breakAll"];function e5(){return e5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e5.apply(null,arguments)}function R6(e,t){if(e==null)return{};var r,n,i=Zle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pD=/[ \f\n\r\t\v\u2028\u2029]+/,mD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];wr(t)||(r?i=t.toString().split(""):i=t.toString().split(pD));var a=i.map(o=>({word:o,width:Gh(o,n).width})),s=r?0:Gh("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Qle(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var gD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var c={words:[s],width:o};i.push(c)}return i},[]),vD=e=>e.reduce((t,r)=>t.width>r.width?t:r),ece="",D6=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),c=mD({breakAll:r,style:n,children:l+ece});if(!c)return[!1,[]];var d=gD(c.wordsWithComputedWidth,a,s,o),f=d.length>i||vD(d).width>Number(a);return[f,d]},tce=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=tt(a),d=String(s),f=gD(t,n,r,i);if(!c||i)return f;var p=f.length>a||vD(f).width>Number(n);if(!p)return f;for(var h=0,m=d.length-1,g=0,y;h<=m&&g<=d.length-1;){var v=Math.floor((h+m)/2),b=v-1,[w,x]=D6(d,b,l,o,a,n,r,i),[N]=D6(d,v,l,o,a,n,r,i);if(!w&&!N&&(h=v+1),w&&N&&(m=v-1),!w&&N){y=x;break}g++}return y||f},M6=e=>{var t=wr(e)?[]:e.toString().split(pD);return[{words:t,width:void 0}]},rce=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Vl.isSsr){var o,l,c=mD({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return M6(n);return tce({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return M6(n)},yD="#808080",nce={breakAll:!1,capHeight:"0.71em",fill:yD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},v1=T.forwardRef((e,t)=>{var r=Ln(e,nce),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=r,f=R6(r,Xle),p=T.useMemo(()=>rce({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:h,dy:m,angle:g,className:y,breakAll:v}=f,b=R6(f,Jle);if(!Ds(n)||!Ds(i)||p.length===0)return null;var w=Number(n)+(tt(h)?h:0),x=Number(i)+(tt(m)?m:0);if(!Gr(w)||!Gr(x))return null;var N;switch(d){case"start":N=xx("calc(".concat(s,")"));break;case"middle":N=xx("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=xx("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(l){var j=p[0].width,{width:A}=f;O.push("scale(".concat(tt(A)&&tt(j)?A/j:1,")"))}return g&&O.push("rotate(".concat(g,", ").concat(w,", ").concat(x,")")),O.length&&(b.transform=O.join(" ")),T.createElement("text",e5({},xi(b),{ref:t,x:w,y:x,className:qt("recharts-text",y),textAnchor:c,fill:o.includes("url")?yD:o}),p.map((P,C)=>{var k=P.words.join(v?"":" ");return T.createElement("tspan",{x:w,dy:C===0?N:a,key:"".concat(k,"-").concat(C)},k)}))});v1.displayName="Text";var ice=["labelRef"];function ace(e,t){if(e==null)return{};var r,n,i=sce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(n){oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oce(e,t,r){return(t=lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}var bD=T.createContext(null),uce=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=T.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return T.createElement(bD.Provider,{value:l},o)},xD=()=>{var e=T.useContext(bD),t=Xy();return e||M7(t)},dce=T.createContext(null),fce=()=>{var e=T.useContext(dce),t=rt(sR);return e||t},hce=e=>{var{value:t,formatter:r}=e,n=wr(e.children)?t:e.children;return typeof r=="function"?r(n):n},SS=e=>e!=null&&typeof e=="function",pce=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},mce=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:h}=i,m=(c+d)/2,g=pce(f,p),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=h;break;case"insideEnd":v=p-y*a,b=!h;break;case"end":v=p+y*a,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=an(o,l,m,v),x=an(o,l,m,v+(b?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(x.x,",").concat(x.y),O=wr(e.id)?bp("recharts-radial-line-"):e.id;return T.createElement("text",lo({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:O,d:N})),T.createElement("textPath",{xlinkHref:"#".concat(O)},r))},gce=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:d,y:f}=an(n,i,s+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:h,y:m}=an(n,i,p,c);return{x:h,y:m,textAnchor:"middle",verticalAnchor:"middle"}},t5=e=>"cx"in e&&tt(e.cx),vce=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!t5(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,p=s+(l-c)/2,h=(f+p)/2,m=(l+c)/2,g=f+l/2,y=d>=0?1:-1,v=y*n,b=y>0?"end":"start",w=y>0?"start":"end",x=l>=0?1:-1,N=x*n,O=x>0?"end":"start",j=x>0?"start":"end";if(i==="top"){var A={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:b};return zr(zr({},A),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var P={x:p+c/2,y:o+d+v,textAnchor:"middle",verticalAnchor:w};return zr(zr({},P),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var C={x:h-N,y:o+d/2,textAnchor:O,verticalAnchor:"middle"};return zr(zr({},C),a?{width:Math.max(C.x-a.x,0),height:d}:{})}if(i==="right"){var k={x:h+m+N,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return zr(zr({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:d}:{})}var E=a?{width:m,height:d}:{};return i==="insideLeft"?zr({x:h+N,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},E):i==="insideRight"?zr({x:h+m-N,y:o+d/2,textAnchor:O,verticalAnchor:"middle"},E):i==="insideTop"?zr({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:w},E):i==="insideBottom"?zr({x:p+c/2,y:o+d-v,textAnchor:"middle",verticalAnchor:b},E):i==="insideTopLeft"?zr({x:f+N,y:o+v,textAnchor:j,verticalAnchor:w},E):i==="insideTopRight"?zr({x:f+l-N,y:o+v,textAnchor:O,verticalAnchor:w},E):i==="insideBottomLeft"?zr({x:p+N,y:o+d-v,textAnchor:j,verticalAnchor:b},E):i==="insideBottomRight"?zr({x:p+c-N,y:o+d-v,textAnchor:O,verticalAnchor:b},E):i&&typeof i=="object"&&(tt(i.x)||So(i.x))&&(tt(i.y)||So(i.y))?zr({x:s+ai(i.x,m),y:o+ai(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):zr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},yce={offset:5,zIndex:sn.label};function hl(e){var t=Ln(e,yce),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=fce(),f=xD(),p=n==="center"?f:d??f,h,m,g;if(r==null?h=p:t5(r)?h=r:h=M7(r),!h||wr(i)&&wr(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var y=zr(zr({},t),{},{viewBox:h});if(T.isValidElement(s)){var{labelRef:v}=y,b=ace(y,ice);return T.cloneElement(s,b)}if(typeof s=="function"){if(m=T.createElement(s,y),T.isValidElement(m))return m}else m=hce(t);var w=xi(t);if(t5(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return mce(t,n,m,w,h);g=gce(h,t.offset,t.position)}else g=vce(t,h);return T.createElement(Mi,{zIndex:t.zIndex},T.createElement(v1,lo({ref:c,className:qt("recharts-label",o)},w,g,{textAnchor:Qle(w.textAnchor)?w.textAnchor:g.textAnchor,breakAll:l}),m))}hl.displayName="Label";var bce=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(hl,lo({key:"label-implicit"},n)):Ds(e)?T.createElement(hl,lo({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===hl?T.cloneElement(e,zr({key:"label-implicit"},n)):T.createElement(hl,lo({key:"label-implicit",content:e},n)):SS(e)?T.createElement(hl,lo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(hl,lo({},e,{key:"label-implicit"},n)):null};function xce(e){var{label:t,labelRef:r}=e,n=xD();return bce(t,n,r)||null}var wD={},_D={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(_D);var ND={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ND);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_D,r=ND,n=By;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(wD);var wce=wD.last;const _ce=Fs(wce);var Nce=["valueAccessor"],Sce=["dataKey","clockWise","id","textBreakAll","zIndex"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function F6(e,t){if(e==null)return{};var r,n,i=jce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kce=e=>Array.isArray(e.value)?_ce(e.value):e.value,SD=T.createContext(void 0),jD=SD.Provider,kD=T.createContext(void 0),Ace=kD.Provider;function Ece(){return T.useContext(SD)}function Oce(){return T.useContext(kD)}function gg(e){var{valueAccessor:t=kce}=e,r=F6(e,Nce),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=F6(r,Sce),c=Ece(),d=Oce(),f=c||d;return!f||!f.length?null:T.createElement(Mi,{zIndex:o??sn.label},T.createElement(Tn,{className:"recharts-label-list"},f.map((p,h)=>{var m,g=wr(n)?t(p,h):or(p&&p.payload,n),y=wr(a)?{}:{id:"".concat(a,"-").concat(h)};return T.createElement(hl,Uv({key:"label-".concat(h)},xi(p),l,y,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:s,viewBox:p.viewBox,index:h,zIndex:0}))})))}gg.displayName="LabelList";function jS(e){var{label:t}=e;return t?t===!0?T.createElement(gg,{key:"labelList-implicit"}):T.isValidElement(t)||SS(t)?T.createElement(gg,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(gg,Uv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r5.apply(null,arguments)}var AD=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=qt("recharts-dot",i);return tt(t)&&tt(r)&&tt(n)?T.createElement("circle",r5({},ua(e),G_(e),{className:a,cx:t,cy:r,r:n})):null},ED=e=>e.graphicalItems.polarItems,Pce=je([Nr,nm],YN),y1=je([ED,Pr,Pce],XN),Cce=je([y1],JN),b1=je([Cce,BN],ZN),Tce=je([b1,Pr,y1],eS);je([b1,Pr,y1],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=or(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:or(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var $6=()=>{},Lce=je([b1,Pr,y1,h1,Nr],iS),Ice=je([Pr,rS,nS,$6,Lce,$6,Rt,Nr],aS),OD=je([Pr,Rt,b1,Tce,rm,Nr,Ice],sS),Rce=je([OD,Pr,_f],cS);je([Pr,OD,Rce,Nr],dS);var Dce={radiusAxis:{},angleAxis:{}},PD=Di({name:"polarAxis",initialState:Dce,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qve,removeRadiusAxis:zve,addAngleAxis:Wve,removeAngleAxis:Hve}=PD.actions,Mce=PD.reducer;function U6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(r),!0).forEach(function(n){Bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bce(e,t,r){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fce(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uce=(e,t)=>t,kS=je([ED,Uce],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),qce=[],AS=(e,t,r)=>(r==null?void 0:r.length)===0?qce:r,CD=je([BN,kS,AS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>q6(q6({},t.presentationProps),a.props))),i!=null)return i}}),zce=je([CD,kS,AS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=or(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:gf(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Wce=je([CD,kS,AS,_n],(e,t,r,n)=>{if(!(t==null||e==null))return Uue({offset:n,pieSettings:t,displayedData:e,cells:r})}),TD={exports:{}},tr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=Symbol.for("react.transitional.element"),OS=Symbol.for("react.portal"),x1=Symbol.for("react.fragment"),w1=Symbol.for("react.strict_mode"),_1=Symbol.for("react.profiler"),N1=Symbol.for("react.consumer"),S1=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),k1=Symbol.for("react.suspense"),A1=Symbol.for("react.suspense_list"),E1=Symbol.for("react.memo"),O1=Symbol.for("react.lazy"),Hce=Symbol.for("react.view_transition"),Kce=Symbol.for("react.client.reference");function $a(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ES:switch(e=e.type,e){case x1:case _1:case w1:case k1:case A1:case Hce:return e;default:switch(e=e&&e.$$typeof,e){case S1:case j1:case O1:case E1:return e;case N1:return e;default:return t}}case OS:return t}}}tr.ContextConsumer=N1;tr.ContextProvider=S1;tr.Element=ES;tr.ForwardRef=j1;tr.Fragment=x1;tr.Lazy=O1;tr.Memo=E1;tr.Portal=OS;tr.Profiler=_1;tr.StrictMode=w1;tr.Suspense=k1;tr.SuspenseList=A1;tr.isContextConsumer=function(e){return $a(e)===N1};tr.isContextProvider=function(e){return $a(e)===S1};tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ES};tr.isForwardRef=function(e){return $a(e)===j1};tr.isFragment=function(e){return $a(e)===x1};tr.isLazy=function(e){return $a(e)===O1};tr.isMemo=function(e){return $a(e)===E1};tr.isPortal=function(e){return $a(e)===OS};tr.isProfiler=function(e){return $a(e)===_1};tr.isStrictMode=function(e){return $a(e)===w1};tr.isSuspense=function(e){return $a(e)===k1};tr.isSuspenseList=function(e){return $a(e)===A1};tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x1||e===_1||e===w1||e===k1||e===A1||typeof e=="object"&&e!==null&&(e.$$typeof===O1||e.$$typeof===E1||e.$$typeof===S1||e.$$typeof===N1||e.$$typeof===j1||e.$$typeof===Kce||e.getModuleId!==void 0)};tr.typeOf=$a;TD.exports=tr;var Vce=TD.exports,z6=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",W6=null,wx=null,LD=e=>{if(e===W6&&Array.isArray(wx))return wx;var t=[];return T.Children.forEach(e,r=>{wr(r)||(Vce.isFragment(r)?t=t.concat(LD(r.props.children)):t.push(r))}),wx=t,W6=e,t};function PS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>z6(i)):n=[z6(t)],LD(e).forEach(i=>{var a=ou(i,"type.displayName")||ou(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var ID=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,RD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(RD);var Gce=RD.isPlainObject;const Yce=Fs(Gce);function H6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(r),!0).forEach(function(n){Xce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xce(e,t,r){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=Zce(e,"string");return typeof t=="symbol"?t:t+""}function Zce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}var V6=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},Qce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eue=e=>{var t=Ln(e,Qce),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=T.useRef(null),[h,m]=T.useState(-1),g=T.useRef(i),y=T.useRef(a),v=T.useRef(s),b=T.useRef(r),w=T.useRef(n),x=Jp(e,"trapezoid-");if(T.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var M=p.current.getTotalLength();M&&m(M)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var N=qt("recharts-trapezoid",o);if(!f)return T.createElement("g",null,T.createElement("path",qv({},xi(t),{className:N,d:V6(r,n,i,a,s)})));var O=g.current,j=y.current,A=v.current,P=b.current,C=w.current,k="0px ".concat(h===-1?1:h,"px"),E="".concat(h,"px 0px"),I=H7(["strokeDasharray"],c,l);return T.createElement(Xp,{animationId:x,key:x,canBegin:h>0,duration:c,easing:l,isActive:f,begin:d},M=>{var U=vr(O,i,M),Z=vr(j,a,M),Q=vr(A,s,M),K=vr(P,r,M),W=vr(C,n,M);p.current&&(g.current=U,y.current=Z,v.current=Q,b.current=K,w.current=W);var V=M>0?{transition:I,strokeDasharray:E}:{strokeDasharray:k};return T.createElement("path",qv({},xi(t),{className:N,d:V6(K,W,U,Z,Q),ref:p,style:K6(K6({},V),t.style)}))})},tue=["option","shapeType","propTransformer","activeClassName","isActive"];function rue(e,t){if(e==null)return{};var r,n,i=nue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return(t=aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=sue(e,"string");return typeof t=="symbol"?t:t+""}function sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oue(e,t){return zv(zv({},t),e)}function lue(e,t){return e==="symbols"}function Y6(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(Y7,r);case"trapezoid":return T.createElement(eue,r);case"sector":return T.createElement(Q7,r);case"symbols":if(lue(t))return T.createElement(NL,r);break;case"curve":return T.createElement(pN,r);default:return null}}function cue(e){return T.isValidElement(e)?e.props:e}function CS(e){var{option:t,shapeType:r,propTransformer:n=oue,activeClassName:i="recharts-active-shape",isActive:a}=e,s=rue(e,tue),o;if(T.isValidElement(t))o=T.cloneElement(t,zv(zv({},s),cue(t)));else if(typeof t=="function")o=t(s);else if(Yce(t)&&typeof t!="boolean"){var l=n(t,s);o=T.createElement(Y6,{shapeType:r,elementProps:l})}else{var c=s;o=T.createElement(Y6,{shapeType:r,elementProps:c})}return a?T.createElement(Tn,{className:i},o):o}var TS=(e,t)=>{var r=_r();return(n,i)=>a=>{e==null||e(n,i,a),r(BR({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},LS=e=>{var t=_r();return(r,n)=>i=>{e==null||e(r,n,i),t(Tse())}},IS=(e,t)=>{var r=_r();return(n,i)=>a=>{e==null||e(n,i,a),r(Lse({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function RS(e){var{fn:t,args:r}=e,n=_r(),i=oi();return T.useLayoutEffect(()=>{if(!i){var a=t(r);return n(Ose(a)),()=>{n(Pse(a))}}},[t,r,n,i]),null}function DD(e){var{legendPayload:t}=e,r=_r(),n=oi();return T.useLayoutEffect(()=>n?_u:(r(q7(t)),()=>{r(z7(t))}),[r,n,t]),null}function uue(e){var{legendPayload:t}=e,r=_r(),n=rt(Rt);return T.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?_u:(r(q7(t)),()=>{r(z7(t))}),[r,n,t]),null}var _x,due=()=>{var[e]=T.useState(()=>bp("uid-"));return e},fue=(_x=VO.useId)!==null&&_x!==void 0?_x:due;function MD(e,t){var r=fue();return t||(e?"".concat(e,"-").concat(r):r)}var hue=T.createContext(void 0),DS=e=>{var{id:t,type:r,children:n}=e,i=MD("recharts-".concat(r),t);return T.createElement(hue.Provider,{value:i},n(i))},pue={cartesianItems:[],polarItems:[]},BD=Di({name:"graphicalItems",initialState:pue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=vo(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:xn()},removeCartesianGraphicalItem:{reducer(e,t){var r=vo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:xn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xn()},removePolarGraphicalItem:{reducer(e,t){var r=vo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:xn()}}}),{addCartesianGraphicalItem:mue,replaceCartesianGraphicalItem:gue,removeCartesianGraphicalItem:vue,addPolarGraphicalItem:yue,removePolarGraphicalItem:bue}=BD.actions,xue=BD.reducer;function FD(e){var t=_r(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(mue(e)):r.current!==e&&t(gue({prev:r.current,next:e})),r.current=e},[t,e]),T.useLayoutEffect(()=>()=>{r.current&&(t(vue(r.current)),r.current=null)},[t]),null}function wue(e){var t=_r();return T.useLayoutEffect(()=>(t(yue(e)),()=>{t(bue(e))}),[t,e]),null}var _ue=["onMouseEnter","onClick","onMouseLeave"],Nue=["id"],Sue=["id"];function MS(e,t){if(e==null)return{};var r,n,i=jue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){kue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kue(e,t,r){return(t=Aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(null,arguments)}function Oue(e){var t=T.useMemo(()=>PS(e.children,Qd),[e.children]),r=rt(n=>zce(n,e.id,t));return r==null?null:T.createElement(uue,{legendPayload:r})}function Pue(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:gf(o,t),hide:l,type:c,color:s,unit:""}}}var Cue=(e,t)=>e>t?"start":e<t?"end":"middle",Tue=(e,t,r)=>ai(typeof t=="function"?t(e):t,r,r*.8),Lue=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=X7(a,s),l=i+ai(e.cx,a,a/2),c=n+ai(e.cy,s,s/2),d=ai(e.innerRadius,o,0),f=Tue(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},Iue=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Rue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Due=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var r=qt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return T.createElement(pN,Fl({},t,{type:"linear",className:r}))},Mue=(e,t,r)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),T.isValidElement(n)))return n;var i=qt("recharts-pie-label-text",Rue(e));return T.createElement(v1,Fl({},t,{alignmentBaseline:"middle",className:i}),n)};function Bue(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=ua(r),l=su(i),c=su(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((p,h)=>{var m=(p.startAngle+p.endAngle)/2,g=an(p.cx,p.cy,p.outerRadius+d,m),y=yr(yr(yr(yr({},o),p),{},{stroke:"none"},l),{},{index:h,textAnchor:Cue(g.x,p.cx)},g),v=yr(yr(yr(yr({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:h,points:[an(p.cx,p.cy,p.outerRadius,m),g],key:"line"});return T.createElement(Mi,{zIndex:sn.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},T.createElement(Tn,null,a&&Due(a,v),Mue(i,y,or(p,s))))});return T.createElement(Tn,{className:"recharts-pie-labels"},f)}function Fue(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(jS,{label:i}):T.createElement(Bue,{sectors:t,props:r,showLabels:n})}function $ue(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=rt(Bl),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,c=MS(i,_ue),d=TS(s,i.dataKey),f=LS(l),p=IS(o,i.dataKey);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((h,m)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var g=r&&String(m)===a,y=a?n:null,v=g?r:y,b=yr(yr({},h),{},{stroke:h.stroke,tabIndex:-1,[O7]:m,[P7]:i.dataKey});return T.createElement(Tn,Fl({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(m),tabIndex:-1,className:"recharts-pie-sector"},My(c,h,m),{onMouseEnter:d(h,m),onMouseLeave:f(h,m),onClick:p(h,m)}),T.createElement(CS,Fl({option:v,isActive:g,shapeType:"sector"},b)))}))}function Uue(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=r,p=Math.abs(r.minAngle),h=Iue(o,l),m=Math.abs(h),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(O=>or(O,c,0)!==0).length,v=(m>=360?y:y-1)*g,b=m-y*p-v,w=n.reduce((O,j)=>{var A=or(j,c,0);return O+(tt(A)?A:0)},0),x;if(w>0){var N;x=n.map((O,j)=>{var A=or(O,c,0),P=or(O,d,j),C=Lue(r,a,O),k=(tt(A)?A:0)/w,E,I=yr(yr({},O),i&&i[j]&&i[j].props);j?E=N.endAngle+Pn(h)*g*(A!==0?1:0):E=o;var M=E+Pn(h)*((A!==0?p:0)+k*b),U=(E+M)/2,Z=(C.innerRadius+C.outerRadius)/2,Q=[{name:P,value:A,payload:I,dataKey:c,type:f}],K=an(C.cx,C.cy,Z,U);return N=yr(yr(yr(yr({},r.presentationProps),{},{percent:k,cornerRadius:typeof s=="string"?parseFloat(s):s,name:P,tooltipPayload:Q,midAngle:U,middleRadius:Z,tooltipPosition:K},I),C),{},{value:A,startAngle:E,endAngle:M,payload:I,paddingAngle:Pn(h)*g}),N})}return x}function que(e){var{showLabels:t,sectors:r,children:n}=e,i=T.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return T.createElement(Ace,{value:t?i:void 0},n)}function zue(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=t,p=Jp(t,"recharts-pie-"),h=r.current,[m,g]=T.useState(!1),y=T.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),v=T.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return T.createElement(que,{showLabels:!m,sectors:n},T.createElement(Xp,{animationId:p,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:v,onAnimationEnd:y,key:p},b=>{var w=[],x=n&&n[0],N=x==null?void 0:x.startAngle;return n==null||n.forEach((O,j)=>{var A=h&&h[j],P=j>0?ou(O,"paddingAngle",0):0;if(A){var C=vr(A.endAngle-A.startAngle,O.endAngle-O.startAngle,b),k=yr(yr({},O),{},{startAngle:N+P,endAngle:N+C+P});w.push(k),N=k.endAngle}else{var{endAngle:E,startAngle:I}=O,M=vr(0,E-I,b),U=yr(yr({},O),{},{startAngle:N+P,endAngle:N+M+P});w.push(U),N=U.endAngle}}),r.current=w,T.createElement(Tn,null,T.createElement($ue,{sectors:w,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),T.createElement(Fue,{showLabels:!m,sectors:n,props:t}),t.children)}var Wue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Vl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:sn.area};function Hue(e){var{id:t}=e,r=MS(e,Nue),{hide:n,className:i,rootTabIndex:a}=e,s=T.useMemo(()=>PS(e.children,Qd),[e.children]),o=rt(d=>Wce(d,t,s)),l=T.useRef(null),c=qt("recharts-pie",i);return n||o==null?(l.current=null,T.createElement(Tn,{tabIndex:a,className:c})):T.createElement(Mi,{zIndex:e.zIndex},T.createElement(RS,{fn:Pue,args:yr(yr({},e),{},{sectors:o})}),T.createElement(Tn,{tabIndex:a,className:c},T.createElement(zue,{props:yr(yr({},r),{},{sectors:o}),previousSectorsRef:l})))}function $D(e){var t=Ln(e,Wue),{id:r}=t,n=MS(t,Sue),i=ua(n);return T.createElement(DS,{id:r,type:"pie"},a=>T.createElement(T.Fragment,null,T.createElement(wue,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),T.createElement(Oue,Fl({},n,{id:a})),T.createElement(Hue,Fl({},n,{id:a}))))}$D.displayName="Pie";var Kue=["points"];function J6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(r),!0).forEach(function(n){Vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vue(e,t,r){return(t=Gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gue(e){var t=Yue(e,"string");return typeof t=="symbol"?t:t+""}function Yue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function Xue(e,t){if(e==null)return{};var r,n,i=Jue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zue(e){var{option:t,dotProps:r,className:n}=e;if(T.isValidElement(t))return T.cloneElement(t,r);if(typeof t=="function")return t(r);var i=qt(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=Xue(a,Kue);return T.createElement(AD,Wv({},o,{className:i}))}function Que(e,t){return e==null?!1:t?!0:e.length===1}function ede(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=sn.scatter}=e;if(!Que(t,r))return null;var d=ID(r),f=zJ(r),p=t.map((m,g)=>{var y,v,b=Nx(Nx(Nx({r:3},s),f),{},{index:g,cx:(y=m.x)!==null&&y!==void 0?y:void 0,cy:(v=m.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:m.value,payload:m.payload,points:t});return T.createElement(Zue,{key:"dot-".concat(g),option:r,dotProps:b,className:i})}),h={};return o&&l!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),T.createElement(Mi,{zIndex:c},T.createElement(Tn,Wv({className:n},h),p))}function Z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(r),!0).forEach(function(n){tde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tde(e,t,r){return(t=rde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rde(e){var t=nde(e,"string");return typeof t=="symbol"?t:t+""}function nde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ide={xAxis:{},yAxis:{},zAxis:{}},UD=Di({name:"cartesianAxis",initialState:ide,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=Q6(Q6({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:ade,removeXAxis:sde,addYAxis:ode,removeYAxis:lde,addZAxis:Kve,removeZAxis:Vve,updateYAxisWidth:cde}=UD.actions,ude=UD.reducer,dde=je([_n],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),fde=je([dde,Ro,Do],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),BS=()=>rt(fde),hde=()=>rt(boe);function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){pde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pde(e,t,r){return(t=mde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e){var t=gde(e,"string");return typeof t=="symbol"?t:t+""}function gde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vde=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},o=Sx(Sx(Sx({},s),su(i)),G_(i)),l;return T.isValidElement(i)?l=T.cloneElement(i,o):typeof i=="function"?l=i(o):l=T.createElement(AD,o),T.createElement(Tn,{className:"recharts-active-dot"},l)};function yde(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,zIndex:a=sn.activeDot}=e,s=rt(Bl),o=hde();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return wr(l)?null:T.createElement(Mi,{zIndex:a},T.createElement(vde,{point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n}))}var bde="Invariant failed";function xde(e,t){throw new Error(bde)}var wde=["x","y"];function n5(){return n5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n5.apply(null,arguments)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){_de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _de(e,t,r){return(t=Nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nde(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jde(e,t){if(e==null)return{};var r,n,i=kde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ade(e,t){var{x:r,y:n}=e,i=jde(e,wde),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),d=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return yh(yh(yh(yh(yh({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Hv(e){return T.createElement(CS,n5({shapeType:"rectangle",propTransformer:Ade,activeClassName:"recharts-active-bar"},e))}var Ede=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(tt(t))return t;var a=tt(n)||wr(n);return a?t(n,i):(a||xde(),r)}},Ode={},qD=Di({name:"errorBars",initialState:Ode,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Gve,replaceErrorBar:Yve,removeErrorBar:Xve}=qD.actions,Pde=qD.reducer,Cde=["children"];function Tde(e,t){if(e==null)return{};var r,n,i=Lde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ide={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rde=T.createContext(Ide);function zD(e){var{children:t}=e,r=Tde(e,Cde);return T.createElement(Rde.Provider,{value:r},t)}function FS(e,t){var r,n,i=rt(c=>Bo(c,e)),a=rt(c=>Fo(c,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Xi.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Ji.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function WD(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=BS(),{needClipX:a,needClipY:s,needClip:o}=FS(t,r);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}function Dde(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Gr(e.zIndex)?e.zIndex:t}var Mde=["onMouseEnter","onMouseLeave","onClick"],Bde=["value","background","tooltipPosition"],Fde=["id"],$de=["onMouseEnter","onClick","onMouseLeave"];function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){Ude(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ude(e,t,r){return(t=qde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qde(e){var t=zde(e,"string");return typeof t=="symbol"?t:t+""}function zde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kv(e,t){if(e==null)return{};var r,n,i=Wde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hde=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:gf(r,t),payload:e}]};function Kde(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:gf(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function Vde(e){var t=rt(Bl),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=Kv(a,Mde),d=TS(s,n),f=LS(o),p=IS(l,n);if(!i||r==null)return null;var h=su(i);return T.createElement(Mi,{zIndex:Dde(i,sn.barBackground)},r.map((m,g)=>{var{value:y,background:v,tooltipPosition:b}=m,w=Kv(m,Bde);if(!v)return null;var x=d(m,g),N=f(m,g),O=p(m,g),j=mi(mi(mi(mi(mi({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},v),h),My(c,m,g)),{},{onMouseEnter:x,onMouseLeave:N,onClick:O,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return T.createElement(Hv,Po({key:"background-bar-".concat(g)},j))}))}function Gde(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return mi(mi({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return T.createElement(jD,{value:t?i:void 0},r)}function Yde(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=rt(Bl),l=rt(QR),c=r&&String(a)===o&&(l==null||s===l),d=c?r:t;return c?T.createElement(Mi,{zIndex:sn.activeBar},T.createElement(Hv,Po({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:s}))):T.createElement(Hv,Po({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:s}))}function Xde(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return T.createElement(Hv,Po({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Jde(e){var t,{data:r,props:n}=e,i=(t=ua(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Kv(i,Fde),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:p}=n,h=Kv(n,$de),m=TS(d,l),g=LS(p),y=IS(f,l);return r?T.createElement(T.Fragment,null,r.map((v,b)=>T.createElement(Tn,Po({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b),className:"recharts-bar-rectangle"},My(h,v,b),{onMouseEnter:m(v,b),onMouseLeave:g(v,b),onClick:y(v,b)}),c?T.createElement(Yde,{shape:o,activeBar:c,baseProps:s,entry:v,index:b,dataKey:l}):T.createElement(Xde,{shape:o,baseProps:s,entry:v,index:b,dataKey:l})))):null}function Zde(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,p=Jp(t,"recharts-bar-"),[h,m]=T.useState(!1),g=!h,y=T.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),v=T.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return T.createElement(Gde,{showLabels:g,rects:n},T.createElement(Xp,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:v,key:p},b=>{var w=b===1?n:n==null?void 0:n.map((x,N)=>{var O=f&&f[N];if(O)return mi(mi({},x),{},{x:vr(O.x,x.x,b),y:vr(O.y,x.y,b),width:vr(O.width,x.width,b),height:vr(O.height,x.height,b)});if(i==="horizontal"){var j=vr(0,x.height,b),A=vr(x.stackedBarStart,x.y,b);return mi(mi({},x),{},{y:A,height:j})}var P=vr(0,x.width,b),C=vr(x.stackedBarStart,x.x,b);return mi(mi({},x),{},{width:P,x:C})});return b>0&&(r.current=w??null),w==null?null:T.createElement(Tn,null,T.createElement(Jde,{props:t,data:w}))}),T.createElement(jS,{label:t.label}),t.children)}function Qde(e){var t=T.useRef(null);return T.createElement(Zde,{previousRectanglesRef:t,props:e})}var HD=0,efe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:or(e,t)}};class tfe extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var d=qt("recharts-bar",i),f=c;return T.createElement(Tn,{className:d,id:c},o&&T.createElement("defs",null,T.createElement(WD,{clipPathId:f,xAxisId:a,yAxisId:s})),T.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},T.createElement(Vde,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),T.createElement(Qde,this.props)))}}var rfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Vl.isSsr,legendType:"rect",minPointSize:HD,xAxisId:0,yAxisId:0,zIndex:sn.bar};function nfe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=FS(t,r),p=Yp(),h=oi(),m=PS(e.children,Qd),g=rt(b=>Cfe(b,t,r,h,e.id,m));if(p!=="vertical"&&p!=="horizontal")return null;var y,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?y=0:y=p==="vertical"?v.height/2:v.width/2,T.createElement(zD,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:efe,errorBarOffset:y},T.createElement(tfe,Po({},e,{layout:p,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function ife(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:f,offset:p,cells:h,parentViewBox:m,dataStartIndex:g}=e,y=t==="horizontal"?o:s,v=d?y.scale.domain():null,b=Fee({numericAxis:y}),w=y.scale(b);return f.map((x,N)=>{var O,j,A,P,C,k;d?O=Lee(d[N+g],v):(O=or(x,r),Array.isArray(O)||(O=[b,O]));var E=Ede(n,HD)(O[1],N);if(t==="horizontal"){var I,[M,U]=[o.scale(O[0]),o.scale(O[1])];j=Gk({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:x,index:N}),A=(I=U??M)!==null&&I!==void 0?I:void 0,P=i.size;var Z=M-U;if(C=us(Z)?0:Z,k={x:j,y:p.top,width:P,height:p.height},Math.abs(E)>0&&Math.abs(C)<Math.abs(E)){var Q=Pn(C||E)*(Math.abs(E)-Math.abs(C));A-=Q,C+=Q}}else{var[K,W]=[s.scale(O[0]),s.scale(O[1])];if(j=K,A=Gk({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:x,index:N}),P=W-K,C=i.size,k={x:p.left,y:A,width:p.width,height:C},Math.abs(E)>0&&Math.abs(P)<Math.abs(E)){var V=Pn(P||E)*(Math.abs(E)-Math.abs(P));P+=V}}if(j==null||A==null||P==null||C==null)return null;var $=mi(mi({},x),{},{stackedBarStart:w,x:j,y:A,width:P,height:C,value:d?O:O[1],payload:x,background:k,tooltipPosition:{x:j+P/2,y:A+C/2},parentViewBox:m},h&&h[N]&&h[N].props);return $}).filter(Boolean)}function afe(e){var t=Ln(e,rfe),r=oi();return T.createElement(DS,{id:t.id,type:"bar"},n=>T.createElement(T.Fragment,null,T.createElement(DD,{legendPayload:Hde(t)}),T.createElement(RS,{fn:Kde,args:t}),T.createElement(FD,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Bee(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),T.createElement(Mi,{zIndex:t.zIndex},T.createElement(nfe,Po({},t,{id:n})))))}var KD=T.memo(afe);KD.displayName="Bar";function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sfe(e,t,r){return(t=ofe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ofe(e){var t=lfe(e,"string");return typeof t=="symbol"?t:t+""}function lfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cfe=(e,t)=>t,ufe=(e,t,r)=>r,dfe=(e,t,r,n)=>n,ffe=(e,t,r,n,i)=>i,cm=je([d1,ffe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),hfe=je([cm],e=>e==null?void 0:e.maxBarSize),pfe=(e,t,r,n,i,a)=>a,iE=(e,t,r)=>{var n=r??e;if(!wr(n))return ai(n,t,0)},mfe=je([Rt,d1,cfe,ufe,dfe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),gfe=(e,t,r,n)=>{var i=Rt(e);return i==="horizontal"?Gw(e,"yAxis",r,n):Gw(e,"xAxis",t,n)},vfe=(e,t,r)=>{var n=Rt(e);return n==="horizontal"?d6(e,"xAxis",t):d6(e,"yAxis",r)},yfe=(e,t,r)=>{var n={},i=e.filter(l1),a=e.filter(c=>c.stackId==null),s=i.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),n),o=Object.entries(s).map(c=>{var[d,f]=c,p=f.map(m=>m.dataKey),h=iE(t,r,f[0].barSize);return{stackId:d,dataKeys:p,barSize:h}}),l=a.map(c=>{var d=[c.dataKey].filter(p=>p!=null),f=iE(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},bfe=je([mfe,_ae,vfe],yfe),xfe=(e,t,r,n,i)=>{var a,s,o=cm(e,t,r,n,i);if(o!=null){var l=Rt(e),c=QI(e),{maxBarSize:d}=o,f=wr(d)?c:d,p,h;return l==="horizontal"?(p=Ml(e,"xAxis",t,n),h=Dl(e,"xAxis",t,n)):(p=Ml(e,"yAxis",r,n),h=Dl(e,"yAxis",r,n)),(a=(s=Yd(p,h,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},VD=(e,t,r,n)=>{var i=Rt(e),a,s;return i==="horizontal"?(a=Ml(e,"xAxis",t,n),s=Dl(e,"xAxis",t,n)):(a=Ml(e,"yAxis",r,n),s=Dl(e,"yAxis",r,n)),Yd(a,s)};function wfe(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=ai(e,r,0,!0),o,l=[];if(Gr(n[0].barSize)){var c=!1,d=r/a,f=n.reduce((v,b)=>v+(b.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&d>0&&(c=!0,d*=.9,f=a*d);var p=(r-f)/2>>0,h={offset:p-s,size:0};o=n.reduce((v,b)=>{var w,x={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+s,size:c?d:(w=b.barSize)!==null&&w!==void 0?w:0}},N=[...v,x];return h=N[N.length-1].position,N},l)}else{var m=ai(t,r,0,!0);r-2*m-(a-1)*s<=0&&(s=0);var g=(r-2*m-(a-1)*s)/a;g>1&&(g>>=0);var y=Gr(i)?Math.min(g,i):g;o=n.reduce((v,b,w)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+s)*w+(g-y)/2,size:y}}],l)}return o}}var _fe=(e,t,r,n,i,a,s)=>{var o=wr(s)?t:s,l=wfe(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(c=>U0(U0({},c),{},{position:U0(U0({},c.position),{},{offset:c.position.offset-i/2})}))),l},Nfe=je([bfe,QI,wae,eR,xfe,VD,hfe],_fe),Sfe=(e,t,r,n)=>Ml(e,"xAxis",t,n),jfe=(e,t,r,n)=>Ml(e,"yAxis",r,n),kfe=(e,t,r,n)=>Dl(e,"xAxis",t,n),Afe=(e,t,r,n)=>Dl(e,"yAxis",r,n),Efe=je([Nfe,cm],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Ofe=(e,t)=>{var r=VN(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},Pfe=je([gfe,cm],Ofe),Cfe=je([_n,fN,Sfe,jfe,kfe,Afe,Efe,Rt,i1,VD,Pfe,cm,pfe],(e,t,r,n,i,a,s,o,l,c,d,f,p)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:y}=f,v;if(y!=null&&y.length>0?v=y:v=h==null?void 0:h.slice(m,g+1),v!=null)return ife({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:v,offset:e,cells:p,dataStartIndex:m})}}),GD=e=>{var{chartData:t}=e,r=_r(),n=oi();return T.useEffect(()=>n?()=>{}:(r(N6(t)),()=>{r(N6(void 0))}),[t,r,n]),null},aE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YD=Di({name:"brush",initialState:aE,reducers:{setBrushSettings(e,t){return t.payload==null?aE:t.payload}}}),{setBrushSettings:Jve}=YD.actions,Tfe=YD.reducer;function Lfe(e,t,r){return(t=Ife(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ife(e){var t=Rfe(e,"string");return typeof t=="symbol"?t:t+""}function Rfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $S{static create(t){return new $S(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Lfe($S,"EPS",1e-4);function Dfe(e){return(e%180+180)%180}var Mfe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Dfe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Bfe={dots:[],areas:[],lines:[]},XD=Di({name:"referenceElements",initialState:Bfe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=vo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=vo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=vo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Zve,removeDot:Qve,addArea:eye,removeArea:tye,addLine:rye,removeLine:nye}=XD.actions,Ffe=XD.reducer,$fe=T.createContext(void 0),Ufe=e=>{var{children:t}=e,[r]=T.useState("".concat(bp("recharts"),"-clip")),n=BS();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return T.createElement($fe.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function ef(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function JD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function qfe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Mfe(n,r)}function zfe(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Vv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Wfe(e,t){return JD(e,t+1)}function Hfe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:JD(n,c)};var g=l,y,v=()=>(y===void 0&&(y=r(m,g)),y),b=m.coordinate,w=l===0||Vv(e,b,v,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(v()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){Kfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kfe(e,t,r){return(t=Vfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vfe(e){var t=Gfe(e,"string");return typeof t=="symbol"?t:t+""}function Gfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yfe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(p){var h=a[p],m,g=()=>(m===void 0&&(m=r(h,p)),m);if(p===s-1){var y=e*(h.coordinate+e*g()/2-l);a[p]=h=ri(ri({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else a[p]=h=ri(ri({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var v=Vv(e,h.tickCoord,g,o,l);v&&(l=h.tickCoord-e*(g()/2+i),a[p]=ri(ri({},h),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function Xfe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=n[o-1],f=r(d,o-1),p=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=ri(ri({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var h=Vv(e,d.tickCoord,()=>f,l,c);h&&(c=d.tickCoord-e*(f/2+i),s[o-1]=ri(ri({},d),{},{isShow:!0}))}}for(var m=a?o-1:o,g=function(b){var w=s[b],x,N=()=>(x===void 0&&(x=r(w,b)),x);if(b===0){var O=e*(w.coordinate-e*N()/2-l);s[b]=w=ri(ri({},w),{},{tickCoord:O<0?w.coordinate-O*e:w.coordinate})}else s[b]=w=ri(ri({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var j=Vv(e,w.tickCoord,N,l,c);j&&(l=w.tickCoord+e*(N()/2+i),s[b]=ri(ri({},w),{},{isShow:!0}))}},y=0;y<m;y++)g(y);return s}function US(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(tt(l)||Vl.isSsr){var p;return(p=Wfe(i,tt(l)?l:0))!==null&&p!==void 0?p:[]}var h=[],m=o==="top"||o==="bottom"?"width":"height",g=d&&m==="width"?Gh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,x)=>{var N=typeof c=="function"?c(w.value,x):w.value;return m==="width"?qfe(Gh(N,{fontSize:t,letterSpacing:r}),g,f):Gh(N,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Pn(i[1].coordinate-i[0].coordinate):1,b=zfe(a,v,m);return l==="equidistantPreserveStart"?Hfe(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Xfe(v,b,y,i,s,l==="preserveStartEnd"):h=Yfe(v,b,y,i,s),h.filter(w=>w.isShow))}var Jfe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(r?n:0);return Math.round(c)}return 0},Zfe=["axisLine","width","height","className","hide","ticks","axisType"],Qfe=["viewBox"],ehe=["viewBox"];function i5(e,t){if(e==null)return{};var r,n,i=the(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function the(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(null,arguments)}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rhe(e,t,r){return(t=nhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nhe(e){var t=ihe(e,"string");return typeof t=="symbol"?t:t+""}function ihe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:sn.axis};function ahe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=en(en(en({},l),ua(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=en(en({},c),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=en(en({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return T.createElement("line",fu({},c,{className:qt("recharts-cartesian-axis-line",ou(o,"className"))}))}function she(e,t,r,n,i,a,s,o,l){var c,d,f,p,h,m,g=o?-1:1,y=e.tickSize||s,v=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,p=r+ +!o*i,f=p-g*y,m=f-g*l,h=v;break;case"left":f=p=e.coordinate,d=t+ +!o*n,c=d-g*y,h=c-g*l,m=v;break;case"right":f=p=e.coordinate,d=t+ +o*n,c=d+g*y,h=c+g*l,m=v;break;default:c=d=e.coordinate,p=r+ +o*i,f=p+g*y,m=f+g*l,h=v;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:h,y:m}}}function ohe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function lhe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function che(e){var{option:t,tickProps:r,value:n}=e,i,a=qt(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))i=T.cloneElement(t,en(en({},r),{},{className:a}));else if(typeof t=="function")i=t(en(en({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=qt(s,t==null?void 0:t.className)),i=T.createElement(v1,fu({},r,{className:s}),n)}return i}var uhe=T.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:h,width:m,height:g,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:x,events:N,axisType:O}=e,j=US(en(en({},x),{},{ticks:r}),b,w),A=ohe(d,f),P=lhe(d,f),C=ua(x),k=su(n),E={};typeof i=="object"&&(E=i);var I=en(en({},C),{},{fill:"none"},E),M=j.map(Q=>en({entry:Q},she(Q,p,h,m,g,d,y,f,v))),U=M.map(Q=>{var{entry:K,line:W}=Q;return T.createElement(Tn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},i&&T.createElement("line",fu({},I,W,{className:qt("recharts-cartesian-axis-tick-line",ou(i,"className"))})))}),Z=M.map((Q,K)=>{var{entry:W,tick:V}=Q,$=en(en(en(en({textAnchor:A,verticalAnchor:P},C),{},{stroke:"none",fill:a},k),V),{},{index:K,payload:W,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return T.createElement(Tn,fu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},My(N,W,K)),n&&T.createElement(che,{option:n,tickProps:$,value:"".concat(typeof s=="function"?s(W.value,K):W.value).concat(o||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},Z.length>0&&T.createElement(Mi,{zIndex:sn.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},Z)),U.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},U))}),dhe=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=i5(e,Zfe),[d,f]=T.useState(""),[p,h]=T.useState(""),m=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Jfe({ticks:m.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=T.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=v;var b=v[0];if(b){var w=window.getComputedStyle(b),x=w.fontSize,N=w.letterSpacing;(x!==d||N!==p)&&(f(x),h(N))}}},[d,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:T.createElement(Mi,{zIndex:e.zIndex},T.createElement(Tn,{className:qt("recharts-cartesian-axis",a)},T.createElement(ahe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ua(e)}),T.createElement(uhe,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),T.createElement(uce,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},T.createElement(xce,{label:e.label,labelRef:e.labelRef}),e.children)))}),fhe=T.memo(dhe,(e,t)=>{var{viewBox:r}=e,n=i5(e,Qfe),{viewBox:i}=t,a=i5(t,ehe);return ef(r,i)&&ef(n,a)}),zS=T.forwardRef((e,t)=>{var r=Ln(e,qS);return T.createElement(fhe,fu({},r,{ref:t}))});zS.displayName="CartesianAxis";var hhe=["x1","y1","x2","y2","key"],phe=["offset"],mhe=["xAxisId","yAxisId"],ghe=["xAxisId","yAxisId"];function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){vhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vhe(e,t,r){return(t=yhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yhe(e){var t=bhe(e,"string");return typeof t=="symbol"?t:t+""}function bhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(null,arguments)}function Gv(e,t){if(e==null)return{};var r,n,i=xhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var whe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return T.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZD(e){var{option:t,lineItemProps:r}=e,n;if(T.isValidElement(t))n=T.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=r,d=Gv(r,hhe),f=(i=ua(d))!==null&&i!==void 0?i:{},{offset:p}=f,h=Gv(f,phe);n=T.createElement("line",Kc({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return n}function _he(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Gv(e,mhe),l=i.map((c,d)=>{var f=ii(ii({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return T.createElement(ZD,{key:"line-".concat(d),option:n,lineItemProps:f})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Nhe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Gv(e,ghe),l=i.map((c,d)=>{var f=ii(ii({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return T.createElement(ZD,{option:n,lineItemProps:f,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function She(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var h=!c[p+1],m=h?i+s-f:c[p+1]-f;if(m<=0)return null;var g=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function jhe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var h=!c[p+1],m=h?i+s-f:c[p+1]-f;if(m<=0)return null;var g=p%r.length;return T.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:m,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var khe=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return k7(US(ii(ii(ii({},qS),r),{},{ticks:A7(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Ahe=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return k7(US(ii(ii(ii({},qS),r),{},{ticks:A7(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Ehe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:sn.grid};function WS(e){var t=F7(),r=$7(),n=B7(),i=ii(ii({},Ln(e,Ehe)),{},{x:tt(e.x)?e.x:n.left,y:tt(e.y)?e.y:n.top,width:tt(e.width)?e.width:n.width,height:tt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:h}=i,m=oi(),g=rt(P=>f6(P,"xAxis",a,m)),y=rt(P=>f6(P,"yAxis",s,m));if(!Ms(c)||!Ms(d)||!tt(o)||!tt(l))return null;var v=i.verticalCoordinatesGenerator||khe,b=i.horizontalCoordinatesGenerator||Ahe,{horizontalPoints:w,verticalPoints:x}=i;if((!w||!w.length)&&typeof b=="function"){var N=p&&p.length,O=b({yAxis:y?ii(ii({},y),{},{ticks:N?p:y.ticks}):void 0,width:t??c,height:r??d,offset:n},N?!0:f);_v(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}if((!x||!x.length)&&typeof v=="function"){var j=h&&h.length,A=v({xAxis:g?ii(ii({},g),{},{ticks:j?h:g.ticks}):void 0,width:t??c,height:r??d,offset:n},j?!0:f);_v(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(x=A)}return T.createElement(Mi,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(whe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(She,Kc({},i,{horizontalPoints:w})),T.createElement(jhe,Kc({},i,{verticalPoints:x})),T.createElement(_he,Kc({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:y})),T.createElement(Nhe,Kc({},i,{offset:n,verticalPoints:x,xAxis:g,yAxis:y}))))}WS.displayName="CartesianGrid";var QD=(e,t,r,n)=>Ml(e,"xAxis",t,n),eM=(e,t,r,n)=>Dl(e,"xAxis",t,n),tM=(e,t,r,n)=>Ml(e,"yAxis",r,n),rM=(e,t,r,n)=>Dl(e,"yAxis",r,n),Ohe=je([Rt,QD,tM,eM,rM],(e,t,r,n,i)=>Kl(e,"xAxis")?Yd(t,n,!1):Yd(r,i,!1)),Phe=(e,t,r,n,i)=>i;function Che(e){return e.type==="line"}var The=je([d1,Phe],(e,t)=>e.filter(Che).find(r=>r.id===t)),Lhe=je([Rt,QD,tM,eM,rM,The,Ohe,i1],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:p}=a,h;if(p!=null&&p.length>0?h=p:h=l==null?void 0:l.slice(c,d+1),h!=null)return epe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}});function Ihe(e){var t=su(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var Rhe=["id"],Dhe=["type","layout","connectNulls","needClip","shape"],Mhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(null,arguments)}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){Bhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bhe(e,t,r){return(t=Fhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fhe(e){var t=$he(e,"string");return typeof t=="symbol"?t:t+""}function $he(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HS(e,t){if(e==null)return{};var r,n,i=Uhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qhe=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:gf(r,t),payload:e}]};function zhe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:gf(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var nM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Whe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var Hhe=(e,t,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return nM(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){o=[...r.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...Whe(r,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Khe(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,l=HS(n,Rhe),c=ua(l);return T.createElement(ede,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Vhe(e){var{showLabels:t,children:r,points:n}=e,i=T.useMemo(()=>n==null?void 0:n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return As(As({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return T.createElement(jD,{value:t?i:void 0},r)}function uE(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=HS(a,Dhe),p=As(As({},xi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,(n==null?void 0:n.length)>1&&T.createElement(CS,Pp({shapeType:"curve",option:d},p,{pathRef:r})),T.createElement(Khe,{points:n,clipPathId:t,props:a}))}function Ghe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Yhe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:h,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=i.current,b=Jp(r,"recharts-line-"),[w,x]=T.useState(!1),N=!w,O=T.useCallback(()=>{typeof g=="function"&&g(),x(!1)},[g]),j=T.useCallback(()=>{typeof y=="function"&&y(),x(!0)},[y]),A=Ghe(n.current),P=a.current;return T.createElement(Vhe,{points:s,showLabels:N},r.children,T.createElement(Xp,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:O,onAnimationStart:j,key:b},C=>{var k=vr(P,A+P,C),E=Math.min(k,A),I;if(l)if(o){var M="".concat(o).split(/[,\s]+/gim).map(Q=>parseFloat(Q));I=Hhe(E,A,M)}else I=nM(A,E);else I=o==null?void 0:String(o);if(v){var U=v.length/s.length,Z=C===1?s:s.map((Q,K)=>{var W=Math.floor(K*U);if(v[W]){var V=v[W];return As(As({},Q),{},{x:vr(V.x,Q.x,C),y:vr(V.y,Q.y,C)})}return p?As(As({},Q),{},{x:vr(h*2,Q.x,C),y:vr(m/2,Q.y,C)}):As(As({},Q),{},{x:Q.x,y:Q.y})});return i.current=Z,T.createElement(uE,{props:r,points:Z,clipPathId:t,pathRef:n,strokeDasharray:I})}return C>0&&A>0&&(i.current=s,a.current=E),T.createElement(uE,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:I})}),T.createElement(jS,{label:r.label}))}function Xhe(e){var{clipPathId:t,props:r}=e,n=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(Yhe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var Jhe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:or(e.payload,t)}};class Zhe extends T.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:p,zIndex:h}=this.props;if(t)return null;var m=qt("recharts-line",i),g=f,{r:y,strokeWidth:v}=Ihe(r),b=ID(r),w=y*2+v;return T.createElement(Mi,{zIndex:h},T.createElement(Tn,{className:m},p&&T.createElement("defs",null,T.createElement(WD,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&T.createElement("clipPath",{id:"clipPath-dots-".concat(g)},T.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),T.createElement(zD,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:Jhe,errorBarOffset:0},T.createElement(Xhe,{props:this.props,clipPathId:g}))),T.createElement(yde,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var iM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Vl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:sn.line};function Qhe(e){var t=Ln(e,iM),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:h,yAxisId:m,id:g}=t,y=HS(t,Mhe),{needClip:v}=FS(h,m),b=BS(),w=Yp(),x=oi(),N=rt(C=>Lhe(C,h,m,x,g));if(w!=="horizontal"&&w!=="vertical"||N==null||b==null)return null;var{height:O,width:j,x:A,y:P}=b;return T.createElement(Zhe,Pp({},y,{id:g,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:h,yAxisId:m,points:N,layout:w,height:O,width:j,left:A,top:P,needClip:v}))}function epe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=or(c,s);if(t==="horizontal"){var p=Vk({axis:r,ticks:i,bandSize:o,entry:c,index:d}),h=wr(f)?null:n.scale(f);return{x:p,y:h,value:f,payload:c}}var m=wr(f)?null:r.scale(f),g=Vk({axis:n,ticks:a,bandSize:o,entry:c,index:d});return m==null||g==null?null:{x:m,y:g,value:f,payload:c}}).filter(Boolean)}function tpe(e){var t=Ln(e,iM),r=oi();return T.createElement(DS,{id:t.id,type:"line"},n=>T.createElement(T.Fragment,null,T.createElement(DD,{legendPayload:qhe(t)}),T.createElement(RS,{fn:zhe,args:t}),T.createElement(FD,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),T.createElement(Qhe,Pp({},t,{id:n}))))}var aM=T.memo(tpe);aM.displayName="Line";var rpe=["dangerouslySetInnerHTML","ticks"],npe=["id"],ipe=["domain"],ape=["domain"];function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a5.apply(null,arguments)}function Yv(e,t){if(e==null)return{};var r,n,i=spe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function spe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ope(e){var t=_r();return T.useLayoutEffect(()=>(t(ade(e)),()=>{t(sde(e))}),[e,t]),null}var lpe=e=>{var{xAxisId:t,className:r}=e,n=rt(fN),i=oi(),a="xAxis",s=rt(y=>Nf(y,a,t,i)),o=rt(y=>TR(y,a,t,i)),l=rt(y=>ER(y,t)),c=rt(y=>bse(y,t)),d=rt(y=>lR(y,t));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,h=Yv(e,rpe),{id:m}=d,g=Yv(d,npe);return T.createElement(zS,a5({},h,g,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:qt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},cpe={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:Xi.allowDecimals,allowDuplicatedCategory:Xi.allowDuplicatedCategory,height:Xi.height,hide:!1,mirror:Xi.mirror,orientation:Xi.orientation,padding:Xi.padding,reversed:Xi.reversed,scale:Xi.scale,tickCount:Xi.tickCount,type:Xi.type,xAxisId:0},upe=e=>{var t,r,n,i,a,s=Ln(e,cpe);return T.createElement(T.Fragment,null,T.createElement(ope,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),T.createElement(lpe,s))},dpe=(e,t)=>{var{domain:r}=e,n=Yv(e,ipe),{domain:i}=t,a=Yv(t,ape);return ef(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ef({domain:r},{domain:i}):!1},KS=T.memo(upe,dpe);KS.displayName="XAxis";var fpe=["dangerouslySetInnerHTML","ticks"],hpe=["id"],ppe=["domain"],mpe=["domain"];function s5(){return s5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s5.apply(null,arguments)}function Xv(e,t){if(e==null)return{};var r,n,i=gpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vpe(e){var t=_r();return T.useLayoutEffect(()=>(t(ode(e)),()=>{t(lde(e))}),[e,t]),null}var ype=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=T.useRef(null),s=T.useRef(null),o=rt(fN),l=oi(),c=_r(),d="yAxis",f=rt(N=>Nf(N,d,t,l)),p=rt(N=>OR(N,t)),h=rt(N=>wse(N,t)),m=rt(N=>TR(N,d,t,l)),g=rt(N=>cR(N,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!p||SS(i)||T.isValidElement(i)||g==null)){var N=a.current;if(N){var O=N.getCalculatedWidth();Math.round(p.width)!==Math.round(O)&&c(cde({id:t,width:O}))}}},[m,p,c,i,t,n,g]),p==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=Xv(e,fpe),{id:w}=g,x=Xv(g,hpe);return T.createElement(zS,s5({},b,x,{ref:a,labelRef:s,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:qt("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:m,axisType:d}))},bpe={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:Ji.allowDuplicatedCategory,hide:!1,mirror:Ji.mirror,orientation:Ji.orientation,padding:Ji.padding,reversed:Ji.reversed,scale:Ji.scale,tickCount:Ji.tickCount,type:Ji.type,width:Ji.width,yAxisId:0},xpe=e=>{var t,r,n,i,a,s=Ln(e,bpe);return T.createElement(T.Fragment,null,T.createElement(vpe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),T.createElement(ype,s))},wpe=(e,t)=>{var{domain:r}=e,n=Xv(e,ppe),{domain:i}=t,a=Xv(t,mpe);return ef(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ef({domain:r},{domain:i}):!1},VS=T.memo(xpe,wpe);VS.displayName="YAxis";var _pe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=T;function Npe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Spe=typeof Object.is=="function"?Object.is:Npe,jpe=um.useSyncExternalStore,kpe=um.useRef,Ape=um.useEffect,Epe=um.useMemo,Ope=um.useDebugValue;_pe.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=kpe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Epe(function(){function l(h){if(!c){if(c=!0,d=h,h=n(h),i!==void 0&&s.hasValue){var m=s.value;if(i(m,h))return f=m}return f=h}if(m=f,Spe(d,h))return m;var g=n(h);return i!==void 0&&i(m,g)?(d=h,m):(d=h,f=g)}var c=!1,d,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=jpe(e,a[0],a[1]);return Ape(function(){s.hasValue=!0,s.value=o},[o]),Ope(o),o};function Ppe(e){e()}function Cpe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ppe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var dE={notify(){},get:()=>[]};function Tpe(e,t){let r,n=dE,i=0,a=!1;function s(g){d();const y=n.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function d(){i++,r||(r=e.subscribe(l),n=Cpe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=dE)}function p(){a||(a=!0,d())}function h(){a&&(a=!1,f())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return m}var Lpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ipe=Lpe(),Rpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dpe=Rpe(),Mpe=()=>Ipe||Dpe?T.useLayoutEffect:T.useEffect,Bpe=Mpe(),jx=Symbol.for("react-redux-context"),kx=typeof globalThis<"u"?globalThis:{};function Fpe(){if(!T.createContext)return{};const e=kx[jx]??(kx[jx]=new Map);let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var $pe=Fpe();function Upe(e){const{children:t,context:r,serverState:n,store:i}=e,a=T.useMemo(()=>{const l=Tpe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=T.useMemo(()=>i.getState(),[i]);Bpe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||$pe;return T.createElement(o.Provider,{value:a},t)}var qpe=Upe,zpe=(e,t)=>t,GS=je([zpe,Rt,sR,Sn,YR,$o,Toe,_n],Foe),YS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},sM=Da("mouseClick"),oM=Vp();oM.startListening({actionCreator:sM,effect:(e,t)=>{var r=e.payload,n=GS(t.getState(),YS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Ise({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var o5=Da("mouseMove"),lM=Vp();lM.startListening({actionCreator:o5,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=pS(n,n.tooltip.settings.shared),a=GS(n,YS(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch($R({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(FR()))}});var fE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},cM=Di({name:"rootProps",initialState:fE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:fE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),Wpe=cM.reducer,{updateOptions:Hpe}=cM.actions,uM=Di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Kpe}=uM.actions,Vpe=uM.reducer,dM=Da("keyDown"),fM=Da("focus"),XS=Vp();XS.startListening({actionCreator:dM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(mS(i,jf(r))),o=$o(r);if(a==="Enter"){var l=$v(r,"axis","hover",String(i.index));t.dispatch(Xw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=jse(r),d=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=s+f*d;if(!(o==null||p>=o.length||p<0)){var h=$v(r,"axis","hover",String(p));t.dispatch(Xw({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});XS.startListening({actionCreator:fM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=$v(r,"axis","hover",String(a));t.dispatch(Xw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ja=Da("externalEvent"),hM=Vp();hM.startListening({actionCreator:ja,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:goe(r),activeDataKey:QR(r),activeIndex:Bl(r),activeLabel:ZR(r),activeTooltipIndex:Bl(r),isTooltipActive:voe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Gpe=je([Sf],e=>e.tooltipItemPayloads),Ype=je([Gpe,om,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),pM=Da("touchMove"),mM=Vp();mM.startListening({actionCreator:pM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=pS(n,n.tooltip.settings.shared);if(i==="axis"){var a=GS(n,YS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch($R({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(O7),d=(s=l.getAttribute(P7))!==null&&s!==void 0?s:void 0,f=Ype(t.getState(),c,d);t.dispatch(BR({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}}});var Xpe=e7({brush:Tfe,cartesianAxis:ude,chartData:mle,errorBars:Pde,graphicalItems:xue,layout:Aee,legend:yte,options:ule,polarAxis:Mce,polarOptions:Vpe,referenceElements:Ffe,rootProps:Wpe,tooltip:Rse,zIndex:Qoe}),Jpe=function(t){return ZQ({reducer:Xpe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([oM.middleware,lM.middleware,XS.middleware,hM.middleware,mM.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(f7({type:"raf"}))},devTools:Vl.devToolsEnabled})};function gM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=oi(),a=T.useRef(null);if(i)return r;a.current==null&&(a.current=Jpe(t));var s=iN;return T.createElement(qpe,{context:s,store:a.current},r)}function vM(e){var{layout:t,margin:r}=e,n=_r(),i=oi();return T.useEffect(()=>{i||(n(See(t)),n(Nee(r)))},[n,i,t,r]),null}function yM(e){var t=_r();return T.useEffect(()=>{t(Hpe(e))},[t,e]),null}function hE(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=MD("".concat(n).concat(t)),a=_r();return T.useLayoutEffect(()=>(a(Joe({zIndex:t,elementId:i,isPanorama:r})),()=>{a(Zoe({zIndex:t,isPanorama:r}))}),[a,t,i,r]),T.createElement("g",{id:i})}function pE(e){var{children:t,isPanorama:r}=e,n=rt(Uoe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(hE,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>T.createElement(hE,{key:s,zIndex:s,isPanorama:r})))}var Zpe=["children"];function Qpe(e,t){if(e==null)return{};var r,n,i=eme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}var tme={width:"100%",height:"100%",display:"block"},rme=T.forwardRef((e,t)=>{var r=F7(),n=$7(),i=W7();if(!Ms(r)||!Ms(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),T.createElement(tL,Jv({},s,{title:o,desc:l,role:d,tabIndex:c,width:r,height:n,style:tme,ref:t}),a)}),nme=e=>{var{children:t}=e,r=rt(Yy);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return T.createElement(tL,{width:n,height:i,x:s,y:a},t)},mE=T.forwardRef((e,t)=>{var{children:r}=e,n=Qpe(e,Zpe),i=oi();return i?T.createElement(nme,null,T.createElement(pE,{isPanorama:!0},r)):T.createElement(rme,Jv({ref:t},n),T.createElement(pE,{isPanorama:!1},r))});function ime(){var e=_r(),[t,r]=T.useState(null),n=rt(Hee);return T.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Gr(a)&&a!==n&&e(kee(a))}},[t,e,n]),r}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ame(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){sme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sme(e,t,r){return(t=ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=lme(e,"string");return typeof t=="symbol"?t:t+""}function lme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(null,arguments)}var cme=()=>(Sle(),null);function Zv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ume=T.forwardRef((e,t)=>{var r,n,i=T.useRef(null),[a,s]=T.useState({containerWidth:Zv((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Zv((n=e.style)===null||n===void 0?void 0:n.height)}),o=T.useCallback((c,d)=>{s(f=>{var p=Math.round(c),h=Math.round(d);return f.containerWidth===p&&f.containerHeight===h?f:{containerWidth:p,containerHeight:h}})},[]),l=T.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var p=m=>{var{width:g,height:y}=m[0].contentRect;o(g,y)},h=new ResizeObserver(p);h.observe(c),i.current=h}},[t,o]);return T.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(Jy,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",hu({ref:l},e)))}),dme=T.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=T.useState({containerWidth:Zv(r),containerHeight:Zv(n)}),s=T.useCallback((l,c)=>{a(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),o=T.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(Jy,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",hu({ref:o},e)))}),fme=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return T.createElement(T.Fragment,null,T.createElement(Jy,{width:r,height:n}),T.createElement("div",hu({ref:t},e)))}),hme=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return So(r)||So(n)?T.createElement(dme,hu({},e,{ref:t})):T.createElement(fme,hu({},e,{ref:t}))});function pme(e){return e===!0?ume:hme}var mme=T.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:m,onTouchStart:g,style:y,width:v,responsive:b,dispatchTouchEvents:w=!0}=e,x=T.useRef(null),N=_r(),[O,j]=T.useState(null),[A,P]=T.useState(null),C=ime(),k=hN(),E=(k==null?void 0:k.width)>0?k.width:v,I=(k==null?void 0:k.height)>0?k.height:i,M=T.useCallback(X=>{C(X),typeof t=="function"&&t(X),j(X),P(X),X!=null&&(x.current=X)},[C,t,j,P]),U=T.useCallback(X=>{N(sM(X)),N(ja({handler:a,reactEvent:X}))},[N,a]),Z=T.useCallback(X=>{N(o5(X)),N(ja({handler:c,reactEvent:X}))},[N,c]),Q=T.useCallback(X=>{N(FR()),N(ja({handler:d,reactEvent:X}))},[N,d]),K=T.useCallback(X=>{N(o5(X)),N(ja({handler:f,reactEvent:X}))},[N,f]),W=T.useCallback(()=>{N(fM())},[N]),V=T.useCallback(X=>{N(dM(X.key))},[N]),$=T.useCallback(X=>{N(ja({handler:s,reactEvent:X}))},[N,s]),R=T.useCallback(X=>{N(ja({handler:o,reactEvent:X}))},[N,o]),B=T.useCallback(X=>{N(ja({handler:l,reactEvent:X}))},[N,l]),q=T.useCallback(X=>{N(ja({handler:p,reactEvent:X}))},[N,p]),H=T.useCallback(X=>{N(ja({handler:g,reactEvent:X}))},[N,g]),z=T.useCallback(X=>{w&&N(pM(X)),N(ja({handler:m,reactEvent:X}))},[N,w,m]),J=T.useCallback(X=>{N(ja({handler:h,reactEvent:X}))},[N,h]),ae=pme(b);return T.createElement(oD.Provider,{value:O},T.createElement(XJ.Provider,{value:A},T.createElement(ae,{width:E??(y==null?void 0:y.width),height:I??(y==null?void 0:y.height),className:qt("recharts-wrapper",n),style:ame({position:"relative",cursor:"default",width:E,height:I},y),onClick:U,onContextMenu:$,onDoubleClick:R,onFocus:W,onKeyDown:V,onMouseDown:B,onMouseEnter:Z,onMouseLeave:Q,onMouseMove:K,onMouseUp:q,onTouchEnd:J,onTouchMove:z,onTouchStart:H,ref:M},T.createElement(cme,null),r)))}),gme=["width","height","responsive","children","className","style","compact","title","desc"];function vme(e,t){if(e==null)return{};var r,n,i=yme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bM=T.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=vme(e,gme),p=ua(f);return l?T.createElement(T.Fragment,null,T.createElement(Jy,{width:r,height:n}),T.createElement(mE,{otherAttributes:p,title:c,desc:d},a)):T.createElement(mme,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(mE,{otherAttributes:p,title:c,desc:d,ref:t},T.createElement(Ufe,null,a)))});function l5(){return l5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l5.apply(null,arguments)}var bme={top:5,right:5,bottom:5,left:5},xme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bme,reverseStackOrder:!1,syncMethod:"index",responsive:!1},xM=T.forwardRef(function(t,r){var n,i=Ln(t.categoricalChartProps,xme),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return T.createElement(gM,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},T.createElement(GD,{chartData:c.data}),T.createElement(vM,{layout:i.layout,margin:i.margin}),T.createElement(yM,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(bM,l5({},i,{ref:r})))}),wme=["axis"],_me=T.forwardRef((e,t)=>T.createElement(xM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wme,tooltipPayloadSearcher:NS,categoricalChartProps:e,ref:t})),Nme=["axis","item"],Sme=T.forwardRef((e,t)=>T.createElement(xM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nme,tooltipPayloadSearcher:NS,categoricalChartProps:e,ref:t}));function jme(e){var t=_r();return T.useEffect(()=>{t(Kpe(e))},[t,e]),null}var kme=["layout"];function c5(){return c5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c5.apply(null,arguments)}function Ame(e,t){if(e==null)return{};var r,n,i=Eme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ome={top:5,right:5,bottom:5,left:5},Pme={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ome,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Cme=T.forwardRef(function(t,r){var n,i=Ln(t.categoricalChartProps,Pme),{layout:a}=i,s=Ame(i,kme),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(gM,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},T.createElement(GD,{chartData:i.data}),T.createElement(vM,{layout:a,margin:i.margin}),T.createElement(yM,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(jme,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(bM,c5({},s,{ref:r})))}),Tme=["item"],Lme={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ime=T.forwardRef((e,t)=>{var r=Ln(e,Lme);return T.createElement(Cme,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Tme,tooltipPayloadSearcher:NS,categoricalChartProps:r,ref:t})});const vE=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,c]=T.useState([]),[d,f]=T.useState(["",""]),[p,h]=T.useState(!1),[m,g]=T.useState(null);T.useEffect(()=>{const x=Ra(n);x&&(o(x.insights||""),c(x.prioritizedActions||[]),f(x.customerReplies||["",""]),h(x.submitted||!1))},[n]);const y=x=>{l.includes(x)?c(l.filter(N=>N!==x)):l.length<3&&c([...l,x])},v=(x,N)=>{const O=[...d];O[x]=N,f(O)},b=()=>{const x={insights:s,prioritizedActions:l.map(O=>{var j;return((j=U4.find(A=>A.id===O))==null?void 0:j.label)||O}),customerReplies:d};gi(n,{...x,submitted:!0});const N=U_(x);g(N),h(!0),ca(n),r(n),alert("Task 6 completed successfully!")},w=mn.reviews.filter(x=>x.sentiment==="negative").slice(0,2);return u.jsx("div",{className:"max-w-5xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 mb-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Task 6: Post-Launch Analytics & Customer Responses"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Analyze post-launch data, prioritize actions, and respond to customer feedback."})]})]}),u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Daily Active Users (30 Days)"})]}),u.jsx("div",{className:"bg-white rounded-xl p-4 border border-blue-200",children:u.jsx(Cw,{width:"100%",height:250,children:u.jsxs(_me,{data:mn.dau,children:[u.jsx(WS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(KS,{dataKey:"day",label:{value:"Day",position:"insideBottom",offset:-5},stroke:"#6b7280"}),u.jsx(VS,{label:{value:"Users",angle:-90,position:"insideLeft"},stroke:"#6b7280"}),u.jsx(Qw,{contentStyle:{backgroundColor:"#fff",border:"2px solid #3b82f6",borderRadius:"8px"},labelStyle:{color:"#1f2937",fontWeight:"bold"}}),u.jsx(aM,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:5}})]})})})]}),u.jsx("div",{className:"mb-8 grid grid-cols-2 md:grid-cols-3 gap-4",children:[{label:"Onboarding Completion",value:mn.metrics.onboardingCompletion,unit:"%",color:"green"},{label:"Setup Drop-off",value:mn.metrics.setupDropoff,unit:"%",color:"red"},{label:"Crash Rate",value:mn.metrics.crashRate,unit:"%",color:"gray"},{label:"Avg Session Time",value:mn.metrics.avgSessionTime,unit:" min",color:"blue"},{label:"7-Day Retention",value:mn.metrics.retention7Day,unit:"%",color:"yellow"},{label:"30-Day Retention",value:mn.metrics.retention30Day,unit:"%",color:"red"}].map((x,N)=>u.jsxs("div",{className:`p-5 bg-gradient-to-br from-white to-gray-50 rounded-xl border-2 ${x.color==="green"?"border-green-200":x.color==="red"?"border-red-200":x.color==="yellow"?"border-yellow-200":"border-gray-200"} hover:shadow-lg transition-all`,children:[u.jsx("div",{className:"text-xs text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:x.label}),u.jsxs("div",{className:`text-3xl font-bold ${x.color==="green"?"text-green-600":x.color==="red"?"text-red-600":x.color==="yellow"?"text-yellow-600":"text-gray-900"}`,children:[x.value,x.unit]})]},N))}),u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Net Promoter Score (NPS)"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[mn.nps.promoters,"%"]}),u.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Promoters"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[mn.nps.passives,"%"]}),u.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Passives"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[mn.nps.detractors,"%"]}),u.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Detractors"})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mb-4 shadow-inner",children:u.jsxs("div",{className:"flex h-6 rounded-full overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600",style:{width:`${mn.nps.promoters}%`}}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600",style:{width:`${mn.nps.passives}%`}}),u.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600",style:{width:`${mn.nps.detractors}%`}})]})}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["NPS = ",mn.nps.promoters,"% - ",mn.nps.detractors,"% =",u.jsx("span",{className:"ml-2 text-red-600",children:mn.nps.promoters-mn.nps.detractors})]})})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sample User Reviews"})]}),u.jsx("div",{className:"space-y-4",children:mn.reviews.map(x=>u.jsxs("div",{className:`p-6 rounded-xl border-2 ${x.sentiment==="positive"?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300":"bg-gradient-to-r from-red-50 to-pink-50 border-red-300"} hover:shadow-lg transition-all`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsxs("div",{className:"flex text-yellow-400 text-xl",children:["".repeat(x.rating),"".repeat(5-x.rating)]}),u.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${x.sentiment==="positive"?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:x.sentiment})]}),u.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:x.text})]},x.id))})]}),u.jsxs("div",{className:"space-y-8 mb-8",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"1"}),"Summarize Top 3 Insights (max 150 words)"]}),u.jsx("textarea",{value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:"5",placeholder:"What are the biggest problems? What patterns do you see in the data?..."})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-green-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"2"}),"Prioritize Next 3 Actions (select in order of priority)"]}),u.jsx("div",{className:"space-y-3",children:U4.map(x=>{const N=l.includes(x.id),O=l.indexOf(x.id)+1;return u.jsx("button",{onClick:()=>y(x.id),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${N?"border-green-500 bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg transform scale-105":"border-gray-200 bg-white hover:border-green-300 hover:bg-green-50"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-base font-semibold",children:x.label}),N&&u.jsxs("span",{className:"px-3 py-1 bg-white text-green-600 rounded-lg text-sm font-bold shadow-md",children:["Priority ",O]})]})},x.id)})}),u.jsxs("p",{className:"text-sm text-gray-600 mt-4 font-semibold",children:["Selected: ",u.jsxs("span",{className:"text-green-600",children:[l.length,"/3"]})," actions"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"3"}),"Draft Customer Replies (select 2 negative reviews to respond to)"]}),u.jsx("div",{className:"space-y-5",children:w.map((x,N)=>{var O;return u.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-5 bg-white",children:[u.jsx("div",{className:"mb-4 p-4 bg-red-50 rounded-lg border border-red-200",children:u.jsxs("p",{className:"text-base text-gray-700 italic font-medium",children:['"',x.text,'"']})}),u.jsx("textarea",{value:d[N]||"",onChange:j=>v(N,j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:"4",placeholder:"Write a professional, empathetic response addressing their concern..."}),u.jsxs("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:[((O=d[N])==null?void 0:O.length)||0," characters (max 150 words recommended)"]})]},x.id)})})]})]}),m&&u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsxs("h4",{className:"text-2xl font-bold text-gray-900",children:["Task Score: ",u.jsxs("span",{className:"text-green-600",children:[m.score,"/100"]})]})]}),m.strengths.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Strengths:"}),u.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:m.strengths.map((x,N)=>u.jsx("li",{children:x},N))})]}),m.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-base text-gray-900 font-bold",children:"Areas for Improvement:"}),u.jsx("ul",{className:"text-base text-gray-700 ml-6 list-disc mt-2 space-y-1",children:m.improvements.map((x,N)=>u.jsx("li",{children:x},N))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-2 border-gray-200",children:[u.jsxs("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:b,disabled:p,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transition-all",children:p?"Completed ":"Submit Task"}),p&&i&&u.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 font-bold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:["Next Task",u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},yE=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a})=>{const[s,o]=T.useState(""),[l,c]=T.useState(""),[d,f]=T.useState({kpis:!1,roadmap:!1,budget:!1}),[p,h]=T.useState(!1),[m,g]=T.useState(null);T.useEffect(()=>{var N,O,j,A,P,C,k,E;const b=Wp(),w=`
# Noah Smart Fitness Watch - Project Summary

## Market Research (Task 1)
${((N=b.task1)==null?void 0:N.targetMarket)||"Not completed"}

## Team & Tech Stack (Task 2)
${((j=(O=b.task2)==null?void 0:O.selectedRoles)==null?void 0:j.map(I=>I.name).join(", "))||"Not completed"}

## Roadmap (Task 3)
${((P=(A=b.task3)==null?void 0:A.phases)==null?void 0:P.map(I=>`${I.name}: ${I.duration} weeks`).join(`
`))||"Not completed"}

## Design (Task 4)
${((C=b.task4)==null?void 0:C.explanation)||"Not completed"}

## GTM Strategy (Task 5)
${((k=b.task5)==null?void 0:k.positioning)||"Not completed"}

## Post-Launch Analysis (Task 6)
${((E=b.task6)==null?void 0:E.insights)||"Not completed"}
    `.trim();o(w);const x=Ra(n);x&&(c(x.pitch||""),f(x.checklist||d),h(x.submitted||!1))},[n]);const y=b=>{f({...d,[b]:!d[b]})},v=()=>{const b={consolidatedReport:s,pitch:l,checklist:d};gi(n,{...b,submitted:!0});const w=q_(b);g(w),h(!0),ca(n),r(n),alert("Task 7 completed! You can now view your final report and certificate.")};return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task 7: Final Submission & Reflection"}),u.jsx("p",{className:"text-gray-700 mb-6",children:"Consolidate your project work, reflect on trade-offs, and create a 2-minute investor pitch."}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Consolidated Project Report (auto-filled, editable)"}),u.jsx("textarea",{value:s,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm",rows:"12"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This report consolidates your work from all previous tasks. Edit as needed."})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"2-Minute Investor Pitch Script (max 300 words)"}),u.jsx("textarea",{value:l,onChange:b=>c(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"8",placeholder:"Write a compelling pitch that covers: problem, solution, market opportunity, business model, ask..."}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," characters (approximately ",Math.round(l.length/5)," words)"]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Final Checklist"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d.kpis,onChange:()=>y("kpis"),className:"w-4 h-4 text-blue-600 rounded"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Did you include success KPIs?"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d.roadmap,onChange:()=>y("roadmap"),className:"w-4 h-4 text-blue-600 rounded"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Did you include 3-month roadmap?"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d.budget,onChange:()=>y("budget"),className:"w-4 h-4 text-blue-600 rounded"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Did you include budget estimates?"})]})]})]}),m&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Task Score: ",m.score,"/100"]}),m.strengths.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:m.strengths.map((b,w)=>u.jsx("li",{children:b},w))})]}),m.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:m.improvements.map((b,w)=>u.jsx("li",{children:b},w))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),u.jsx("div",{className:"flex gap-3",children:u.jsx("button",{onClick:v,disabled:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Completed ":"Submit Final Task"})})]})]})})},Rme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var w,x,N;const[l,c]=T.useState(null),[d,f]=T.useState(!1),[p,h]=T.useState(null),m=(o==null?void 0:o.slug)||"noah-smart-fitness-watch";T.useEffect(()=>{const O=Ra(n,m);O?(c(O.selectedOption||null),f(O.submitted||!1),O.validationResult&&h(O.validationResult)):(c(null),f(!1),h(null))},[n,m]);const g=()=>{if(!l){alert("Please select an option before submitting.");return}gi(n,{...{selectedOption:l},submitted:!0},m),ca(n,m),r(n),f(!0)},y=((w=s==null?void 0:s.config)==null?void 0:w.options)||[],v=((x=s==null?void 0:s.config)==null?void 0:x.instruction)||"",b=((N=s==null?void 0:s.config)==null?void 0:N.prompt)||"";return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:(s==null?void 0:s.name)||"Multiple Choice Question"}),v&&u.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:u.jsx("p",{className:"text-gray-800 leading-relaxed",children:v})}),b&&u.jsx("div",{className:"mb-6",children:u.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:b})}),u.jsx("div",{className:"space-y-4 mb-6",children:y.map(O=>u.jsxs("label",{className:`flex items-start p-5 rounded-xl border-2 cursor-pointer transition-all ${l===O.id?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:[u.jsx("input",{type:"radio",name:`mcq-${n}`,value:O.id,checked:l===O.id,onChange:()=>c(O.id),className:"mt-1 mr-4 w-5 h-5 text-purple-600",disabled:d}),u.jsx("span",{className:"text-gray-800 text-lg flex-1",children:O.text})]},O.id))}),p&&u.jsxs("div",{className:`mb-6 p-4 rounded-xl border-2 ${p.score===100?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Score: ",p.score,"/100"]}),p.feedback&&u.jsx("p",{className:"text-sm text-gray-700",children:p.feedback}),p.strengths&&p.strengths.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((O,j)=>u.jsx("li",{children:O},j))})]}),p.improvements&&p.improvements.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((O,j)=>u.jsx("li",{children:O},j))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:g,disabled:d||!l,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Answer"}),d&&i&&u.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Next Task "})]})]})]})})},Dme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var O,j,A,P,C;const[l,c]=T.useState(""),[d,f]=T.useState(!1),[p,h]=T.useState(null),m=(o==null?void 0:o.slug)||"noah-smart-fitness-watch";T.useEffect(()=>{const k=Ra(n,m);k?(c(k.response||""),f(k.submitted||!1),k.validationResult&&h(k.validationResult)):(c(""),f(!1),h(null))},[n,m]);const g=()=>{var M;const k=((M=s==null?void 0:s.config)==null?void 0:M.minWords)||5,E=l.trim().split(/\s+/).filter(Boolean).length;if(E<k){alert(`Please write at least ${k} words.`);return}gi(n,{...{response:l,wordCount:E},submitted:!0},m),ca(n,m),r(n),f(!0)},y=l.trim().split(/\s+/).filter(Boolean).length,v=((O=s==null?void 0:s.config)==null?void 0:O.minWords)||5,b=((j=s==null?void 0:s.config)==null?void 0:j.maxWords)||null,w=((A=s==null?void 0:s.config)==null?void 0:A.instruction)||"",x=((P=s==null?void 0:s.config)==null?void 0:P.prompt)||"",N=((C=s==null?void 0:s.config)==null?void 0:C.referenceData)||null;return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.name}),w&&u.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:u.jsx("p",{className:"text-gray-800 leading-relaxed",children:w})}),N&&u.jsxs("div",{className:"mb-6 p-6 bg-blue-50 rounded-xl border-2 border-blue-200",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:" Data Summary"}),u.jsx("ul",{className:"space-y-2 text-gray-700",children:Object.entries(N).map(([k,E])=>u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"font-semibold capitalize",children:[k,":"]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${E==="High"?"bg-green-100 text-green-700":E==="Low"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:E})]},k))})]}),x&&u.jsx("div",{className:"mb-6",children:u.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:x})}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Your Response",` (Minimum ${v} words${b?`, Maximum ${b} words`:""})`]}),u.jsx("textarea",{value:l,onChange:k=>c(k.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"4",placeholder:"Type your answer here...",disabled:d}),u.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[u.jsxs("p",{className:`text-sm ${y<v?"text-red-600":"text-gray-600"}`,children:[y," word",y!==1?"s":"",y<v&&` (Need ${v-y} more)`]}),b&&y>b&&u.jsxs("p",{className:"text-sm text-red-600",children:["Exceeds maximum by ",y-b," words"]})]})]}),p&&u.jsxs("div",{className:"mb-6 p-4 rounded-xl border-2 bg-green-50 border-green-200",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Score: ",p.score,"/100"]}),p.strengths&&p.strengths.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((k,E)=>u.jsx("li",{children:k},E))})]}),p.improvements&&p.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((k,E)=>u.jsx("li",{children:k},E))})]}),p.feedback&&u.jsx("p",{className:"text-sm text-gray-700 mt-2",children:p.feedback})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:g,disabled:d||y<v||b&&y>b,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Answer"}),d&&i&&u.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Next Task "})]})]})]})})},Mme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var x,N,O;const[l,c]=T.useState(""),[d,f]=T.useState(!1),[p,h]=T.useState(null),m=(o==null?void 0:o.slug)||"noah-smart-fitness-watch";T.useEffect(()=>{const j=Ra(n,m);j?(c(j.response||""),f(j.submitted||!1),j.validationResult&&h(j.validationResult)):(c(""),f(!1),h(null))},[n,m]);const g=()=>{var C;const j=((C=s==null?void 0:s.config)==null?void 0:C.minWords)||20,A=l.trim().split(/\s+/).filter(Boolean).length;if(A<j){alert(`Please write at least ${j} words (3-4 sentences).`);return}gi(n,{...{response:l,wordCount:A},submitted:!0},m),ca(n,m),r(n),f(!0)},y=l.trim().split(/\s+/).filter(Boolean).length,v=((x=s==null?void 0:s.config)==null?void 0:x.minWords)||20,b=((N=s==null?void 0:s.config)==null?void 0:N.instruction)||"",w=((O=s==null?void 0:s.config)==null?void 0:O.prompt)||"";return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:(s==null?void 0:s.name)||"Reflection"}),b&&u.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:u.jsx("p",{className:"text-gray-800 leading-relaxed",children:b})}),w&&u.jsx("div",{className:"mb-6",children:u.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:w})}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Your Reflection (Minimum ",v," words - 3-4 sentences)"]}),u.jsx("textarea",{value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"6",placeholder:"Write your reflection here...",disabled:d}),u.jsxs("p",{className:`mt-2 text-sm ${y<v?"text-red-600":"text-gray-600"}`,children:[y," word",y!==1?"s":"",y<v&&` (Need ${v-y} more)`]})]}),p&&u.jsxs("div",{className:"mb-6 p-4 rounded-xl border-2 bg-green-50 border-green-200",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Score: ",p.score,"/100"]}),p.feedback&&u.jsx("p",{className:"text-sm text-gray-700 mb-2",children:p.feedback}),p.strengths&&p.strengths.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.strengths.map((j,A)=>u.jsx("li",{children:j},A))})]}),p.improvements&&p.improvements.length>0&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-sm text-gray-700",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-gray-600 ml-4 list-disc",children:p.improvements.map((j,A)=>u.jsx("li",{children:j},A))})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:g,disabled:d||y<v,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Completed ":"Submit Reflection"}),d&&i&&u.jsx("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"View Report "})]})]})]})})},Bme=({onNext:e,onPrevious:t,onComplete:r,taskId:n,canGoNext:i,canGoPrevious:a,task:s,simulation:o})=>{var M,U,Z,Q,K;const[l,c]=T.useState(null),[d,f]=T.useState(!1),[p,h]=T.useState(!1),[m,g]=T.useState(15e3),[y,v]=T.useState([]),b=(o==null?void 0:o.slug)||"persona-finding";T.useEffect(()=>{const W=Ra(n,b);if(W)c(W.selectedOption||null),f(W.submitted||!1),h(W.showFeedback||!1),g(W.budgetRemaining||15e3),v(W.choicesHistory||[]);else{let V=15e3;for(let $=1;$<parseInt(n.replace("task",""));$++){const R=Ra(`task${$}`,b);R&&R.budgetRemaining!==void 0&&(V=R.budgetRemaining)}g(V)}},[n,b]);const w=W=>{d||c(W)},x=()=>{var B,q,H,z;if(!l){alert("Please select an option before submitting.");return}const W=(q=(B=s==null?void 0:s.config)==null?void 0:B.options)==null?void 0:q.find(J=>J.id===l);if(!W)return;const V=m-(W.cost||0),$=[...y,{taskId:n,option:l,cost:W.cost||0}],R={selectedOption:l,submitted:!0,showFeedback:!0,budgetRemaining:V,choicesHistory:$,feedback:(z=(H=s==null?void 0:s.config)==null?void 0:H.feedback)==null?void 0:z[l]};gi(n,R,b),g(V),v($),f(!0),h(!0),ca(n,b),r(n)},N=((M=s==null?void 0:s.config)==null?void 0:M.options)||[],O=((U=s==null?void 0:s.config)==null?void 0:U.context)||"",j=d&&l?(Q=(Z=s==null?void 0:s.config)==null?void 0:Z.feedback)==null?void 0:Q[l]:null,A=((K=s==null?void 0:s.config)==null?void 0:K.loopNumber)||1,P=(o==null?void 0:o.slug)==="argo-marketing-foundations"||(o==null?void 0:o.category)==="Marketing",C=P?"from-purple-600 to-pink-600":"from-primary to-accent",k=P?"from-purple-50 to-pink-50":"from-blue-50 to-indigo-50",E=P?"border-purple-200":"border-blue-200",I=P?"text-purple-700":"text-blue-700";return u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-slate-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide mb-1",children:"Remaining Budget"}),u.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",m.toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-slate-600",children:"Total: 15,000"}),u.jsx("div",{className:"w-32 bg-slate-200 rounded-full h-2 mt-2",children:u.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${C}`,style:{width:`${m/15e3*100}%`}})})]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${C} flex items-center justify-center text-white text-xl font-bold`,children:A}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:(s==null?void 0:s.name)||"Decision Loop"})]}),O&&u.jsx("div",{className:`mb-6 p-6 bg-gradient-to-r ${k} rounded-xl border-2 ${E}`,children:u.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line",children:O})}),!p&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Choose ONE option:"}),N.map(W=>{const V=m>=(W.cost||0);return u.jsxs("label",{className:`flex items-start p-6 rounded-xl border-2 cursor-pointer transition-all ${l===W.id?`bg-gradient-to-r ${k} border-${P?"purple":"blue"}-500 shadow-lg`:V?"bg-white border-slate-300 hover:border-primary hover:shadow-md":"bg-slate-100 border-slate-300 opacity-60 cursor-not-allowed"}`,children:[u.jsx("input",{type:"radio",name:"decision",value:W.id,checked:l===W.id,onChange:()=>w(W.id),disabled:!V||d,className:"mt-1 mr-4 w-5 h-5 text-primary focus:ring-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:W.title}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${W.cost===0?"bg-green-100 text-green-700":V?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:W.cost===0?"Free":`${W.cost.toLocaleString()}`})]}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:W.description}),W.budgetRemaining!==void 0&&u.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Budget after: ",W.budgetRemaining.toLocaleString()]})]})]},W.id)})]}),p&&j&&u.jsxs("div",{className:`mt-6 p-6 bg-gradient-to-r ${k} rounded-xl border-2 ${E}`,children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:j.title||"Feedback"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line mb-3",children:j.data||j.insight}),j.insight&&u.jsxs("p",{className:`font-semibold ${I} mb-3`,children:[" ",j.insight]})]}),j.signals&&j.signals.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Key Signals:"}),u.jsx("ul",{className:"list-disc list-inside space-y-1",children:j.signals.map((W,V)=>u.jsx("li",{className:"text-gray-700",children:W},V))})]}),j.outcome&&u.jsx("div",{className:`mt-4 p-3 rounded-lg ${j.outcome==="positive"||j.outcome==="strong"?"bg-green-50 border border-green-200":j.outcome==="negative"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:u.jsx("p",{className:`text-sm font-semibold ${j.outcome==="positive"||j.outcome==="strong"?"text-green-800":j.outcome==="negative"?"text-red-800":"text-yellow-800"}`,children:j.outcome==="positive"||j.outcome==="strong"?" Strong Result":j.outcome==="negative"?" Needs Revision":" Moderate Result"})})]})]}),u.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[u.jsx("button",{onClick:t,disabled:!a,className:`px-6 py-3 rounded-lg font-semibold transition-all ${a?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-slate-50 text-slate-400 cursor-not-allowed"}`,children:" Previous"}),d?u.jsx("button",{onClick:e,disabled:!i,className:`px-8 py-3 rounded-lg font-semibold text-white transition-all bg-gradient-to-r ${C} ${i?"hover:shadow-lg transform hover:scale-105":"opacity-50 cursor-not-allowed"}`,children:"Continue "}):u.jsx("button",{onClick:x,disabled:!l,className:`px-8 py-3 rounded-lg font-semibold text-white transition-all bg-gradient-to-r ${C} ${l?"hover:shadow-lg transform hover:scale-105":"opacity-50 cursor-not-allowed"}`,children:"Submit Decision"})]})]})]})},Fme={async validateTask(e,t,r){var n;try{if(!e||!t)return this.getDefaultResult("Invalid task or task data");const i=((n=r.validation_rules)==null?void 0:n[e.id])||e.validation;return i?i.method==="llm-based"?await this.llmBasedValidation(e,t,i,r):await this.ruleBasedValidation(e,t,i,r):(console.warn(`No validation rule found for task ${e.id}, using default`),this.getDefaultResult())}catch(i){return console.error("Validation error:",i),this.getDefaultResult(`Validation failed: ${i.message}`)}},async ruleBasedValidation(e,t,r,n){try{if(r.validator)try{const a=(await Ta(()=>Promise.resolve().then(()=>BJ),void 0))[r.validator];if(a&&typeof a=="function"){const s=a(t);return this.normalizeResult(s)}}catch{console.warn(`Validator function ${r.validator} not found, using rubric`)}return r.rubric?this.calculateScoreFromRubric(t,r.rubric,r.keywords):this.simpleLengthBasedScoring(t)}catch(i){return console.error("Rule-based validation error:",i),this.getDefaultResult(`Rule-based validation failed: ${i.message}`)}},async llmBasedValidation(e,t,r,n){try{const{supabase:i}=await Ta(async()=>{const{supabase:o}=await Promise.resolve().then(()=>Qz);return{supabase:o}},void 0),{data:a,error:s}=await i.functions.invoke("score-task-llm",{body:{taskId:e.id,taskData:t,rubric:r.rubric,prompt:r.prompt,simulationId:n.id,taskName:e.name}});return s?(console.error("LLM validation error:",s),console.warn("Falling back to rule-based validation"),await this.ruleBasedValidation(e,t,r,n)):this.normalizeResult(a)}catch(i){return console.error("LLM validation error:",i),await this.ruleBasedValidation(e,t,r,n)}},calculateScoreFromRubric(e,t,r={}){let n=0;const i={},a=[],s=[];try{for(const[c,d]of Object.entries(t)){const f=e[c]||"",p=r[c]||[];let h=0;if(p.length>0){const m=this.checkKeywords(f,p);h+=m*(d.maxScore||0)}d.minLength&&f.length>=d.minLength&&(h+=(d.maxScore||0)*.3),f.length>50&&(h+=(d.maxScore||0)*.2),h=Math.min(h,d.maxScore||0),i[c]=Math.round(h),n+=h,h>=(d.maxScore||0)*.8?a.push(`Strong ${c} analysis`):h<(d.maxScore||0)*.5&&s.push(`Improve ${c} - add more detail and analysis`)}const o=Object.values(t).reduce((c,d)=>c+(d.maxScore||0),0),l=o>0?Math.round(n/o*100):0;return{score:Math.min(Math.max(l,0),100),breakdown:i,strengths:a.length>0?a:["Good effort on the task"],improvements:s.length>0?s:["Continue practicing"]}}catch(o){return console.error("Rubric calculation error:",o),this.getDefaultResult("Scoring calculation failed")}},simpleLengthBasedScoring(e){const t=Object.values(e).filter(n=>typeof n=="string").reduce((n,i)=>n+i.length,0),r=Math.min(Math.round(t/500*100),100);return{score:Math.max(r,20),breakdown:{},strengths:t>200?["Good detail in your response"]:[],improvements:t<100?["Add more detail to your response"]:["Keep practicing"]}},checkKeywords(e,t){if(!e||!t||t.length===0)return 0;try{const r=e.toLowerCase(),n=t.filter(i=>r.includes(i.toLowerCase())).length;return Math.min(n/t.length,1)}catch(r){return console.error("Keyword check error:",r),0}},normalizeResult(e){return!e||typeof e!="object"?this.getDefaultResult("Invalid validation result"):{score:Math.min(Math.max(parseInt(e.score)||0,0),100),breakdown:e.breakdown||e.score_breakdown||{},strengths:Array.isArray(e.strengths)?e.strengths:[],improvements:Array.isArray(e.improvements)?e.improvements:[]}},getDefaultResult(e=null){return{score:50,breakdown:{},strengths:[],improvements:e?[e]:["Please review your submission and try again"]}}},co={async getAllSimulations(){try{const{data:e,error:t}=await qe.from("task_based_simulations").select("*").eq("is_published",!0).eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching simulations:",t),t;return e||[]}catch(e){return console.error("Failed to get simulations:",e),[]}},async getSimulationBySlug(e){try{if(!e)throw new Error("Slug is required");const{data:t,error:r}=await qe.from("task_based_simulations").select("*").eq("slug",e).eq("is_published",!0).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){throw console.error("Error fetching simulation by slug:",t),t}},async getSimulationById(e){try{if(!e)throw new Error("Simulation ID is required");const{data:t,error:r}=await qe.from("task_based_simulations").select("*").eq("id",e).eq("is_published",!0).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){throw console.error("Error fetching simulation by ID:",t),t}},async startSession(e){var t;try{const{data:{user:r}}=await qe.auth.getUser();if(!r)throw new Error("User must be authenticated to start a session");if(!e)throw new Error("Simulation ID is required");const n=await this.getSimulationById(e);if(!n)throw new Error("Simulation not found or not published");const i=await this.getActiveProgress(e,r.id);if(i){const{data:d}=await qe.from("simulation_sessions").select("*").eq("id",i.session_id).single();return{session:d,progress:i}}const{data:a,error:s}=await qe.from("simulation_sessions").insert({user_id:r.id,simulation_id:e,status:"started",simulation_state:{type:"task-based"}}).select().single();if(s)throw console.error("Error creating session:",s),s;const o=((t=n.tasks)==null?void 0:t.length)||0,{data:l,error:c}=await qe.from("task_based_progress").insert({user_id:r.id,simulation_id:e,session_id:a.id,current_task:0,completed_tasks:[],progress_percentage:0,metadata:{total_tasks:o,started_from:"web"}}).select().single();if(c)throw console.error("Error creating progress:",c),await qe.from("simulation_sessions").delete().eq("id",a.id),c;return{session:a,progress:l}}catch(r){throw console.error("Failed to start session:",r),r}},async getActiveProgress(e,t=null){try{const{data:{user:r}}=await qe.auth.getUser(),n=t||(r==null?void 0:r.id);if(!n)return null;const{data:i,error:a}=await qe.from("task_based_progress").select("*").eq("user_id",n).eq("simulation_id",e).is("completed_at",null).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(a&&a.code!=="PGRST116")throw a;return i}catch(r){return console.error("Error getting active progress:",r),null}},async saveTaskSubmission(e,t,r,n){var i,a;try{const{data:{user:s},error:o}=await qe.auth.getUser();if(o)throw console.error(" Auth error:",o),new Error("Authentication error: "+o.message);if(!s)throw console.error(" User not authenticated"),new Error("User must be authenticated to save submissions");if(console.log(` Saving submission for user ${s.id}, simulation ${e}, task ${r}`),!e||!t||!r)throw new Error("simulationId, sessionId, and taskId are required");if(!n||typeof n!="object")throw new Error("taskData must be an object");const l=await this.getSimulationById(e);if(!l)throw new Error("Simulation not found");const c=(i=l.tasks)==null?void 0:i.find(m=>m.id===r);if(!c)throw new Error(`Task ${r} not found in simulation`);let d;try{d=await Fme.validateTask(c,n,l)}catch(m){console.error("Validation error:",m),d={score:0,breakdown:{},strengths:[],improvements:["Validation failed. Please try again."]}}const f={user_id:s.id,simulation_id:e,session_id:t,task_id:r,task_data:n,score:d.score||0,score_breakdown:d.breakdown||{},strengths:d.strengths||[],improvements:d.improvements||[],validation_method:((a=c.validation)==null?void 0:a.method)||"rule-based",metadata:{task_type:c.type,submitted_at:new Date().toISOString()}},{data:p,error:h}=await qe.from("task_submissions").upsert(f,{onConflict:"user_id,simulation_id,session_id,task_id",ignoreDuplicates:!1}).select().single();if(h)throw console.error("Error saving submission:",h),h;return await this.updateProgress(e,t,r,l),p}catch(s){throw console.error("Failed to save task submission:",s),s}},async updateProgress(e,t,r,n=null){var i;try{const{data:{user:a}}=await qe.auth.getUser();if(!a)throw new Error("User must be authenticated");if(!n&&(n=await this.getSimulationById(e),!n))throw new Error("Simulation not found");const{data:s,error:o}=await qe.from("task_based_progress").select("*").eq("user_id",a.id).eq("simulation_id",e).eq("session_id",t).single();if(o){if(o.code==="PGRST116"){const{data:y}=await qe.from("task_based_progress").insert({user_id:a.id,simulation_id:e,session_id:t,current_task:0,completed_tasks:[r],progress_percentage:0}).select().single();return y}throw o}const c=(n.tasks||[]).filter(y=>y.id!=="task0").length,d=[...new Set([...s.completed_tasks||[],r])],f=c>0?Math.round(d.length/c*100):0,p=d.length>=c,h={completed_tasks:d,progress_percentage:f,current_task:p?c-1:s.current_task,last_updated_at:new Date().toISOString()};if(p&&!s.completed_at){console.log(" All tasks completed! Generating final report and marking as complete...");try{const y=await this.generateFinalReport(e,t,n);console.log(` Final report generated. Score: ${y.finalScore}%`),h.final_score=y.finalScore,h.skill_breakdown=y.skillBreakdown,h.resume_snippet=y.resumeSnippet,h.completed_at=new Date().toISOString(),h.progress_percentage=100,console.log(` Setting completed_at to: ${h.completed_at}`);const{error:v}=await qe.from("simulation_sessions").update({status:"completed",completed_at:new Date().toISOString(),final_score:y.finalScore,progress_percentage:100}).eq("id",t);v?console.error(" Error updating session status:",v):console.log(" Session marked as completed")}catch(y){console.error(" Error generating final report:",y),h.completed_at=new Date().toISOString(),h.progress_percentage=100,console.log(" Marking as completed without final report due to error")}}else p&&s.completed_at?console.log(` Already marked as completed at: ${s.completed_at}`):console.log(` Not all tasks complete yet: ${d.length}/${c}`);console.log(" Updating progress with data:",{completed_tasks:((i=h.completed_tasks)==null?void 0:i.length)||0,progress_percentage:h.progress_percentage,completed_at:h.completed_at||"NOT SET",final_score:h.final_score||"NOT SET"});const{data:m,error:g}=await qe.from("task_based_progress").update(h).eq("id",s.id).select().single();if(g)throw console.error(" Error updating progress:",g),console.error("Error details:",{message:g.message,code:g.code,details:g.details,hint:g.hint}),g;return console.log(` Progress updated successfully. Completed: ${m.completed_at?"YES":"NO"}`),m}catch(a){throw console.error("Failed to update progress:",a),a}},async generateFinalReport(e,t,r){try{const{data:{user:n}}=await qe.auth.getUser();if(!n)throw new Error("User must be authenticated");const{data:i,error:a}=await qe.from("task_submissions").select("*").eq("user_id",n.id).eq("simulation_id",e).eq("session_id",t).order("task_id",{ascending:!0});if(a)throw a;if(!i||i.length===0)throw new Error("No submissions found for final report");const s=i.reduce((d,f)=>d+(f.score||0),0),o=Math.round(s/i.length),l=this.calculateSkillBreakdown(i,r),c=this.generateResumeSnippet(r,o,l);return{finalScore:o,skillBreakdown:l,resumeSnippet:c}}catch(n){throw console.error("Error generating final report:",n),n}},calculateSkillBreakdown(e,t){const r=t.skill_mapping||{},n=t.skills_tested||[],i={};n.forEach(s=>{i[s]={score:0,taskCount:0}}),e.forEach(s=>{const o=s.task_id,l=s.score||0,c=[];if(Object.entries(r).forEach(([d,f])=>{Array.isArray(f)&&f.includes(o)&&c.push(d)}),c.length>0){const d=l/c.length;c.forEach(f=>{i[f]&&(i[f].score+=d,i[f].taskCount+=1)})}});const a={};return Object.entries(i).forEach(([s,o])=>{o.taskCount>0?a[s]=Math.round(o.score/o.taskCount):a[s]=0}),a},generateResumeSnippet(e,t,r){var s,o,l;const n=Object.entries(r).sort((c,d)=>d[1]-c[1]).slice(0,3).map(([c])=>c),i=((s=e.company_info)==null?void 0:s.fullName)||((o=e.company_info)==null?void 0:o.name)||"the company",a=e.title;return`Led end-to-end product development for ${i} ${a}, demonstrating expertise in ${n.join(", ")}. Achieved ${t}/100 overall score across ${((l=e.tasks)==null?void 0:l.length)||0} comprehensive tasks including market research, strategic planning, and data analysis.`},async getProgress(e,t){try{const{data:{user:r}}=await qe.auth.getUser();if(!r||!e||!t)return null;const{data:n,error:i}=await qe.from("task_based_progress").select("*").eq("user_id",r.id).eq("simulation_id",e).eq("session_id",t).single();if(i){if(i.code==="PGRST116")return null;throw i}return n}catch(r){return console.error("Error getting progress:",r),null}},async getTaskSubmissions(e,t){try{const{data:{user:r}}=await qe.auth.getUser();if(!r)return[];if(!e||!t)return[];const{data:n,error:i}=await qe.from("task_submissions").select("*").eq("user_id",r.id).eq("simulation_id",e).eq("session_id",t).order("task_id",{ascending:!0});return i?(console.error("Error getting submissions:",i),[]):n||[]}catch(r){return console.error("Error getting task submissions:",r),[]}},async getTaskSubmission(e,t,r){try{const{data:{user:n}}=await qe.auth.getUser();if(!n)return null;const{data:i,error:a}=await qe.from("task_submissions").select("*").eq("user_id",n.id).eq("simulation_id",e).eq("session_id",t).eq("task_id",r).single();if(a){if(a.code==="PGRST116")return null;throw a}return i}catch(n){return console.error("Error getting task submission:",n),null}},async resumeSession(e){try{const{data:{user:t}}=await qe.auth.getUser();if(!t)return null;const r=await this.getActiveProgress(e,t.id);if(!r)return null;const{data:n}=await qe.from("simulation_sessions").select("*").eq("id",r.session_id).single();return{session:n,progress:r}}catch(t){return console.error("Error resuming session:",t),null}}},$me=Object.freeze(Object.defineProperty({__proto__:null,taskBasedService:co},Symbol.toStringTag,{value:"Module"}));function Gt(e){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}var ds=Uint8Array,aa=Uint16Array,JS=Int32Array,ZS=new ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),QS=new ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bE=new ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wM=function(e,t){for(var r=new aa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new JS(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},_M=wM(ZS,2),Ume=_M.b,u5=_M.r;Ume[28]=258,u5[258]=28;var qme=wM(QS,0),xE=qme.r,d5=new aa(32768);for(var hr=0;hr<32768;++hr){var sl=(hr&43690)>>1|(hr&21845)<<1;sl=(sl&52428)>>2|(sl&13107)<<2,sl=(sl&61680)>>4|(sl&3855)<<4,d5[hr]=((sl&65280)>>8|(sl&255)<<8)>>1}var Yh=function(e,t,r){for(var n=e.length,i=0,a=new aa(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new aa(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new aa(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],f=s[e[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[d5[f]>>l]=c}else for(o=new aa(n),i=0;i<n;++i)e[i]&&(o[i]=d5[s[e[i]-1]++]>>15-e[i]);return o},pu=new ds(288);for(var hr=0;hr<144;++hr)pu[hr]=8;for(var hr=144;hr<256;++hr)pu[hr]=9;for(var hr=256;hr<280;++hr)pu[hr]=7;for(var hr=280;hr<288;++hr)pu[hr]=8;var Qv=new ds(32);for(var hr=0;hr<32;++hr)Qv[hr]=5;var zme=Yh(pu,9,0),Wme=Yh(Qv,5,0),NM=function(e){return(e+7)/8|0},Hme=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ds(e.subarray(t,r))},to=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},bh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Ax=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:jM,l:0};if(i==1){var s=new ds(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(N,O){return N.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=d&&r[c].f<r[f].f?c++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new aa(p+1),m=f5(r[d-1],h,0);if(m>t){var n=0,g=0,y=m-t,v=1<<y;for(a.sort(function(O,j){return h[j.s]-h[O.s]||O.f-j.f});n<i;++n){var b=a[n].s;if(h[b]>t)g+=v-(1<<m-h[b]),h[b]=t;else break}for(g>>=y;g>0;){var w=a[n].s;h[w]<t?g-=1<<t-h[w]++-1:++n}for(;n>=0&&g;--n){var x=a[n].s;h[x]==t&&(--h[x],++g)}m=t}return{t:new ds(h),l:m}},f5=function(e,t,r){return e.s==-1?Math.max(f5(e.l,t,r+1),f5(e.r,t,r+1)):t[e.s]=r},wE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new aa(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},xh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},SM=function(e,t,r){var n=r.length,i=NM(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},_E=function(e,t,r,n,i,a,s,o,l,c,d){to(t,d++,r),++i[256];for(var f=Ax(i,15),p=f.t,h=f.l,m=Ax(a,15),g=m.t,y=m.l,v=wE(p),b=v.c,w=v.n,x=wE(g),N=x.c,O=x.n,j=new aa(19),A=0;A<b.length;++A)++j[b[A]&31];for(var A=0;A<N.length;++A)++j[N[A]&31];for(var P=Ax(j,7),C=P.t,k=P.l,E=19;E>4&&!C[bE[E-1]];--E);var I=c+5<<3,M=xh(i,pu)+xh(a,Qv)+s,U=xh(i,p)+xh(a,g)+s+14+3*E+xh(j,C)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&I<=M&&I<=U)return SM(t,d,e.subarray(l,l+c));var Z,Q,K,W;if(to(t,d,1+(U<M)),d+=2,U<M){Z=Yh(p,h,0),Q=p,K=Yh(g,y,0),W=g;var V=Yh(C,k,0);to(t,d,w-257),to(t,d+5,O-1),to(t,d+10,E-4),d+=14;for(var A=0;A<E;++A)to(t,d+3*A,C[bE[A]]);d+=3*E;for(var $=[b,N],R=0;R<2;++R)for(var B=$[R],A=0;A<B.length;++A){var q=B[A]&31;to(t,d,V[q]),d+=C[q],q>15&&(to(t,d,B[A]>>5&127),d+=B[A]>>12)}}else Z=zme,Q=pu,K=Wme,W=Qv;for(var A=0;A<o;++A){var H=n[A];if(H>255){var q=H>>18&31;bh(t,d,Z[q+257]),d+=Q[q+257],q>7&&(to(t,d,H>>23&31),d+=ZS[q]);var z=H&31;bh(t,d,K[z]),d+=W[z],z>3&&(bh(t,d,H>>5&8191),d+=QS[z])}else bh(t,d,Z[H]),d+=Q[H]}return bh(t,d,Z[256]),d+Q[256]},Kme=new JS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jM=new ds(0),Vme=function(e,t,r,n,i,a){var s=a.z||e.length,o=new ds(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,d=(a.r||0)&7;if(t){d&&(l[0]=a.r>>3);for(var f=Kme[t-1],p=f>>13,h=f&8191,m=(1<<r)-1,g=a.p||new aa(32768),y=a.h||new aa(m+1),v=Math.ceil(r/3),b=2*v,w=function(ve){return(e[ve]^e[ve+1]<<v^e[ve+2]<<b)&m},x=new JS(25e3),N=new aa(288),O=new aa(32),j=0,A=0,P=a.i||0,C=0,k=a.w||0,E=0;P+2<s;++P){var I=w(P),M=P&32767,U=y[I];if(g[M]=U,y[I]=M,k<=P){var Z=s-P;if((j>7e3||C>24576)&&(Z>423||!c)){d=_E(e,l,0,x,N,O,A,C,E,P-E,d),C=j=A=0,E=P;for(var Q=0;Q<286;++Q)N[Q]=0;for(var Q=0;Q<30;++Q)O[Q]=0}var K=2,W=0,V=h,$=M-U&32767;if(Z>2&&I==w(P-$))for(var R=Math.min(p,Z)-1,B=Math.min(32767,P),q=Math.min(258,Z);$<=B&&--V&&M!=U;){if(e[P+K]==e[P+K-$]){for(var H=0;H<q&&e[P+H]==e[P+H-$];++H);if(H>K){if(K=H,W=$,H>R)break;for(var z=Math.min($,H-2),J=0,Q=0;Q<z;++Q){var ae=P-$+Q&32767,X=g[ae],le=ae-X&32767;le>J&&(J=le,U=ae)}}}M=U,U=g[M],$+=M-U&32767}if(W){x[C++]=268435456|u5[K]<<18|xE[W];var ge=u5[K]&31,de=xE[W]&31;A+=ZS[ge]+QS[de],++N[257+ge],++O[de],k=P+K,++j}else x[C++]=e[P],++N[e[P]]}}for(P=Math.max(P,k);P<s;++P)x[C++]=e[P],++N[e[P]];d=_E(e,l,c,x,N,O,A,C,E,P-E,d),c||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=y,a.p=g,a.i=P,a.w=k)}else{for(var P=a.w||0;P<s+c;P+=65535){var ke=P+65535;ke>=s&&(l[d/8|0]=c,ke=s),d=SM(l,d+1,e.subarray(P,ke))}a.i=s}return Hme(o,0,n+NM(d)+i)},kM=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Gme=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new ds(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return Vme(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},AM=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Yme=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=kM();i.p(t.dictionary),AM(e,2,i.d())}};function h5(e,t){t||(t={});var r=kM();r.p(e);var n=Gme(e,t,t.dictionary?6:2,4);return Yme(n,t),AM(n,n.length-4,r.d()),n}var Xme=typeof TextDecoder<"u"&&new TextDecoder,Jme=0;try{Xme.decode(jM,{stream:!0}),Jme=1}catch{}function Zme(e){if(Array.isArray(e))return e}function Qme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e0e(e,t){if(e){if(typeof e=="string")return NE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?NE(e,t):void 0}}function t0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SE(e,t){return Zme(e)||Qme(e,t)||e0e(e,t)||t0e()}function jE(e,t="utf8"){return new TextDecoder(t).decode(e)}const r0e=new TextEncoder;function n0e(e){return r0e.encode(e)}const i0e=1024*8,a0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Ex={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ej{constructor(t=i0e,r={}){Ut(this,"buffer");Ut(this,"byteLength");Ut(this,"byteOffset");Ut(this,"length");Ut(this,"offset");Ut(this,"lastWrittenByte");Ut(this,"littleEndian");Ut(this,"_data");Ut(this,"_mark");Ut(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof ej)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Ex[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===a0e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new Ex[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new Ex[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return jE(this.readBytes(t))}decodeText(t=1,r="utf8"){return jE(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(n0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kf(e){let t=e.length;for(;--t>=0;)e[t]=0}const s0e=3,o0e=258,EM=29,l0e=256,c0e=l0e+1+EM,OM=30,u0e=512,d0e=new Array((c0e+2)*2);kf(d0e);const f0e=new Array(OM*2);kf(f0e);const h0e=new Array(u0e);kf(h0e);const p0e=new Array(o0e-s0e+1);kf(p0e);const m0e=new Array(EM);kf(m0e);const g0e=new Array(OM);kf(g0e);const v0e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var p5=v0e;const y0e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},b0e=new Uint32Array(y0e()),x0e=(e,t,r,n)=>{const i=b0e,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Ss=x0e,m5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},PM={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const w0e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _0e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)w0e(r,n)&&(e[n]=r[n])}}return e},N0e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},CM={assign:_0e,flattenChunks:N0e};let TM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TM=!1}const Cp=new Uint8Array(256);for(let e=0;e<256;e++)Cp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Cp[254]=Cp[254]=1;var S0e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const j0e=(e,t)=>{if(t<65534&&e.subarray&&TM)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var k0e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Cp[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return j0e(a,i)},A0e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Cp[e[r]]>t?r:t},g5={string2buf:S0e,buf2string:k0e,utf8border:A0e};function E0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O0e=E0e;const q0=16209,P0e=16191;var C0e=function(t,r){let n,i,a,s,o,l,c,d,f,p,h,m,g,y,v,b,w,x,N,O,j,A,P,C;const k=t.state;n=t.next_in,P=t.input,i=n+(t.avail_in-5),a=t.next_out,C=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=k.dmax,c=k.wsize,d=k.whave,f=k.wnext,p=k.window,h=k.hold,m=k.bits,g=k.lencode,y=k.distcode,v=(1<<k.lenbits)-1,b=(1<<k.distbits)-1;e:do{m<15&&(h+=P[n++]<<m,m+=8,h+=P[n++]<<m,m+=8),w=g[h&v];t:for(;;){if(x=w>>>24,h>>>=x,m-=x,x=w>>>16&255,x===0)C[a++]=w&65535;else if(x&16){N=w&65535,x&=15,x&&(m<x&&(h+=P[n++]<<m,m+=8),N+=h&(1<<x)-1,h>>>=x,m-=x),m<15&&(h+=P[n++]<<m,m+=8,h+=P[n++]<<m,m+=8),w=y[h&b];r:for(;;){if(x=w>>>24,h>>>=x,m-=x,x=w>>>16&255,x&16){if(O=w&65535,x&=15,m<x&&(h+=P[n++]<<m,m+=8,m<x&&(h+=P[n++]<<m,m+=8)),O+=h&(1<<x)-1,O>l){t.msg="invalid distance too far back",k.mode=q0;break e}if(h>>>=x,m-=x,x=a-s,O>x){if(x=O-x,x>d&&k.sane){t.msg="invalid distance too far back",k.mode=q0;break e}if(j=0,A=p,f===0){if(j+=c-x,x<N){N-=x;do C[a++]=p[j++];while(--x);j=a-O,A=C}}else if(f<x){if(j+=c+f-x,x-=f,x<N){N-=x;do C[a++]=p[j++];while(--x);if(j=0,f<N){x=f,N-=x;do C[a++]=p[j++];while(--x);j=a-O,A=C}}}else if(j+=f-x,x<N){N-=x;do C[a++]=p[j++];while(--x);j=a-O,A=C}for(;N>2;)C[a++]=A[j++],C[a++]=A[j++],C[a++]=A[j++],N-=3;N&&(C[a++]=A[j++],N>1&&(C[a++]=A[j++]))}else{j=a-O;do C[a++]=C[j++],C[a++]=C[j++],C[a++]=C[j++],N-=3;while(N>2);N&&(C[a++]=C[j++],N>1&&(C[a++]=C[j++]))}}else if(x&64){t.msg="invalid distance code",k.mode=q0;break e}else{w=y[(w&65535)+(h&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){k.mode=P0e;break e}else{t.msg="invalid literal/length code",k.mode=q0;break e}else{w=g[(w&65535)+(h&(1<<x)-1)];continue t}break}}while(n<i&&a<o);N=m>>3,n-=N,m-=N<<3,h&=(1<<m)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),k.hold=h,k.bits=m};const Zu=15,kE=852,AE=592,EE=0,Ox=1,OE=2,T0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),L0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),I0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),R0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),D0e=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let c=0,d=0,f=0,p=0,h=0,m=0,g=0,y=0,v=0,b=0,w,x,N,O,j,A=null,P;const C=new Uint16Array(Zu+1),k=new Uint16Array(Zu+1);let E=null,I,M,U;for(c=0;c<=Zu;c++)C[c]=0;for(d=0;d<n;d++)C[t[r+d]]++;for(h=l,p=Zu;p>=1&&C[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&C[f]===0;f++);for(h<f&&(h=f),y=1,c=1;c<=Zu;c++)if(y<<=1,y-=C[c],y<0)return-1;if(y>0&&(e===EE||p!==1))return-1;for(k[1]=0,c=1;c<Zu;c++)k[c+1]=k[c]+C[c];for(d=0;d<n;d++)t[r+d]!==0&&(s[k[t[r+d]]++]=d);if(e===EE?(A=E=s,P=20):e===Ox?(A=T0e,E=L0e,P=257):(A=I0e,E=R0e,P=0),b=0,d=0,c=f,j=a,m=h,g=0,N=-1,v=1<<h,O=v-1,e===Ox&&v>kE||e===OE&&v>AE)return 1;for(;;){I=c-g,s[d]+1<P?(M=0,U=s[d]):s[d]>=P?(M=E[s[d]-P],U=A[s[d]-P]):(M=96,U=0),w=1<<c-g,x=1<<m,f=x;do x-=w,i[j+(b>>g)+x]=I<<24|M<<16|U|0;while(x!==0);for(w=1<<c-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--C[c]===0){if(c===p)break;c=t[r+s[d]]}if(c>h&&(b&O)!==N){for(g===0&&(g=h),j+=f,m=c-g,y=1<<m;m+g<p&&(y-=C[m+g],!(y<=0));)m++,y<<=1;if(v+=1<<m,e===Ox&&v>kE||e===OE&&v>AE)return 1;N=b&O,i[N]=h<<24|m<<16|j-a|0}}return b!==0&&(i[j+b]=c-g<<24|64<<16|0),o.bits=h,0};var Xh=D0e;const M0e=0,LM=1,IM=2,{Z_FINISH:PE,Z_BLOCK:B0e,Z_TREES:z0,Z_OK:mu,Z_STREAM_END:F0e,Z_NEED_DICT:$0e,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:RM,Z_MEM_ERROR:DM,Z_BUF_ERROR:U0e,Z_DEFLATED:CE}=PM,P1=16180,TE=16181,LE=16182,IE=16183,RE=16184,DE=16185,ME=16186,BE=16187,FE=16188,$E=16189,ey=16190,ro=16191,Px=16192,UE=16193,Cx=16194,qE=16195,zE=16196,WE=16197,HE=16198,W0=16199,H0=16200,KE=16201,VE=16202,GE=16203,YE=16204,XE=16205,Tx=16206,JE=16207,ZE=16208,mr=16209,MM=16210,BM=16211,q0e=852,z0e=592,W0e=15,H0e=W0e,QE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function K0e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ju=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<P1||t.mode>BM?1:0},FM=e=>{if(ju(e))return Ba;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=P1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(q0e),t.distcode=t.distdyn=new Int32Array(z0e),t.sane=1,t.back=-1,mu},$M=e=>{if(ju(e))return Ba;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,FM(e)},UM=(e,t)=>{let r;if(ju(e))return Ba;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ba:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,$M(e))},qM=(e,t)=>{if(!e)return Ba;const r=new K0e;e.state=r,r.strm=e,r.window=null,r.mode=P1;const n=UM(e,t);return n!==mu&&(e.state=null),n},V0e=e=>qM(e,H0e);let eO=!0,Lx,Ix;const G0e=e=>{if(eO){Lx=new Int32Array(512),Ix=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Xh(LM,e.lens,0,288,Lx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Xh(IM,e.lens,0,32,Ix,0,e.work,{bits:5}),eO=!1}e.lencode=Lx,e.lenbits=9,e.distcode=Ix,e.distbits=5},zM=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Y0e=(e,t)=>{let r,n,i,a,s,o,l,c,d,f,p,h,m,g,y=0,v,b,w,x,N,O,j,A;const P=new Uint8Array(4);let C,k;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ju(e)||!e.output||!e.input&&e.avail_in!==0)return Ba;r=e.state,r.mode===ro&&(r.mode=Px),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,f=o,p=l,A=mu;e:for(;;)switch(r.mode){case P1:if(r.wrap===0){r.mode=Px;break}for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=c&255,P[1]=c>>>8&255,r.check=Ss(r.check,P,2,0),c=0,d=0,r.mode=TE;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=mr;break}if((c&15)!==CE){e.msg="unknown compression method",r.mode=mr;break}if(c>>>=4,d-=4,j=(c&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){e.msg="invalid window size",r.mode=mr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?$E:ro,c=0,d=0;break;case TE:for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==CE){e.msg="unknown compression method",r.mode=mr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=mr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,r.check=Ss(r.check,P,2,0)),c=0,d=0,r.mode=LE;case LE:for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,r.check=Ss(r.check,P,4,0)),c=0,d=0,r.mode=IE;case IE:for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,r.check=Ss(r.check,P,2,0)),c=0,d=0,r.mode=RE;case RE:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,r.check=Ss(r.check,P,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=DE;case DE:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),j)),r.flags&512&&r.wrap&4&&(r.check=Ss(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=ME;case ME:if(r.flags&2048){if(o===0)break e;h=0;do j=n[a+h++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ss(r.check,n,h,a)),o-=h,a+=h,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=BE;case BE:if(r.flags&4096){if(o===0)break e;h=0;do j=n[a+h++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ss(r.check,n,h,a)),o-=h,a+=h,j)break e}else r.head&&(r.head.comment=null);r.mode=FE;case FE:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=mr;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ro;break;case $E:for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}e.adler=r.check=QE(c),c=0,d=0,r.mode=ey;case ey:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=d,$0e;e.adler=r.check=1,r.mode=ro;case ro:if(t===B0e||t===z0)break e;case Px:if(r.last){c>>>=d&7,d-=d&7,r.mode=Tx;break}for(;d<3;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=UE;break;case 1:if(G0e(r),r.mode=W0,t===z0){c>>>=2,d-=2;break e}break;case 2:r.mode=zE;break;case 3:e.msg="invalid block type",r.mode=mr}c>>>=2,d-=2;break;case UE:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=mr;break}if(r.length=c&65535,c=0,d=0,r.mode=Cx,t===z0)break e;case Cx:r.mode=qE;case qE:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=ro;break;case zE:for(;d<14;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=mr;break}r.have=0,r.mode=WE;case WE:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.lens[E[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},A=Xh(M0e,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,A){e.msg="invalid code lengths set",r.mode=mr;break}r.have=0,r.mode=HE;case HE:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(w<16)c>>>=v,d-=v,r.lens[r.have++]=w;else{if(w===16){for(k=v+2;d<k;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c>>>=v,d-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=mr;break}j=r.lens[r.have-1],h=3+(c&3),c>>>=2,d-=2}else if(w===17){for(k=v+3;d<k;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=v,d-=v,j=0,h=3+(c&7),c>>>=3,d-=3}else{for(k=v+7;d<k;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=v,d-=v,j=0,h=11+(c&127),c>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=mr;break}for(;h--;)r.lens[r.have++]=j}}if(r.mode===mr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=mr;break}if(r.lenbits=9,C={bits:r.lenbits},A=Xh(LM,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,A){e.msg="invalid literal/lengths set",r.mode=mr;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},A=Xh(IM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,A){e.msg="invalid distances set",r.mode=mr;break}if(r.mode=W0,t===z0)break e;case W0:r.mode=H0;case H0:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=d,C0e(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,r.mode===ro&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(b&&!(b&240)){for(x=v,N=b,O=w;y=r.lencode[O+((c&(1<<x+N)-1)>>x)],v=y>>>24,b=y>>>16&255,w=y&65535,!(x+v<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=x,d-=x,r.back+=x}if(c>>>=v,d-=v,r.back+=v,r.length=w,b===0){r.mode=XE;break}if(b&32){r.back=-1,r.mode=ro;break}if(b&64){e.msg="invalid literal/length code",r.mode=mr;break}r.extra=b&15,r.mode=KE;case KE:if(r.extra){for(k=r.extra;d<k;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=VE;case VE:for(;y=r.distcode[c&(1<<r.distbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(!(b&240)){for(x=v,N=b,O=w;y=r.distcode[O+((c&(1<<x+N)-1)>>x)],v=y>>>24,b=y>>>16&255,w=y&65535,!(x+v<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=x,d-=x,r.back+=x}if(c>>>=v,d-=v,r.back+=v,b&64){e.msg="invalid distance code",r.mode=mr;break}r.offset=w,r.extra=b&15,r.mode=GE;case GE:if(r.extra){for(k=r.extra;d<k;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=mr;break}r.mode=YE;case YE:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=mr;break}h>r.wnext?(h-=r.wnext,m=r.wsize-h):m=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,m=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[m++];while(--h);r.length===0&&(r.mode=H0);break;case XE:if(l===0)break e;i[s++]=r.length,l--,r.mode=H0;break;case Tx:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[a++]<<d,d+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Ss(r.check,i,p,s-p):p5(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:QE(c))!==r.check){e.msg="incorrect data check",r.mode=mr;break}c=0,d=0}r.mode=JE;case JE:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=mr;break}c=0,d=0}r.mode=ZE;case ZE:A=F0e;break e;case mr:A=RM;break e;case MM:return DM;case BM:default:return Ba}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<mr&&(r.mode<Tx||t!==PE))&&zM(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Ss(r.check,i,p,e.next_out-p):p5(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ro?128:0)+(r.mode===W0||r.mode===Cx?256:0),(f===0&&p===0||t===PE)&&A===mu&&(A=U0e),A},X0e=e=>{if(ju(e))return Ba;let t=e.state;return t.window&&(t.window=null),e.state=null,mu},J0e=(e,t)=>{if(ju(e))return Ba;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,mu):Ba},Z0e=(e,t)=>{const r=t.length;let n,i,a;return ju(e)||(n=e.state,n.wrap!==0&&n.mode!==ey)?Ba:n.mode===ey&&(i=1,i=p5(i,t,r,0),i!==n.check)?RM:(a=zM(e,t,r,r),a?(n.mode=MM,DM):(n.havedict=1,mu))};var Q0e=$M,ege=UM,tge=FM,rge=V0e,nge=qM,ige=Y0e,age=X0e,sge=J0e,oge=Z0e,lge="pako inflate (from Nodeca project)",so={inflateReset:Q0e,inflateReset2:ege,inflateResetKeep:tge,inflateInit:rge,inflateInit2:nge,inflate:ige,inflateEnd:age,inflateGetHeader:sge,inflateSetDictionary:oge,inflateInfo:lge};function cge(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uge=cge;const WM=Object.prototype.toString,{Z_NO_FLUSH:dge,Z_FINISH:fge,Z_OK:Tp,Z_STREAM_END:Rx,Z_NEED_DICT:Dx,Z_STREAM_ERROR:hge,Z_DATA_ERROR:tO,Z_MEM_ERROR:pge}=PM;function dm(e){this.options=CM.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O0e,this.strm.avail_out=0;let r=so.inflateInit2(this.strm,t.windowBits);if(r!==Tp)throw new Error(m5[r]);if(this.header=new uge,so.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=g5.string2buf(t.dictionary):WM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=so.inflateSetDictionary(this.strm,t.dictionary),r!==Tp)))throw new Error(m5[r])}dm.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?fge:dge,WM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=so.inflate(r,s),a===Dx&&i&&(a=so.inflateSetDictionary(r,i),a===Tp?a=so.inflate(r,s):a===tO&&(a=Dx));r.avail_in>0&&a===Rx&&r.state.wrap>0&&e[r.next_in]!==0;)so.inflateReset(r),a=so.inflate(r,s);switch(a){case hge:case tO:case Dx:case pge:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===Rx))if(this.options.to==="string"){let l=g5.utf8border(r.output,r.next_out),c=r.next_out-l,d=g5.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Tp&&o===0)){if(a===Rx)return a=so.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};dm.prototype.onData=function(e){this.chunks.push(e)};dm.prototype.onEnd=function(e){e===Tp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=CM.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mge(e,t){const r=new dm(t);if(r.push(e),r.err)throw r.msg||m5[r.err];return r.result}var gge=dm,vge=mge,yge={Inflate:gge,inflate:vge};const{Inflate:bge,inflate:xge}=yge;var rO=bge,wge=xge;const HM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;HM[e]=t}const nO=4294967295;function _ge(e,t,r){let n=e;for(let i=0;i<r;i++)n=HM[(n^t[i])&255]^n>>>8;return n}function Nge(e,t){return(_ge(nO,e,t)^nO)>>>0}function iO(e,t,r){const n=e.readUint32(),i=Nge(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function KM(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function VM(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function GM(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function YM(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function XM(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Sge(t[a-i],r[a],r[a-i])&255}}function Sge(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function jge(e,t,r,n,i,a){switch(e){case 0:KM(t,r,i);break;case 1:VM(t,r,i,a);break;case 2:GM(t,r,n,i);break;case 3:YM(t,r,n,i,a);break;case 4:XM(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const kge=new Uint16Array([255]),Age=new Uint8Array(kge.buffer),Ege=Age[0]===255;function Oge(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const m=p*o,g=new Uint8Array(m);for(let y=0;y<h;y++){const v=t[c++],b=t.subarray(c,c+m);c+=m;const w=new Uint8Array(m);jge(v,b,w,g,m,o),g.set(w);for(let x=0;x<p;x++){const N=f.x+x*f.xStep,O=f.y+y*f.yStep;if(!(N>=r||O>=n))for(let j=0;j<o;j++)l[(O*r+N)*o+j]=w[x*o+j]}}}if(a===16){const d=new Uint16Array(l.buffer);if(Ege)for(let f=0;f<d.length;f++)d[f]=Pge(d[f]);return d}else return l}function Pge(e){return(e&255)<<8|e>>8&255}const Cge=new Uint16Array([255]),Tge=new Uint8Array(Cge.buffer),Lge=Tge[0]===255,Ige=new Uint8Array(0);function aO(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=Ige,d=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+o),p=l.subarray(h*o,(h+1)*o),t[d]){case 0:KM(f,p,o);break;case 1:VM(f,p,o,s);break;case 2:GM(f,p,c,o);break;case 3:YM(f,p,c,o,s);break;case 4:XM(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=p,d+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(Lge)for(let m=0;m<h.length;m++)h[m]=Rge(h[m]);return h}else return l}function Rge(e){return(e&255)<<8|e>>8&255}const vg=Uint8Array.of(137,80,78,71,13,10,26,10);function sO(e){if(!Dge(e.readBytes(vg.length)))throw new Error("wrong PNG signature")}function Dge(e){if(e.length<vg.length)return!1;for(let t=0;t<vg.length;t++)if(e[t]!==vg[t])return!1;return!0}const Mge="tEXt",Bge=0,JM=new TextDecoder("latin1");function Fge(e){if(Uge(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const $ge=/^[\u0000-\u00FF]*$/;function Uge(e){if(!$ge.test(e))throw new Error("invalid latin1 text")}function qge(e,t,r){const n=ZM(t);e[n]=zge(t,r-n.length-1)}function ZM(e){for(e.mark();e.readByte()!==Bge;);const t=e.offset;e.reset();const r=JM.decode(e.readBytes(t-e.offset-1));return e.skip(1),Fge(r),r}function zge(e,t){return JM.decode(e.readBytes(t))}const Vi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Mx={UNKNOWN:-1,DEFLATE:0},oO={UNKNOWN:-1,ADAPTIVE:0},Bx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},K0={NONE:0,BACKGROUND:1,PREVIOUS:2},Fx={SOURCE:0,OVER:1};class Wge extends ej{constructor(r,n={}){super(r);Ut(this,"_checkCrc");Ut(this,"_inflator");Ut(this,"_png");Ut(this,"_apng");Ut(this,"_end");Ut(this,"_hasPalette");Ut(this,"_palette");Ut(this,"_hasTransparency");Ut(this,"_transparency");Ut(this,"_compressionMethod");Ut(this,"_filterMethod");Ut(this,"_interlaceMethod");Ut(this,"_colorType");Ut(this,"_isAnimated");Ut(this,"_numberOfFrames");Ut(this,"_numberOfPlays");Ut(this,"_frames");Ut(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new rO,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Mx.UNKNOWN,this._filterMethod=oO.UNKNOWN,this._interlaceMethod=Bx.UNKNOWN,this._colorType=Vi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sO(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(sO(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Mge:qge(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iO(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iO(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Hge(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Vi.GREYSCALE:i=1;break;case Vi.TRUECOLOUR:i=3;break;case Vi.INDEXED_COLOUR:i=1;break;case Vi.GREYSCALE_ALPHA:i=2;break;case Vi.TRUECOLOUR_ALPHA:i=4;break;case Vi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Mx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Vi.GREYSCALE:case Vi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Vi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Vi.UNKNOWN:case Vi.GREYSCALE_ALPHA:case Vi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=ZM(this),i=this.readUint8();if(i!==Mx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:wge(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=aO({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case K0.NONE:break;case K0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case K0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Fx.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[c+d]}break;case Fx.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let d=0;d<this._png.channels;d++){const f=n.data[c+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[c+d],h=Math.floor(f*p+(1-f)*r.data[l+d]);r.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==oO.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Bx.NO_INTERLACE)this._png.data=aO({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Bx.ADAM7)this._png.data=Oge({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:K0.NONE,blendOp:Fx.SOURCE,data:r}),this._inflator=new rO,this._writingDataChunks=!1}}function Hge(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var lO;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(lO||(lO={}));function Kge(e,t){return new Wge(e,t).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $x(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var Qt={log:$x,warn:function(e){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):$x.call(null,arguments))},error:function(e){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):$x(e))}};function Ux(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ic(n.response,t,r)},n.onerror=function(){Qt.error("could not download file")},n.send()}function cO(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function V0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ic=yt.saveAs||((typeof window>"u"?"undefined":Gt(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=yt.URL||yt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?cO(i.href)?Ux(e,t,r):V0(i,i.target="_blank"):V0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){V0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(cO(e))Ux(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){V0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Gt(a)!=="object"&&(Qt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ux(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(yt.HTMLElement)||yt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Gt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var yg=yt.atob.bind(yt),uO=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qx(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Zn(r,n,i,a,t[0],7,-680876936),a=Zn(a,r,n,i,t[1],12,-389564586),i=Zn(i,a,r,n,t[2],17,606105819),n=Zn(n,i,a,r,t[3],22,-1044525330),r=Zn(r,n,i,a,t[4],7,-176418897),a=Zn(a,r,n,i,t[5],12,1200080426),i=Zn(i,a,r,n,t[6],17,-1473231341),n=Zn(n,i,a,r,t[7],22,-45705983),r=Zn(r,n,i,a,t[8],7,1770035416),a=Zn(a,r,n,i,t[9],12,-1958414417),i=Zn(i,a,r,n,t[10],17,-42063),n=Zn(n,i,a,r,t[11],22,-1990404162),r=Zn(r,n,i,a,t[12],7,1804603682),a=Zn(a,r,n,i,t[13],12,-40341101),i=Zn(i,a,r,n,t[14],17,-1502002290),r=Qn(r,n=Zn(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Qn(a,r,n,i,t[6],9,-1069501632),i=Qn(i,a,r,n,t[11],14,643717713),n=Qn(n,i,a,r,t[0],20,-373897302),r=Qn(r,n,i,a,t[5],5,-701558691),a=Qn(a,r,n,i,t[10],9,38016083),i=Qn(i,a,r,n,t[15],14,-660478335),n=Qn(n,i,a,r,t[4],20,-405537848),r=Qn(r,n,i,a,t[9],5,568446438),a=Qn(a,r,n,i,t[14],9,-1019803690),i=Qn(i,a,r,n,t[3],14,-187363961),n=Qn(n,i,a,r,t[8],20,1163531501),r=Qn(r,n,i,a,t[13],5,-1444681467),a=Qn(a,r,n,i,t[2],9,-51403784),i=Qn(i,a,r,n,t[7],14,1735328473),r=ei(r,n=Qn(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ei(a,r,n,i,t[8],11,-2022574463),i=ei(i,a,r,n,t[11],16,1839030562),n=ei(n,i,a,r,t[14],23,-35309556),r=ei(r,n,i,a,t[1],4,-1530992060),a=ei(a,r,n,i,t[4],11,1272893353),i=ei(i,a,r,n,t[7],16,-155497632),n=ei(n,i,a,r,t[10],23,-1094730640),r=ei(r,n,i,a,t[13],4,681279174),a=ei(a,r,n,i,t[0],11,-358537222),i=ei(i,a,r,n,t[3],16,-722521979),n=ei(n,i,a,r,t[6],23,76029189),r=ei(r,n,i,a,t[9],4,-640364487),a=ei(a,r,n,i,t[12],11,-421815835),i=ei(i,a,r,n,t[15],16,530742520),r=ti(r,n=ei(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ti(a,r,n,i,t[7],10,1126891415),i=ti(i,a,r,n,t[14],15,-1416354905),n=ti(n,i,a,r,t[5],21,-57434055),r=ti(r,n,i,a,t[12],6,1700485571),a=ti(a,r,n,i,t[3],10,-1894986606),i=ti(i,a,r,n,t[10],15,-1051523),n=ti(n,i,a,r,t[1],21,-2054922799),r=ti(r,n,i,a,t[8],6,1873313359),a=ti(a,r,n,i,t[15],10,-30611744),i=ti(i,a,r,n,t[6],15,-1560198380),n=ti(n,i,a,r,t[13],21,1309151649),r=ti(r,n,i,a,t[4],6,-145523070),a=ti(a,r,n,i,t[11],10,-1120210379),i=ti(i,a,r,n,t[2],15,718787259),n=ti(n,i,a,r,t[9],21,-343485551),e[0]=Nl(r,e[0]),e[1]=Nl(n,e[1]),e[2]=Nl(i,e[2]),e[3]=Nl(a,e[3])}function C1(e,t,r,n,i,a){return t=Nl(Nl(t,e),Nl(n,a)),Nl(t<<i|t>>>32-i,r)}function Zn(e,t,r,n,i,a,s){return C1(t&r|~t&n,e,t,i,a,s)}function Qn(e,t,r,n,i,a,s){return C1(t&n|r&~n,e,t,i,a,s)}function ei(e,t,r,n,i,a,s){return C1(t^r^n,e,t,i,a,s)}function ti(e,t,r,n,i,a,s){return C1(r^(t|~n),e,t,i,a,s)}function e9(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qx(n,Vge(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(qx(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,qx(n,i),n}function Vge(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var dO="0123456789abcdef".split("");function Gge(e){for(var t="",r=0;r<4;r++)t+=dO[e>>8*r+4&15]+dO[e>>8*r&15];return t}function Yge(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function v5(e){return e9(e).map(Yge).join("")}var Xge=function(e){for(var t=0;t<e.length;t++)e[t]=Gge(e[t]);return e.join("")}(e9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nl(e,t){if(Xge){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function y5(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,n=o}else o=n;var f=t.length,p=0,h=0,m="";for(l=0;l<f;l++)h=(h+(d=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=d,s=o[(o[p]+o[h])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fO={print:4,modify:8,copy:16,"annot-forms":32};function id(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(fO.perm!==void 0)throw new Error("Invalid permission: "+o);i+=fO[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=v5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=y5(this.encryptionKey,this.padding)}function ad(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function hO(e){if(Gt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){yt.console&&Qt.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ty(e){if(!(this instanceof ty))return new ty(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function t9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Mc(e,t,r,n,i){if(!(this instanceof Mc))return new Mc(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,t9.call(this,n,i)}function wd(e,t,r,n,i){if(!(this instanceof wd))return new wd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,t9.call(this,n,i)}function lt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",d=null;Gt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=hO;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(L){m=L};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var v=h.__private__.getPageFormat=function(L){return y[L]};i=i||"a4";var b="compat",w="advanced",x=b;function N(){this.saveGraphicsState(),ie(new pt(ze,0,0,-ze,0,cc()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),c="n",x=w}function O(){this.restoreGraphicsState(),c="S",x=b}var j=h.__private__.combineFontStyleAndFontWeight=function(L,G){if(L=="bold"&&G=="normal"||L=="bold"&&G==400||L=="normal"&&G=="italic"||L=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(L=G==400||G==="normal"?L==="italic"?"italic":"normal":G!=700&&G!=="bold"||L!=="normal"?(G==700?"bold":G)+""+L:"bold"),L};h.advancedAPI=function(L){var G=x===b;return G&&N.call(this),typeof L!="function"||(L(this),G&&O.call(this)),this},h.compatAPI=function(L){var G=x===w;return G&&O.call(this),typeof L!="function"||(L(this),G&&N.call(this)),this},h.isAdvancedAPI=function(){return x===w};var A,P=function(L){if(x!==w)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(L,G){var ce=t||G;if(isNaN(L)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ce).replace(/0+$/,"")};A=h.hpf=h.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return C(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return C(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return C(L,16)};var k=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return C(L,2)},E=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return C(L,3)},I=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return x===b?L*ze:x===w?L:void 0},M=function(L){return I(function(G){return x===b?cc()-G:x===w?G:void 0}(L))};h.__private__.setPrecision=h.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var U,Z="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return Z},K=h.__private__.setFileId=function(L){return Z=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Br=new id(d.userPermissions,d.userPassword,d.ownerPassword,Z)),Z};h.setFileId=function(L){return K(L),this},h.getFileId=function(){return Q()};var W=h.__private__.convertDateToPDFDate=function(L){var G=L.getTimezoneOffset(),ce=G<0?"+":"-",ue=Math.floor(Math.abs(G/60)),we=Math.abs(G%60),Oe=[ce,q(ue),"'",q(we),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),Oe].join("")},V=h.__private__.convertPDFDateToDate=function(L){var G=parseInt(L.substr(2,4),10),ce=parseInt(L.substr(6,2),10)-1,ue=parseInt(L.substr(8,2),10),we=parseInt(L.substr(10,2),10),Oe=parseInt(L.substr(12,2),10),Le=parseInt(L.substr(14,2),10);return new Date(G,ce,ue,we,Oe,Le,0)},$=h.__private__.setCreationDate=function(L){var G;if(L===void 0&&(L=new Date),L instanceof Date)G=W(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=L}return U=G},R=h.__private__.getCreationDate=function(L){var G=U;return L==="jsDate"&&(G=V(U)),G};h.setCreationDate=function(L){return $(L),this},h.getCreationDate=function(L){return R(L)};var B,q=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},H=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},z=0,J=[],ae=[],X=0,le=[],ge=[],de=!1,ke=ae;h.__private__.setCustomOutputDestination=function(L){de=!0,ke=L};var ve=function(L){de||(ke=L)};h.__private__.resetCustomOutputDestination=function(){de=!1,ke=ae};var ie=h.__private__.out=function(L){return L=L.toString(),X+=L.length+1,ke.push(L),ke},We=h.__private__.write=function(L){return ie(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(L){for(var G=L.length,ce=new ArrayBuffer(G),ue=new Uint8Array(ce);G--;)ue[G]=L.charCodeAt(G);return ce},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return xe};var fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return fe=x===w?L/ze:L,this};var he,pe=h.__private__.getFontSize=h.getFontSize=function(){return x===b?fe:fe*ze},be=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return be=L,this},h.__private__.getR2L=h.getR2L=function(){return be};var Ce,Me=h.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))he=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');he=L}else he=parseInt(L,10)};h.__private__.getZoomMode=function(){return he};var Ie,He=h.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ce=L};h.__private__.getPageMode=function(){return Ce};var Ze=h.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Ie=L};h.__private__.getLayoutMode=function(){return Ie},h.__private__.setDisplayMode=h.setDisplayMode=function(L,G,ce){return Me(L),Ze(G),He(ce),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(Object.keys($e).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[L]},h.__private__.getDocumentProperties=function(){return $e},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var G in $e)$e.hasOwnProperty(G)&&L[G]&&($e[G]=L[G]);return this},h.__private__.setDocumentProperty=function(L,G){if(Object.keys($e).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[L]=G};var Ve,ze,Ke,ct,ht,Ge={},ft={},Dt=[],dt={},Ot={},bt={},lr={},cn=null,Xt=0,wt=[],zt=new hO(h),Jl=e.hotfixes||[],Kn={},Us={},ms=[],pt=function L(G,ce,ue,we,Oe,Le){if(!(this instanceof L))return new L(G,ce,ue,we,Oe,Le);isNaN(G)&&(G=1),isNaN(ce)&&(ce=0),isNaN(ue)&&(ue=0),isNaN(we)&&(we=1),isNaN(Oe)&&(Oe=0),isNaN(Le)&&(Le=0),this._matrix=[G,ce,ue,we,Oe,Le]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(L)},pt.prototype.multiply=function(L){var G=L.sx*this.sx+L.shy*this.shx,ce=L.sx*this.shy+L.shy*this.sy,ue=L.shx*this.sx+L.sy*this.shx,we=L.shx*this.shy+L.sy*this.sy,Oe=L.tx*this.sx+L.ty*this.shx+this.tx,Le=L.tx*this.shy+L.ty*this.sy+this.ty;return new pt(G,ce,ue,we,Oe,Le)},pt.prototype.decompose=function(){var L=this.sx,G=this.shy,ce=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Le=Math.sqrt(L*L+G*G),et=(L/=Le)*ce+(G/=Le)*ue;ce-=L*et,ue-=G*et;var st=Math.sqrt(ce*ce+ue*ue);return et/=st,L*(ue/=st)<G*(ce/=st)&&(L=-L,G=-G,et=-et,Le=-Le),{scale:new pt(Le,0,0,st,0,0),translate:new pt(1,0,0,1,we,Oe),rotate:new pt(L,G,-G,L,0,0),skew:new pt(1,0,et,1,0,0)}},pt.prototype.toString=function(L){return this.join(" ")},pt.prototype.inversed=function(){var L=this.sx,G=this.shy,ce=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Le=1/(L*ue-G*ce),et=ue*Le,st=-G*Le,xt=-ce*Le,Nt=L*Le;return new pt(et,st,xt,Nt,-et*we-xt*Oe,-st*we-Nt*Oe)},pt.prototype.applyToPoint=function(L){var G=L.x*this.sx+L.y*this.shx+this.tx,ce=L.x*this.shy+L.y*this.sy+this.ty;return new oc(G,ce)},pt.prototype.applyToRectangle=function(L){var G=this.applyToPoint(L),ce=this.applyToPoint(new oc(L.x+L.w,L.y+L.h));return new Mf(G.x,G.y,ce.x-G.x,ce.y-G.y)},pt.prototype.clone=function(){var L=this.sx,G=this.shy,ce=this.shx,ue=this.sy,we=this.tx,Oe=this.ty;return new pt(L,G,ce,ue,we,Oe)},h.Matrix=pt;var qs=h.matrixMult=function(L,G){return G.multiply(L)},zs=new pt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=zs;var pa=function(L,G){if(!Ot[L]){var ce=(G instanceof Mc?"Sh":"P")+(Object.keys(dt).length+1).toString(10);G.id=ce,Ot[L]=ce,dt[ce]=G,zt.publish("addPattern",G)}};h.ShadingPattern=Mc,h.TilingPattern=wd,h.addShadingPattern=function(L,G){return P("addShadingPattern()"),pa(L,G),this},h.beginTilingPattern=function(L){P("beginTilingPattern()"),Bf(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,G){P("endTilingPattern()"),G.stream=ge[B].join(`
`),pa(L,G),zt.publish("endTilingPattern",G),ms.pop().restore()};var ma,Cr=h.__private__.newObject=function(){var L=kn();return Rn(L,!0),L},kn=h.__private__.newObjectDeferred=function(){return z++,J[z]=function(){return X},z},Rn=function(L,G){return G=typeof G=="boolean"&&G,J[L]=X,G&&ie(L+" 0 obj"),L},Zl=h.__private__.newAdditionalObject=function(){var L={objId:kn(),content:""};return le.push(L),L},Uo=kn(),Ua=kn(),gs=h.__private__.decodeColorString=function(L){var G=L.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var ce=parseFloat(G[0]);G=[ce,ce,ce,"r"]}for(var ue="#",we=0;we<3;we++)ue+=("0"+Math.floor(255*parseFloat(G[we])).toString(16)).slice(-2);return ue},qa=h.__private__.encodeColorString=function(L){var G;typeof L=="string"&&(L={ch1:L});var ce=L.ch1,ue=L.ch2,we=L.ch3,Oe=L.ch4,Le=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var et=new QM(ce);if(et.ok)ce=et.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var st=parseInt(ce.substr(1),16);ce=st>>16&255,ue=st>>8&255,we=255&st}if(ue===void 0||Oe===void 0&&ce===ue&&ue===we)G=typeof ce=="string"?ce+" "+Le[0]:L.precision===2?k(ce/255)+" "+Le[0]:E(ce/255)+" "+Le[0];else if(Oe===void 0||Gt(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Le[1]].join(" ");G=typeof ce=="string"?[ce,ue,we,Le[1]].join(" "):L.precision===2?[k(ce/255),k(ue/255),k(we/255),Le[1]].join(" "):[E(ce/255),E(ue/255),E(we/255),Le[1]].join(" ")}else G=typeof ce=="string"?[ce,ue,we,Oe,Le[2]].join(" "):L.precision===2?[k(ce),k(ue),k(we),k(Oe),Le[2]].join(" "):[E(ce),E(ue),E(we),E(Oe),Le[2]].join(" ");return G},za=h.__private__.getFilters=function(){return s},ga=h.__private__.putStream=function(L){var G=(L=L||{}).data||"",ce=L.filters||za(),ue=L.alreadyAppliedFilters||[],we=L.addLength1||!1,Oe=G.length,Le=L.objectId,et=function(un){return un};if(d!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(et=Br.encryptor(Le,0));var st={};ce===!0&&(ce=["FlateEncode"]);var xt=L.additionalKeyValues||[],Nt=(st=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(G,ce):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(st.data.length!==0&&(xt.push({key:"Length",value:st.data.length}),we===!0&&xt.push({key:"Length1",value:Oe})),Nt.length!=0)if(Nt.split("/").length-1==1)xt.push({key:"Filter",value:Nt});else{xt.push({key:"Filter",value:"["+Nt+"]"});for(var $t=0;$t<xt.length;$t+=1)if(xt[$t].key==="DecodeParms"){for(var Sr=[],Xr=0;Xr<st.reverseChain.split("/").length-1;Xr+=1)Sr.push("null");Sr.push(xt[$t].value),xt[$t].value="["+Sr.join(" ")+"]"}}ie("<<");for(var rr=0;rr<xt.length;rr++)ie("/"+xt[rr].key+" "+xt[rr].value);ie(">>"),st.data.length!==0&&(ie("stream"),ie(et(st.data)),ie("endstream"))},Ql=h.__private__.putPage=function(L){var G=L.number,ce=L.data,ue=L.objId,we=L.contentsObjId;Rn(ue,!0),ie("<</Type /Page"),ie("/Parent "+L.rootDictionaryObjId+" 0 R"),ie("/Resources "+L.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(A(L.mediaBox.bottomLeftX))+" "+parseFloat(A(L.mediaBox.bottomLeftY))+" "+A(L.mediaBox.topRightX)+" "+A(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ie("/CropBox ["+A(L.cropBox.bottomLeftX)+" "+A(L.cropBox.bottomLeftY)+" "+A(L.cropBox.topRightX)+" "+A(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ie("/BleedBox ["+A(L.bleedBox.bottomLeftX)+" "+A(L.bleedBox.bottomLeftY)+" "+A(L.bleedBox.topRightX)+" "+A(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ie("/TrimBox ["+A(L.trimBox.bottomLeftX)+" "+A(L.trimBox.bottomLeftY)+" "+A(L.trimBox.topRightX)+" "+A(L.trimBox.topRightY)+"]"),L.artBox!==null&&ie("/ArtBox ["+A(L.artBox.bottomLeftX)+" "+A(L.artBox.bottomLeftY)+" "+A(L.artBox.topRightX)+" "+A(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ie("/UserUnit "+L.userUnit),zt.publish("putPage",{objId:ue,pageContext:wt[G],pageNumber:G,page:ce}),ie("/Contents "+we+" 0 R"),ie(">>"),ie("endobj");var Oe=ce.join(`
`);return x===w&&(Oe+=`
Q`),Rn(we,!0),ga({data:Oe,filters:za(),objectId:we}),ie("endobj"),ue},vs=h.__private__.putPages=function(){var L,G,ce=[];for(L=1;L<=Xt;L++)wt[L].objId=kn(),wt[L].contentsObjId=kn();for(L=1;L<=Xt;L++)ce.push(Ql({number:L,data:ge[L],objId:wt[L].objId,contentsObjId:wt[L].contentsObjId,mediaBox:wt[L].mediaBox,cropBox:wt[L].cropBox,bleedBox:wt[L].bleedBox,trimBox:wt[L].trimBox,artBox:wt[L].artBox,userUnit:wt[L].userUnit,rootDictionaryObjId:Uo,resourceDictionaryObjId:Ua}));Rn(Uo,!0),ie("<</Type /Pages");var ue="/Kids [";for(G=0;G<Xt;G++)ue+=ce[G]+" 0 R ";ie(ue+"]"),ie("/Count "+Xt),ie(">>"),ie("endobj"),zt.publish("postPutPages")},ec=function(L){zt.publish("putFont",{font:L,out:ie,newObject:Cr,putStream:ga}),L.isAlreadyPutted!==!0&&(L.objectNumber=Cr(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+ad(L.postScriptName)),ie("/Subtype /Type1"),typeof L.encoding=="string"&&ie("/Encoding /"+L.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Au=function(L){L.objectNumber=Cr();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[A(L.x),A(L.y),A(L.x+L.width),A(L.y+L.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ce=L.pages[1].join(`
`);ga({data:ce,additionalKeyValues:G,objectId:L.objectNumber}),ie("endobj")},Eu=function(L,G){G||(G=21);var ce=Cr(),ue=function(Le,et){var st,xt=[],Nt=1/(et-1);for(st=0;st<1;st+=Nt)xt.push(st);if(xt.push(1),Le[0].offset!=0){var $t={offset:0,color:Le[0].color};Le.unshift($t)}if(Le[Le.length-1].offset!=1){var Sr={offset:1,color:Le[Le.length-1].color};Le.push(Sr)}for(var Xr="",rr=0,un=0;un<xt.length;un++){for(st=xt[un];st>Le[rr+1].offset;)rr++;var Jr=Le[rr].offset,Dn=(st-Jr)/(Le[rr+1].offset-Jr),ya=Le[rr].color,Ni=Le[rr+1].color;Xr+=H(Math.round((1-Dn)*ya[0]+Dn*Ni[0]).toString(16))+H(Math.round((1-Dn)*ya[1]+Dn*Ni[1]).toString(16))+H(Math.round((1-Dn)*ya[2]+Dn*Ni[2]).toString(16))}return Xr.trim()}(L.colors,G),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+G+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ga({data:ue,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),ie("endobj"),L.objectNumber=Cr(),ie("<< /ShadingType "+L.type),ie("/ColorSpace /DeviceRGB");var Oe="/Coords ["+A(parseFloat(L.coords[0]))+" "+A(parseFloat(L.coords[1]))+" ";L.type===2?Oe+=A(parseFloat(L.coords[2]))+" "+A(parseFloat(L.coords[3])):Oe+=A(parseFloat(L.coords[2]))+" "+A(parseFloat(L.coords[3]))+" "+A(parseFloat(L.coords[4]))+" "+A(parseFloat(L.coords[5])),ie(Oe+="]"),L.matrix&&ie("/Matrix ["+L.matrix.toString()+"]"),ie("/Function "+ce+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Ou=function(L,G){var ce=kn(),ue=Cr();G.push({resourcesOid:ce,objectOid:ue}),L.objectNumber=ue;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+L.boundingBox.map(A).join(" ")+"]"}),we.push({key:"XStep",value:A(L.xStep)}),we.push({key:"YStep",value:A(L.yStep)}),we.push({key:"Resources",value:ce+" 0 R"}),L.matrix&&we.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),ga({data:L.stream,additionalKeyValues:we,objectId:L.objectNumber}),ie("endobj")},T1=function(L){for(var G in L.objectNumber=Cr(),ie("<<"),L)switch(G){case"opacity":ie("/ca "+k(L[G]));break;case"stroke-opacity":ie("/CA "+k(L[G]))}ie(">>"),ie("endobj")},Af=function(L){Rn(L.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var G in ie("/Font <<"),Ge)Ge.hasOwnProperty(G)&&(f===!1||f===!0&&p.hasOwnProperty(G))&&ie("/"+G+" "+Ge[G].objectNumber+" 0 R");ie(">>")}(),function(){if(Object.keys(dt).length>0){for(var G in ie("/Shading <<"),dt)dt.hasOwnProperty(G)&&dt[G]instanceof Mc&&dt[G].objectNumber>=0&&ie("/"+G+" "+dt[G].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),ie(">>")}}(),function(G){if(Object.keys(dt).length>0){for(var ce in ie("/Pattern <<"),dt)dt.hasOwnProperty(ce)&&dt[ce]instanceof h.TilingPattern&&dt[ce].objectNumber>=0&&dt[ce].objectNumber<G&&ie("/"+ce+" "+dt[ce].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),ie(">>")}}(L.objectOid),function(){if(Object.keys(bt).length>0){var G;for(G in ie("/ExtGState <<"),bt)bt.hasOwnProperty(G)&&bt[G].objectNumber>=0&&ie("/"+G+" "+bt[G].objectNumber+" 0 R");zt.publish("putGStateDict"),ie(">>")}}(),function(){for(var G in ie("/XObject <<"),Kn)Kn.hasOwnProperty(G)&&Kn[G].objectNumber>=0&&ie("/"+G+" "+Kn[G].objectNumber+" 0 R");zt.publish("putXobjectDict"),ie(">>")}(),ie(">>"),ie("endobj")},fm=function(L){ft[L.fontName]=ft[L.fontName]||{},ft[L.fontName][L.fontStyle]=L.id},hm=function(L,G,ce,ue,we){var Oe={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:L,fontName:G,fontStyle:ce,encoding:ue,isStandardFont:we||!1,metadata:{}};return zt.publish("addFont",{font:Oe,instance:this}),Ge[Oe.id]=Oe,fm(Oe),Oe.id},va=h.__private__.pdfEscape=h.pdfEscape=function(L,G){return function(ce,ue){var we,Oe,Le,et,st,xt,Nt,$t,Sr;if(Le=(ue=ue||{}).sourceEncoding||"Unicode",st=ue.outputEncoding,(ue.autoencode||st)&&Ge[Ve].metadata&&Ge[Ve].metadata[Le]&&Ge[Ve].metadata[Le].encoding&&(et=Ge[Ve].metadata[Le].encoding,!st&&Ge[Ve].encoding&&(st=Ge[Ve].encoding),!st&&et.codePages&&(st=et.codePages[0]),typeof st=="string"&&(st=et[st]),st)){for(Nt=!1,xt=[],we=0,Oe=ce.length;we<Oe;we++)($t=st[ce.charCodeAt(we)])?xt.push(String.fromCharCode($t)):xt.push(ce[we]),xt[we].charCodeAt(0)>>8&&(Nt=!0);ce=xt.join("")}for(we=ce.length;Nt===void 0&&we!==0;)ce.charCodeAt(we-1)>>8&&(Nt=!0),we--;if(!Nt)return ce;for(xt=ue.noBOM?[]:[254,255],we=0,Oe=ce.length;we<Oe;we++){if((Sr=($t=ce.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(Sr),xt.push($t-(Sr<<8))}return String.fromCharCode.apply(void 0,xt)}(L,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ef=h.__private__.beginPage=function(L){ge[++Xt]=[],wt[Xt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},mm(Xt),ve(ge[B])},pm=function(L,G){var ce,ue,we;switch(r=G||r,typeof L=="string"&&(ce=v(L.toLowerCase()),Array.isArray(ce)&&(ue=ce[0],we=ce[1])),Array.isArray(L)&&(ue=L[0]*ze,we=L[1]*ze),isNaN(ue)&&(ue=i[0],we=i[1]),(ue>14400||we>14400)&&(Qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),we=Math.min(14400,we)),i=[ue,we],r.substr(0,1)){case"l":we>ue&&(i=[we,ue]);break;case"p":ue>we&&(i=[we,ue])}Ef(i),U1(Lf),ie(Cu),Rf!==0&&ie(Rf+" J"),Df!==0&&ie(Df+" j"),zt.publish("addPage",{pageNumber:Xt})},Of=function(L){L>0&&L<=Xt&&(ge.splice(L,1),wt.splice(L,1),Xt--,B>Xt&&(B=Xt),this.setPage(B))},mm=function(L){L>0&&L<=Xt&&(B=L)},gm=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ge.length-1},vm=function(L,G,ce){var ue,we=void 0;return ce=ce||{},L=L!==void 0?L:Ge[Ve].fontName,G=G!==void 0?G:Ge[Ve].fontStyle,ue=L.toLowerCase(),ft[ue]!==void 0&&ft[ue][G]!==void 0?we=ft[ue][G]:ft[L]!==void 0&&ft[L][G]!==void 0?we=ft[L][G]:ce.disableWarning===!1&&Qt.warn("Unable to look up font label for font '"+L+"', '"+G+"'. Refer to getFontList() for available fonts."),we||ce.noFallback||(we=ft.times[G])==null&&(we=ft.times.normal),we},Pu=h.__private__.putInfo=function(){var L=Cr(),G=function(ue){return ue};for(var ce in d!==null&&(G=Br.encryptor(L,0)),ie("<<"),ie("/Producer ("+va(G("jsPDF "+lt.version))+")"),$e)$e.hasOwnProperty(ce)&&$e[ce]&&ie("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+va(G($e[ce]))+")");ie("/CreationDate ("+va(G(U))+")"),ie(">>"),ie("endobj")},L1=h.__private__.putCatalog=function(L){var G=(L=L||{}).rootDictionaryObjId||Uo;switch(Cr(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+G+" 0 R"),he||(he="fullwidth"),he){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+he;ce.substr(ce.length-1)==="%"&&(he=parseInt(he)/100),typeof he=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+k(he)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Ce&&ie("/PageMode /"+Ce),zt.publish("putCatalog"),ie(">>"),ie("endobj")},Yr=h.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(z+1)),ie("/Root "+z+" 0 R"),ie("/Info "+(z-1)+" 0 R"),d!==null&&ie("/Encrypt "+Br.oid+" 0 R"),ie("/ID [ <"+Z+"> <"+Z+"> ]"),ie(">>")},ym=h.__private__.putHeader=function(){ie("%PDF-"+m),ie("%")},bm=h.__private__.putXRef=function(){var L="0000000000";ie("xref"),ie("0 "+(z+1)),ie("0000000000 65535 f ");for(var G=1;G<=z;G++)typeof J[G]=="function"?ie((L+J[G]()).slice(-10)+" 00000 n "):J[G]!==void 0?ie((L+J[G]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Ws=h.__private__.buildDocument=function(){var L;z=0,X=0,ae=[],J=[],le=[],Uo=kn(),Ua=kn(),ve(ae),zt.publish("buildDocument"),ym(),vs(),function(){zt.publish("putAdditionalObjects");for(var ce=0;ce<le.length;ce++){var ue=le[ce];Rn(ue.objId,!0),ie(ue.content),ie("endobj")}zt.publish("postPutAdditionalObjects")}(),L=[],function(){for(var ce in Ge)Ge.hasOwnProperty(ce)&&(f===!1||f===!0&&p.hasOwnProperty(ce))&&ec(Ge[ce])}(),function(){var ce;for(ce in bt)bt.hasOwnProperty(ce)&&T1(bt[ce])}(),function(){for(var ce in Kn)Kn.hasOwnProperty(ce)&&Au(Kn[ce])}(),function(ce){var ue;for(ue in dt)dt.hasOwnProperty(ue)&&(dt[ue]instanceof Mc?Eu(dt[ue]):dt[ue]instanceof wd&&Ou(dt[ue],ce))}(L),zt.publish("putResources"),L.forEach(Af),Af({resourcesOid:Ua,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources"),d!==null&&(Br.oid=Cr(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Br.v),ie("/R "+Br.r),ie("/U <"+Br.toHexString(Br.U)+">"),ie("/O <"+Br.toHexString(Br.O)+">"),ie("/P "+Br.P),ie(">>"),ie("endobj")),Pu(),L1();var G=X;return bm(),Yr(),ie("startxref"),ie(""+G),ie("%%EOF"),ve(ge[B]),ae.join(`
`)},tc=h.__private__.getBlob=function(L){return new Blob([Be(L)],{type:"application/pdf"})},Wa=h.output=h.__private__.output=(ma=function(L,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",L){case void 0:return Ws();case"save":h.save(G.filename);break;case"arraybuffer":return Be(Ws());case"blob":return tc(Ws());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(tc(Ws()))||void 0;Qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ue=Ws();try{ce=uO(ue)}catch{ce=uO(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+G.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(we=G.pdfObjectUrl,Oe="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",et=yt.open();return et!==null&&et.document.write(Le),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',xt=yt.open();if(xt!==null){xt.document.write(st);var Nt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=G.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Sr=yt.open();if(Sr!==null&&(Sr.document.write($t),Sr.document.title=G.filename),Sr||typeof safari>"u")return Sr;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",G);default:return null}},ma.foo=function(){try{return ma.apply(this,arguments)}catch(ce){var L=ce.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var G="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ce.message;if(!yt.console)throw new Error(G);yt.console.error(G,ce),yt.alert&&alert(G)}},ma.foo.bar=ma,ma.foo),rc=function(L){return Array.isArray(Jl)===!0&&Jl.indexOf(L)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=rc("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var Br=null;$(),K();var Pf=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[L].objId,pageNumber:L,pageContext:wt[L]}},I1=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in wt)if(wt[G].objId===L)break;return Pf(G)},R1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:wt[B].objId,pageNumber:B,pageContext:wt[B]}};h.addPage=function(){return pm.apply(this,arguments),this},h.setPage=function(){return mm.apply(this,arguments),ve.call(this,ge[B]),this},h.insertPage=function(L){return this.addPage(),this.movePage(B,L),this},h.movePage=function(L,G){var ce,ue;if(L>G){ce=ge[L],ue=wt[L];for(var we=L;we>G;we--)ge[we]=ge[we-1],wt[we]=wt[we-1];ge[G]=ce,wt[G]=ue,this.setPage(G)}else if(L<G){ce=ge[L],ue=wt[L];for(var Oe=L;Oe<G;Oe++)ge[Oe]=ge[Oe+1],wt[Oe]=wt[Oe+1];ge[G]=ce,wt[G]=ue,this.setPage(G)}return this},h.deletePage=function(){return Of.apply(this,arguments),this},h.__private__.text=h.text=function(L,G,ce,ue,we){var Oe,Le,et,st,xt,Nt,$t,Sr,Xr,rr=(ue=ue||{}).scope||this;if(typeof L=="number"&&typeof G=="number"&&(typeof ce=="string"||Array.isArray(ce))){var un=ce;ce=G,G=L,L=un}if(arguments[3]instanceof pt==0?(et=arguments[4],st=arguments[5],Gt($t=arguments[3])==="object"&&$t!==null||(typeof et=="string"&&(st=et,et=null),typeof $t=="string"&&(st=$t,$t=null),typeof $t=="number"&&(et=$t,$t=null),ue={flags:$t,angle:et,align:st})):(P("The transform parameter of text() with a Matrix value"),Xr=we),isNaN(G)||isNaN(ce)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return rr;var Jr,Dn="",ya=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:ic,Ni=rr.internal.scaleFactor;function Am(Wt){return Wt=Wt.split("	").join(Array(ue.TabLen||9).join(" ")),va(Wt,$t)}function Ru(Wt){for(var Jt,$r=Wt.concat(),dn=[],Js=$r.length;Js--;)typeof(Jt=$r.shift())=="string"?dn.push(Jt):Array.isArray(Wt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?dn.push(Jt[0]):dn.push([Jt[0],Jt[1],Jt[2]]);return dn}function uc(Wt,Jt){var $r;if(typeof Wt=="string")$r=Jt(Wt)[0];else if(Array.isArray(Wt)){for(var dn,Js,Gf=Wt.concat(),Bu=[],Pm=Gf.length;Pm--;)typeof(dn=Gf.shift())=="string"?Bu.push(Jt(dn)[0]):Array.isArray(dn)&&typeof dn[0]=="string"&&(Js=Jt(dn[0],dn[1],dn[2]),Bu.push([Js[0],Js[1],Js[2]]));$r=Bu}return $r}var Wo=!1,dc=!0;if(typeof L=="string")Wo=!0;else if(Array.isArray(L)){var fc=L.concat();Le=[];for(var hc,Vn=fc.length;Vn--;)(typeof(hc=fc.shift())!="string"||Array.isArray(hc)&&typeof hc[0]!="string")&&(dc=!1);Wo=dc}if(Wo===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var pc=fe/rr.internal.scaleFactor,mc=pc*(ya-1);switch(ue.baseline){case"bottom":ce-=mc;break;case"top":ce+=pc-mc;break;case"hanging":ce+=pc-2*mc;break;case"middle":ce+=pc/2-mc}if((Nt=ue.maxWidth||0)>0&&(typeof L=="string"?L=rr.splitTextToSize(L,Nt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Wt,Jt){return Wt.concat(rr.splitTextToSize(Jt,Nt))},[]))),Oe={text:L,x:G,y:ce,options:ue,mutex:{pdfEscape:va,activeFontKey:Ve,fonts:Ge,activeFontSize:fe}},zt.publish("preProcessText",Oe),L=Oe.text,et=(ue=Oe.options).angle,Xr instanceof pt==0&&et&&typeof et=="number"){et*=Math.PI/180,ue.rotationDirection===0&&(et=-et),x===w&&(et=-et);var Ff=Math.cos(et),$f=Math.sin(et);Xr=new pt(Ff,$f,-$f,Ff,0,0)}else et&&et instanceof pt&&(Xr=et);x!==w||Xr||(Xr=zs),(xt=ue.charSpace||Lu)!==void 0&&(Dn+=A(I(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sr=ue.horizontalScale)!==void 0&&(Dn+=A(100*Sr)+` Tz
`),ue.lang;var Tr=-1,Ys=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Du=rr.internal.getCurrentPageInfo().pageContext;switch(Ys){case 0:case!1:case"fill":Tr=0;break;case 1:case!0:case"stroke":Tr=1;break;case 2:case"fillThenStroke":Tr=2;break;case 3:case"invisible":Tr=3;break;case 4:case"fillAndAddForClipping":Tr=4;break;case 5:case"strokeAndAddPathForClipping":Tr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tr=6;break;case 7:case"addToPathForClipping":Tr=7}var Em=Du.usedRenderingMode!==void 0?Du.usedRenderingMode:-1;Tr!==-1?Dn+=Tr+` Tr
`:Em!==-1&&(Dn+=`0 Tr
`),Tr!==-1&&(Du.usedRenderingMode=Tr),st=ue.align||"left";var ba,gc=fe*ya,Uf=rr.internal.pageSize.getWidth(),qf=Ge[Ve];xt=ue.charSpace||Lu,Nt=ue.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Ho=[],vc=function(Wt){return rr.getStringUnitWidth(Wt,{font:qf,charSpace:xt,fontSize:fe,doKerning:!1})*fe/Ni};if(Object.prototype.toString.call(L)==="[object Array]"){var Fi;Le=Ru(L),st!=="left"&&(ba=Le.map(vc));var $i,Ko=0;if(st==="right"){G-=ba[0],L=[],Vn=Le.length;for(var Xs=0;Xs<Vn;Xs++)Xs===0?($i=Hs(G),Fi=Ks(ce)):($i=I(Ko-ba[Xs]),Fi=-gc),L.push([Le[Xs],$i,Fi]),Ko=ba[Xs]}else if(st==="center"){G-=ba[0]/2,L=[],Vn=Le.length;for(var Vo=0;Vo<Vn;Vo++)Vo===0?($i=Hs(G),Fi=Ks(ce)):($i=I((Ko-ba[Vo])/2),Fi=-gc),L.push([Le[Vo],$i,Fi]),Ko=ba[Vo]}else if(st==="left"){L=[],Vn=Le.length;for(var zf=0;zf<Vn;zf++)L.push(Le[zf])}else if(st==="justify"&&qf.encoding==="Identity-H"){L=[],Vn=Le.length,Nt=Nt!==0?Nt:Uf;for(var Mu=0,Fr=0;Fr<Vn;Fr++)if(Fi=Fr===0?Ks(ce):-gc,$i=Fr===0?Hs(G):Mu,Fr<Vn-1){var Om=I((Nt-ba[Fr])/(Le[Fr].split(" ").length-1)),bs=Le[Fr].split(" ");L.push([bs[0]+" ",$i,Fi]),Mu=0;for(var xs=1;xs<bs.length;xs++){var Wf=(vc(bs[xs-1]+" "+bs[xs])-vc(bs[xs]))*Ni+Om;xs==bs.length-1?L.push([bs[xs],Wf,0]):L.push([bs[xs]+" ",Wf,0]),Mu-=Wf}}else L.push([Le[Fr],$i,Fi]);L.push(["",Mu,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Vn=Le.length,Nt=Nt!==0?Nt:Uf,Fr=0;Fr<Vn;Fr++){Fi=Fr===0?Ks(ce):-gc,$i=Fr===0?Hs(G):0;var Hf=Le[Fr].split(" ").length-1,Kf=Hf>0?(Nt-ba[Fr])/Hf:0;Fr<Vn-1?Ho.push(A(I(Kf))):Ho.push(0),L.push([Le[Fr],$i,Fi])}}}(typeof ue.R2L=="boolean"?ue.R2L:be)===!0&&(L=uc(L,function(Wt,Jt,$r){return[Wt.split("").reverse().join(""),Jt,$r]})),Oe={text:L,x:G,y:ce,options:ue,mutex:{pdfEscape:va,activeFontKey:Ve,fonts:Ge,activeFontSize:fe}},zt.publish("postProcessText",Oe),L=Oe.text,Jr=Oe.mutex.isHex||!1;var Vf=Ge[Ve].encoding;Vf!=="WinAnsiEncoding"&&Vf!=="StandardEncoding"||(L=uc(L,function(Wt,Jt,$r){return[Am(Wt),Jt,$r]})),Le=Ru(L),L=[];for(var Go,Yo,Xo,yc=Array.isArray(Le[0])?1:0,Jo="",bc=function(Wt,Jt,$r){var dn="";return $r instanceof pt?($r=typeof ue.angle=="number"?qs($r,new pt(1,0,0,1,Wt,Jt)):qs(new pt(1,0,0,1,Wt,Jt),$r),x===w&&($r=qs(new pt(1,0,0,-1,0,0),$r)),dn=$r.join(" ")+` Tm
`):dn=A(Wt)+" "+A(Jt)+` Td
`,dn},xa=0;xa<Le.length;xa++){switch(Jo="",yc){case 1:Xo=(Jr?"<":"(")+Le[xa][0]+(Jr?">":")"),Go=parseFloat(Le[xa][1]),Yo=parseFloat(Le[xa][2]);break;case 0:Xo=(Jr?"<":"(")+Le[xa]+(Jr?">":")"),Go=Hs(G),Yo=Ks(ce)}Ho!==void 0&&Ho[xa]!==void 0&&(Jo=Ho[xa]+` Tw
`),xa===0?L.push(Jo+bc(Go,Yo,Xr)+Xo):yc===0?L.push(Jo+Xo):yc===1&&L.push(Jo+bc(Go,Yo,Xr)+Xo)}L=yc===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var ws=`BT
/`;return ws+=Ve+" "+fe+` Tf
`,ws+=A(fe*ya)+` TL
`,ws+=ac+`
`,ws+=Dn,ws+=L,ie(ws+="ET"),p[Ve]=!0,rr};var D1=h.__private__.clip=h.clip=function(L){return ie(L==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return D1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ie("n"),this};var ys=h.__private__.isValidStyle=function(L){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(G=!0),G};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return ys(L)&&(c=L),this};var xm=h.__private__.getStyle=h.getStyle=function(L){var G=c;switch(L){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=L}return G},wm=h.close=function(){return ie("h"),this};h.stroke=function(){return ie("S"),this},h.fill=function(L){return qo("f",L),this},h.fillEvenOdd=function(L){return qo("f*",L),this},h.fillStroke=function(L){return qo("B",L),this},h.fillStrokeEvenOdd=function(L){return qo("B*",L),this};var qo=function(L,G){Gt(G)==="object"?B1(G,L):ie(L)},Cf=function(L){L===null||x===w&&L===void 0||(L=xm(L),ie(L))};function M1(L,G,ce,ue,we){var Oe=new wd(G||this.boundingBox,ce||this.xStep,ue||this.yStep,this.gState,we||this.matrix);Oe.stream=this.stream;var Le=L+"$$"+this.cloneIndex+++"$$";return pa(Le,Oe),Oe}var B1=function(L,G){var ce=Ot[L.key],ue=dt[ce];if(ue instanceof Mc)ie("q"),ie(F1(G)),ue.gState&&h.setGState(ue.gState),ie(L.matrix.toString()+" cm"),ie("/"+ce+" sh"),ie("Q");else if(ue instanceof wd){var we=new pt(1,0,0,-1,0,cc());L.matrix&&(we=we.multiply(L.matrix||zs),ce=M1.call(ue,L.key,L.boundingBox,L.xStep,L.yStep,we).id),ie("q"),ie("/Pattern cs"),ie("/"+ce+" scn"),ue.gState&&h.setGState(ue.gState),ie(G),ie("Q")}},F1=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tf=h.moveTo=function(L,G){return ie(A(I(L))+" "+A(M(G))+" m"),this},nc=h.lineTo=function(L,G){return ie(A(I(L))+" "+A(M(G))+" l"),this},zo=h.curveTo=function(L,G,ce,ue,we,Oe){return ie([A(I(L)),A(M(G)),A(I(ce)),A(M(ue)),A(I(we)),A(M(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,G,ce,ue,we){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||!ys(we))throw new Error("Invalid arguments passed to jsPDF.line");return x===b?this.lines([[ce-L,ue-G]],L,G,[1,1],we||"S"):this.lines([[ce-L,ue-G]],L,G,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,G,ce,ue,we,Oe){var Le,et,st,xt,Nt,$t,Sr,Xr,rr,un,Jr,Dn;if(typeof L=="number"&&(Dn=ce,ce=G,G=L,L=Dn),ue=ue||[1,1],Oe=Oe||!1,isNaN(G)||isNaN(ce)||!Array.isArray(L)||!Array.isArray(ue)||!ys(we)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tf(G,ce),Le=ue[0],et=ue[1],xt=L.length,un=G,Jr=ce,st=0;st<xt;st++)(Nt=L[st]).length===2?(un=Nt[0]*Le+un,Jr=Nt[1]*et+Jr,nc(un,Jr)):($t=Nt[0]*Le+un,Sr=Nt[1]*et+Jr,Xr=Nt[2]*Le+un,rr=Nt[3]*et+Jr,un=Nt[4]*Le+un,Jr=Nt[5]*et+Jr,zo($t,Sr,Xr,rr,un,Jr));return Oe&&wm(),Cf(we),this},h.path=function(L){for(var G=0;G<L.length;G++){var ce=L[G],ue=ce.c;switch(ce.op){case"m":Tf(ue[0],ue[1]);break;case"l":nc(ue[0],ue[1]);break;case"c":zo.apply(this,ue);break;case"h":wm()}}return this},h.__private__.rect=h.rect=function(L,G,ce,ue,we){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||!ys(we))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b&&(ue=-ue),ie([A(I(L)),A(M(G)),A(I(ce)),A(I(ue)),"re"].join(" ")),Cf(we),this},h.__private__.triangle=h.triangle=function(L,G,ce,ue,we,Oe,Le){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!ys(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-L,ue-G],[we-ce,Oe-ue],[L-we,G-Oe]],L,G,[1,1],Le,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,G,ce,ue,we,Oe,Le){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!ys(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ce),Oe=Math.min(Oe,.5*ue),this.lines([[ce-2*we,0],[we*et,0,we,Oe-Oe*et,we,Oe],[0,ue-2*Oe],[0,Oe*et,-we*et,Oe,-we,Oe],[2*we-ce,0],[-we*et,0,-we,-Oe*et,-we,-Oe],[0,2*Oe-ue],[0,-Oe*et,we*et,-Oe,we,-Oe]],L+we,G,[1,1],Le,!0),this},h.__private__.ellipse=h.ellipse=function(L,G,ce,ue,we){if(isNaN(L)||isNaN(G)||isNaN(ce)||isNaN(ue)||!ys(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ce,Le=4/3*(Math.SQRT2-1)*ue;return Tf(L+ce,G),zo(L+ce,G-Le,L+Oe,G-ue,L,G-ue),zo(L-Oe,G-ue,L-ce,G-Le,L-ce,G),zo(L-ce,G+Le,L-Oe,G+ue,L,G+ue),zo(L+Oe,G+ue,L+ce,G+Le,L+ce,G),Cf(we),this},h.__private__.circle=h.circle=function(L,G,ce,ue){if(isNaN(L)||isNaN(G)||isNaN(ce)||!ys(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,G,ce,ce,ue)},h.setFont=function(L,G,ce){return ce&&(G=j(G,ce)),Ve=vm(L,G,{disableWarning:!1}),this};var $1=h.__private__.getFont=h.getFont=function(){return Ge[vm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,G,ce={};for(L in ft)if(ft.hasOwnProperty(L))for(G in ce[L]=[],ft[L])ft[L].hasOwnProperty(G)&&ce[L].push(G);return ce},h.addFont=function(L,G,ce,ue,we){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ce=j(ce,ue)),hm.call(this,L,G,ce,we=we||"Identity-H")};var ic,Lf=e.lineWidth||.200025,_t=h.__private__.getLineWidth=h.getLineWidth=function(){return Lf},U1=h.__private__.setLineWidth=h.setLineWidth=function(L){return Lf=L,ie(A(I(L))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(L,G){if(L=L||[],G=G||0,isNaN(G)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ce){return A(I(ce))}).join(" "),G=A(I(G)),ie("["+L+"] "+G+" d"),this};var q1=h.__private__.getLineHeight=h.getLineHeight=function(){return fe*ic};h.__private__.getLineHeight=h.getLineHeight=function(){return fe*ic};var z1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ic=L),this},W1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ic};z1(e.lineHeight);var Hs=h.__private__.getHorizontalCoordinate=function(L){return I(L)},Ks=h.__private__.getVerticalCoordinate=function(L){return x===w?L:wt[B].mediaBox.topRightY-wt[B].mediaBox.bottomLeftY-I(L)},H1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return A(Hs(L))},K1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return A(Ks(L))},Cu=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return gs(Cu)},h.__private__.setStrokeColor=h.setDrawColor=function(L,G,ce,ue){return Cu=qa({ch1:L,ch2:G,ch3:ce,ch4:ue,pdfColorType:"draw",precision:2}),ie(Cu),this};var If=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return gs(If)},h.__private__.setFillColor=h.setFillColor=function(L,G,ce,ue){return If=qa({ch1:L,ch2:G,ch3:ce,ch4:ue,pdfColorType:"fill",precision:2}),ie(If),this};var ac=e.textColor||"0 g",Tu=h.__private__.getTextColor=h.getTextColor=function(){return gs(ac)};h.__private__.setTextColor=h.setTextColor=function(L,G,ce,ue){return ac=qa({ch1:L,ch2:G,ch3:ce,ch4:ue,pdfColorType:"text",precision:3}),this};var Lu=e.charSpace,V1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Lu||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lu=L,this};var Rf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var G=h.CapJoinStyles[L];if(G===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rf=G,ie(G+" J"),this};var Df=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var G=h.CapJoinStyles[L];if(G===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Df=G,ie(G+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(A(I(L))+" M"),this},h.GState=ty,h.setGState=function(L){(L=typeof L=="string"?bt[lr[L]]:sc(null,L)).equals(cn)||(ie("/"+L.id+" gs"),cn=L)};var sc=function(L,G){if(!L||!lr[L]){var ce=!1;for(var ue in bt)if(bt.hasOwnProperty(ue)&&bt[ue].equals(G)){ce=!0;break}if(ce)G=bt[ue];else{var we="GS"+(Object.keys(bt).length+1).toString(10);bt[we]=G,G.id=we}return L&&(lr[L]=G.id),zt.publish("addGState",G),G}};h.addGState=function(L,G){return sc(L,G),this},h.saveGraphicsState=function(){return ie("q"),Dt.push({key:Ve,size:fe,color:ac}),this},h.restoreGraphicsState=function(){ie("Q");var L=Dt.pop();return Ve=L.key,fe=L.size,ac=L.color,cn=null,this},h.setCurrentTransformationMatrix=function(L){return ie(L.toString()+" cm"),this},h.comment=function(L){return ie("#"+L),this};var oc=function(L,G){var ce=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Oe){isNaN(Oe)||(ce=parseFloat(Oe))}});var ue=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Oe){we=Oe.toString()}}),this},Mf=function(L,G,ce,ue){oc.call(this,L,G),this.type="rect";var we=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Le){isNaN(Le)||(we=parseFloat(Le))}});var Oe=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Le){isNaN(Le)||(Oe=parseFloat(Le))}}),this},Iu=function(){this.page=Xt,this.currentPage=B,this.pages=ge.slice(0),this.pagesContext=wt.slice(0),this.x=Ke,this.y=ct,this.matrix=ht,this.width=_m(B),this.height=Vs(B),this.outputDestination=ke,this.id="",this.objectNumber=-1};Iu.prototype.restore=function(){Xt=this.page,B=this.currentPage,wt=this.pagesContext,ge=this.pages,Ke=this.x,ct=this.y,ht=this.matrix,Nm(B,this.width),Gs(B,this.height),ke=this.outputDestination};var Bf=function(L,G,ce,ue,we){ms.push(new Iu),Xt=B=0,ge=[],Ke=L,ct=G,ht=we,Ef([ce,ue])};for(var lc in h.beginFormObject=function(L,G,ce,ue,we){return Bf(L,G,ce,ue,we),this},h.endFormObject=function(L){return function(G){if(Us[G])ms.pop().restore();else{var ce=new Iu,ue="Xo"+(Object.keys(Kn).length+1).toString(10);ce.id=ue,Us[G]=ue,Kn[ue]=ce,zt.publish("addFormObject",ce),ms.pop().restore()}}(L),this},h.doFormObject=function(L,G){var ce=Kn[Us[L]];return ie("q"),ie(G.toString()+" cm"),ie("/"+ce.id+" Do"),ie("Q"),this},h.getFormObject=function(L){var G=Kn[Us[L]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},h.save=function(L,G){return L=L||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Ic(tc(Ws()),L),typeof Ic.unload=="function"&&yt.setTimeout&&setTimeout(Ic.unload,911),this):new Promise(function(ce,ue){try{var we=Ic(tc(Ws()),L);typeof Ic.unload=="function"&&yt.setTimeout&&setTimeout(Ic.unload,911),ce(we)}catch(Oe){ue(Oe.message)}})},lt.API)lt.API.hasOwnProperty(lc)&&(lc==="events"&&lt.API.events.length?function(L,G){var ce,ue,we;for(we=G.length-1;we!==-1;we--)ce=G[we][0],ue=G[we][1],L.subscribe.apply(L,[ce].concat(typeof ue=="function"?[ue]:ue))}(zt,lt.API.events):h[lc]=lt.API[lc]);function _m(L){return wt[L].mediaBox.topRightX-wt[L].mediaBox.bottomLeftX}function Nm(L,G){wt[L].mediaBox.topRightX=G+wt[L].mediaBox.bottomLeftX}function Vs(L){return wt[L].mediaBox.topRightY-wt[L].mediaBox.bottomLeftY}function Gs(L,G){wt[L].mediaBox.topRightY=G+wt[L].mediaBox.bottomLeftY}var Sm=h.getPageWidth=function(L){return _m(L=L||B)/ze},jm=h.setPageWidth=function(L,G){Nm(L,G*ze)},cc=h.getPageHeight=function(L){return Vs(L=L||B)/ze},km=h.setPageHeight=function(L,G){Gs(L,G*ze)};return h.internal={pdfEscape:va,getStyle:xm,getFont:$1,getFontSize:pe,getCharSpace:V1,getTextColor:Tu,getLineHeight:q1,getLineHeightFactor:W1,getLineWidth:_t,write:We,getHorizontalCoordinate:Hs,getVerticalCoordinate:Ks,getCoordinateString:H1,getVerticalCoordinateString:K1,collections:{},newObject:Cr,newAdditionalObject:Zl,newObjectDeferred:kn,newObjectDeferredBegin:Rn,getFilters:za,putStream:ga,events:zt,scaleFactor:ze,pageSize:{getWidth:function(){return Sm(B)},setWidth:function(L){jm(B,L)},getHeight:function(){return cc(B)},setHeight:function(L){km(B,L)}},encryptionOptions:d,encryption:Br,getEncryptor:function(L){return d!==null?Br.encryptor(L,0):function(G){return G}},output:Wa,getNumberOfPages:gm,pages:ge,out:ie,f2:k,f3:E,getPageInfo:Pf,getPageInfoByObjId:I1,getCurrentPageInfo:R1,getPDFVersion:g,Point:oc,Rectangle:Mf,Matrix:pt,hasHotfix:rc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Sm(B)},set:function(L){jm(B,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return cc(B)},set:function(L){km(B,L)},enumerable:!0,configurable:!0}),(function(L){for(var G=0,ce=xe.length;G<ce;G++){var ue=hm.call(this,L[G][0],L[G][1],L[G][2],xe[G][3],!0);f===!1&&(p[ue]=!0);var we=L[G][0].split("-");fm({id:ue,fontName:we[0],fontStyle:we[1]||""})}zt.publish("addFonts",{fonts:Ge,dictionary:ft})}).call(h,xe),Ve="F1",pm(i,r),zt.publish("initialized"),h}id.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},id.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},id.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},id.prototype.processOwnerPassword=function(e,t){return y5(v5(t).substr(0,5),e)},id.prototype.encryptor=function(e,t){var r=v5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return y5(r,n)}},ty.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Gt(e)!==Gt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},lt.API={events:[]},lt.version="3.0.3";var Dr=lt.API,tj=1,ku=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(e){return e.toFixed(2)},ol=function(e){return e.toFixed(5)};Dr.__acroform__={};var Bi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pO=function(e){return e*tj},js=function(e){var t=new n9,r=Qe.internal.getHeight(e)||0,n=Qe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jt(n)),Number(jt(r))],t},Jge=Dr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Zge=Dr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Qge=Dr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Hr=Dr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Qge(e,t-1)},Kr=Dr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Jge(e,t-1)},Vr=Dr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zge(e,t-1)},eve=Dr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},tve=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=b5(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=js(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},b5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=r,s=Qe.internal.getHeight(e)||0;s=s<0?-s:s;var o=Qe.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(k,E,I){if(k+1<i.length){var M=E+" "+i[k+1][0];return G0(M,e,I).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,f=G0("3",e,a).height,p=e.multiline?s-a:(s-f)/2,h=p+=2,m=0,g=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+G0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var x=!1;if(i[w].length!==1&&y!==i[w].length-1){if((f+2)*(b+2)+2>s)continue e;v+=i[w][y],x=!0,g=w,w--}else{v=(v+=i[w][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(w),O=l(N,v,a),j=w>=i.length-1;if(O&&!j){v+=" ",y=0;continue}if(O||j){if(j)g=N;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;g=N}}for(var A="",P=m;P<=g;P++){var C=i[P];if(e.multiline){if(P===g){A+=C[y]+" ",y=(y+1)%C.length;continue}if(P===m){A+=C[C.length-1]+" ";continue}}A+=C[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=G0(A,e,a).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=jt(c)+" "+jt(h)+` Td
`,t+="("+ku(A)+`) Tj
`,t+=-jt(c)+` 0 Td
`,h=-(a+2),d=0,m=x?g:g+1,b++,v=""}break}return n.text=t,n.fontSize=a,n},G0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},rve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nve=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},ive=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(hs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(rve)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new i9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&nve(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=eve(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Qe.createDefaultAppearanceStream(o),Gt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=tve(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var m=h[s];typeof m=="function"&&(m=m.call(i,o)),f+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(i,o)),f+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,y){for(var v in g)if(g.hasOwnProperty(v)){var b=v,w=g[v];y.internal.newObjectDeferredBegin(w.objId,!0),Gt(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},r9=Dr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Gt(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+ku(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zx=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ku(n(e))+")"},Ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ps.prototype.toString=function(){return this.objId+" 0 R"},Ps.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ps.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:r9(i,this.objId,this.scope)}):i instanceof Ps?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var n9=function(){Ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Bi(n9,Ps);var i9=function(){Ps.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ku(r(e))+")"}},set:function(r){e=r}})};Bi(i9,Ps);var hs=function e(){Ps.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hr(t,3)},set:function(v){v?this.F=Kr(t,3):this.F=Vr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ry)return;a="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+ku(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/tj:c},set:function(v){c=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ry||this instanceof eu))return zx(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof On==0?zx(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof On==0?v.substr(0,1)==="("?Qu(v.substr(1,v.length-2)):Qu(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?Qu(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof On==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof On==0?zx(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof On==0?v.substr(0,1)==="("?Qu(v.substr(1,v.length-2)):Qu(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?Qu(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof On==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,1)},set:function(v){v?this.Ff=Kr(this.Ff,1):this.Ff=Vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,2)},set:function(v){v?this.Ff=Kr(this.Ff,2):this.Ff=Vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,3)},set:function(v){v?this.Ff=Kr(this.Ff,3):this.Ff=Vr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Bi(hs,Ps);var Td=function(){hs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return r9(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,18)},set:function(r){r?this.Ff=Kr(this.Ff,18):this.Ff=Vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Kr(this.Ff,19):this.Ff=Vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,20)},set:function(r){r?(this.Ff=Kr(this.Ff,20),t.sort()):this.Ff=Vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,22)},set:function(r){r?this.Ff=Kr(this.Ff,22):this.Ff=Vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,23)},set:function(r){r?this.Ff=Kr(this.Ff,23):this.Ff=Vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,27)},set:function(r){r?this.Ff=Kr(this.Ff,27):this.Ff=Vr(this.Ff,27)}}),this.hasAppearanceStream=!1};Bi(Td,hs);var Ld=function(){Td.call(this),this.fontName="helvetica",this.combo=!1};Bi(Ld,Td);var Id=function(){Ld.call(this),this.combo=!0};Bi(Id,Ld);var bg=function(){Id.call(this),this.edit=!0};Bi(bg,Id);var On=function(){hs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,15)},set:function(r){r?this.Ff=Kr(this.Ff,15):this.Ff=Vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,16)},set:function(r){r?this.Ff=Kr(this.Ff,16):this.Ff=Vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,17)},set:function(r){r?this.Ff=Kr(this.Ff,17):this.Ff=Vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,26)},set:function(r){r?this.Ff=Kr(this.Ff,26):this.Ff=Vr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+ku(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Gt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Bi(On,hs);var xg=function(){On.call(this),this.pushButton=!0};Bi(xg,On);var Rd=function(){On.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Bi(Rd,On);var ry=function(){var e,t;hs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+ku(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Gt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bi(ry,hs),Rd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Rd.prototype.createOption=function(e){var t=new ry;return t.Parent=this,t.optionName=e,this.Kids.push(t),ave.call(this.scope,t),t};var wg=function(){On.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Bi(wg,On);var eu=function(){hs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,13)},set:function(t){t?this.Ff=Kr(this.Ff,13):this.Ff=Vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,21)},set:function(t){t?this.Ff=Kr(this.Ff,21):this.Ff=Vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,23)},set:function(t){t?this.Ff=Kr(this.Ff,23):this.Ff=Vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,24)},set:function(t){t?this.Ff=Kr(this.Ff,24):this.Ff=Vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,25)},set:function(t){t?this.Ff=Kr(this.Ff,25):this.Ff=Vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,26)},set:function(t){t?this.Ff=Kr(this.Ff,26):this.Ff=Vr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bi(eu,hs);var _g=function(){eu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,14)},set:function(e){e?this.Ff=Kr(this.Ff,14):this.Ff=Vr(this.Ff,14)}}),this.password=!0};Bi(_g,eu);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=js(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=b5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jt(Qe.internal.getWidth(e))+" "+jt(Qe.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=js(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Qe.internal.getHeight(e),s=Qe.internal.getWidth(e),o=b5(e,e.caption);return i.push("1 g"),i.push("0 0 "+jt(s)+" "+jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jt(s-1)+" "+jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+jt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=js(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(Qe.internal.getWidth(e))+" "+jt(Qe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Circle.YesNormal,t.D[e]=Qe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=js(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Qe.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=js(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Qe.internal.Bezier_C).toFixed(5)),s=Number((n*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=js(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Cross.YesNormal,t.D[e]=Qe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=js(e);t.scope=e.scope;var r=[],n=Qe.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jt(Qe.internal.getWidth(e)-2)+" "+jt(Qe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=js(e);t.scope=e.scope;var r=Qe.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(Qe.internal.getWidth(e))+" "+jt(Qe.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jt(Qe.internal.getWidth(e)-2)+" "+jt(Qe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=js(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(Qe.internal.getWidth(e))+" "+jt(Qe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Qe.internal.getWidth(e),r=Qe.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Qe.internal.getWidth=function(e){var t=0;return Gt(e)==="object"&&(t=pO(e.Rect[2])),t},Qe.internal.getHeight=function(e){var t=0;return Gt(e)==="object"&&(t=pO(e.Rect[3])),t};var ave=Dr.addField=function(e){if(ive(this,e),!(e instanceof hs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Dr.AcroFormChoiceField=Td,Dr.AcroFormListBox=Ld,Dr.AcroFormComboBox=Id,Dr.AcroFormEditBox=bg,Dr.AcroFormButton=On,Dr.AcroFormPushButton=xg,Dr.AcroFormRadioButton=Rd,Dr.AcroFormCheckBox=wg,Dr.AcroFormTextField=eu,Dr.AcroFormPasswordField=_g,Dr.AcroFormAppearance=Qe,Dr.AcroForm={ChoiceField:Td,ListBox:Ld,ComboBox:Id,EditBox:bg,Button:On,PushButton:xg,RadioButton:Rd,CheckBox:wg,TextField:eu,PasswordField:_g,Appearance:Qe},lt.AcroForm={ChoiceField:Td,ListBox:Ld,ComboBox:Id,EditBox:bg,Button:On,PushButton:xg,RadioButton:Rd,CheckBox:wg,TextField:eu,PasswordField:_g,Appearance:Qe};lt.AcroForm;function a9(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(k,E){var I,M,U,Z,Q,K=r;if((E=E||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(O(k))for(Q in n)for(U=n[Q],I=0;I<U.length;I+=1){for(Z=!0,M=0;M<U[I].length;M+=1)if(U[I][M]!==void 0&&U[I][M]!==k[M]){Z=!1;break}if(Z===!0){K=Q;break}}else for(Q in n)for(U=n[Q],I=0;I<U.length;I+=1){for(Z=!0,M=0;M<U[I].length;M+=1)if(U[I][M]!==void 0&&U[I][M]!==k.charCodeAt(M)){Z=!1;break}if(Z===!0){K=Q;break}}return K===r&&E!==r&&(K=E),K},a=function k(E){for(var I=this.internal.write,M=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:E.width}),Z.push({key:"Height",value:E.height}),E.colorSpace===v.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===v.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var Q="",K=0,W=E.transparency.length;K<W;K++)Q+=E.transparency[K]+" "+E.transparency[K]+" ";Z.push({key:"Mask",value:"["+Q+"]"})}E.sMask!==void 0&&Z.push({key:"SMask",value:E.objectId+1+" 0 R"});var V=E.filter!==void 0?["/"+E.filter]:void 0;if(M({data:E.data,additionalKeyValues:Z,alreadyAppliedFilters:V,objectId:E.objectId}),I("endobj"),"sMask"in E&&E.sMask!==void 0){var $,R=($=E.sMaskBitsPerComponent)!==null&&$!==void 0?$:E.bitsPerComponent,B={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:E.sMask};"filter"in E&&(B.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(E.width),B.filter=E.filter),k.call(this,B)}if(E.colorSpace===v.INDEXED){var q=this.internal.newObject();M({data:A(new Uint8Array(E.palette)),objectId:q}),I("endobj")}},s=function(){var k=this.internal.collections[t+"images"];for(var E in k)a.call(this,k[E])},o=function(){var k,E=this.internal.collections[t+"images"],I=this.internal.write;for(var M in E)I("/I"+(k=E[M]).index,k.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections[t+"images"];return l.call(this),k},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(k){return typeof e["process"+k.toUpperCase()]=="function"},p=function(k){return Gt(k)==="object"&&k.nodeType===1},h=function(k,E){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var I=""+k.getAttribute("src");if(I.indexOf("data:image/")===0)return yg(unescape(I).split("base64,").pop());var M=e.loadFile(I,!0);if(M!==void 0)return M}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var U;switch(E){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return yg(k.toDataURL(U,1).split("base64,").pop())}},m=function(k){var E=this.internal.collections[t+"images"];if(E){for(var I in E)if(k===E[I].alias)return E[I]}},g=function(k,E,I){return k||E||(k=-96,E=-96),k<0&&(k=-1*I.width*72/k/this.internal.scaleFactor),E<0&&(E=-1*I.height*72/E/this.internal.scaleFactor),k===0&&(k=E*I.width/I.height),E===0&&(E=k*I.height/I.width),[k,E]},y=function(k,E,I,M,U,Z){var Q=g.call(this,I,M,U),K=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,V=c.call(this);if(I=Q[0],M=Q[1],V[U.index]=U,Z){Z*=Math.PI/180;var $=Math.cos(Z),R=Math.sin(Z),B=function(H){return H.toFixed(4)},q=[B($),B(R),B(-1*R),B($),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,K(k),W(E+M),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([K(I),"0","0",K(M),"0","0","cm"].join(" "))):this.internal.write([K(I),"0","0",K(M),K(k),W(E+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(k){var E,I,M=0;if(typeof k=="string")for(I=k.length,E=0;E<I;E++)M=(M<<5)-M+k.charCodeAt(E),M|=0;else if(O(k))for(I=k.byteLength/2,E=0;E<I;E++)M=(M<<5)-M+k[E],M|=0;return M},x=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var E=!0;return k.length===0&&(E=!1),k.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(E=!1),E},N=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var E=k.indexOf(",");return E<0?null:k.substring(0,E).trim().endsWith("base64")?k.substring(E+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(k){for(var E=k.length,I=new Uint8Array(E),M=0;M<E;M++)I[M]=k.charCodeAt(M);return I},A=e.__addimage__.arrayBufferToBinaryString=function(k){for(var E="",I=O(k)?k:new Uint8Array(k),M=0;M<I.length;M+=8192)E+=String.fromCharCode.apply(null,I.subarray(M,M+8192));return E};e.addImage=function(){var k,E,I,M,U,Z,Q,K,W;if(typeof arguments[1]=="number"?(E=r,I=arguments[1],M=arguments[2],U=arguments[3],Z=arguments[4],Q=arguments[5],K=arguments[6],W=arguments[7]):(E=arguments[1],I=arguments[2],M=arguments[3],U=arguments[4],Z=arguments[5],Q=arguments[6],K=arguments[7],W=arguments[8]),Gt(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var V=k;k=V.imageData,E=V.format||E||r,I=V.x||I||0,M=V.y||M||0,U=V.w||V.width||U,Z=V.h||V.height||Z,Q=V.alias||Q,K=V.compression||K,W=V.rotation||V.angle||W}var $=this.internal.getFilters();if(K===void 0&&$.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(I)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=P.call(this,k,E,Q,K);return y.call(this,I,M,U,Z,R,W),this};var P=function(k,E,I,M){var U,Z,Q;if(typeof k=="string"&&i(k)===r){k=unescape(k);var K=C(k,!1);(K!==""||(K=e.loadFile(k,!0))!==void 0)&&(k=K)}if(p(k)&&(k=h(k,E)),E=i(k,E),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((Q=I)==null||Q.length===0)&&(I=function(W){return typeof W=="string"||O(W)?w(W):O(W.data)?w(W.data):null}(k)),(U=m.call(this,I))||(k instanceof Uint8Array||E==="RGBA"||(Z=k,k=j(k)),U=this["process"+E.toUpperCase()](k,d.call(this),I,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:b.NONE}(M),Z)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},C=e.__addimage__.convertBase64ToBinaryString=function(k,E){E=typeof E!="boolean"||E;var I,M="";if(typeof k=="string"){var U;I=(U=N(k))!==null&&U!==void 0?U:k;try{M=yg(I)}catch(Z){if(E)throw x(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(k){var E,I,M="";if(p(k)&&(k=h(k)),typeof k=="string"&&i(k)===r&&((M=C(k,!1))===""&&(M=e.loadFile(k)||""),k=M),I=i(k),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(k instanceof Uint8Array||(k=j(k)),!(E=this["process"+I.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=I,E}})(lt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(b))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(c*d)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(lt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,v=r,b="",w=0;for(y=0;y<g.length;y+=1)v[g.charCodeAt(y)]!==void 0?(w++,typeof(v=v[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(v),v=r,w=0),y===g.length-1&&(v=r,b+=g.charAt(y-(w-1)),y-=w-1,w=0)):(v=r,b+=g.charAt(y-w),y-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,y,v){return s(g)?a(g)===!1?-1:!c(g)||!s(y)&&!s(v)||!s(v)&&o(y)||o(g)&&!s(y)||o(g)&&l(y)||o(g)&&o(y)?0:d(g)&&s(y)&&!o(y)&&s(v)&&c(v)?3:o(g)||!s(v)?1:2:-1},h=function(g){var y=0,v=0,b=0,w="",x="",N="",O=(g=g||"").split("\\s+"),j=[];for(y=0;y<O.length;y+=1){for(j.push(""),v=0;v<O[y].length;v+=1)w=O[y][v],x=O[y][v-1],N=O[y][v+1],s(w)?(b=p(w,x,N),j[y]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):j[y]+=w;j[y]=f(j[y])}return j.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var b=0;for(v=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?v.push([h(y[b][0]),y[b][1],y[b][2]]):v.push([h(y[b])]);g=v}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(lt.API),lt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,x){return w.concat(y.splitTextToSize(x,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(g=this.getStringUnitWidth(l[b],{font:f})*d)&&(h=g);return h!==0&&(m=l.length),{w:h/=p,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,m,g,y,v=[],b=[],w=[],x={},N={},O=[],j=[],A=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,C=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),E=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=M,this.setFontSize(C),f==null)b=v=Object.keys(d[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&Gt(f[0])==="object")for(v=f.map(function(V){return V.name}),b=f.map(function(V){return V.prompt||V.name||""}),w=f.map(function(V){return V.align||"left"}),h=0;h<f.length;h+=1)N[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,w=v.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(x[y=v[h]]=d.map(function(V){return V[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=x[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)O.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,O)+E+E,O=[]}if(P){var U={};for(h=0;h<v.length;h+=1)U[v[h]]={},U[v[h]].text=b[h],U[v[h]].align=w[h];var Z=o.call(this,U,N);j=v.map(function(V){return new a(l,c,N[V],Z,U[V].text,void 0,U[V].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var Q=f.reduce(function(V,$){return V[$.name]=$.align,V},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var K=o.call(this,d[h],N);for(g=0;g<v.length;g+=1){var W=d[h][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:W},this),s.call(this,new a(l,c,N[v[g]],K,W,h+2,Q[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var m=l[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,m){return Math.max(h,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(lt.API);var s9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},o9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],x5=a9(o9),l9=[100,200,300,400,500,600,700,800,900],sve=a9(l9);function Wx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return s9[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof x5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function mO(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var ove={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vO(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yO(e){return e.trimLeft()}function lve(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cve(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Y0,bO,xO,ed,X0,wO,_O,NO,Hx=["times"];function SO(e,t,r,n,i){var a=4,s=kO;switch(i){case lt.API.image_compression.FAST:a=1,s=jO;break;case lt.API.image_compression.MEDIUM:a=6,s=AO;break;case lt.API.image_compression.SLOW:a=9,s=EO}e=function(l,c,d,f){for(var p,h=l.length/c,m=new Uint8Array(l.length+h),g=[uve,jO,kO,AO,EO],y=0;y<h;y+=1){var v=y*c,b=l.subarray(v,v+c);if(f)m.set(f(b,d,p),v+y);else{for(var w=g.length,x=[],N=0;N<w;N+=1)x[N]=g[N](b,d,p);var O=fve(x.concat());m.set(x[O],v+y)}p=b}return m}(e,t,Math.ceil(r*n/8),s);var o=h5(e,{level:a});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function uve(e){var t=Array.apply([],e);return t.unshift(0),t}function jO(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function kO(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function AO(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function EO(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=dve(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function dve(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function fve(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Kx(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return c9(e,i)>>a&s}function OO(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(c,d,f){if(d+1<c.byteLength)c.setUint16(d,f,!1);else{var p=f>>8&255;c.setUint8(d,p)}})(e,a,c9(e,a)&~(o<<s)&65535|l)}function c9(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function hve(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,d=[],f=0,p=null,h=0,m=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++],N=x>>6&1,O=1<<1+(7&x),j=o,A=l,P=!1;x>>7&&(P=!0,j=t,A=O,t+=3*O);var C=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:y,y:v,width:b,height:w,has_local_palette:P,palette_offset:j,palette_size:A,data_offset:C,data_length:t-C,transparent_index:p,interlaced:!!N,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,I){var M=this.frameInfo(E),U=M.width*M.height,Z=new Uint8Array(U);PO(e,M.data_offset,Z,U);var Q=M.palette_offset,K=M.transparent_index;K===null&&(K=256);var W=M.width,V=r-W,$=W,R=4*(M.y*r+M.x),B=4*((M.y+M.height)*r+M.x),q=R,H=4*V;M.interlaced===!0&&(H+=4*r*7);for(var z=8,J=0,ae=Z.length;J<ae;++J){var X=Z[J];if($===0&&($=W,(q+=H)>=B&&(H=4*V+4*r*(z-1),q=R+(W+V)*(z<<1),z>>=1)),X===K)q+=4;else{var le=e[Q+3*X],ge=e[Q+3*X+1],de=e[Q+3*X+2];I[q++]=de,I[q++]=ge,I[q++]=le,I[q++]=255}--$}},this.decodeAndBlitFrameRGBA=function(E,I){var M=this.frameInfo(E),U=M.width*M.height,Z=new Uint8Array(U);PO(e,M.data_offset,Z,U);var Q=M.palette_offset,K=M.transparent_index;K===null&&(K=256);var W=M.width,V=r-W,$=W,R=4*(M.y*r+M.x),B=4*((M.y+M.height)*r+M.x),q=R,H=4*V;M.interlaced===!0&&(H+=4*r*7);for(var z=8,J=0,ae=Z.length;J<ae;++J){var X=Z[J];if($===0&&($=W,(q+=H)>=B&&(H=4*V+4*r*(z-1),q=R+(W+V)*(z<<1),z>>=1)),X===K)q+=4;else{var le=e[Q+3*X],ge=e[Q+3*X+1],de=e[Q+3*X+2];I[q++]=le,I[q++]=ge,I[q++]=de,I[q++]=255}--$}}}function PO(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,d=0,f=0,p=0,h=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<l)break;var y=f&c;if(f>>=l,d-=l,y!==a){if(y===s)break;for(var v=y<o?y:g,b=0,w=v;w>a;)w=m[w]>>8,++b;var x=w;if(p+b+(v!==y?1:0)>n)return void Qt.log("Warning, gif stream longer than expected.");r[p++]=x;var N=p+=b;for(v!==y&&(r[p++]=x),w=v;b--;)w=m[w],r[--N]=255&w,w>>=8;g!==null&&o<4096&&(m[o++]=g<<8|x,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=y}else o=s+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&Qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Vx(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),m=new Array(64),g=[],y=0,v=7,b=new Array(64),w=new Array(64),x=new Array(64),N=new Array(256),O=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(R,B){for(var q=0,H=0,z=new Array,J=1;J<=16;J++){for(var ae=1;ae<=R[J];ae++)z[B[H]]=[],z[B[H]][0]=q,z[B[H]][1]=J,H++,q++;q*=2}return z}function Q(R){for(var B=R[0],q=R[1]-1;q>=0;)B&1<<q&&(y|=1<<v),q--,--v<0&&(y==255?(K(255),K(0)):K(y),v=7,y=0)}function K(R){g.push(R)}function W(R){K(R>>8&255),K(255&R)}function V(R,B,q,H,z){for(var J,ae=z[0],X=z[240],le=function(fe,he){var pe,be,Ce,Me,Ie,He,Ze,$e,Ve,ze,Ke=0;for(Ve=0;Ve<8;++Ve){pe=fe[Ke],be=fe[Ke+1],Ce=fe[Ke+2],Me=fe[Ke+3],Ie=fe[Ke+4],He=fe[Ke+5],Ze=fe[Ke+6];var ct=pe+($e=fe[Ke+7]),ht=pe-$e,Ge=be+Ze,ft=be-Ze,Dt=Ce+He,dt=Ce-He,Ot=Me+Ie,bt=Me-Ie,lr=ct+Ot,cn=ct-Ot,Xt=Ge+Dt,wt=Ge-Dt;fe[Ke]=lr+Xt,fe[Ke+4]=lr-Xt;var zt=.707106781*(wt+cn);fe[Ke+2]=cn+zt,fe[Ke+6]=cn-zt;var Jl=.382683433*((lr=bt+dt)-(wt=ft+ht)),Kn=.5411961*lr+Jl,Us=1.306562965*wt+Jl,ms=.707106781*(Xt=dt+ft),pt=ht+ms,qs=ht-ms;fe[Ke+5]=qs+Kn,fe[Ke+3]=qs-Kn,fe[Ke+1]=pt+Us,fe[Ke+7]=pt-Us,Ke+=8}for(Ke=0,Ve=0;Ve<8;++Ve){pe=fe[Ke],be=fe[Ke+8],Ce=fe[Ke+16],Me=fe[Ke+24],Ie=fe[Ke+32],He=fe[Ke+40],Ze=fe[Ke+48];var zs=pe+($e=fe[Ke+56]),pa=pe-$e,ma=be+Ze,Cr=be-Ze,kn=Ce+He,Rn=Ce-He,Zl=Me+Ie,Uo=Me-Ie,Ua=zs+Zl,gs=zs-Zl,qa=ma+kn,za=ma-kn;fe[Ke]=Ua+qa,fe[Ke+32]=Ua-qa;var ga=.707106781*(za+gs);fe[Ke+16]=gs+ga,fe[Ke+48]=gs-ga;var Ql=.382683433*((Ua=Uo+Rn)-(za=Cr+pa)),vs=.5411961*Ua+Ql,ec=1.306562965*za+Ql,Au=.707106781*(qa=Rn+Cr),Eu=pa+Au,Ou=pa-Au;fe[Ke+40]=Ou+vs,fe[Ke+24]=Ou-vs,fe[Ke+8]=Eu+ec,fe[Ke+56]=Eu-ec,Ke++}for(Ve=0;Ve<64;++Ve)ze=fe[Ve]*he[Ve],h[Ve]=ze>0?ze+.5|0:ze-.5|0;return h}(R,B),ge=0;ge<64;++ge)m[j[ge]]=le[ge];var de=m[0]-q;q=m[0],de==0?Q(H[0]):(Q(H[p[J=32767+de]]),Q(f[J]));for(var ke=63;ke>0&&m[ke]==0;)ke--;if(ke==0)return Q(ae),q;for(var ve,ie=1;ie<=ke;){for(var We=ie;m[ie]==0&&ie<=ke;)++ie;var Be=ie-We;if(Be>=16){ve=Be>>4;for(var xe=1;xe<=ve;++xe)Q(X);Be&=15}J=32767+m[ie],Q(z[(Be<<4)+p[J]]),Q(f[J]),ie++}return ke!=63&&Q(ae),q}function $(R){R=Math.min(Math.max(R,1),100),a!=R&&(function(B){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var z=s((q[H]*B+50)/100);z=Math.min(Math.max(z,1),255),o[j[H]]=z}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var X=s((J[ae]*B+50)/100);X=Math.min(Math.max(X,1),255),l[j[ae]]=X}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,de=0;de<8;de++)for(var ke=0;ke<8;ke++)c[ge]=1/(o[j[ge]]*le[de]*le[ke]*8),d[ge]=1/(l[j[ge]]*le[de]*le[ke]*8),ge++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,B){B&&$(B),g=new Array,y=0,v=7,W(65496),W(65504),W(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),W(1),W(1),K(0),K(0),function(){W(65499),W(132),K(0);for(var be=0;be<64;be++)K(o[be]);K(1);for(var Ce=0;Ce<64;Ce++)K(l[Ce])}(),function(be,Ce){W(65472),W(17),K(8),W(Ce),W(be),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(R.width,R.height),function(){W(65476),W(418),K(0);for(var be=0;be<16;be++)K(A[be+1]);for(var Ce=0;Ce<=11;Ce++)K(P[Ce]);K(16);for(var Me=0;Me<16;Me++)K(C[Me+1]);for(var Ie=0;Ie<=161;Ie++)K(k[Ie]);K(1);for(var He=0;He<16;He++)K(E[He+1]);for(var Ze=0;Ze<=11;Ze++)K(I[Ze]);K(17);for(var $e=0;$e<16;$e++)K(M[$e+1]);for(var Ve=0;Ve<=161;Ve++)K(U[Ve])}(),W(65498),W(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var q=0,H=0,z=0;y=0,v=7,this.encode.displayName="_encode_";for(var J,ae,X,le,ge,de,ke,ve,ie,We=R.data,Be=R.width,xe=R.height,fe=4*Be,he=0;he<xe;){for(J=0;J<fe;){for(ge=fe*he+J,ke=-1,ve=0,ie=0;ie<64;ie++)de=ge+(ve=ie>>3)*fe+(ke=4*(7&ie)),he+ve>=xe&&(de-=fe*(he+1+ve-xe)),J+ke>=fe&&(de-=J+ke-fe+4),ae=We[de++],X=We[de++],le=We[de++],b[ie]=(O[ae]+O[X+256|0]+O[le+512|0]>>16)-128,w[ie]=(O[ae+768|0]+O[X+1024|0]+O[le+1280|0]>>16)-128,x[ie]=(O[ae+1280|0]+O[X+1536|0]+O[le+1792|0]>>16)-128;q=V(b,c,q,t,n),H=V(w,d,H,r,i),z=V(x,d,z,r,i),J+=32}he+=8}if(v>=0){var pe=[];pe[1]=v+1,pe[0]=(1<<v+1)-1,Q(pe)}return W(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,B=0;B<256;B++)N[B]=R(B)}(),t=Z(A,P),r=Z(E,I),n=Z(C,k),i=Z(M,U),function(){for(var R=1,B=2,q=1;q<=15;q++){for(var H=R;H<B;H++)p[32767+H]=q,f[32767+H]=[],f[32767+H][1]=q,f[32767+H][0]=H;for(var z=-(B-1);z<=-R;z++)p[32767+z]=q,f[32767+z]=[],f[32767+z][1]=q,f[32767+z][0]=B-1+z;R<<=1,B<<=1}}(),function(){for(var R=0;R<256;R++)O[R]=19595*R,O[R+256|0]=38470*R,O[R+512|0]=7471*R+32768,O[R+768|0]=-11059*R,O[R+1024|0]=-21709*R,O[R+1280|0]=32768*R+8421375,O[R+1536|0]=-27439*R,O[R+1792|0]=-5329*R}(),$(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CO(e){function t(P){if(!P)throw Error("assert :P")}function r(P,C,k){for(var E=0;4>E;E++)if(P[C+E]!=k.charCodeAt(E))return!0;return!1}function n(P,C,k,E,I){for(var M=0;M<I;M++)P[C+M]=k[E+M]}function i(P,C,k,E){for(var I=0;I<E;I++)P[C+I]=k}function a(P){return new Int32Array(P)}function s(P,C){for(var k=[],E=0;E<P;E++)k.push(new C);return k}function o(P,C){var k=[];return function E(I,M,U){for(var Z=U[M],Q=0;Q<Z&&(I.push(U.length>M+1?[]:new C),!(U.length<M+1));Q++)E(I[Q],M+1,U)}(k,0,P),k}var l=function(){var P=this;function C(_,S){for(var D=1<<S-1>>>0;_&D;)D>>>=1;return D?(_&D-1)+D:_}function k(_,S,D,F,Y){t(!(F%D));do _[S+(F-=D)]=Y;while(0<F)}function E(_,S,D,F,Y){if(t(2328>=Y),512>=Y)var ee=a(512);else if((ee=a(Y))==null)return 0;return function(te,re,ne,se,me,Se){var oe,ye,_e=re,Ae=1<<ne,Ne=a(16),Ee=a(16);for(t(me!=0),t(se!=null),t(te!=null),t(0<ne),ye=0;ye<me;++ye){if(15<se[ye])return 0;++Ne[se[ye]]}if(Ne[0]==me)return 0;for(Ee[1]=0,oe=1;15>oe;++oe){if(Ne[oe]>1<<oe)return 0;Ee[oe+1]=Ee[oe]+Ne[oe]}for(ye=0;ye<me;++ye)oe=se[ye],0<se[ye]&&(Se[Ee[oe]++]=ye);if(Ee[15]==1)return(se=new I).g=0,se.value=Se[0],k(te,_e,1,Ae,se),Ae;var Pe,Re=-1,Te=Ae-1,ot=0,Je=1,At=1,nt=1<<ne;for(ye=0,oe=1,me=2;oe<=ne;++oe,me<<=1){if(Je+=At<<=1,0>(At-=Ne[oe]))return 0;for(;0<Ne[oe];--Ne[oe])(se=new I).g=oe,se.value=Se[ye++],k(te,_e+ot,me,nt,se),ot=C(ot,oe)}for(oe=ne+1,me=2;15>=oe;++oe,me<<=1){if(Je+=At<<=1,0>(At-=Ne[oe]))return 0;for(;0<Ne[oe];--Ne[oe]){if(se=new I,(ot&Te)!=Re){for(_e+=nt,Pe=1<<(Re=oe)-ne;15>Re&&!(0>=(Pe-=Ne[Re]));)++Re,Pe<<=1;Ae+=nt=1<<(Pe=Re-ne),te[re+(Re=ot&Te)].g=Pe+ne,te[re+Re].value=_e-re-Re}se.g=oe-ne,se.value=Se[ye++],k(te,_e+(ot>>ne),me,nt,se),ot=C(ot,oe)}}return Je!=2*Ee[15]-1?0:Ae}(_,S,D,F,Y,ee)}function I(){this.value=this.g=0}function M(){this.value=this.g=0}function U(){this.G=s(5,I),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vc,M)}function Z(_,S,D,F){t(_!=null),t(S!=null),t(2147483648>F),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=S,_.pa=D,_.Jd=S,_.Yc=D+F,_.Zc=4<=F?D+F-4+1:D,ae(_)}function Q(_,S){for(var D=0;0<S--;)D|=le(_,128)<<S;return D}function K(_,S){var D=Q(_,S);return X(_)?-D:D}function W(_,S,D,F){var Y,ee=0;for(t(_!=null),t(S!=null),t(4294967288>F),_.Sb=F,_.Ra=0,_.u=0,_.h=0,4<F&&(F=4),Y=0;Y<F;++Y)ee+=S[D+Y]<<8*Y;_.Ra=ee,_.bb=F,_.oa=S,_.pa=D}function V(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Ko-8>>>0,++_.bb,_.u-=8;H(_)&&(_.h=1,_.u=0)}function $(_,S){if(t(0<=S),!_.h&&S<=$i){var D=q(_)&Fi[S];return _.u+=S,V(_),D}return _.h=1,_.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(_){return _.Ra>>>(_.u&Ko-1)>>>0}function H(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Ko}function z(_,S){_.u=S,_.h=H(_)}function J(_){_.u>=Xs&&(t(_.u>=Xs),V(_))}function ae(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function X(_){return Q(_,1)}function le(_,S){var D=_.Ca;0>_.b&&ae(_);var F=_.b,Y=D*S>>>8,ee=(_.I>>>F>Y)+0;for(ee?(D-=Y,_.I-=Y+1<<F>>>0):D=Y+1,F=D,Y=0;256<=F;)Y+=8,F>>=8;return F=7^Y+Vo[F],_.b-=F,_.Ca=(D<<F)-1,ee}function ge(_,S,D){_[S+0]=D>>24&255,_[S+1]=D>>16&255,_[S+2]=D>>8&255,_[S+3]=255&D}function de(_,S){return _[S+0]|_[S+1]<<8}function ke(_,S){return de(_,S)|_[S+2]<<16}function ve(_,S){return de(_,S)|de(_,S+2)<<16}function ie(_,S){var D=1<<S;return t(_!=null),t(0<S),_.X=a(D),_.X==null?0:(_.Mb=32-S,_.Xa=S,1)}function We(_,S){t(_!=null),t(S!=null),t(_.Xa==S.Xa),n(S.X,0,_.X,0,1<<S.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function xe(_,S,D,F){t(D!=null),t(F!=null);var Y=D[0],ee=F[0];return Y==0&&(Y=(_*ee+S/2)/S),ee==0&&(ee=(S*Y+_/2)/_),0>=Y||0>=ee?0:(D[0]=Y,F[0]=ee,1)}function fe(_,S){return _+(1<<S)-1>>>S}function he(_,S){return((4278255360&_)+(4278255360&S)>>>0&4278255360)+((16711935&_)+(16711935&S)>>>0&16711935)>>>0}function pe(_,S){P[S]=function(D,F,Y,ee,te,re,ne){var se;for(se=0;se<te;++se){var me=P[_](re[ne+se-1],Y,ee+se);re[ne+se]=he(D[F+se],me)}}}function be(){this.ud=this.hd=this.jd=0}function Ce(_,S){return((4278124286&(_^S))>>>1)+(_&S)>>>0}function Me(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Ie(_,S){return Me(_+(_-S+.5>>1))}function He(_,S,D){return Math.abs(S-D)-Math.abs(_-D)}function Ze(_,S,D,F,Y,ee,te){for(F=ee[te-1],D=0;D<Y;++D)ee[te+D]=F=he(_[S+D],F)}function $e(_,S,D,F,Y){var ee;for(ee=0;ee<D;++ee){var te=_[S+ee],re=te>>8&255,ne=16711935&(ne=(ne=16711935&te)+((re<<16)+re));F[Y+ee]=(4278255360&te)+ne>>>0}}function Ve(_,S){S.jd=255&_,S.hd=_>>8&255,S.ud=_>>16&255}function ze(_,S,D,F,Y,ee){var te;for(te=0;te<F;++te){var re=S[D+te],ne=re>>>8,se=re,me=255&(me=(me=re>>>16)+((_.jd<<24>>24)*(ne<<24>>24)>>>5));se=255&(se=(se+=(_.hd<<24>>24)*(ne<<24>>24)>>>5)+((_.ud<<24>>24)*(me<<24>>24)>>>5)),Y[ee+te]=(4278255360&re)+(me<<16)+se}}function Ke(_,S,D,F,Y){P[S]=function(ee,te,re,ne,se,me,Se,oe,ye){for(ne=Se;ne<oe;++ne)for(Se=0;Se<ye;++Se)se[me++]=Y(re[F(ee[te++])])},P[_]=function(ee,te,re,ne,se,me,Se){var oe=8>>ee.b,ye=ee.Ea,_e=ee.K[0],Ae=ee.w;if(8>oe)for(ee=(1<<ee.b)-1,Ae=(1<<oe)-1;te<re;++te){var Ne,Ee=0;for(Ne=0;Ne<ye;++Ne)Ne&ee||(Ee=F(ne[se++])),me[Se++]=Y(_e[Ee&Ae]),Ee>>=oe}else P["VP8LMapColor"+D](ne,se,_e,Ae,me,Se,te,re,ye)}}function ct(_,S,D,F,Y){for(D=S+D;S<D;){var ee=_[S++];F[Y++]=ee>>16&255,F[Y++]=ee>>8&255,F[Y++]=255&ee}}function ht(_,S,D,F,Y){for(D=S+D;S<D;){var ee=_[S++];F[Y++]=ee>>16&255,F[Y++]=ee>>8&255,F[Y++]=255&ee,F[Y++]=ee>>24&255}}function Ge(_,S,D,F,Y){for(D=S+D;S<D;){var ee=(te=_[S++])>>16&240|te>>12&15,te=240&te|te>>28&15;F[Y++]=ee,F[Y++]=te}}function ft(_,S,D,F,Y){for(D=S+D;S<D;){var ee=(te=_[S++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;F[Y++]=ee,F[Y++]=te}}function Dt(_,S,D,F,Y){for(D=S+D;S<D;){var ee=_[S++];F[Y++]=255&ee,F[Y++]=ee>>8&255,F[Y++]=ee>>16&255}}function dt(_,S,D,F,Y,ee){if(ee==0)for(D=S+D;S<D;)ge(F,((ee=_[S++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else n(F,Y,_,S,D)}function Ot(_,S){P[S][0]=P[_+"0"],P[S][1]=P[_+"1"],P[S][2]=P[_+"2"],P[S][3]=P[_+"3"],P[S][4]=P[_+"4"],P[S][5]=P[_+"5"],P[S][6]=P[_+"6"],P[S][7]=P[_+"7"],P[S][8]=P[_+"8"],P[S][9]=P[_+"9"],P[S][10]=P[_+"10"],P[S][11]=P[_+"11"],P[S][12]=P[_+"12"],P[S][13]=P[_+"13"],P[S][14]=P[_+"0"],P[S][15]=P[_+"0"]}function bt(_){return _==X1||_==J1||_==Dm||_==Z1}function lr(){this.eb=[],this.size=this.A=this.fb=0}function cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new lr,this.f.kb=new cn,this.sd=null}function wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jl(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Kn(_,S){var D=_.T,F=S.ba.f.RGBA,Y=F.eb,ee=F.fb+_.ka*F.A,te=_a[S.ba.S],re=_.y,ne=_.O,se=_.f,me=_.N,Se=_.ea,oe=_.W,ye=S.cc,_e=S.dc,Ae=S.Mc,Ne=S.Nc,Ee=_.ka,Pe=_.ka+_.T,Re=_.U,Te=Re+1>>1;for(Ee==0?te(re,ne,null,null,se,me,Se,oe,se,me,Se,oe,Y,ee,null,null,Re):(te(S.ec,S.fc,re,ne,ye,_e,Ae,Ne,se,me,Se,oe,Y,ee-F.A,Y,ee,Re),++D);Ee+2<Pe;Ee+=2)ye=se,_e=me,Ae=Se,Ne=oe,me+=_.Rc,oe+=_.Rc,ee+=2*F.A,te(re,(ne+=2*_.fa)-_.fa,re,ne,ye,_e,Ae,Ne,se,me,Se,oe,Y,ee-F.A,Y,ee,Re);return ne+=_.fa,_.j+Pe<_.o?(n(S.ec,S.fc,re,ne,Re),n(S.cc,S.dc,se,me,Te),n(S.Mc,S.Nc,Se,oe,Te),D--):1&Pe||te(re,ne,null,null,se,me,Se,oe,se,me,Se,oe,Y,ee+F.A,null,null,Re),D}function Us(_,S,D){var F=_.F,Y=[_.J];if(F!=null){var ee=_.U,te=S.ba.S,re=te==Rm||te==Dm;S=S.ba.f.RGBA;var ne=[0],se=_.ka;ne[0]=_.T,_.Kb&&(se==0?--ne[0]:(--se,Y[0]-=_.width),_.j+_.ka+_.T==_.o&&(ne[0]=_.o-_.j-se));var me=S.eb;se=S.fb+se*S.A,_=cj(F,Y[0],_.width,ee,ne,me,se+(re?0:3),S.A),t(D==ne),_&&bt(te)&&Yf(me,se,re,ee,ne,S.A)}return 0}function ms(_){var S=_.ma,D=S.ba.S,F=11>D,Y=D==Lm||D==Im||D==Rm||D==Y1||D==12||bt(D);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Uf(S.Oa,_,Y?11:12))return 0;if(Y&&bt(D)&&Am(),_.da)alert("todo:use_scaling");else{if(F){if(S.Ib=Jl,_.Kb){if(D=_.U+1>>1,S.memory=a(_.U+2*D),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+_.U,S.Mc=S.cc,S.Nc=S.dc+D,S.Ib=Kn,Am()}}else alert("todo:EmitYUV");Y&&(S.Jb=Us,F&&ya())}if(F&&!jj){for(_=0;256>_;++_)P9[_]=89858*(_-128)+Bm>>Mm,L9[_]=-22014*(_-128)+Bm,T9[_]=-45773*(_-128),C9[_]=113618*(_-128)+Bm>>Mm;for(_=Jf;_<tb;++_)S=76283*(_-16)+Bm>>Mm,I9[_-Jf]=Tr(S,255),R9[_-Jf]=Tr(S+8>>4,15);jj=1}return 1}function pt(_){var S=_.ma,D=_.U,F=_.T;return t(!(1&_.ka)),0>=D||0>=F?0:(D=S.Ib(_,S),S.Jb!=null&&S.Jb(_,S,D),S.Dc+=D,1)}function qs(_){_.ma.memory=null}function zs(_,S,D,F){return $(_,8)!=47?0:(S[0]=$(_,14)+1,D[0]=$(_,14)+1,F[0]=$(_,1),$(_,3)!=0?0:!_.h)}function pa(_,S){if(4>_)return _+1;var D=_-2>>1;return(2+(1&_)<<D)+$(S,D)+1}function ma(_,S){return 120<S?S-120:1<=(D=((D=g9[S-1])>>4)*_+(8-(15&D)))?D:1;var D}function Cr(_,S,D){var F=q(D),Y=_[S+=255&F].g-8;return 0<Y&&(z(D,D.u+8),F=q(D),S+=_[S].value,S+=F&(1<<Y)-1),z(D,D.u+_[S].g),_[S].value}function kn(_,S,D){return D.g+=_.g,D.value+=_.value<<S>>>0,t(8>=D.g),_.g}function Rn(_,S,D){var F=_.xc;return t((S=F==0?0:_.vc[_.md*(D>>F)+(S>>F)])<_.Wb),_.Ya[S]}function Zl(_,S,D,F){var Y=_.ab,ee=_.c*S,te=_.C;S=te+S;var re=D,ne=F;for(F=_.Ta,D=_.Ua;0<Y--;){var se=_.gc[Y],me=te,Se=S,oe=re,ye=ne,_e=(ne=F,re=D,se.Ea);switch(t(me<Se),t(Se<=se.nc),se.hc){case 2:Fr(oe,ye,(Se-me)*_e,ne,re);break;case 0:var Ae=me,Ne=Se,Ee=ne,Pe=re,Re=(nt=se).Ea;Ae==0&&(zf(oe,ye,null,null,1,Ee,Pe),Ze(oe,ye+1,0,0,Re-1,Ee,Pe+1),ye+=Re,Pe+=Re,++Ae);for(var Te=1<<nt.b,ot=Te-1,Je=fe(Re,nt.b),At=nt.K,nt=nt.w+(Ae>>nt.b)*Je;Ae<Ne;){var Tt=At,fn=nt,Et=1;for(Mu(oe,ye,Ee,Pe-Re,1,Ee,Pe);Et<Re;){var it=(Et&~ot)+Te;it>Re&&(it=Re),(0,Hf[Tt[fn++]>>8&15])(oe,ye+ +Et,Ee,Pe+Et-Re,it-Et,Ee,Pe+Et),Et=it}ye+=Re,Pe+=Re,++Ae&ot||(nt+=Je)}Se!=se.nc&&n(ne,re-_e,ne,re+(Se-me-1)*_e,_e);break;case 1:for(_e=oe,Ne=ye,Re=(oe=se.Ea)-(Pe=oe&~(Ee=(ye=1<<se.b)-1)),Ae=fe(oe,se.b),Te=se.K,se=se.w+(me>>se.b)*Ae;me<Se;){for(ot=Te,Je=se,At=new be,nt=Ne+Pe,Tt=Ne+oe;Ne<nt;)Ve(ot[Je++],At),Kf(At,_e,Ne,ye,ne,re),Ne+=ye,re+=ye;Ne<Tt&&(Ve(ot[Je++],At),Kf(At,_e,Ne,Re,ne,re),Ne+=Re,re+=Re),++me&Ee||(se+=Ae)}break;case 3:if(oe==ne&&ye==re&&0<se.b){for(Ne=ne,oe=_e=re+(Se-me)*_e-(Pe=(Se-me)*fe(se.Ea,se.b)),ye=ne,Ee=re,Ae=[],Pe=(Re=Pe)-1;0<=Pe;--Pe)Ae[Pe]=ye[Ee+Pe];for(Pe=Re-1;0<=Pe;--Pe)Ne[oe+Pe]=Ae[Pe];Om(se,me,Se,ne,_e,ne,re)}else Om(se,me,Se,oe,ye,ne,re)}re=F,ne=D}ne!=D&&n(F,D,re,ne,ee)}function Uo(_,S){var D=_.V,F=_.Ba+_.c*_.C,Y=S-_.C;if(t(S<=_.l.o),t(16>=Y),0<Y){var ee=_.l,te=_.Ta,re=_.Ua,ne=ee.width;if(Zl(_,Y,D,F),Y=re=[re],t((D=_.C)<(F=S)),t(ee.v<ee.va),F>ee.o&&(F=ee.o),D<ee.j){var se=ee.j-D;D=ee.j,Y[0]+=se*ne}if(D>=F?D=0:(Y[0]+=4*ee.v,ee.ka=D-ee.j,ee.U=ee.va-ee.v,ee.T=F-D,D=1),D){if(re=re[0],11>(D=_.ca).S){var me=D.f.RGBA,Se=(F=D.S,Y=ee.U,ee=ee.T,se=me.eb,me.A),oe=ee;for(me=me.fb+_.Ma*me.A;0<oe--;){var ye=te,_e=re,Ae=Y,Ne=se,Ee=me;switch(F){case Tm:Vf(ye,_e,Ae,Ne,Ee);break;case Lm:Go(ye,_e,Ae,Ne,Ee);break;case X1:Go(ye,_e,Ae,Ne,Ee),Yf(Ne,Ee,0,Ae,1,0);break;case gj:yc(ye,_e,Ae,Ne,Ee);break;case Im:dt(ye,_e,Ae,Ne,Ee,1);break;case J1:dt(ye,_e,Ae,Ne,Ee,1),Yf(Ne,Ee,0,Ae,1,0);break;case Rm:dt(ye,_e,Ae,Ne,Ee,0);break;case Dm:dt(ye,_e,Ae,Ne,Ee,0),Yf(Ne,Ee,1,Ae,1,0);break;case Y1:Yo(ye,_e,Ae,Ne,Ee);break;case Z1:Yo(ye,_e,Ae,Ne,Ee),lj(Ne,Ee,Ae,1,0);break;case vj:Xo(ye,_e,Ae,Ne,Ee);break;default:t(0)}re+=ne,me+=Se}_.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=D.height)}}_.C=S,t(_.C<=_.i)}function Ua(_){var S;if(0<_.ua)return 0;for(S=0;S<_.Wb;++S){var D=_.Ya[S].G,F=_.Ya[S].H;if(0<D[1][F[1]+0].g||0<D[2][F[2]+0].g||0<D[3][F[3]+0].g)return 0}return 1}function gs(_,S,D,F,Y,ee){if(_.Z!=0){var te=_.qd,re=_.rd;for(t(Qo[_.Z]!=null);S<D;++S)Qo[_.Z](te,re,F,Y,F,Y,ee),te=F,re=Y,Y+=ee;_.qd=te,_.rd=re}}function qa(_,S){var D=_.l.ma,F=D.Z==0||D.Z==1?_.l.j:_.C;if(F=_.C<F?F:_.C,t(S<=_.l.o),S>F){var Y=_.l.width,ee=D.ca,te=D.tb+Y*F,re=_.V,ne=_.Ba+_.c*F,se=_.gc;t(_.ab==1),t(se[0].hc==3),xs(se[0],F,S,re,ne,ee,te),gs(D,F,S,ee,te,Y)}_.C=_.Ma=S}function za(_,S,D,F,Y,ee,te){var re=_.$/F,ne=_.$%F,se=_.m,me=_.s,Se=D+_.$,oe=Se;Y=D+F*Y;var ye=D+F*ee,_e=280+me.ua,Ae=_.Pb?re:16777216,Ne=0<me.ua?me.Wa:null,Ee=me.wc,Pe=Se<ye?Rn(me,ne,re):null;t(_.C<ee),t(ye<=Y);var Re=!1;e:for(;;){for(;Re||Se<ye;){var Te=0;if(re>=Ae){var ot=Se-D;t((Ae=_).Pb),Ae.wd=Ae.m,Ae.xd=ot,0<Ae.s.ua&&We(Ae.s.Wa,Ae.s.vb),Ae=re+y9}if(ne&Ee||(Pe=Rn(me,ne,re)),t(Pe!=null),Pe.Qb&&(S[Se]=Pe.qb,Re=!0),!Re)if(J(se),Pe.jc){Te=se,ot=S;var Je=Se,At=Pe.pd[q(Te)&vc-1];t(Pe.jc),256>At.g?(z(Te,Te.u+At.g),ot[Je]=At.value,Te=0):(z(Te,Te.u+At.g-256),t(256<=At.value),Te=At.value),Te==0&&(Re=!0)}else Te=Cr(Pe.G[0],Pe.H[0],se);if(se.h)break;if(Re||256>Te){if(!Re)if(Pe.nd)S[Se]=(Pe.qb|Te<<8)>>>0;else{if(J(se),Re=Cr(Pe.G[1],Pe.H[1],se),J(se),ot=Cr(Pe.G[2],Pe.H[2],se),Je=Cr(Pe.G[3],Pe.H[3],se),se.h)break;S[Se]=(Je<<24|Re<<16|Te<<8|ot)>>>0}if(Re=!1,++Se,++ne>=F&&(ne=0,++re,te!=null&&re<=ee&&!(re%16)&&te(_,re),Ne!=null))for(;oe<Se;)Te=S[oe++],Ne.X[(506832829*Te&4294967295)>>>Ne.Mb]=Te}else if(280>Te){if(Te=pa(Te-256,se),ot=Cr(Pe.G[4],Pe.H[4],se),J(se),ot=ma(F,ot=pa(ot,se)),se.h)break;if(Se-D<ot||Y-Se<Te)break e;for(Je=0;Je<Te;++Je)S[Se+Je]=S[Se+Je-ot];for(Se+=Te,ne+=Te;ne>=F;)ne-=F,++re,te!=null&&re<=ee&&!(re%16)&&te(_,re);if(t(Se<=Y),ne&Ee&&(Pe=Rn(me,ne,re)),Ne!=null)for(;oe<Se;)Te=S[oe++],Ne.X[(506832829*Te&4294967295)>>>Ne.Mb]=Te}else{if(!(Te<_e))break e;for(Re=Te-280,t(Ne!=null);oe<Se;)Te=S[oe++],Ne.X[(506832829*Te&4294967295)>>>Ne.Mb]=Te;Te=Se,t(!(Re>>>(ot=Ne).Xa)),S[Te]=ot.X[Re],Re=!0}Re||t(se.h==H(se))}if(_.Pb&&se.h&&Se<Y)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&We(_.s.vb,_.s.Wa);else{if(se.h)break e;te!=null&&te(_,re>ee?ee:re),_.a=0,_.$=Se-D}return 1}return _.a=3,0}function ga(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var S=_.Wa;S!=null&&(S.X=null),_.vb=null,t(_!=null)}function Ql(){var _=new st;return _==null?null:(_.a=0,_.xb=xj,Ot("Predictor","VP8LPredictors"),Ot("Predictor","VP8LPredictors_C"),Ot("PredictorAdd","VP8LPredictorsAdd"),Ot("PredictorAdd","VP8LPredictorsAdd_C"),Fr=$e,Kf=ze,Vf=ct,Go=ht,Yo=Ge,Xo=ft,yc=Dt,P.VP8LMapColor32b=bs,P.VP8LMapColor8b=Wf,_)}function vs(_,S,D,F,Y){var ee=1,te=[_],re=[S],ne=F.m,se=F.s,me=null,Se=0;e:for(;;){if(D)for(;ee&&$(ne,1);){var oe=te,ye=re,_e=F,Ae=1,Ne=_e.m,Ee=_e.gc[_e.ab],Pe=$(Ne,2);if(_e.Oc&1<<Pe)ee=0;else{switch(_e.Oc|=1<<Pe,Ee.hc=Pe,Ee.Ea=oe[0],Ee.nc=ye[0],Ee.K=[null],++_e.ab,t(4>=_e.ab),Pe){case 0:case 1:Ee.b=$(Ne,3)+2,Ae=vs(fe(Ee.Ea,Ee.b),fe(Ee.nc,Ee.b),0,_e,Ee.K),Ee.K=Ee.K[0];break;case 3:var Re,Te=$(Ne,8)+1,ot=16<Te?0:4<Te?1:2<Te?2:3;if(oe[0]=fe(Ee.Ea,ot),Ee.b=ot,Re=Ae=vs(Te,1,0,_e,Ee.K)){var Je,At=Te,nt=Ee,Tt=1<<(8>>nt.b),fn=a(Tt);if(fn==null)Re=0;else{var Et=nt.K[0],it=nt.w;for(fn[0]=nt.K[0][0],Je=1;Je<1*At;++Je)fn[Je]=he(Et[it+Je],fn[Je-1]);for(;Je<4*Tt;++Je)fn[Je]=0;nt.K[0]=null,nt.K[0]=fn,Re=1}}Ae=Re;break;case 2:break;default:t(0)}ee=Ae}}if(te=te[0],re=re[0],ee&&$(ne,1)&&!(ee=1<=(Se=$(ne,4))&&11>=Se)){F.a=3;break e}var Ue;if(Ue=ee)t:{var Ur,kt,It,cr=F,Mn=te,li=re,Lr=Se,Gn=D,ci=cr.m,hn=cr.s,Mt=[null],Ht=1,Ir=0,Kt=v9[Lr];r:for(;;){if(Gn&&$(ci,1)){var Bn=$(ci,3)+2,Ka=fe(Mn,Bn),qr=fe(li,Bn),Si=Ka*qr;if(!vs(Ka,qr,0,cr,Mt))break r;for(Mt=Mt[0],hn.xc=Bn,Ur=0;Ur<Si;++Ur){var Zt=Mt[Ur]>>8&65535;Mt[Ur]=Zt,Zt>=Ht&&(Ht=Zt+1)}}if(ci.h)break r;for(kt=0;5>kt;++kt){var pn=yj[kt];!kt&&0<Lr&&(pn+=1<<Lr),Ir<pn&&(Ir=pn)}var qi=s(Ht*Kt,I),ui=Ht,zi=s(ui,U);if(zi==null)var Wi=null;else t(65536>=ui),Wi=zi;var ji=a(Ir);if(Wi==null||ji==null||qi==null){cr.a=1;break r}var Hi=qi;for(Ur=It=0;Ur<Ht;++Ur){var nr=Wi[Ur],Ki=nr.G,Va=nr.H,xc=0,Qs=1,Fn=0;for(kt=0;5>kt;++kt){pn=yj[kt],Ki[kt]=Hi,Va[kt]=It,!kt&&0<Lr&&(pn+=1<<Lr);i:{var $m,rb=pn,Um=cr,Zf=ji,B9=Hi,F9=It,nb=0,el=Um.m,$9=$(el,1);if(i(Zf,0,0,rb),$9){var U9=$(el,1)+1,q9=$(el,1),Ej=$(el,q9==0?1:8);Zf[Ej]=1,U9==2&&(Zf[Ej=$(el,8)]=1);var qm=1}else{var Oj=a(19),Pj=$(el,4)+4;if(19<Pj){Um.a=3;var zm=0;break i}for($m=0;$m<Pj;++$m)Oj[m9[$m]]=$(el,3);var ib=void 0,Qf=void 0,Cj=Um,z9=Oj,Wm=rb,Tj=Zf,ab=0,tl=Cj.m,Lj=8,Ij=s(128,I);n:for(;E(Ij,0,7,z9,19);){if($(tl,1)){var W9=2+2*$(tl,3);if((ib=2+$(tl,W9))>Wm)break n}else ib=Wm;for(Qf=0;Qf<Wm&&ib--;){J(tl);var Rj=Ij[0+(127&q(tl))];z(tl,tl.u+Rj.g);var Fu=Rj.value;if(16>Fu)Tj[Qf++]=Fu,Fu!=0&&(Lj=Fu);else{var H9=Fu==16,Dj=Fu-16,K9=h9[Dj],Mj=$(tl,f9[Dj])+K9;if(Qf+Mj>Wm)break n;for(var V9=H9?Lj:0;0<Mj--;)Tj[Qf++]=V9}}ab=1;break n}ab||(Cj.a=3),qm=ab}(qm=qm&&!el.h)&&(nb=E(B9,F9,8,Zf,rb)),qm&&nb!=0?zm=nb:(Um.a=3,zm=0)}if(zm==0)break r;if(Qs&&p9[kt]==1&&(Qs=Hi[It].g==0),xc+=Hi[It].g,It+=zm,3>=kt){var eh,sb=ji[0];for(eh=1;eh<pn;++eh)ji[eh]>sb&&(sb=ji[eh]);Fn+=sb}}if(nr.nd=Qs,nr.Qb=0,Qs&&(nr.qb=(Ki[3][Va[3]+0].value<<24|Ki[1][Va[1]+0].value<<16|Ki[2][Va[2]+0].value)>>>0,xc==0&&256>Ki[0][Va[0]+0].value&&(nr.Qb=1,nr.qb+=Ki[0][Va[0]+0].value<<8)),nr.jc=!nr.Qb&&6>Fn,nr.jc){var Hm,eo=nr;for(Hm=0;Hm<vc;++Hm){var rl=Hm,nl=eo.pd[rl],Km=eo.G[0][eo.H[0]+rl];256<=Km.value?(nl.g=Km.g+256,nl.value=Km.value):(nl.g=0,nl.value=0,rl>>=kn(Km,8,nl),rl>>=kn(eo.G[1][eo.H[1]+rl],16,nl),rl>>=kn(eo.G[2][eo.H[2]+rl],0,nl),kn(eo.G[3][eo.H[3]+rl],24,nl))}}}hn.vc=Mt,hn.Wb=Ht,hn.Ya=Wi,hn.yc=qi,Ue=1;break t}Ue=0}if(!(ee=Ue)){F.a=3;break e}if(0<Se){if(se.ua=1<<Se,!ie(se.Wa,Se)){F.a=1,ee=0;break e}}else se.ua=0;var ob=F,Bj=te,G9=re,lb=ob.s,cb=lb.xc;if(ob.c=Bj,ob.i=G9,lb.md=fe(Bj,cb),lb.wc=cb==0?-1:(1<<cb)-1,D){F.xb=j9;break e}if((me=a(te*re))==null){F.a=1,ee=0;break e}ee=(ee=za(F,me,0,te,re,re,null))&&!ne.h;break e}return ee?(Y!=null?Y[0]=me:(t(me==null),t(D)),F.$=0,D||ga(se)):ga(se),ee}function ec(_,S){var D=_.c*_.i,F=D+S+16*S;return t(_.c<=S),_.V=a(F),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+D+S,1)}function Au(_,S){var D=_.C,F=S-D,Y=_.V,ee=_.Ba+_.c*D;for(t(S<=_.l.o);0<F;){var te=16<F?16:F,re=_.l.ma,ne=_.l.width,se=ne*te,me=re.ca,Se=re.tb+ne*D,oe=_.Ta,ye=_.Ua;Zl(_,te,Y,ee),uj(oe,ye,me,Se,se),gs(re,D,D+te,me,Se,ne),F-=te,Y+=te*_.c,D+=te}t(D==S),_.C=_.Ma=S}function Eu(){this.ub=this.yd=this.td=this.Rb=0}function Ou(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function T1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Af(){this.Yb=function(){var _=[];return function S(D,F,Y){for(var ee=Y[F],te=0;te<ee&&(D.push(Y.length>F+1?[]:0),!(Y.length<F+1));te++)S(D[te],F+1,Y)}(_,0,[3,11]),_}()}function fm(){this.jb=a(3),this.Wc=o([4,8],Af),this.Xc=o([4,17],Af)}function hm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function Ef(){this.Na=this.la=0}function pm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Of(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mm(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new Of),this.aa=0,this.l=new Pu}function gm(){this.y=a(16),this.f=a(8),this.ea=a(8)}function vm(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Eu,this.Kc=new Ou,this.ed=new hm,this.Qa=new T1,this.Ic=this.$c=this.Aa=0,this.D=new mm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,R),this.ia=0,this.pb=s(4,pm),this.Pa=new fm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gm),this.Hd=0,this.rb=Array(new Ef),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Of),this.L=this.aa=0,this.gd=o([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function L1(){var _=new vm;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Xf||(Xf=Ws)),_}function Yr(_,S,D){return _.a==0&&(_.a=S,_.sc=D,_.cb=0),0}function ym(_,S,D){return 3<=D&&_[S+0]==157&&_[S+1]==1&&_[S+2]==42}function bm(_,S){if(_==null)return 0;if(_.a=0,_.sc="OK",S==null)return Yr(_,2,"null VP8Io passed to VP8GetHeaders()");var D=S.data,F=S.w,Y=S.ha;if(4>Y)return Yr(_,7,"Truncated header.");var ee=D[F+0]|D[F+1]<<8|D[F+2]<<16,te=_.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return Yr(_,3,"Incorrect keyframe parameters.");if(!te.yd)return Yr(_,4,"Frame not displayable.");F+=3,Y-=3;var re=_.Kc;if(te.Rb){if(7>Y)return Yr(_,7,"cannot parse picture header");if(!ym(D,F,Y))return Yr(_,3,"Bad code word");re.c=16383&(D[F+4]<<8|D[F+3]),re.Td=D[F+4]>>6,re.i=16383&(D[F+6]<<8|D[F+5]),re.Ud=D[F+6]>>6,F+=7,Y-=7,_.za=re.c+15>>4,_.Ub=re.i+15>>4,S.width=re.c,S.height=re.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((ee=_.Pa).jb,0,255,ee.jb.length),t((ee=_.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(te.ub>Y)return Yr(_,7,"bad partition length");Z(ee=_.m,D,F,te.ub),F+=te.ub,Y-=te.ub,te.Rb&&(re.Ld=X(ee),re.Kd=X(ee)),re=_.Qa;var ne,se=_.Pa;if(t(ee!=null),t(re!=null),re.Cb=X(ee),re.Cb){if(re.Bb=X(ee),X(ee)){for(re.Fb=X(ee),ne=0;4>ne;++ne)re.Zb[ne]=X(ee)?K(ee,7):0;for(ne=0;4>ne;++ne)re.Lb[ne]=X(ee)?K(ee,6):0}if(re.Bb)for(ne=0;3>ne;++ne)se.jb[ne]=X(ee)?Q(ee,8):255}else re.Bb=0;if(ee.Ka)return Yr(_,3,"cannot parse segment header");if((re=_.ed).zd=X(ee),re.Tb=Q(ee,6),re.wb=Q(ee,3),re.Pc=X(ee),re.Pc&&X(ee)){for(se=0;4>se;++se)X(ee)&&(re.vd[se]=K(ee,6));for(se=0;4>se;++se)X(ee)&&(re.od[se]=K(ee,6))}if(_.L=re.Tb==0?0:re.zd?1:2,ee.Ka)return Yr(_,3,"cannot parse filter header");var me=Y;if(Y=ne=F,F=ne+me,re=me,_.Xb=(1<<Q(_.m,2))-1,me<3*(se=_.Xb))D=7;else{for(ne+=3*se,re-=3*se,me=0;me<se;++me){var Se=D[Y+0]|D[Y+1]<<8|D[Y+2]<<16;Se>re&&(Se=re),Z(_.Jc[+me],D,ne,Se),ne+=Se,re-=Se,Y+=3}Z(_.Jc[+se],D,ne,re),D=ne<F?0:5}if(D!=0)return Yr(_,D,"cannot parse partitions");for(D=Q(ne=_.m,7),Y=X(ne)?K(ne,4):0,F=X(ne)?K(ne,4):0,re=X(ne)?K(ne,4):0,se=X(ne)?K(ne,4):0,ne=X(ne)?K(ne,4):0,me=_.Qa,Se=0;4>Se;++Se){if(me.Cb){var oe=me.Zb[Se];me.Fb||(oe+=D)}else{if(0<Se){_.pb[Se]=_.pb[0];continue}oe=D}var ye=_.pb[Se];ye.Sc[0]=Q1[Tr(oe+Y,127)],ye.Sc[1]=eb[Tr(oe+0,127)],ye.Eb[0]=2*Q1[Tr(oe+F,127)],ye.Eb[1]=101581*eb[Tr(oe+re,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Q1[Tr(oe+se,117)],ye.Qc[1]=eb[Tr(oe+ne,127)],ye.lc=oe+ne}if(!te.Rb)return Yr(_,4,"Not a key frame.");for(X(ee),te=_.Pa,D=0;4>D;++D){for(Y=0;8>Y;++Y)for(F=0;3>F;++F)for(re=0;11>re;++re)se=le(ee,N9[D][Y][F][re])?Q(ee,8):w9[D][Y][F][re],te.Wc[D][Y].Yb[F][re]=se;for(Y=0;17>Y;++Y)te.Xc[D][Y]=te.Wc[D][S9[Y]]}return _.kc=X(ee),_.kc&&(_.Bd=Q(ee,8)),_.cb=1}function Ws(_,S,D,F,Y,ee,te){var re=S[Y].Yb[D];for(D=0;16>Y;++Y){if(!le(_,re[D+0]))return Y;for(;!le(_,re[D+1]);)if(re=S[++Y].Yb[0],D=0,Y==16)return 16;var ne=S[Y+1].Yb;if(le(_,re[D+2])){var se=_,me=0;if(le(se,(oe=re)[(Se=D)+3]))if(le(se,oe[Se+6])){for(re=0,Se=2*(me=le(se,oe[Se+8]))+(oe=le(se,oe[Se+9+me])),me=0,oe=b9[Se];oe[re];++re)me+=me+le(se,oe[re]);me+=3+(8<<Se)}else le(se,oe[Se+7])?(me=7+2*le(se,165),me+=le(se,145)):me=5+le(se,159);else me=le(se,oe[Se+4])?3+le(se,oe[Se+5]):2;re=ne[2]}else me=1,re=ne[1];ne=te+x9[Y],0>(se=_).b&&ae(se);var Se,oe=se.b,ye=(Se=se.Ca>>1)-(se.I>>oe)>>31;--se.b,se.Ca+=ye,se.Ca|=1,se.I-=(Se+1&ye)<<oe,ee[ne]=((me^ye)-ye)*F[(0<Y)+0]}return 16}function tc(_){var S=_.rb[_.sb-1];S.la=0,S.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function Wa(_,S,D,F,Y){Y=_[S+D+32*F]+(Y>>3),_[S+D+32*F]=-256&Y?0>Y?0:255:Y}function rc(_,S,D,F,Y,ee){Wa(_,S,0,D,F+Y),Wa(_,S,1,D,F+ee),Wa(_,S,2,D,F-ee),Wa(_,S,3,D,F-Y)}function Br(_){return(20091*_>>16)+_}function Pf(_,S,D,F){var Y,ee=0,te=a(16);for(Y=0;4>Y;++Y){var re=_[S+0]+_[S+8],ne=_[S+0]-_[S+8],se=(35468*_[S+4]>>16)-Br(_[S+12]),me=Br(_[S+4])+(35468*_[S+12]>>16);te[ee+0]=re+me,te[ee+1]=ne+se,te[ee+2]=ne-se,te[ee+3]=re-me,ee+=4,S++}for(Y=ee=0;4>Y;++Y)re=(_=te[ee+0]+4)+te[ee+8],ne=_-te[ee+8],se=(35468*te[ee+4]>>16)-Br(te[ee+12]),Wa(D,F,0,0,re+(me=Br(te[ee+4])+(35468*te[ee+12]>>16))),Wa(D,F,1,0,ne+se),Wa(D,F,2,0,ne-se),Wa(D,F,3,0,re-me),ee++,F+=32}function I1(_,S,D,F){var Y=_[S+0]+4,ee=35468*_[S+4]>>16,te=Br(_[S+4]),re=35468*_[S+1]>>16;rc(D,F,0,Y+te,_=Br(_[S+1]),re),rc(D,F,1,Y+ee,_,re),rc(D,F,2,Y-ee,_,re),rc(D,F,3,Y-te,_,re)}function R1(_,S,D,F,Y){Pf(_,S,D,F),Y&&Pf(_,S+16,D,F+4)}function D1(_,S,D,F){bc(_,S+0,D,F,1),bc(_,S+32,D,F+128,1)}function ys(_,S,D,F){var Y;for(_=_[S+0]+4,Y=0;4>Y;++Y)for(S=0;4>S;++S)Wa(D,F,S,Y,_)}function xm(_,S,D,F){_[S+0]&&Wt(_,S+0,D,F),_[S+16]&&Wt(_,S+16,D,F+4),_[S+32]&&Wt(_,S+32,D,F+128),_[S+48]&&Wt(_,S+48,D,F+128+4)}function wm(_,S,D,F){var Y,ee=a(16);for(Y=0;4>Y;++Y){var te=_[S+0+Y]+_[S+12+Y],re=_[S+4+Y]+_[S+8+Y],ne=_[S+4+Y]-_[S+8+Y],se=_[S+0+Y]-_[S+12+Y];ee[0+Y]=te+re,ee[8+Y]=te-re,ee[4+Y]=se+ne,ee[12+Y]=se-ne}for(Y=0;4>Y;++Y)te=(_=ee[0+4*Y]+3)+ee[3+4*Y],re=ee[1+4*Y]+ee[2+4*Y],ne=ee[1+4*Y]-ee[2+4*Y],se=_-ee[3+4*Y],D[F+0]=te+re>>3,D[F+16]=se+ne>>3,D[F+32]=te-re>>3,D[F+48]=se-ne>>3,F+=64}function qo(_,S,D){var F,Y=S-32,ee=Ui,te=255-_[Y-1];for(F=0;F<D;++F){var re,ne=ee,se=te+_[S-1];for(re=0;re<D;++re)_[S+re]=ne[se+_[Y+re]];S+=32}}function Cf(_,S){qo(_,S,4)}function M1(_,S){qo(_,S,8)}function B1(_,S){qo(_,S,16)}function F1(_,S){var D;for(D=0;16>D;++D)n(_,S+32*D,_,S-32,16)}function Tf(_,S){var D;for(D=16;0<D;--D)i(_,S,_[S-1],16),S+=32}function nc(_,S,D){var F;for(F=0;16>F;++F)i(S,D+32*F,_,16)}function zo(_,S){var D,F=16;for(D=0;16>D;++D)F+=_[S-1+32*D]+_[S+D-32];nc(F>>5,_,S)}function $1(_,S){var D,F=8;for(D=0;16>D;++D)F+=_[S-1+32*D];nc(F>>4,_,S)}function ic(_,S){var D,F=8;for(D=0;16>D;++D)F+=_[S+D-32];nc(F>>4,_,S)}function Lf(_,S){nc(128,_,S)}function _t(_,S,D){return _+2*S+D+2>>2}function U1(_,S){var D,F=S-32;for(F=new Uint8Array([_t(_[F-1],_[F+0],_[F+1]),_t(_[F+0],_[F+1],_[F+2]),_t(_[F+1],_[F+2],_[F+3]),_t(_[F+2],_[F+3],_[F+4])]),D=0;4>D;++D)n(_,S+32*D,F,0,F.length)}function q1(_,S){var D=_[S-1],F=_[S-1+32],Y=_[S-1+64],ee=_[S-1+96];ge(_,S+0,16843009*_t(_[S-1-32],D,F)),ge(_,S+32,16843009*_t(D,F,Y)),ge(_,S+64,16843009*_t(F,Y,ee)),ge(_,S+96,16843009*_t(Y,ee,ee))}function z1(_,S){var D,F=4;for(D=0;4>D;++D)F+=_[S+D-32]+_[S-1+32*D];for(F>>=3,D=0;4>D;++D)i(_,S+32*D,F,4)}function W1(_,S){var D=_[S-1+0],F=_[S-1+32],Y=_[S-1+64],ee=_[S-1-32],te=_[S+0-32],re=_[S+1-32],ne=_[S+2-32],se=_[S+3-32];_[S+0+96]=_t(F,Y,_[S-1+96]),_[S+1+96]=_[S+0+64]=_t(D,F,Y),_[S+2+96]=_[S+1+64]=_[S+0+32]=_t(ee,D,F),_[S+3+96]=_[S+2+64]=_[S+1+32]=_[S+0+0]=_t(te,ee,D),_[S+3+64]=_[S+2+32]=_[S+1+0]=_t(re,te,ee),_[S+3+32]=_[S+2+0]=_t(ne,re,te),_[S+3+0]=_t(se,ne,re)}function Hs(_,S){var D=_[S+1-32],F=_[S+2-32],Y=_[S+3-32],ee=_[S+4-32],te=_[S+5-32],re=_[S+6-32],ne=_[S+7-32];_[S+0+0]=_t(_[S+0-32],D,F),_[S+1+0]=_[S+0+32]=_t(D,F,Y),_[S+2+0]=_[S+1+32]=_[S+0+64]=_t(F,Y,ee),_[S+3+0]=_[S+2+32]=_[S+1+64]=_[S+0+96]=_t(Y,ee,te),_[S+3+32]=_[S+2+64]=_[S+1+96]=_t(ee,te,re),_[S+3+64]=_[S+2+96]=_t(te,re,ne),_[S+3+96]=_t(re,ne,ne)}function Ks(_,S){var D=_[S-1+0],F=_[S-1+32],Y=_[S-1+64],ee=_[S-1-32],te=_[S+0-32],re=_[S+1-32],ne=_[S+2-32],se=_[S+3-32];_[S+0+0]=_[S+1+64]=ee+te+1>>1,_[S+1+0]=_[S+2+64]=te+re+1>>1,_[S+2+0]=_[S+3+64]=re+ne+1>>1,_[S+3+0]=ne+se+1>>1,_[S+0+96]=_t(Y,F,D),_[S+0+64]=_t(F,D,ee),_[S+0+32]=_[S+1+96]=_t(D,ee,te),_[S+1+32]=_[S+2+96]=_t(ee,te,re),_[S+2+32]=_[S+3+96]=_t(te,re,ne),_[S+3+32]=_t(re,ne,se)}function H1(_,S){var D=_[S+0-32],F=_[S+1-32],Y=_[S+2-32],ee=_[S+3-32],te=_[S+4-32],re=_[S+5-32],ne=_[S+6-32],se=_[S+7-32];_[S+0+0]=D+F+1>>1,_[S+1+0]=_[S+0+64]=F+Y+1>>1,_[S+2+0]=_[S+1+64]=Y+ee+1>>1,_[S+3+0]=_[S+2+64]=ee+te+1>>1,_[S+0+32]=_t(D,F,Y),_[S+1+32]=_[S+0+96]=_t(F,Y,ee),_[S+2+32]=_[S+1+96]=_t(Y,ee,te),_[S+3+32]=_[S+2+96]=_t(ee,te,re),_[S+3+64]=_t(te,re,ne),_[S+3+96]=_t(re,ne,se)}function K1(_,S){var D=_[S-1+0],F=_[S-1+32],Y=_[S-1+64],ee=_[S-1+96];_[S+0+0]=D+F+1>>1,_[S+2+0]=_[S+0+32]=F+Y+1>>1,_[S+2+32]=_[S+0+64]=Y+ee+1>>1,_[S+1+0]=_t(D,F,Y),_[S+3+0]=_[S+1+32]=_t(F,Y,ee),_[S+3+32]=_[S+1+64]=_t(Y,ee,ee),_[S+3+64]=_[S+2+64]=_[S+0+96]=_[S+1+96]=_[S+2+96]=_[S+3+96]=ee}function Cu(_,S){var D=_[S-1+0],F=_[S-1+32],Y=_[S-1+64],ee=_[S-1+96],te=_[S-1-32],re=_[S+0-32],ne=_[S+1-32],se=_[S+2-32];_[S+0+0]=_[S+2+32]=D+te+1>>1,_[S+0+32]=_[S+2+64]=F+D+1>>1,_[S+0+64]=_[S+2+96]=Y+F+1>>1,_[S+0+96]=ee+Y+1>>1,_[S+3+0]=_t(re,ne,se),_[S+2+0]=_t(te,re,ne),_[S+1+0]=_[S+3+32]=_t(D,te,re),_[S+1+32]=_[S+3+64]=_t(F,D,te),_[S+1+64]=_[S+3+96]=_t(Y,F,D),_[S+1+96]=_t(ee,Y,F)}function If(_,S){var D;for(D=0;8>D;++D)n(_,S+32*D,_,S-32,8)}function ac(_,S){var D;for(D=0;8>D;++D)i(_,S,_[S-1],8),S+=32}function Tu(_,S,D){var F;for(F=0;8>F;++F)i(S,D+32*F,_,8)}function Lu(_,S){var D,F=8;for(D=0;8>D;++D)F+=_[S+D-32]+_[S-1+32*D];Tu(F>>4,_,S)}function V1(_,S){var D,F=4;for(D=0;8>D;++D)F+=_[S+D-32];Tu(F>>3,_,S)}function Rf(_,S){var D,F=4;for(D=0;8>D;++D)F+=_[S-1+32*D];Tu(F>>3,_,S)}function Df(_,S){Tu(128,_,S)}function sc(_,S,D){var F=_[S-D],Y=_[S+0],ee=3*(Y-F)+G1[1020+_[S-2*D]-_[S+D]],te=Cm[112+(ee+4>>3)];_[S-D]=Ui[255+F+Cm[112+(ee+3>>3)]],_[S+0]=Ui[255+Y-te]}function oc(_,S,D,F){var Y=_[S+0],ee=_[S+D];return wa[255+_[S-2*D]-_[S-D]]>F||wa[255+ee-Y]>F}function Mf(_,S,D,F){return 4*wa[255+_[S-D]-_[S+0]]+wa[255+_[S-2*D]-_[S+D]]<=F}function Iu(_,S,D,F,Y){var ee=_[S-3*D],te=_[S-2*D],re=_[S-D],ne=_[S+0],se=_[S+D],me=_[S+2*D],Se=_[S+3*D];return 4*wa[255+re-ne]+wa[255+te-se]>F?0:wa[255+_[S-4*D]-ee]<=Y&&wa[255+ee-te]<=Y&&wa[255+te-re]<=Y&&wa[255+Se-me]<=Y&&wa[255+me-se]<=Y&&wa[255+se-ne]<=Y}function Bf(_,S,D,F){var Y=2*F+1;for(F=0;16>F;++F)Mf(_,S+F,D,Y)&&sc(_,S+F,D)}function lc(_,S,D,F){var Y=2*F+1;for(F=0;16>F;++F)Mf(_,S+F*D,1,Y)&&sc(_,S+F*D,1)}function _m(_,S,D,F){var Y;for(Y=3;0<Y;--Y)Bf(_,S+=4*D,D,F)}function Nm(_,S,D,F){var Y;for(Y=3;0<Y;--Y)lc(_,S+=4,D,F)}function Vs(_,S,D,F,Y,ee,te,re){for(ee=2*ee+1;0<Y--;){if(Iu(_,S,D,ee,te))if(oc(_,S,D,re))sc(_,S,D);else{var ne=_,se=S,me=D,Se=ne[se-2*me],oe=ne[se-me],ye=ne[se+0],_e=ne[se+me],Ae=ne[se+2*me],Ne=27*(Pe=G1[1020+3*(ye-oe)+G1[1020+Se-_e]])+63>>7,Ee=18*Pe+63>>7,Pe=9*Pe+63>>7;ne[se-3*me]=Ui[255+ne[se-3*me]+Pe],ne[se-2*me]=Ui[255+Se+Ee],ne[se-me]=Ui[255+oe+Ne],ne[se+0]=Ui[255+ye-Ne],ne[se+me]=Ui[255+_e-Ee],ne[se+2*me]=Ui[255+Ae-Pe]}S+=F}}function Gs(_,S,D,F,Y,ee,te,re){for(ee=2*ee+1;0<Y--;){if(Iu(_,S,D,ee,te))if(oc(_,S,D,re))sc(_,S,D);else{var ne=_,se=S,me=D,Se=ne[se-me],oe=ne[se+0],ye=ne[se+me],_e=Cm[112+(4+(Ae=3*(oe-Se))>>3)],Ae=Cm[112+(Ae+3>>3)],Ne=_e+1>>1;ne[se-2*me]=Ui[255+ne[se-2*me]+Ne],ne[se-me]=Ui[255+Se+Ae],ne[se+0]=Ui[255+oe-_e],ne[se+me]=Ui[255+ye-Ne]}S+=F}}function Sm(_,S,D,F,Y,ee){Vs(_,S,D,1,16,F,Y,ee)}function jm(_,S,D,F,Y,ee){Vs(_,S,1,D,16,F,Y,ee)}function cc(_,S,D,F,Y,ee){var te;for(te=3;0<te;--te)Gs(_,S+=4*D,D,1,16,F,Y,ee)}function km(_,S,D,F,Y,ee){var te;for(te=3;0<te;--te)Gs(_,S+=4,1,D,16,F,Y,ee)}function L(_,S,D,F,Y,ee,te,re){Vs(_,S,Y,1,8,ee,te,re),Vs(D,F,Y,1,8,ee,te,re)}function G(_,S,D,F,Y,ee,te,re){Vs(_,S,1,Y,8,ee,te,re),Vs(D,F,1,Y,8,ee,te,re)}function ce(_,S,D,F,Y,ee,te,re){Gs(_,S+4*Y,Y,1,8,ee,te,re),Gs(D,F+4*Y,Y,1,8,ee,te,re)}function ue(_,S,D,F,Y,ee,te,re){Gs(_,S+4,1,Y,8,ee,te,re),Gs(D,F+4,1,Y,8,ee,te,re)}function we(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function et(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new I}function st(){this.xb=this.a=0,this.l=new Pu,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new et,this.ab=0,this.gc=s(4,Le),this.Oc=0}function xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(_,S,D,F,Y,ee,te){for(_=_==null?0:_[S+0],S=0;S<te;++S)Y[ee+S]=_+D[F+S]&255,_=Y[ee+S]}function $t(_,S,D,F,Y,ee,te){var re;if(_==null)Nt(null,null,D,F,Y,ee,te);else for(re=0;re<te;++re)Y[ee+re]=_[S+re]+D[F+re]&255}function Sr(_,S,D,F,Y,ee,te){if(_==null)Nt(null,null,D,F,Y,ee,te);else{var re,ne=_[S+0],se=ne,me=ne;for(re=0;re<te;++re)se=me+(ne=_[S+re])-se,me=D[F+re]+(-256&se?0>se?0:255:se)&255,se=ne,Y[ee+re]=me}}function Xr(_,S,D,F){var Y=S.width,ee=S.o;if(t(_!=null&&S!=null),0>D||0>=F||D+F>ee)return null;if(!_.Cc){if(_.ga==null){var te;if(_.ga=new xt,(te=_.ga==null)||(te=S.width*S.o,t(_.Gb.length==0),_.Gb=a(te),_.Uc=0,_.Gb==null?te=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,te=1),te=!te),!te){te=_.ga;var re=_.Fa,ne=_.P,se=_.qc,me=_.mb,Se=_.nb,oe=ne+1,ye=se-1,_e=te.l;if(t(re!=null&&me!=null&&S!=null),Qo[0]=null,Qo[1]=Nt,Qo[2]=$t,Qo[3]=Sr,te.ca=me,te.tb=Se,te.c=S.width,te.i=S.height,t(0<te.c&&0<te.i),1>=se)S=0;else if(te.$a=3&re[ne+0],te.Z=re[ne+0]>>2&3,te.Lc=re[ne+0]>>4&3,ne=re[ne+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ne)S=0;else if(_e.put=pt,_e.ac=ms,_e.bc=qs,_e.ma=te,_e.width=S.width,_e.height=S.height,_e.Da=S.Da,_e.v=S.v,_e.va=S.va,_e.j=S.j,_e.o=S.o,te.$a)e:{t(te.$a==1),S=Ql();t:for(;;){if(S==null){S=0;break e}if(t(te!=null),te.mc=S,S.c=te.c,S.i=te.i,S.l=te.l,S.l.ma=te,S.l.width=te.c,S.l.height=te.i,S.a=0,W(S.m,re,oe,ye),!vs(te.c,te.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Ua(S.s)?(te.ic=1,re=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(re),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(te.ic=0,S=ec(S,te.c)),!S))break t;S=1;break e}te.mc=null,S=0}else S=ye>=te.c*te.i;te=!S}if(te)return null;_.ga.Lc!=1?_.Ga=0:F=ee-D}t(_.ga!=null),t(D+F<=ee);e:{if(S=(re=_.ga).c,ee=re.l.o,re.$a==0){if(oe=_.rc,ye=_.Vc,_e=_.Fa,ne=_.P+1+D*S,se=_.mb,me=_.nb+D*S,t(ne<=_.P+_.qc),re.Z!=0)for(t(Qo[re.Z]!=null),te=0;te<F;++te)Qo[re.Z](oe,ye,_e,ne,se,me,S),oe=se,ye=me,me+=S,ne+=S;else for(te=0;te<F;++te)n(se,me,_e,ne,S),oe=se,ye=me,me+=S,ne+=S;_.rc=oe,_.Vc=ye}else{if(t(re.mc!=null),S=D+F,t((te=re.mc)!=null),t(S<=te.i),te.C>=S)S=1;else if(re.ic||ya(),re.ic){re=te.V,oe=te.Ba,ye=te.c;var Ae=te.i,Ne=(_e=1,ne=te.$/ye,se=te.$%ye,me=te.m,Se=te.s,te.$),Ee=ye*Ae,Pe=ye*S,Re=Se.wc,Te=Ne<Pe?Rn(Se,se,ne):null;t(Ne<=Ee),t(S<=Ae),t(Ua(Se));t:for(;;){for(;!me.h&&Ne<Pe;){if(se&Re||(Te=Rn(Se,se,ne)),t(Te!=null),J(me),256>(Ae=Cr(Te.G[0],Te.H[0],me)))re[oe+Ne]=Ae,++Ne,++se>=ye&&(se=0,++ne<=S&&!(ne%16)&&qa(te,ne));else{if(!(280>Ae)){_e=0;break t}Ae=pa(Ae-256,me);var ot,Je=Cr(Te.G[4],Te.H[4],me);if(J(me),!(Ne>=(Je=ma(ye,Je=pa(Je,me)))&&Ee-Ne>=Ae)){_e=0;break t}for(ot=0;ot<Ae;++ot)re[oe+Ne+ot]=re[oe+Ne+ot-Je];for(Ne+=Ae,se+=Ae;se>=ye;)se-=ye,++ne<=S&&!(ne%16)&&qa(te,ne);Ne<Pe&&se&Re&&(Te=Rn(Se,se,ne))}t(me.h==H(me))}qa(te,ne>S?S:ne);break t}!_e||me.h&&Ne<Ee?(_e=0,te.a=me.h?5:3):te.$=Ne,S=_e}else S=za(te,te.V,te.Ba,te.c,te.i,S,Au);if(!S){F=0;break e}}D+F>=ee&&(_.Cc=1),F=1}if(!F)return null;if(_.Cc&&((F=_.ga)!=null&&(F.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+D*Y}function rr(_,S,D,F,Y,ee){for(;0<Y--;){var te,re=_,ne=S+(D?1:0),se=_,me=S+(D?0:3);for(te=0;te<F;++te){var Se=se[me+4*te];Se!=255&&(Se*=32897,re[ne+4*te+0]=re[ne+4*te+0]*Se>>23,re[ne+4*te+1]=re[ne+4*te+1]*Se>>23,re[ne+4*te+2]=re[ne+4*te+2]*Se>>23)}S+=ee}}function un(_,S,D,F,Y){for(;0<F--;){var ee;for(ee=0;ee<D;++ee){var te=_[S+2*ee+0],re=15&(se=_[S+2*ee+1]),ne=4369*re,se=(240&se|se>>4)*ne>>16;_[S+2*ee+0]=(240&te|te>>4)*ne>>16&240|(15&te|te<<4)*ne>>16>>4&15,_[S+2*ee+1]=240&se|re}S+=Y}}function Jr(_,S,D,F,Y,ee,te,re){var ne,se,me=255;for(se=0;se<Y;++se){for(ne=0;ne<F;++ne){var Se=_[S+ne];ee[te+4*ne]=Se,me&=Se}S+=D,te+=re}return me!=255}function Dn(_,S,D,F,Y){var ee;for(ee=0;ee<Y;++ee)D[F+ee]=_[S+ee]>>8}function ya(){Yf=rr,lj=un,cj=Jr,uj=Dn}function Ni(_,S,D){P[_]=function(F,Y,ee,te,re,ne,se,me,Se,oe,ye,_e,Ae,Ne,Ee,Pe,Re){var Te,ot=Re-1>>1,Je=re[ne+0]|se[me+0]<<16,At=Se[oe+0]|ye[_e+0]<<16;t(F!=null);var nt=3*Je+At+131074>>2;for(S(F[Y+0],255&nt,nt>>16,Ae,Ne),ee!=null&&(nt=3*At+Je+131074>>2,S(ee[te+0],255&nt,nt>>16,Ee,Pe)),Te=1;Te<=ot;++Te){var Tt=re[ne+Te]|se[me+Te]<<16,fn=Se[oe+Te]|ye[_e+Te]<<16,Et=Je+Tt+At+fn+524296,it=Et+2*(Tt+At)>>3;nt=it+Je>>1,Je=(Et=Et+2*(Je+fn)>>3)+Tt>>1,S(F[Y+2*Te-1],255&nt,nt>>16,Ae,Ne+(2*Te-1)*D),S(F[Y+2*Te-0],255&Je,Je>>16,Ae,Ne+(2*Te-0)*D),ee!=null&&(nt=Et+At>>1,Je=it+fn>>1,S(ee[te+2*Te-1],255&nt,nt>>16,Ee,Pe+(2*Te-1)*D),S(ee[te+2*Te+0],255&Je,Je>>16,Ee,Pe+(2*Te+0)*D)),Je=Tt,At=fn}1&Re||(nt=3*Je+At+131074>>2,S(F[Y+Re-1],255&nt,nt>>16,Ae,Ne+(Re-1)*D),ee!=null&&(nt=3*At+Je+131074>>2,S(ee[te+Re-1],255&nt,nt>>16,Ee,Pe+(Re-1)*D)))}}function Am(){_a[Tm]=k9,_a[Lm]=wj,_a[gj]=A9,_a[Im]=_j,_a[Rm]=Nj,_a[Y1]=Sj,_a[vj]=E9,_a[X1]=wj,_a[J1]=_j,_a[Dm]=Nj,_a[Z1]=Sj}function Ru(_){return _&-16384?0>_?0:255:_>>O9}function uc(_,S){return Ru((19077*_>>8)+(26149*S>>8)-14234)}function Wo(_,S,D){return Ru((19077*_>>8)-(6419*S>>8)-(13320*D>>8)+8708)}function dc(_,S){return Ru((19077*_>>8)+(33050*S>>8)-17685)}function fc(_,S,D,F,Y){F[Y+0]=uc(_,D),F[Y+1]=Wo(_,S,D),F[Y+2]=dc(_,S)}function hc(_,S,D,F,Y){F[Y+0]=dc(_,S),F[Y+1]=Wo(_,S,D),F[Y+2]=uc(_,D)}function Vn(_,S,D,F,Y){var ee=Wo(_,S,D);S=ee<<3&224|dc(_,S)>>3,F[Y+0]=248&uc(_,D)|ee>>5,F[Y+1]=S}function pc(_,S,D,F,Y){var ee=240&dc(_,S)|15;F[Y+0]=240&uc(_,D)|Wo(_,S,D)>>4,F[Y+1]=ee}function mc(_,S,D,F,Y){F[Y+0]=255,fc(_,S,D,F,Y+1)}function Ff(_,S,D,F,Y){hc(_,S,D,F,Y),F[Y+3]=255}function $f(_,S,D,F,Y){fc(_,S,D,F,Y),F[Y+3]=255}function Tr(_,S){return 0>_?0:_>S?S:_}function Ys(_,S,D){P[_]=function(F,Y,ee,te,re,ne,se,me,Se){for(var oe=me+(-2&Se)*D;me!=oe;)S(F[Y+0],ee[te+0],re[ne+0],se,me),S(F[Y+1],ee[te+0],re[ne+0],se,me+D),Y+=2,++te,++ne,me+=2*D;1&Se&&S(F[Y+0],ee[te+0],re[ne+0],se,me)}}function Du(_,S,D){return D==0?_==0?S==0?6:5:S==0?4:0:D}function Em(_,S,D,F,Y){switch(_>>>30){case 3:bc(S,D,F,Y,0);break;case 2:xa(S,D,F,Y);break;case 1:Wt(S,D,F,Y)}}function ba(_,S){var D,F,Y=S.M,ee=S.Nb,te=_.oc,re=_.pc+40,ne=_.oc,se=_.pc+584,me=_.oc,Se=_.pc+600;for(D=0;16>D;++D)te[re+32*D-1]=129;for(D=0;8>D;++D)ne[se+32*D-1]=129,me[Se+32*D-1]=129;for(0<Y?te[re-1-32]=ne[se-1-32]=me[Se-1-32]=129:(i(te,re-32-1,127,21),i(ne,se-32-1,127,9),i(me,Se-32-1,127,9)),F=0;F<_.za;++F){var oe=S.ya[S.aa+F];if(0<F){for(D=-1;16>D;++D)n(te,re+32*D-4,te,re+32*D+12,4);for(D=-1;8>D;++D)n(ne,se+32*D-4,ne,se+32*D+4,4),n(me,Se+32*D-4,me,Se+32*D+4,4)}var ye=_.Gd,_e=_.Hd+F,Ae=oe.ad,Ne=oe.Hc;if(0<Y&&(n(te,re-32,ye[_e].y,0,16),n(ne,se-32,ye[_e].f,0,8),n(me,Se-32,ye[_e].ea,0,8)),oe.Za){var Ee=te,Pe=re-32+16;for(0<Y&&(F>=_.za-1?i(Ee,Pe,ye[_e].y[15],4):n(Ee,Pe,ye[_e+1].y,0,4)),D=0;4>D;D++)Ee[Pe+128+D]=Ee[Pe+256+D]=Ee[Pe+384+D]=Ee[Pe+0+D];for(D=0;16>D;++D,Ne<<=2)Ee=te,Pe=re+kj[D],Ha[oe.Ob[D]](Ee,Pe),Em(Ne,Ae,16*+D,Ee,Pe)}else if(Ee=Du(F,Y,oe.Ob[0]),Zo[Ee](te,re),Ne!=0)for(D=0;16>D;++D,Ne<<=2)Em(Ne,Ae,16*+D,te,re+kj[D]);for(D=oe.Gc,Ee=Du(F,Y,oe.Dd),Zs[Ee](ne,se),Zs[Ee](me,Se),Ne=Ae,Ee=ne,Pe=se,255&(oe=0|D)&&(170&oe?ws(Ne,256,Ee,Pe):Jt(Ne,256,Ee,Pe)),oe=me,Ne=Se,255&(D>>=8)&&(170&D?ws(Ae,320,oe,Ne):Jt(Ae,320,oe,Ne)),Y<_.Ub-1&&(n(ye[_e].y,0,te,re+480,16),n(ye[_e].f,0,ne,se+224,8),n(ye[_e].ea,0,me,Se+224,8)),D=8*ee*_.B,ye=_.sa,_e=_.ta+16*F+16*ee*_.R,Ae=_.qa,oe=_.ra+8*F+D,Ne=_.Ha,Ee=_.Ia+8*F+D,D=0;16>D;++D)n(ye,_e+D*_.R,te,re+32*D,16);for(D=0;8>D;++D)n(Ae,oe+D*_.B,ne,se+32*D,8),n(Ne,Ee+D*_.B,me,Se+32*D,8)}}function gc(_,S,D,F,Y,ee,te,re,ne){var se=[0],me=[0],Se=0,oe=ne!=null?ne.kd:0,ye=ne??new Oe;if(_==null||12>D)return 7;ye.data=_,ye.w=S,ye.ha=D,S=[S],D=[D],ye.gb=[ye.gb];e:{var _e=S,Ae=D,Ne=ye.gb;if(t(_!=null),t(Ae!=null),t(Ne!=null),Ne[0]=0,12<=Ae[0]&&!r(_,_e[0],"RIFF")){if(r(_,_e[0]+8,"WEBP")){Ne=3;break e}var Ee=ve(_,_e[0]+4);if(12>Ee||4294967286<Ee){Ne=3;break e}if(oe&&Ee>Ae[0]-8){Ne=7;break e}Ne[0]=Ee,_e[0]+=12,Ae[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ee=0<ye.gb[0],D=D[0];;){e:{var Pe=_;Ae=S,Ne=D;var Re=se,Te=me,ot=_e=[0];if((nt=Se=[Se])[0]=0,8>Ne[0])Ne=7;else{if(!r(Pe,Ae[0],"VP8X")){if(ve(Pe,Ae[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var Je=ve(Pe,Ae[0]+8),At=1+ke(Pe,Ae[0]+12);if(2147483648<=At*(Pe=1+ke(Pe,Ae[0]+15))){Ne=3;break e}ot!=null&&(ot[0]=Je),Re!=null&&(Re[0]=At),Te!=null&&(Te[0]=Pe),Ae[0]+=18,Ne[0]-=18,nt[0]=1}Ne=0}}if(Se=Se[0],_e=_e[0],Ne!=0)return Ne;if(Ae=!!(2&_e),!Ee&&Se)return 3;if(ee!=null&&(ee[0]=!!(16&_e)),te!=null&&(te[0]=Ae),re!=null&&(re[0]=0),te=se[0],_e=me[0],Se&&Ae&&ne==null){Ne=0;break}if(4>D){Ne=7;break}if(Ee&&Se||!Ee&&!Se&&!r(_,S[0],"ALPH")){D=[D],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Je=_,Ne=S,Ee=D;var nt=ye.gb;Re=ye.na,Te=ye.P,ot=ye.Sa,At=22,t(Je!=null),t(Ee!=null),Pe=Ne[0];var Tt=Ee[0];for(t(Re!=null),t(ot!=null),Re[0]=null,Te[0]=null,ot[0]=0;;){if(Ne[0]=Pe,Ee[0]=Tt,8>Tt){Ne=7;break e}var fn=ve(Je,Pe+4);if(4294967286<fn){Ne=3;break e}var Et=8+fn+1&-2;if(At+=Et,0<nt&&At>nt){Ne=3;break e}if(!r(Je,Pe,"VP8 ")||!r(Je,Pe,"VP8L")){Ne=0;break e}if(Tt[0]<Et){Ne=7;break e}r(Je,Pe,"ALPH")||(Re[0]=Je,Te[0]=Pe+8,ot[0]=fn),Pe+=Et,Tt-=Et}}if(D=D[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Ne!=0)break}D=[D],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(nt=_,Ne=S,Ee=D,Re=ye.gb[0],Te=ye.Ja,ot=ye.xa,Je=Ne[0],Pe=!r(nt,Je,"VP8 "),At=!r(nt,Je,"VP8L"),t(nt!=null),t(Ee!=null),t(Te!=null),t(ot!=null),8>Ee[0])Ne=7;else{if(Pe||At){if(nt=ve(nt,Je+4),12<=Re&&nt>Re-12){Ne=3;break e}if(oe&&nt>Ee[0]-8){Ne=7;break e}Te[0]=nt,Ne[0]+=8,Ee[0]-=8,ot[0]=At}else ot[0]=5<=Ee[0]&&nt[Je+0]==47&&!(nt[Je+4]>>5),Te[0]=Ee[0];Ne=0}if(D=D[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],S=S[0],Ne!=0)break;if(4294967286<ye.Ja)return 3;if(re==null||Ae||(re[0]=ye.xa?2:1),te=[te],_e=[_e],ye.xa){if(5>D){Ne=7;break}re=te,oe=_e,Ae=ee,_==null||5>D?_=0:5<=D&&_[S+0]==47&&!(_[S+4]>>5)?(Ee=[0],nt=[0],Re=[0],W(Te=new B,_,S,D),zs(Te,Ee,nt,Re)?(re!=null&&(re[0]=Ee[0]),oe!=null&&(oe[0]=nt[0]),Ae!=null&&(Ae[0]=Re[0]),_=1):_=0):_=0}else{if(10>D){Ne=7;break}re=_e,_==null||10>D||!ym(_,S+3,D-3)?_=0:(oe=_[S+0]|_[S+1]<<8|_[S+2]<<16,Ae=16383&(_[S+7]<<8|_[S+6]),_=16383&(_[S+9]<<8|_[S+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ye.Ja||!Ae||!_?_=0:(te&&(te[0]=Ae),re&&(re[0]=_),_=1))}if(!_||(te=te[0],_e=_e[0],Se&&(se[0]!=te||me[0]!=_e)))return 3;ne!=null&&(ne[0]=ye,ne.offset=S-ne.w,t(4294967286>S-ne.w),t(ne.offset==ne.ha-D));break}return Ne==0||Ne==7&&Se&&ne==null?(ee!=null&&(ee[0]|=ye.na!=null&&0<ye.na.length),F!=null&&(F[0]=te),Y!=null&&(Y[0]=_e),0):Ne}function Uf(_,S,D){var F=S.width,Y=S.height,ee=0,te=0,re=F,ne=Y;if(S.Da=_!=null&&0<_.Da,S.Da&&(re=_.cd,ne=_.bd,ee=_.v,te=_.j,11>D||(ee&=-2,te&=-2),0>ee||0>te||0>=re||0>=ne||ee+re>F||te+ne>Y))return 0;if(S.v=ee,S.j=te,S.va=ee+re,S.o=te+ne,S.U=re,S.T=ne,S.da=_!=null&&0<_.da,S.da){if(!xe(re,ne,D=[_.ib],ee=[_.hb]))return 0;S.ib=D[0],S.hb=ee[0]}return S.ob=_!=null&&_.ob,S.Kb=_==null||!_.Sd,S.da&&(S.ob=S.ib<3*F/4&&S.hb<3*Y/4,S.Kb=0),1}function qf(_){if(_==null)return 2;if(11>_.S){var S=_.f.RGBA;S.fb+=(_.height-1)*S.A,S.A=-S.A}else S=_.f.kb,_=_.height,S.O+=(_-1)*S.fa,S.fa=-S.fa,S.N+=(_-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(_-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(_-1)*S.lb,S.lb=-S.lb);return 0}function Ho(_,S,D,F){if(F==null||0>=_||0>=S)return 2;if(D!=null){if(D.Da){var Y=D.cd,ee=D.bd,te=-2&D.v,re=-2&D.j;if(0>te||0>re||0>=Y||0>=ee||te+Y>_||re+ee>S)return 2;_=Y,S=ee}if(D.da){if(!xe(_,S,Y=[D.ib],ee=[D.hb]))return 2;_=Y[0],S=ee[0]}}F.width=_,F.height=S;e:{var ne=F.width,se=F.height;if(_=F.S,0>=ne||0>=se||!(_>=Tm&&13>_))_=2;else{if(0>=F.Rd&&F.sd==null){te=ee=Y=S=0;var me=(re=ne*Aj[_])*se;if(11>_||(ee=(se+1)/2*(S=(ne+1)/2),_==12&&(te=(Y=ne)*se)),(se=a(me+2*ee+te))==null){_=1;break e}F.sd=se,11>_?((ne=F.f.RGBA).eb=se,ne.fb=0,ne.A=re,ne.size=me):((ne=F.f.kb).y=se,ne.O=0,ne.fa=re,ne.Fd=me,ne.f=se,ne.N=0+me,ne.Ab=S,ne.Cd=ee,ne.ea=se,ne.W=0+me+ee,ne.Db=S,ne.Ed=ee,_==12&&(ne.F=se,ne.J=0+me+2*ee),ne.Tc=te,ne.lb=Y)}if(S=1,Y=F.S,ee=F.width,te=F.height,Y>=Tm&&13>Y)if(11>Y)_=F.f.RGBA,S&=(re=Math.abs(_.A))*(te-1)+ee<=_.size,S&=re>=ee*Aj[Y],S&=_.eb!=null;else{_=F.f.kb,re=(ee+1)/2,me=(te+1)/2,ne=Math.abs(_.fa),se=Math.abs(_.Ab);var Se=Math.abs(_.Db),oe=Math.abs(_.lb),ye=oe*(te-1)+ee;S&=ne*(te-1)+ee<=_.Fd,S&=se*(me-1)+re<=_.Cd,S=(S&=Se*(me-1)+re<=_.Ed)&ne>=ee&se>=re&Se>=re,S&=_.y!=null,S&=_.f!=null,S&=_.ea!=null,Y==12&&(S&=oe>=ee,S&=ye<=_.Tc,S&=_.F!=null)}else S=0;_=S?0:2}}return _!=0||D!=null&&D.fd&&(_=qf(F)),_}var vc=64,Fi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$i=24,Ko=32,Xs=8,Vo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(_){return _},P.Predictor2=function(_,S,D){return S[D+0]},P.Predictor3=function(_,S,D){return S[D+1]},P.Predictor4=function(_,S,D){return S[D-1]},P.Predictor5=function(_,S,D){return Ce(Ce(_,S[D+1]),S[D+0])},P.Predictor6=function(_,S,D){return Ce(_,S[D-1])},P.Predictor7=function(_,S,D){return Ce(_,S[D+0])},P.Predictor8=function(_,S,D){return Ce(S[D-1],S[D+0])},P.Predictor9=function(_,S,D){return Ce(S[D+0],S[D+1])},P.Predictor10=function(_,S,D){return Ce(Ce(_,S[D-1]),Ce(S[D+0],S[D+1]))},P.Predictor11=function(_,S,D){var F=S[D+0];return 0>=He(F>>24&255,_>>24&255,(S=S[D-1])>>24&255)+He(F>>16&255,_>>16&255,S>>16&255)+He(F>>8&255,_>>8&255,S>>8&255)+He(255&F,255&_,255&S)?F:_},P.Predictor12=function(_,S,D){var F=S[D+0];return(Me((_>>24&255)+(F>>24&255)-((S=S[D-1])>>24&255))<<24|Me((_>>16&255)+(F>>16&255)-(S>>16&255))<<16|Me((_>>8&255)+(F>>8&255)-(S>>8&255))<<8|Me((255&_)+(255&F)-(255&S)))>>>0},P.Predictor13=function(_,S,D){var F=S[D-1];return(Ie((_=Ce(_,S[D+0]))>>24&255,F>>24&255)<<24|Ie(_>>16&255,F>>16&255)<<16|Ie(_>>8&255,F>>8&255)<<8|Ie(255&_,255&F))>>>0};var zf=P.PredictorAdd0;P.PredictorAdd1=Ze,pe("Predictor2","PredictorAdd2"),pe("Predictor3","PredictorAdd3"),pe("Predictor4","PredictorAdd4"),pe("Predictor5","PredictorAdd5"),pe("Predictor6","PredictorAdd6"),pe("Predictor7","PredictorAdd7"),pe("Predictor8","PredictorAdd8"),pe("Predictor9","PredictorAdd9"),pe("Predictor10","PredictorAdd10"),pe("Predictor11","PredictorAdd11"),pe("Predictor12","PredictorAdd12"),pe("Predictor13","PredictorAdd13");var Mu=P.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Fr,Om=P.ColorIndexInverseTransform,bs=P.MapARGB,xs=P.VP8LColorIndexInverseTransformAlpha,Wf=P.MapAlpha,Hf=P.VP8LPredictorsAdd=[];Hf.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Kf,Vf,Go,Yo,Xo,yc,Jo,bc,xa,ws,Wt,Jt,$r,dn,Js,Gf,Bu,Pm,rj,nj,ij,aj,sj,oj,Yf,lj,cj,uj,dj=a(511),fj=a(2041),hj=a(225),pj=a(767),mj=0,G1=fj,Cm=hj,Ui=pj,wa=dj,Tm=0,Lm=1,gj=2,Im=3,Rm=4,Y1=5,vj=6,X1=7,J1=8,Dm=9,Z1=10,f9=[2,3,7],h9=[3,3,11],yj=[280,256,256,256,40],p9=[0,1,1,1,0],m9=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],g9=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],v9=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],y9=8,Q1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xf=null,b9=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],x9=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],w9=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_9=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],N9=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],S9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zo=[],Ha=[],Zs=[],j9=1,xj=2,Qo=[],_a=[];Ni("UpsampleRgbLinePair",fc,3),Ni("UpsampleBgrLinePair",hc,3),Ni("UpsampleRgbaLinePair",$f,4),Ni("UpsampleBgraLinePair",Ff,4),Ni("UpsampleArgbLinePair",mc,4),Ni("UpsampleRgba4444LinePair",pc,2),Ni("UpsampleRgb565LinePair",Vn,2);var k9=P.UpsampleRgbLinePair,A9=P.UpsampleBgrLinePair,wj=P.UpsampleRgbaLinePair,_j=P.UpsampleBgraLinePair,Nj=P.UpsampleArgbLinePair,Sj=P.UpsampleRgba4444LinePair,E9=P.UpsampleRgb565LinePair,Mm=16,Bm=1<<Mm-1,Jf=-227,tb=482,O9=6,jj=0,P9=a(256),C9=a(256),T9=a(256),L9=a(256),I9=a(tb-Jf),R9=a(tb-Jf);Ys("YuvToRgbRow",fc,3),Ys("YuvToBgrRow",hc,3),Ys("YuvToRgbaRow",$f,4),Ys("YuvToBgraRow",Ff,4),Ys("YuvToArgbRow",mc,4),Ys("YuvToRgba4444Row",pc,2),Ys("YuvToRgb565Row",Vn,2);var kj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fm=[0,2,8],D9=[8,7,6,4,4,2,2,2,1,1,1,1],M9=1;this.WebPDecodeRGBA=function(_,S,D,F,Y){var ee=Lm,te=new we,re=new Xt;te.ba=re,re.S=ee,re.width=[re.width],re.height=[re.height];var ne=re.width,se=re.height,me=new wt;if(me==null||_==null)var Se=2;else t(me!=null),Se=gc(_,S,D,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Se!=0?ne=0:(ne!=null&&(ne[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),ne=1),ne){re.width=re.width[0],re.height=re.height[0],F!=null&&(F[0]=re.width),Y!=null&&(Y[0]=re.height);e:{if(F=new Pu,(Y=new Oe).data=_,Y.w=S,Y.ha=D,Y.kd=1,S=[0],t(Y!=null),((_=gc(Y.data,Y.w,Y.ha,null,null,null,S,null,Y))==0||_==7)&&S[0]&&(_=4),(S=_)==0){if(t(te!=null),F.data=Y.data,F.w=Y.w+Y.offset,F.ha=Y.ha-Y.offset,F.put=pt,F.ac=ms,F.bc=qs,F.ma=te,Y.xa){if((_=Ql())==null){te=1;break e}if(function(oe,ye){var _e=[0],Ae=[0],Ne=[0];t:for(;;){if(oe==null)return 0;if(ye==null)return oe.a=2,0;if(oe.l=ye,oe.a=0,W(oe.m,ye.data,ye.w,ye.ha),!zs(oe.m,_e,Ae,Ne)){oe.a=3;break t}if(oe.xb=xj,ye.width=_e[0],ye.height=Ae[0],!vs(_e[0],Ae[0],1,oe,null))break t;return 1}return t(oe.a!=0),0}(_,F)){if(F=(S=Ho(F.width,F.height,te.Oa,te.ba))==0){t:{F=_;r:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((D=F.l)!=null),t((Y=D.ma)!=null),F.xb!=0){if(F.ca=Y.ba,F.tb=Y.tb,t(F.ca!=null),!Uf(Y.Oa,D,Im)){F.a=2;break r}if(!ec(F,D.width)||D.da)break r;if((D.da||bt(F.ca.S))&&ya(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&ya()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!ie(F.s.vb,F.s.Wa.Xa)){F.a=1;break r}F.xb=0}if(!za(F,F.V,F.Ba,F.c,F.i,D.o,Uo))break r;Y.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(S=_.a)}else S=_.a}else{if((_=new L1)==null){te=1;break e}if(_.Fa=Y.na,_.P=Y.P,_.qc=Y.Sa,bm(_,F)){if((S=Ho(F.width,F.height,te.Oa,te.ba))==0){if(_.Aa=0,D=te.Oa,t((Y=_)!=null),D!=null){if(0<(ne=0>(ne=D.Md)?0:100<ne?255:255*ne/100)){for(se=me=0;4>se;++se)12>(Se=Y.pb[se]).lc&&(Se.ia=ne*D9[0>Se.lc?0:Se.lc]>>3),me|=Se.ia;me&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=D.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(oe,ye){if(oe==null)return 0;if(ye==null)return Yr(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!bm(oe,ye))return 0;if(t(oe.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(oe.L=0);var _e=Fm[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ye.v-_e>>4,oe.zb=ye.j-_e>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ye.o+15+_e>>4,oe.Hb=ye.va+15+_e>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Ae=oe.ed;for(_e=0;4>_e;++_e){var Ne;if(oe.Qa.Cb){var Ee=oe.Qa.Lb[_e];oe.Qa.Fb||(Ee+=Ae.Tb)}else Ee=Ae.Tb;for(Ne=0;1>=Ne;++Ne){var Pe=oe.gd[_e][Ne],Re=Ee;if(Ae.Pc&&(Re+=Ae.vd[0],Ne&&(Re+=Ae.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Te=Re;0<Ae.wb&&(Te=4<Ae.wb?Te>>2:Te>>1)>9-Ae.wb&&(Te=9-Ae.wb),1>Te&&(Te=1),Pe.dd=Te,Pe.tc=2*Re+Te,Pe.ld=40<=Re?2:15<=Re?1:0}else Pe.tc=0;Pe.La=Ne}}}_e=0}else Yr(oe,6,"Frame setup failed"),_e=oe.a;if(_e=_e==0){if(_e){oe.$c=0,0<oe.Aa||(oe.Ic=M9);t:{_e=oe.Ic,Ae=4*(Te=oe.za);var ot=32*Te,Je=Te+1,At=0<oe.L?Te*(0<oe.Aa?2:1):0,nt=(oe.Aa==2?2:1)*Te;if((Pe=Ae+832+(Ne=3*(16*_e+Fm[oe.L])/2*ot)+(Ee=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Pe)_e=0;else{if(Pe>oe.Vb){if(oe.Vb=0,oe.Ec=a(Pe),oe.Fc=0,oe.Ec==null){_e=Yr(oe,1,"no memory during frame initialization.");break t}oe.Vb=Pe}Pe=oe.Ec,Re=oe.Fc,oe.Ac=Pe,oe.Bc=Re,Re+=Ae,oe.Gd=s(ot,gm),oe.Hd=0,oe.rb=s(Je+1,Ef),oe.sb=1,oe.wa=At?s(At,va):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Te),t(!0),oe.oc=Pe,oe.pc=Re,Re+=832,oe.ya=s(nt,Of),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Te),oe.R=16*Te,oe.B=8*Te,Te=(ot=Fm[oe.L])*oe.R,ot=ot/2*oe.B,oe.sa=Pe,oe.ta=Re+Te,oe.qa=oe.sa,oe.ra=oe.ta+16*_e*oe.R+ot,oe.Ha=oe.qa,oe.Ia=oe.ra+8*_e*oe.B+ot,oe.$c=0,Re+=Ne,oe.mb=Ee?Pe:null,oe.nb=Ee?Re:null,t(Re+Ee<=oe.Fc+oe.Vb),tc(oe),i(oe.Ac,oe.Bc,0,Ae),_e=1}}if(_e){if(ye.ka=0,ye.y=oe.sa,ye.O=oe.ta,ye.f=oe.qa,ye.N=oe.ra,ye.ea=oe.Ha,ye.Vd=oe.Ia,ye.fa=oe.R,ye.Rc=oe.B,ye.F=null,ye.J=0,!mj){for(_e=-255;255>=_e;++_e)dj[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)fj[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)hj[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)pj[255+_e]=0>_e?0:255<_e?255:_e;mj=1}Jo=wm,bc=R1,ws=D1,Wt=ys,Jt=xm,xa=I1,$r=Sm,dn=jm,Js=L,Gf=G,Bu=cc,Pm=km,rj=ce,nj=ue,ij=Bf,aj=lc,sj=_m,oj=Nm,Ha[0]=z1,Ha[1]=Cf,Ha[2]=U1,Ha[3]=q1,Ha[4]=W1,Ha[5]=Ks,Ha[6]=Hs,Ha[7]=H1,Ha[8]=Cu,Ha[9]=K1,Zo[0]=zo,Zo[1]=B1,Zo[2]=F1,Zo[3]=Tf,Zo[4]=$1,Zo[5]=ic,Zo[6]=Lf,Zs[0]=Lu,Zs[1]=M1,Zs[2]=If,Zs[3]=ac,Zs[4]=Rf,Zs[5]=V1,Zs[6]=Df,_e=1}else _e=0}_e&&(_e=function(Tt,fn){for(Tt.M=0;Tt.M<Tt.Va;++Tt.M){var Et,it=Tt.Jc[Tt.M&Tt.Xb],Ue=Tt.m,Ur=Tt;for(Et=0;Et<Ur.za;++Et){var kt=Ue,It=Ur,cr=It.Ac,Mn=It.Bc+4*Et,li=It.zc,Lr=It.ya[It.aa+Et];if(It.Qa.Bb?Lr.$b=le(kt,It.Pa.jb[0])?2+le(kt,It.Pa.jb[2]):le(kt,It.Pa.jb[1]):Lr.$b=0,It.kc&&(Lr.Ad=le(kt,It.Bd)),Lr.Za=!le(kt,145)+0,Lr.Za){var Gn=Lr.Ob,ci=0;for(It=0;4>It;++It){var hn,Mt=li[0+It];for(hn=0;4>hn;++hn){Mt=_9[cr[Mn+hn]][Mt];for(var Ht=bj[le(kt,Mt[0])];0<Ht;)Ht=bj[2*Ht+le(kt,Mt[Ht])];Mt=-Ht,cr[Mn+hn]=Mt}n(Gn,ci,cr,Mn,4),ci+=4,li[0+It]=Mt}}else Mt=le(kt,156)?le(kt,128)?1:3:le(kt,163)?2:0,Lr.Ob[0]=Mt,i(cr,Mn,Mt,4),i(li,0,Mt,4);Lr.Dd=le(kt,142)?le(kt,114)?le(kt,183)?1:3:2:0}if(Ur.m.Ka)return Yr(Tt,7,"Premature end-of-partition0 encountered.");for(;Tt.ja<Tt.za;++Tt.ja){if(Ur=it,kt=(Ue=Tt).rb[Ue.sb-1],cr=Ue.rb[Ue.sb+Ue.ja],Et=Ue.ya[Ue.aa+Ue.ja],Mn=Ue.kc?Et.Ad:0)kt.la=cr.la=0,Et.Za||(kt.Na=cr.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var Ir,Kt;if(kt=cr,cr=Ur,Mn=Ue.Pa.Xc,li=Ue.ya[Ue.aa+Ue.ja],Lr=Ue.pb[li.$b],It=li.ad,Gn=0,ci=Ue.rb[Ue.sb-1],Mt=hn=0,i(It,Gn,0,384),li.Za)var Bn=0,Ka=Mn[3];else{Ht=a(16);var qr=kt.Na+ci.Na;if(qr=Xf(cr,Mn[1],qr,Lr.Eb,0,Ht,0),kt.Na=ci.Na=(0<qr)+0,1<qr)Jo(Ht,0,It,Gn);else{var Si=Ht[0]+3>>3;for(Ht=0;256>Ht;Ht+=16)It[Gn+Ht]=Si}Bn=1,Ka=Mn[0]}var Zt=15&kt.la,pn=15&ci.la;for(Ht=0;4>Ht;++Ht){var qi=1&pn;for(Si=Kt=0;4>Si;++Si)Zt=Zt>>1|(qi=(qr=Xf(cr,Ka,qr=qi+(1&Zt),Lr.Sc,Bn,It,Gn))>Bn)<<7,Kt=Kt<<2|(3<qr?3:1<qr?2:It[Gn+0]!=0),Gn+=16;Zt>>=4,pn=pn>>1|qi<<7,hn=(hn<<8|Kt)>>>0}for(Ka=Zt,Bn=pn>>4,Ir=0;4>Ir;Ir+=2){for(Kt=0,Zt=kt.la>>4+Ir,pn=ci.la>>4+Ir,Ht=0;2>Ht;++Ht){for(qi=1&pn,Si=0;2>Si;++Si)qr=qi+(1&Zt),Zt=Zt>>1|(qi=0<(qr=Xf(cr,Mn[2],qr,Lr.Qc,0,It,Gn)))<<3,Kt=Kt<<2|(3<qr?3:1<qr?2:It[Gn+0]!=0),Gn+=16;Zt>>=2,pn=pn>>1|qi<<5}Mt|=Kt<<4*Ir,Ka|=Zt<<4<<Ir,Bn|=(240&pn)<<Ir}kt.la=Ka,ci.la=Bn,li.Hc=hn,li.Gc=Mt,li.ia=43690&Mt?0:Lr.ia,Mn=!(hn|Mt)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Et.$b][Et.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Mn),Ur.Ka)return Yr(Tt,7,"Premature end-of-file encountered.")}if(tc(Tt),Ue=fn,Ur=1,Et=(it=Tt).D,kt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Et.M=it.M,Et.uc=kt,ba(it,Et),Ur=1,Et=(Kt=it.D).Nb,kt=(Mt=Fm[it.L])*it.R,cr=Mt/2*it.B,Ht=16*Et*it.R,Si=8*Et*it.B,Mn=it.sa,li=it.ta-kt+Ht,Lr=it.qa,It=it.ra-cr+Si,Gn=it.Ha,ci=it.Ia-cr+Si,pn=(Zt=Kt.M)==0,hn=Zt>=it.Va-1,it.Aa==2&&ba(it,Kt),Kt.uc)for(qi=(qr=it).D.M,t(qr.D.uc),Kt=qr.yb;Kt<qr.Hb;++Kt){Bn=Kt,Ka=qi;var ui=(zi=(Fn=qr).D).Nb;Ir=Fn.R;var zi=zi.wa[zi.Y+Bn],Wi=Fn.sa,ji=Fn.ta+16*ui*Ir+16*Bn,Hi=zi.dd,nr=zi.tc;if(nr!=0)if(t(3<=nr),Fn.L==1)0<Bn&&aj(Wi,ji,Ir,nr+4),zi.La&&oj(Wi,ji,Ir,nr),0<Ka&&ij(Wi,ji,Ir,nr+4),zi.La&&sj(Wi,ji,Ir,nr);else{var Ki=Fn.B,Va=Fn.qa,xc=Fn.ra+8*ui*Ki+8*Bn,Qs=Fn.Ha,Fn=Fn.Ia+8*ui*Ki+8*Bn;ui=zi.ld,0<Bn&&(dn(Wi,ji,Ir,nr+4,Hi,ui),Gf(Va,xc,Qs,Fn,Ki,nr+4,Hi,ui)),zi.La&&(Pm(Wi,ji,Ir,nr,Hi,ui),nj(Va,xc,Qs,Fn,Ki,nr,Hi,ui)),0<Ka&&($r(Wi,ji,Ir,nr+4,Hi,ui),Js(Va,xc,Qs,Fn,Ki,nr+4,Hi,ui)),zi.La&&(Bu(Wi,ji,Ir,nr,Hi,ui),rj(Va,xc,Qs,Fn,Ki,nr,Hi,ui))}}if(it.ia&&alert("todo:DitherRow"),Ue.put!=null){if(Kt=16*Zt,Zt=16*(Zt+1),pn?(Ue.y=it.sa,Ue.O=it.ta+Ht,Ue.f=it.qa,Ue.N=it.ra+Si,Ue.ea=it.Ha,Ue.W=it.Ia+Si):(Kt-=Mt,Ue.y=Mn,Ue.O=li,Ue.f=Lr,Ue.N=It,Ue.ea=Gn,Ue.W=ci),hn||(Zt-=Mt),Zt>Ue.o&&(Zt=Ue.o),Ue.F=null,Ue.J=null,it.Fa!=null&&0<it.Fa.length&&Kt<Zt&&(Ue.J=Xr(it,Ue,Kt,Zt-Kt),Ue.F=it.mb,Ue.F==null&&Ue.F.length==0)){Ur=Yr(it,3,"Could not decode alpha data.");break t}Kt<Ue.j&&(Mt=Ue.j-Kt,Kt=Ue.j,t(!(1&Mt)),Ue.O+=it.R*Mt,Ue.N+=it.B*(Mt>>1),Ue.W+=it.B*(Mt>>1),Ue.F!=null&&(Ue.J+=Ue.width*Mt)),Kt<Zt&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=Kt-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Zt-Kt,Ur=Ue.put(Ue))}Et+1!=it.Ic||hn||(n(it.sa,it.ta-kt,Mn,li+16*it.R,kt),n(it.qa,it.ra-cr,Lr,It+8*it.B,cr),n(it.Ha,it.Ia-cr,Gn,ci+8*it.B,cr))}if(!Ur)return Yr(Tt,6,"Output aborted.")}return 1}(oe,ye)),ye.bc!=null&&ye.bc(ye),_e&=1}return _e?(oe.cb=0,_e):0})(_,F)||(S=_.a)}}else S=_.a}S==0&&te.Oa!=null&&te.Oa.fd&&(S=qf(te.ba))}te=S}ee=te!=0?null:11>ee?re.f.RGBA.eb:re.f.kb.y}else ee=null;return ee};var Aj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,C){for(var k="",E=0;E<4;E++)k+=String.fromCharCode(P[C++]);return k}function d(P,C){return P[C+0]|P[C+1]<<8}function f(P,C){return(P[C+0]|P[C+1]<<8|P[C+2]<<16)>>>0}function p(P,C){return(P[C+0]|P[C+1]<<8|P[C+2]<<16|P[C+3]<<24)>>>0}new l;var h=[0],m=[0],g=[],y=new l,v=e,b=function(P,C){var k={},E=0,I=!1,M=0,U=0;if(k.frames=[],!function(R,B){for(var q=0;q<4;q++)if(R[B+q]!="RIFF".charCodeAt(q))return!0;return!1}(P,C)){for(p(P,C+=4),C+=8;C<P.length;){var Z=c(P,C),Q=p(P,C+=4);C+=4;var K=Q+(1&Q);switch(Z){case"VP8 ":case"VP8L":k.frames[E]===void 0&&(k.frames[E]={}),($=k.frames[E]).src_off=I?U:C-8,$.src_size=M+Q+8,E++,I&&(I=!1,M=0,U=0);break;case"VP8X":($=k.header={}).feature_flags=P[C];var W=C+4;$.canvas_width=1+f(P,W),W+=3,$.canvas_height=1+f(P,W),W+=3;break;case"ALPH":I=!0,M=K+8,U=C-8;break;case"ANIM":($=k.header).bgcolor=p(P,C),W=C+4,$.loop_count=d(P,W),W+=2;break;case"ANMF":var V,$;($=k.frames[E]={}).offset_x=2*f(P,C),C+=3,$.offset_y=2*f(P,C),C+=3,$.width=1+f(P,C),C+=3,$.height=1+f(P,C),C+=3,$.duration=f(P,C),C+=3,V=P[C++],$.dispose=1&V,$.blend=V>>1&1}Z!="ANMF"&&(C+=K)}return k}}(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,x=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],m=[w.canvas_width];for(var N=0;N<x.length&&x[N].blend!=0;N++);}var O=x[0],j=y.WebPDecodeRGBA(v,O.src_off,O.src_size,m,h);O.rgba=j,O.imgwidth=m[0],O.imgheight=h[0];for(var A=0;A<m[0]*h[0]*4;A++)g[A]=j[A];return this.width=m,this.height=h,this.data=g,this}(function(e){var t,r,n,i,a,s,o,l,c,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=R;Object.defineProperty(this,"pdf",{get:function(){return B}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ve){q=!!ve}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ve){H=!!ve}});var z=0;Object.defineProperty(this,"posX",{get:function(){return z},set:function(ve){isNaN(ve)||(z=ve)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(ve){isNaN(ve)||(J=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var ie;typeof ve=="number"?ie=[ve,ve,ve,ve]:((ie=new Array(4))[0]=ve[0],ie[1]=ve.length>=2?ve[1]:ie[0],ie[2]=ve.length>=3?ve[2]:ie[0],ie[3]=ve.length>=4?ve[3]:ie[1]),c.margin=ie}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(ve){ae=ve}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(ve){X=ve}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(ve){le=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof d&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(ve){ge=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var ie;ie=p(ve),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var ie=p(ve);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var de=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(ve){de=null,ke=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var ie;if(this.ctx.font=ve,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var We=ie[1];ie[2];var Be=ie[3],xe=ie[4];ie[5];var fe=ie[6],he=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(he==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:he==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var pe=function(ze){var Ke,ct,ht=[],Ge=ze.trim();if(Ge==="")return Hx;if(Ge in gO)return[gO[Ge]];for(;Ge!=="";){switch(ct=null,Ke=(Ge=yO(Ge)).charAt(0)){case'"':case"'":ct=lve(Ge.substring(1),Ke);break;default:ct=cve(Ge)}if(ct===null||(ht.push(ct[0]),(Ge=yO(ct[1]))!==""&&Ge.charAt(0)!==","))return Hx;Ge=Ge.replace(/^,/,"")}return ht}(fe);if(this.fontFaces){var be=function(ze,Ke){if(de===null){var ct=function(ht){var Ge=[];return Object.keys(ht).forEach(function(ft){ht[ft].forEach(function(Dt){var dt=null;switch(Dt){case"bold":dt={family:ft,weight:"bold"};break;case"italic":dt={family:ft,style:"italic"};break;case"bolditalic":dt={family:ft,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:ft}}dt!==null&&(dt.ref={name:ft,style:Dt},Ge.push(dt))})}),Ge}(ze.getFontList());de=function(ht){for(var Ge={},ft=0;ft<ht.length;++ft){var Dt=Wx(ht[ft]),dt=Dt.family,Ot=Dt.stretch,bt=Dt.style,lr=Dt.weight;Ge[dt]=Ge[dt]||{},Ge[dt][Ot]=Ge[dt][Ot]||{},Ge[dt][Ot][bt]=Ge[dt][Ot][bt]||{},Ge[dt][Ot][bt][lr]=Dt}return Ge}(ct.concat(Ke))}return de}(this.pdf,this.fontFaces),Ce=pe.map(function(ze){return{family:ze,stretch:"normal",weight:Be,style:We}}),Me=function(ze,Ke,ct){for(var ht=(ct=ct||{}).defaultFontFamily||"times",Ge=Object.assign({},ove,ct.genericFontFamilies||{}),ft=null,Dt=null,dt=0;dt<Ke.length;++dt)if(Ge[(ft=Wx(Ke[dt])).family]&&(ft.family=Ge[ft.family]),ze.hasOwnProperty(ft.family)){Dt=ze[ft.family];break}if(!(Dt=Dt||ze[ht]))throw new Error("Could not find a font-family for the rule '"+vO(ft)+"' and default family '"+ht+"'.");if(Dt=function(Ot,bt){if(bt[Ot])return bt[Ot];var lr=x5[Ot],cn=lr<=x5.normal?-1:1,Xt=mO(bt,o9,lr,cn);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+Ot);return Xt}(ft.stretch,Dt),Dt=function(Ot,bt){if(bt[Ot])return bt[Ot];for(var lr=s9[Ot],cn=0;cn<lr.length;++cn)if(bt[lr[cn]])return bt[lr[cn]];throw new Error("Could not find a matching font-style for "+Ot)}(ft.style,Dt),!(Dt=function(Ot,bt){if(bt[Ot])return bt[Ot];if(Ot===400&&bt[500])return bt[500];if(Ot===500&&bt[400])return bt[400];var lr=sve[Ot],cn=mO(bt,l9,lr,Ot<400?-1:1);if(!cn)throw new Error("Could not find a matching font-weight for value "+Ot);return cn}(ft.weight,Dt)))throw new Error("Failed to resolve a font for the rule '"+vO(ft)+"'.");return Dt}(be,Ce);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var Ie="";(Be==="bold"||parseInt(Be,10)>=700||We==="bold")&&(Ie="bold"),We==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var He="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<pe.length;$e++){if(this.pdf.internal.getFont(pe[$e],Ie,{noFallback:!0,disableWarning:!0})!==void 0){He=pe[$e];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(pe[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=pe[$e],Ie="bold";else if(this.pdf.internal.getFont(pe[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=pe[$e],Ie="normal";break}}if(He===""){for(var Ve=0;Ve<pe.length;Ve++)if(Ze[pe[Ve]]){He=Ze[pe[Ve]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){x.call(this,"fill",!1)},f.prototype.stroke=function(){x.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(R,B)},f.prototype.closePath=function(){var R=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Gt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){R=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},f.prototype.lineTo=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,B,q,H){if(isNaN(q)||isNaN(H)||isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var z=this.ctx.transform.applyToPoint(new s(q,H)),J=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"qct",x1:J.x,y1:J.y,x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.bezierCurveTo=function(R,B,q,H,z,J){if(isNaN(z)||isNaN(J)||isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H))throw Qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new s(z,J)),X=this.ctx.transform.applyToPoint(new s(R,B)),le=this.ctx.transform.applyToPoint(new s(q,H));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:le.x,y2:le.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},f.prototype.arc=function(R,B,q,H,z,J){if(isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H)||isNaN(z))throw Qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new s(R,B));R=ae.x,B=ae.y;var X=this.ctx.transform.applyToPoint(new s(0,q)),le=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(X.x-le.x,2)+Math.pow(X.y-le.y,2))}Math.abs(z-H)>=2*Math.PI&&(H=0,z=2*Math.PI),this.path.push({type:"arc",x:R,y:B,radius:q,startAngle:H,endAngle:z,counterclockwise:J})},f.prototype.arcTo=function(R,B,q,H,z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,B,q,H){if(isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H))throw Qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,B),this.lineTo(R+q,B),this.lineTo(R+q,B+H),this.lineTo(R,B+H),this.lineTo(R,B),this.lineTo(R+q,B),this.lineTo(R,B)},f.prototype.fillRect=function(R,B,q,H){if(isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H))throw Qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var z={};this.lineCap!=="butt"&&(z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,B,q,H),this.fill(),z.hasOwnProperty("lineCap")&&(this.lineCap=z.lineCap),z.hasOwnProperty("lineJoin")&&(this.lineJoin=z.lineJoin)}},f.prototype.strokeRect=function(R,B,q,H){if(isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H))throw Qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,B,q,H),this.stroke())},f.prototype.clearRect=function(R,B,q,H){if(isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H))throw Qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,B,q,H))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(B),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var B,q,H,z;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))B=0,q=0,H=0,z=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(J!==null)B=parseInt(J[1]),q=parseInt(J[2]),H=parseInt(J[3]),z=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)B=parseInt(J[1]),q=parseInt(J[2]),H=parseInt(J[3]),z=parseFloat(J[4]);else{if(z=1,typeof R=="string"&&R.charAt(0)!=="#"){var ae=new QM(R);R=ae.ok?ae.toHex():"#000000"}R.length===4?(B=R.substring(1,2),B+=B,q=R.substring(2,3),q+=q,H=R.substring(3,4),H+=H):(B=R.substring(1,3),q=R.substring(3,5),H=R.substring(5,7)),B=parseInt(B,16),q=parseInt(q,16),H=parseInt(H,16)}}return{r:B,g:q,b:H,a:z,style:R}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,B,q,H){if(isNaN(B)||isNaN(q)||typeof R!="string")throw Qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!h.call(this)){var z=K(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;E.call(this,{text:R,x:B,y:q,scale:J,angle:z,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(R,B,q,H){if(isNaN(B)||isNaN(q)||typeof R!="string")throw Qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){H=isNaN(H)?void 0:H;var z=K(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;E.call(this,{text:R,x:B,y:q,scale:J,renderingMode:"stroke",angle:z,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(R){if(typeof R!="string")throw Qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,q=this.pdf.internal.scaleFactor,H=B.internal.getFontSize(),z=B.getStringUnitWidth(R)*H/B.internal.scaleFactor;return new function(J){var ae=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this}({width:z*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(R,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(R){if(isNaN(R))throw Qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(R,B){if(isNaN(R)||isNaN(B))throw Qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,R,B);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(R,B,q,H,z,J){if(isNaN(R)||isNaN(B)||isNaN(q)||isNaN(H)||isNaN(z)||isNaN(J))throw Qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(R,B,q,H,z,J);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.setTransform=function(R,B,q,H,z,J){R=isNaN(R)?1:R,B=isNaN(B)?0:B,q=isNaN(q)?0:q,H=isNaN(H)?1:H,z=isNaN(z)?0:z,J=isNaN(J)?0:J,this.ctx.transform=new l(R,B,q,H,z,J)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,B,q,H,z,J,ae,X,le){var ge=this.pdf.getImageProperties(R),de=1,ke=1,ve=1,ie=1;H!==void 0&&X!==void 0&&(ve=X/H,ie=le/z,de=ge.width/H*X/H,ke=ge.height/z*le/z),J===void 0&&(J=B,ae=q,B=0,q=0),H!==void 0&&X===void 0&&(X=H,le=z),H===void 0&&X===void 0&&(X=ge.width,le=ge.height);for(var We,Be=this.ctx.transform.decompose(),xe=K(Be.rotate.shx),fe=new l,he=(fe=(fe=(fe=fe.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new o(J-B*ve,ae-q*ie,H*de,z*ke)),pe=y.call(this,he),be=[],Ce=0;Ce<pe.length;Ce+=1)be.indexOf(pe[Ce])===-1&&be.push(pe[Ce]);if(w(be),this.autoPaging)for(var Me=be[0],Ie=be[be.length-1],He=Me;He<Ie+1;He++){this.pdf.setPage(He);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=He===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=He===1?0:Ve+(He-2)*ze;if(this.ctx.clip_path.length!==0){var ct=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(We,this.posX+this.margin[3],-Ke+$e+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=ct}var ht=JSON.parse(JSON.stringify(he));ht=b([ht],this.posX+this.margin[3],-Ke+$e+this.ctx.prevPageLastElemOffset)[0];var Ge=(He>Me||He<Ie)&&g.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,ze,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,xe),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",he.x,he.y,he.w,he.h,null,null,xe)};var y=function(R,B,q){var H=[];B=B||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var z=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":H.push(Math.floor((R.y+z)/q)+1);break;case"arc":H.push(Math.floor((R.y+z-R.radius)/q)+1),H.push(Math.floor((R.y+z+R.radius)/q)+1);break;case"qct":var J=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);H.push(Math.floor((J.y+z)/q)+1),H.push(Math.floor((J.y+J.h+z)/q)+1);break;case"bct":var ae=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);H.push(Math.floor((ae.y+z)/q)+1),H.push(Math.floor((ae.y+ae.h+z)/q)+1);break;case"rect":H.push(Math.floor((R.y+z)/q)+1),H.push(Math.floor((R.y+R.h+z)/q)+1)}for(var X=0;X<H.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<H[X];)v.call(this);return H},v=function(){var R=this.fillStyle,B=this.strokeStyle,q=this.font,H=this.lineCap,z=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=B,this.font=q,this.lineCap=H,this.lineWidth=z,this.lineJoin=J},b=function(R,B,q){for(var H=0;H<R.length;H++)switch(R[H].type){case"bct":R[H].x2+=B,R[H].y2+=q;case"qct":R[H].x1+=B,R[H].y1+=q;default:R[H].x+=B,R[H].y+=q}return R},w=function(R){return R.sort(function(B,q){return B-q})},x=function(R,B){for(var q,H,z=this.fillStyle,J=this.strokeStyle,ae=this.lineCap,X=this.lineWidth,le=Math.abs(X*this.ctx.transform.scaleX),ge=this.lineJoin,de=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),ve=[],ie=0;ie<ke.length;ie++)if(ke[ie].x!==void 0)for(var We=y.call(this,ke[ie]),Be=0;Be<We.length;Be+=1)ve.indexOf(We[Be])===-1&&ve.push(We[Be]);for(var xe=0;xe<ve.length;xe++)for(;this.pdf.internal.getNumberOfPages()<ve[xe];)v.call(this);if(w(ve),this.autoPaging)for(var fe=ve[0],he=ve[ve.length-1],pe=fe;pe<he+1;pe++){this.pdf.setPage(pe),this.fillStyle=z,this.strokeStyle=J,this.lineCap=ae,this.lineWidth=le,this.lineJoin=ge;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=pe===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=pe===1?0:Me+(pe-2)*Ie;if(this.ctx.clip_path.length!==0){var Ze=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(q,this.posX+this.margin[3],-He+Ce+this.ctx.prevPageLastElemOffset),N.call(this,R,!0),this.path=Ze}if(H=JSON.parse(JSON.stringify(de)),this.path=b(H,this.posX+this.margin[3],-He+Ce+this.ctx.prevPageLastElemOffset),B===!1||pe===0){var $e=(pe>fe||pe<he)&&g.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,Ie,null).clip().discardPath()),N.call(this,R,B),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=le,N.call(this,R,B),this.lineWidth=X;this.path=de},N=function(R,B){if((R!=="stroke"||B||!m.call(this))&&(R==="stroke"||B||!h.call(this))){for(var q,H,z=[],J=this.path,ae=0;ae<J.length;ae++){var X=J[ae];switch(X.type){case"begin":z.push({begin:!0});break;case"close":z.push({close:!0});break;case"mt":z.push({start:X,deltas:[],abs:[]});break;case"lt":var le=z.length;if(J[ae-1]&&!isNaN(J[ae-1].x)&&(q=[X.x-J[ae-1].x,X.y-J[ae-1].y],le>0)){for(;le>=0;le--)if(z[le-1].close!==!0&&z[le-1].begin!==!0){z[le-1].deltas.push(q),z[le-1].abs.push(X);break}}break;case"bct":q=[X.x1-J[ae-1].x,X.y1-J[ae-1].y,X.x2-J[ae-1].x,X.y2-J[ae-1].y,X.x-J[ae-1].x,X.y-J[ae-1].y],z[z.length-1].deltas.push(q);break;case"qct":var ge=J[ae-1].x+2/3*(X.x1-J[ae-1].x),de=J[ae-1].y+2/3*(X.y1-J[ae-1].y),ke=X.x+2/3*(X.x1-X.x),ve=X.y+2/3*(X.y1-X.y),ie=X.x,We=X.y;q=[ge-J[ae-1].x,de-J[ae-1].y,ke-J[ae-1].x,ve-J[ae-1].y,ie-J[ae-1].x,We-J[ae-1].y],z[z.length-1].deltas.push(q);break;case"arc":z.push({deltas:[],abs:[],arc:!0}),Array.isArray(z[z.length-1].abs)&&z[z.length-1].abs.push(X)}}H=B?null:R==="stroke"?"stroke":"fill";for(var Be=!1,xe=0;xe<z.length;xe++)if(z[xe].arc)for(var fe=z[xe].abs,he=0;he<fe.length;he++){var pe=fe[he];pe.type==="arc"?A.call(this,pe.x,pe.y,pe.radius,pe.startAngle,pe.endAngle,pe.counterclockwise,void 0,B,!Be):I.call(this,pe.x,pe.y),Be=!0}else if(z[xe].close===!0)this.pdf.internal.out("h"),Be=!1;else if(z[xe].begin!==!0){var be=z[xe].start.x,Ce=z[xe].start.y;M.call(this,z[xe].deltas,be,Ce),Be=!0}H&&P.call(this,H),B&&C.call(this)}},O=function(R){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-q;case"top":return R+B-q;case"hanging":return R+B-2*q;case"middle":return R+B/2-q;default:return R}},j=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(B,q){this.colorStops.push([B,q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(R,B,q,H,z,J,ae,X,le){for(var ge=Z.call(this,q,H,z,J),de=0;de<ge.length;de++){var ke=ge[de];de===0&&(le?k.call(this,ke.x1+R,ke.y1+B):I.call(this,ke.x1+R,ke.y1+B)),U.call(this,R,B,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}X?C.call(this):P.call(this,ae)},P=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(R,B){this.pdf.internal.out(r(R)+" "+n(B)+" m")},E=function(R){var B;switch(R.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var q=this.pdf.getTextDimensions(R.text),H=O.call(this,R.y),z=j.call(this,H)-q.h,J=this.ctx.transform.applyToPoint(new s(R.x,H)),ae=this.ctx.transform.decompose(),X=new l;X=(X=(X=X.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var le,ge,de,ke=this.ctx.transform.applyToRectangle(new o(R.x,H,q.w,q.h)),ve=X.applyToRectangle(new o(R.x,z,q.w,q.h)),ie=y.call(this,ve),We=[],Be=0;Be<ie.length;Be+=1)We.indexOf(ie[Be])===-1&&We.push(ie[Be]);if(w(We),this.autoPaging)for(var xe=We[0],fe=We[We.length-1],he=xe;he<fe+1;he++){this.pdf.setPage(he);var pe=he===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Me=Ce-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],He=Ie-this.margin[3],Ze=he===1?0:be+(he-2)*Me;if(this.ctx.clip_path.length!==0){var $e=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-1*Ze+pe),N.call(this,"fill",!0),this.path=$e}var Ve=b([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Ze+pe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*R.scale),de=this.lineWidth,this.lineWidth=de*R.scale);var ze=this.autoPaging!=="text";if(ze||Ve.y+Ve.h<=Ce){if(ze||Ve.y>=pe&&Ve.x<=Ie){var Ke=ze?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ie-Ve.x)[0],ct=b([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Ze+pe+this.ctx.prevPageLastElemOffset)[0],ht=ze&&(he>xe||he<fe)&&g.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Me,null).clip().discardPath()),this.pdf.text(Ke,ct.x,ct.y,{angle:R.angle,align:B,renderingMode:R.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else Ve.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Ve.y);R.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=de)}else R.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*R.scale),de=this.lineWidth,this.lineWidth=de*R.scale),this.pdf.text(R.text,J.x+this.posX,J.y+this.posY,{angle:R.angle,align:B,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=de)},I=function(R,B,q,H){q=q||0,H=H||0,this.pdf.internal.out(r(R+q)+" "+n(B+H)+" l")},M=function(R,B,q){return this.pdf.lines(R,B,q,null,null)},U=function(R,B,q,H,z,J,ae,X){this.pdf.internal.out([t(i(q+R)),t(a(H+B)),t(i(z+R)),t(a(J+B)),t(i(ae+R)),t(a(X+B)),"c"].join(" "))},Z=function(R,B,q,H){for(var z=2*Math.PI,J=Math.PI/2;B>q;)B-=z;var ae=Math.abs(q-B);ae<z&&H&&(ae=z-ae);for(var X=[],le=H?-1:1,ge=B;ae>1e-5;){var de=ge+le*Math.min(ae,J);X.push(Q.call(this,R,ge,de)),ae-=Math.abs(de-ge),ge=de}return X},Q=function(R,B,q){var H=(q-B)/2,z=R*Math.cos(H),J=R*Math.sin(H),ae=z,X=-J,le=ae*ae+X*X,ge=le+ae*z+X*J,de=4/3*(Math.sqrt(2*le*ge)-ge)/(ae*J-X*z),ke=ae-de*X,ve=X+de*ae,ie=ke,We=-ve,Be=H+B,xe=Math.cos(Be),fe=Math.sin(Be);return{x1:R*Math.cos(B),y1:R*Math.sin(B),x2:ke*xe-ve*fe,y2:ke*fe+ve*xe,x3:ie*xe-We*fe,y3:ie*fe+We*xe,x4:R*Math.cos(q),y4:R*Math.sin(q)}},K=function(R){return 180*R/Math.PI},W=function(R,B,q,H,z,J){var ae=R+.5*(q-R),X=B+.5*(H-B),le=z+.5*(q-z),ge=J+.5*(H-J),de=Math.min(R,z,ae,le),ke=Math.max(R,z,ae,le),ve=Math.min(B,J,X,ge),ie=Math.max(B,J,X,ge);return new o(de,ve,ke-de,ie-ve)},V=function(R,B,q,H,z,J,ae,X){var le,ge,de,ke,ve,ie,We,Be,xe,fe,he,pe,be,Ce,Me=q-R,Ie=H-B,He=z-q,Ze=J-H,$e=ae-z,Ve=X-J;for(ge=0;ge<41;ge++)xe=(We=(de=R+(le=ge/40)*Me)+le*((ve=q+le*He)-de))+le*(ve+le*(z+le*$e-ve)-We),fe=(Be=(ke=B+le*Ie)+le*((ie=H+le*Ze)-ke))+le*(ie+le*(J+le*Ve-ie)-Be),ge==0?(he=xe,pe=fe,be=xe,Ce=fe):(he=Math.min(he,xe),pe=Math.min(pe,fe),be=Math.max(be,xe),Ce=Math.max(Ce,fe));return new o(Math.round(he),Math.round(pe),Math.round(be-he),Math.round(Ce-pe))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,B,q=(R=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:B}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(lt.API),function(e){var t=function(s){var o,l,c,d,f,p,h,m,g,y;for(l=[],c=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(y=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,m+33,g+33,y+33)):l.push(122);return function(v,b){for(var w=b;w>0;w--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,d,f,p=String,h="length",m=255,g="charCodeAt",y="slice",v="replace";for(s[y](-2),s=s[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,f=(s+=o="uuuuu"[y](s[h]%5||5))[h];f>d;d+=5)l=52200625*(s[g](d)-33)+614125*(s[g](d+1)-33)+7225*(s[g](d+2)-33)+85*(s[g](d+3)-33)+(s[g](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(b,w){for(var x=w;x>0;x--)b.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=h5(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(lt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,d){var f=new XMLHttpRequest,p=0,h=function(m){var g=m.length,y=[],v=String.fromCharCode;for(p=0;p<g;p+=1)y.push(v(255&m.charCodeAt(p)));return y.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(lt.API),function(e){function t(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):Ta(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):Ta(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Gt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var m=d[h],g=m.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=c.call(f,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lt.getPageSize=function(o,l,c){if(Gt(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,g=0,y=0;if(h.hasOwnProperty(p))g=h[p][1]/f,y=h[p][0]/f;else try{g=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",y>g&&(m=y,y=g,g=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>y&&(m=y,y=g,g=m)}return{width:y,height:g,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Wx):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(lt.API),lt.API.addJS=function(e){return xO=e,this.internal.events.subscribe("postPutResources",function(){Y0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Y0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Y0!==void 0&&bO!==void 0&&this.internal.out("/Names <</JavaScript "+Y0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(a=0;a<c;a++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(lt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=h,t.indexOf(f.charCodeAt(y+1))!==-1){p=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:p,numcomponents:f.charCodeAt(y+9)};break}h=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}}(lt.API),lt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=Kge(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,d=a.depth;i=c&&l===1?function(A){for(var P=A.width,C=A.height,k=A.data,E=A.palette,I=A.depth,M=!1,U=[],Z=[],Q=void 0,K=!1,W=0,V=0;V<E.length;V++){var $=SE(E[V],4),R=$[0],B=$[1],q=$[2],H=$[3];U.push(R,B,q),H!=null&&(H===0?(W++,Z.length<1&&Z.push(V)):H<255&&(K=!0))}if(K||W>1){M=!0,Z=void 0;var z=P*C;Q=new Uint8Array(z);for(var J=new DataView(k.buffer),ae=0;ae<z;ae++){var X=Kx(J,ae,I),le=SE(E[X],4)[3];Q[ae]=le}}else W===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:k,alphaBytes:Q,needSMask:M,palette:U,mask:Z}}(a):l===2||l===4?function(A){for(var P=A.data,C=A.width,k=A.height,E=A.channels,I=A.depth,M=E===2?"DeviceGray":"DeviceRGB",U=E-1,Z=C*k,Q=U,K=Z*Q,W=1*Z,V=Math.ceil(K*I/8),$=Math.ceil(W*I/8),R=new Uint8Array(V),B=new Uint8Array($),q=new DataView(P.buffer),H=new DataView(R.buffer),z=new DataView(B.buffer),J=!1,ae=0;ae<Z;ae++){for(var X=ae*E,le=0;le<Q;le++)OO(H,Kx(q,X+le,I),ae*Q+le,I);var ge=Kx(q,X+Q,I);ge<(1<<I)-1&&(J=!0),OO(z,ge,1*ae,I)}return{colorSpace:M,colorsPerPixel:U,sMaskBitsPerComponent:J?I:void 0,colorBytes:R,alphaBytes:B,needSMask:J}}(a):function(A){var P=A.data,C=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:C,colorsPerPixel:C==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(k){for(var E=k.length,I=new Uint8Array(2*E),M=new DataView(I.buffer,I.byteOffset,I.byteLength),U=0;U<E;U++)M.setUint16(2*U,k[U],!1);return I}(P):P,needSMask:!1}}(a);var f,p,h,m=i,g=m.colorSpace,y=m.colorsPerPixel,v=m.sMaskBitsPerComponent,b=m.colorBytes,w=m.alphaBytes,x=m.needSMask,N=m.palette,O=m.mask,j=null;return n!==lt.API.image_compression.NONE&&typeof h5=="function"?(j=function(A){var P;switch(A){case lt.API.image_compression.FAST:P=11;break;case lt.API.image_compression.MEDIUM:P=13;break;case lt.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(j," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=SO(b,Math.ceil(s*y*d/8),y,d,n),x&&(h=SO(w,Math.ceil(s*v/8),1,v,n))):(f=void 0,p=void 0,e=b,x&&(h=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:O,palette:N,sMask:h,predictor:j,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new hve(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new Vx(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(lt.API),Xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Qt.log("bit decode error:"+r)}},Xa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Xa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Xa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Xa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Xa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Xa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Xa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Xa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Xa(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Vx(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(lt.API),CO.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new CO(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Vx(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(lt.API),lt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=d,a[o++]=f,a[o++]=p,s[l++]=h}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ed=lt.API,X0=ed.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,h=e.length,m=0,g=o[0]||l,y=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&Gt(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/d:0,y.push((o[n]||g)/l+p)),m=n;return y},wO=ed.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ed.processArabic&&(e=ed.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:X0.apply(this,arguments).reduce(function(a,s){return a+s},0)},_O=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},NO=function(e,t,r){r||(r={});var n,i,a,s,o,l,c,d=[],f=[d],p=r.textIndent||0,h=0,m=0,g=e.split(" "),y=X0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),b=[];g.map(function(x){(x=x.split(/\s*\n/)).length>1?b=b.concat(x.map(function(N,O){return(O&&N.length?`
`:"")+N})):b.push(x[0])}),g=b,l=wO.apply(this,[v,r])}for(a=0,s=g.length;a<s;a++){var w=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(m=(i=X0.apply(this,[n,r])).reduce(function(x,N){return x+N},0))>t||w){if(m>t){for(o=_O.apply(this,[n,i,t-(p+h),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);m=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(x,N){return x+N},0)}else d=[n];f.push(d),p=m+l,h=y}else d.push(n),p+=h+m,h=y}return c=l?function(x,N){return(N?v:"")+x.join(" ")}:function(x){return x.join(" ")},f.map(c)},ed.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(NO.apply(this,[n[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,m,g,y,v=["{"];for(var b in p){if(h=p[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=s(b).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),y="-"):(g=s(h).slice(2),y=""),g=y+g.slice(0,-1)+i[g.slice(-1)];else{if(Gt(h)!=="object")throw new Error("Don't know what to do with value type "+Gt(h)+".");g=o(h)}v.push(m+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,g,y,v={},b=1,w=v,x=[],N="",O="",j=p.length-1,A=1;A<j;A+=1)(y=p[A])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(x.push([w,g]),w={},g=void 0):y=="}"?((m=x.pop())[0][m[1]]=w,g=void 0,w=m[0]):y=="-"?b=-1:g===void 0?n.hasOwnProperty(y)?(N+=n[y],g=parseInt(N,16)*b,b=1,N=""):N+=y:n.hasOwnProperty(y)?(O+=n[y],w[g]=parseInt(O,16)*b,b=1,g=void 0,O=""):O+=y;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,m=f.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(lt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(yg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(lt),lt.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw Qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(yt.canvg?Promise.resolve(yt.canvg):Ta(()=>import("./index.es-B_Mfl4Wu.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},lt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},lt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,d=0,f=0;function p(m,g){var y,v=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Gt(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)typeof a[c][d]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(lt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(a){var s,o,l,c,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,m){return h-m})).length;f<p;f++)s=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",m=0;m<p.length;m++)h+=String.fromCharCode(p[m]);var g=c();d({data:h,addLength1:!0,objectId:g}),l("endobj");var y=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ad(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ad(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+ad(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var m=c();d({data:p,addLength1:!0,objectId:m}),l("endobj");var g=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ad(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ad(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,d=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,m=f.fonts,g=h,y="",v=0,b="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:f};for(b=o,g=h,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=b[v]:y+="";var x="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?x=p(y,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(x=r(y,m[g])),f.isHex=!0,{text:x,x:l,y:c,options:d,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(lt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var x=function(k){var E=k.charCodeAt(),I=E>>8,M=g[I];return M!==void 0?f[256*M+(255&E)]:I===252||I===253?"AL":v.test(I)?"L":I===8?"R":"N"},N=function(k){for(var E,I=0;I<k.length;I++){if((E=x(k.charAt(I)))==="L")return!1;if(E==="R")return!0}return!1},O=function(k,E,I,M){var U,Z,Q,K,W=E[M];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(W="AN");break;case"AL":b=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":M<1||M+1>=E.length||(U=I[M-1])!=="EN"&&U!=="AN"||(Z=E[M+1])!=="EN"&&Z!=="AN"?W="N":b&&(Z="AN"),W=Z===U?Z:"N";break;case"ES":W=(U=M>0?I[M-1]:"B")==="EN"&&M+1<E.length&&E[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&I[M-1]==="EN"){W="EN";break}if(b){W="N";break}for(Q=M+1,K=E.length;Q<K&&E[Q]==="ET";)Q++;W=Q<K&&E[Q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(K=E.length,Q=M+1;Q<K&&E[Q]==="NSM";)Q++;if(Q<K){var V=k[M],$=V>=1425&&V<=2303||V===64286;if(U=E[Q],$&&(U==="R"||U==="AL")){W="R";break}}}W=M<1||(U=E[M-1])==="B"?"N":I[M-1];break;case"B":b=!1,i=!0,W=w;break;case"S":a=!0,W="N"}return W},j=function(k,E,I){var M=k.split("");return I&&A(M,I,{hiLevel:w}),M.reverse(),E&&E.reverse(),M.join("")},A=function(k,E,I){var M,U,Z,Q,K,W=-1,V=k.length,$=0,R=[],B=w?h:p,q=[];for(b=!1,i=!1,a=!1,U=0;U<V;U++)q[U]=x(k[U]);for(Z=0;Z<V;Z++){if(K=$,R[Z]=O(k,q,R,Z),M=240&($=B[K][m[R[Z]]]),$&=15,E[Z]=Q=B[$][5],M>0)if(M===16){for(U=W;U<Z;U++)E[U]=1;W=-1}else W=-1;if(B[$][6])W===-1&&(W=Z);else if(W>-1){for(U=W;U<Z;U++)E[U]=Q;W=-1}q[Z]==="B"&&(E[Z]=0),I.hiLevel|=Q}a&&function(H,z,J){for(var ae=0;ae<J;ae++)if(H[ae]==="S"){z[ae]=w;for(var X=ae-1;X>=0&&H[X]==="WS";X--)z[X]=w}}(q,E,V)},P=function(k,E,I,M,U){if(!(U.hiLevel<k)){if(k===1&&w===1&&!i)return E.reverse(),void(I&&I.reverse());for(var Z,Q,K,W,V=E.length,$=0;$<V;){if(M[$]>=k){for(K=$+1;K<V&&M[K]>=k;)K++;for(W=$,Q=K-1;W<Q;W++,Q--)Z=E[W],E[W]=E[Q],E[Q]=Z,I&&(Z=I[W],I[W]=I[Q],I[Q]=Z);$=K}$++}}},C=function(k,E,I){var M=k.split(""),U={hiLevel:w};return I||(I=[]),A(M,I,U),function(Z,Q,K){if(K.hiLevel!==0&&d)for(var W,V=0;V<Z.length;V++)Q[V]===1&&(W=y.indexOf(Z[V]))>=0&&(Z[V]=y[W+1])}(M,I,U),P(2,M,E,I,U),P(1,M,E,I,U),M.join("")};return this.__bidiEngine__.doBidiReorder=function(k,E,I){if(function(U,Z){if(Z)for(var Q=0;Q<U.length;Q++)Z[Q]=Q;o===void 0&&(o=N(U)),c===void 0&&(c=N(U))}(k,E),s||!l||c)if(s&&l&&o^c)w=o?1:0,k=j(k,E,I);else if(!s&&l&&c)w=o?1:0,k=C(k,E,I),k=j(k,E);else if(!s||o||l||c){if(s&&!l&&o^c)k=j(k,E),o?(w=0,k=C(k,E,I)):(w=1,k=C(k,E,I),k=j(k,E));else if(s&&o&&!l&&c)w=1,k=C(k,E,I),k=j(k,E);else if(!s&&!l&&o^c){var M=d;o?(w=1,k=C(k,E,I),w=0,d=!1,k=C(k,E,I),d=M):(w=0,k=C(k,E,I),k=j(k,E),w=1,d=!1,k=C(k,E,I),d=M,k=j(k,E))}}else w=0,k=C(k,E,I);else w=o?1:0,k=C(k,E,I);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,c=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new $l(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Eve(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new pve(this.contents),this.head=new gve(this),this.name=new wve(this),this.cmap=new u9(this),this.toUnicode={},this.hhea=new vve(this),this.maxp=new _ve(this),this.hmtx=new Nve(this),this.post=new bve(this),this.os2=new yve(this),this.loca=new Ave(this),this.glyf=new Sve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ps,$l=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),pve=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,c,d,f,p,h,m,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),d=16*h-f,(i=new $l).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(d),a=16*h,c=i.pos+a,o=null,m=[],r)for(p=r[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),m=m.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)m.push(0),c++;return i.write(m),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=d9.call(r);r.length%4;)r.push(0);for(a=new $l(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),mve={}.hasOwnProperty,$s=function(e,t){for(var r in t)mve.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ps=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var gve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new $l).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),TO=function(){function e(t,r){var n,i,a,s,o,l,c,d,f,p,h,m,g,y,v,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var x,N;for(N=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var x,N;for(N=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)N.push(t.readUInt16());return N}(),c=function(){var x,N;for(N=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)N.push(t.readUInt16());return N}(),d=function(){var x,N;for(N=[],l=x=0;0<=p?x<p:x>p;l=0<=p?++x:--x)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,o=function(){var x,N;for(N=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)N.push(t.readUInt16());return N}(),l=v=0,w=a.length;v<w;l=++v)for(y=a[l],n=b=m=g[l];m<=y?b<=y:b>=y;n=m<=y?++b:--b)d[l]===0?s=n+c[l]:(s=o[d[l]/2+(n-m)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,c,d,f,p,h,m,g,y,v,b,w,x,N,O,j,A,P,C,k,E,I,M,U,Z,Q,K,W,V,$,R,B,q,H,z,J,ae,X,le,ge,de;switch(M=new $l,s=Object.keys(t).sort(function(ke,ve){return ke-ve}),r){case"macroman":for(g=0,y=function(){var ke=[];for(m=0;m<256;++m)ke.push(0);return ke}(),b={0:0},a={},U=0,W=s.length;U<W;U++)b[X=t[i=s[U]]]==null&&(b[X]=++g),a[i]={old:t[i],new:b[t[i]]},y[i]=b[t[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(y),{charMap:a,subtable:M.data,maxGlyphID:g+1};case"unicode":for(E=[],f=[],w=0,b={},n={},v=c=null,Z=0,V=s.length;Z<V;Z++)b[N=t[i=s[Z]]]==null&&(b[N]=++w),n[i]={old:N,new:b[N]},o=b[N]-i,v!=null&&o===c||(v&&f.push(v),E.push(i),c=o),v=i;for(v&&f.push(v),f.push(65535),E.push(65535),C=2*(P=E.length),A=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(A/2)/Math.LN2,j=2*P-A,l=[],O=[],h=[],m=Q=0,$=E.length;Q<$;m=++Q){if(k=E[m],d=f[m],k===65535){l.push(0),O.push(0);break}if(k-(I=n[k].new)>=32768)for(l.push(0),O.push(2*(h.length+P-m)),i=K=k;k<=d?K<=d:K>=d;i=k<=d?++K:--K)h.push(n[i].new);else l.push(I-k),O.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*P+2*h.length),M.writeUInt16(0),M.writeUInt16(C),M.writeUInt16(A),M.writeUInt16(p),M.writeUInt16(j),J=0,R=f.length;J<R;J++)i=f[J],M.writeUInt16(i);for(M.writeUInt16(0),ae=0,B=E.length;ae<B;ae++)i=E[ae],M.writeUInt16(i);for(le=0,q=l.length;le<q;le++)o=l[le],M.writeUInt16(o);for(ge=0,H=O.length;ge<H;ge++)x=O[ge],M.writeUInt16(x);for(de=0,z=h.length;de<z;de++)g=h[de],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:w+1}}},e}(),u9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new TO(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=TO.encode(t,r),(i=new $l).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),vve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),yve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),bve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),xve=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},wve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,c,d,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=d=0,f=n.length;d<f;a=++d)i=n[a],t.pos=i.offset,c=t.readString(i.length),s=new xve(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),_ve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Nve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(t.readInt16());return d}(),this.widths=(function(){var c,d,f,p;for(p=[],c=0,d=(f=this.metrics).length;c<d;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),d9=[].slice,Sve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,c,d,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new $l(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[t]=s===-1?new kve(o,c,f,l,d):new jve(o,s,c,f,l,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),jve=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),kve=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new $l(d9.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Ave=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,ps),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},e}(),Eve=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,c,d,f,p,h,m,g,y,v;for(i in n=u9.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},v=n.charMap)h[(l=v[i]).old]=l.new;for(m in p=n.maxGlyphID,s)m in h||(h[m]=p++);return d=function(b){var w,x;for(w in x={},b)x[b[w]]=w;return x}(h),f=Object.keys(d).sort(function(b,w){return b-w}),g=function(){var b,w,x;for(x=[],b=0,w=f.length;b<w;b++)o=f[b],x.push(d[o]);return x}(),a=this.font.glyf.encode(s,g,h),c=this.font.loca.encode(a.offsets,g),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();lt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();const Ove=({onClose:e,simulation:t,sessionId:r,simulationId:n,usingBackend:i=!1})=>{const[a,s]=T.useState({}),[o,l]=T.useState(0),[c,d]=T.useState({}),[f,p]=T.useState([]),[h,m]=T.useState([]),[g,y]=T.useState(""),[v,b]=T.useState(!1),[w,x]=T.useState(!0);T.useEffect(()=>{const B=async()=>{try{if(x(!0),i&&n&&r){const H=await co.getProgress(n,r),z=await co.getTaskSubmissions(n,r);if(H&&z){l(H.final_score||0),d(H.skill_breakdown||{}),y(H.resume_snippet||"");const J={};z.forEach(le=>{J[le.task_id]={score:le.score||0,breakdown:le.score_breakdown||{},strengths:le.strengths||[],improvements:le.improvements||[]}}),s(J);const ae=[],X=[];z.forEach(le=>{le.strengths&&ae.push(...le.strengths),le.improvements&&X.push(...le.improvements)}),p([...new Set(ae)].slice(0,3)),m([...new Set(X)].slice(0,3))}else q()}else q()}catch(H){console.error("Error loading report data:",H),q()}finally{x(!1)}},q=()=>{var ve,ie,We;const H=Wp(),z=(t==null?void 0:t.slug)==="argo-marketing-foundations"||((ve=t==null?void 0:t.company_info)==null?void 0:ve.name)==="Argo"||(t==null?void 0:t.category)==="Marketing";let J={};z?J={task1:V8(H.task1||{}),task2:G8(H.task2||{}),task3:Y8(H.task3||{}),task4:X8(H.task4||{}),task5:J8(H.task5||{})}:J={task1:D_(H.task1||{}),task2:M_(H.task2||{}),task3:B_(H.task3||{}),task4:F_(H.task4||{}),task5:$_(H.task5||{}),task6:U_(H.task6||{}),task7:q_(H.task7||{})},s(J);const ae=H8(J);l(ae);const X=K8(J);d(X);const le=[],ge=[];Object.values(J).forEach(Be=>{Be.strengths&&le.push(...Be.strengths),Be.improvements&&ge.push(...Be.improvements)}),p([...new Set(le)].slice(0,3)),m([...new Set(ge)].slice(0,3));const de=Object.entries(X).sort((Be,xe)=>xe[1]-Be[1]).slice(0,3).map(([Be])=>Be),ke=((ie=t==null?void 0:t.company_info)==null?void 0:ie.fullName)||((We=t==null?void 0:t.company_info)==null?void 0:We.name)||"Noah Healthcare";y(`Led end-to-end product development for ${ke} ${(t==null?void 0:t.title)||"Smart Fitness Watch"}, demonstrating expertise in ${de.join(", ")}. Achieved ${ae}/100 overall score across market research, team planning, roadmap development, UX design, GTM strategy, and post-launch analytics.`)};B()},[i,n,r,t]);const N=()=>{const B=new lt("landscape","pt",[1200,800]),q=B.internal.pageSize.getWidth(),H=B.internal.pageSize.getHeight(),z=(t==null?void 0:t.company_info)||Kd,J=(t==null?void 0:t.title)||"Smart Fitness Watch Product Management Simulation",ae=(t==null?void 0:t.slug)==="argo-marketing-foundations"||(z==null?void 0:z.name)==="Argo"||(t==null?void 0:t.category)==="Marketing";ae?(B.setFillColor(147,51,234),B.rect(0,0,q,H,"F"),B.setFillColor(219,39,119),B.rect(0,0,q,H*.6,"F")):(B.setFillColor(37,99,235),B.rect(0,0,q,H,"F"),B.setFillColor(59,130,246),B.rect(0,0,q,H*.6,"F")),B.setDrawColor(255,255,255),B.setLineWidth(8),B.rect(40,40,q-80,H-80,"S"),B.setFillColor(255,255,255),B.rect(60,60,q-120,H-120,"F"),ae?(B.setFillColor(147,51,234),B.circle(q-150,150,60,"F"),B.setFillColor(219,39,119),B.circle(150,H-150,60,"F")):(B.setFillColor(37,99,235),B.circle(q-150,150,60,"F"),B.setFillColor(59,130,246),B.circle(150,H-150,60,"F")),B.setTextColor(30,41,59),B.setFontSize(42),B.setFont("helvetica","bold"),B.text("Certificate of Completion",q/2,180,{align:"center"}),B.setFontSize(24),B.setFont("helvetica","normal"),B.text(`${z.fullName||z.name||"Company"}`,q/2,230,{align:"center"}),B.setFontSize(20),B.text(J,q/2,270,{align:"center"}),ae?B.setFillColor(219,39,119):B.setFillColor(59,130,246),B.roundedRect(q/2-150,320,300,100,10,10,"F"),B.setTextColor(255,255,255),B.setFontSize(18),B.setFont("helvetica","normal"),B.text("Final Score",q/2,350,{align:"center"}),B.setFontSize(48),B.setFont("helvetica","bold"),B.text(`${o}/100`,q/2,390,{align:"center"}),B.setTextColor(30,41,59),B.setFontSize(16),B.setFont("helvetica","normal"),B.text(`Completed on ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`,q/2,480,{align:"center"}),B.setFontSize(12),B.setTextColor(107,114,128),B.text("This certificate verifies successful completion of the simulation.",q/2,550,{align:"center"}),B.text("Add this achievement to your resume and LinkedIn profile.",q/2,570,{align:"center"}),ae?B.setDrawColor(219,39,119):B.setDrawColor(59,130,246),B.setLineWidth(2),B.line(q/2-200,620,q/2+200,620);const X=ae?"argo-simulation-certificate.pdf":"noah-simulation-certificate.pdf";B.save(X)},O=()=>{navigator.clipboard.writeText(g),b(!0),setTimeout(()=>b(!1),2e3)},j={task1:"Market Research",task2:"Team & Tech Stack",task3:"Roadmap & Phases",task4:"Wireframe Design",task5:"GTM Strategy",task6:"Post-Launch Analytics",task7:"Final Submission"},A=Object.entries(a).map(([B,q])=>({name:j[B]||B,score:q.score,fullScore:100})),P=Object.keys(c),C=Object.values(c),k=Math.max(...C,100),E=P.map((B,q)=>({name:B,value:C[q]})),I=["#3b82f6","#2563eb","#1d4ed8","#10b981","#f59e0b","#06b6d4"],M=B=>B>=80?"from-green-500 to-emerald-600":B>=60?"from-blue-500 to-indigo-600":B>=40?"from-yellow-500 to-orange-500":"from-red-500 to-pink-600",U=B=>B>=80?"Excellent":B>=60?"Good":B>=40?"Fair":"Needs Improvement";if(w)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("div",{className:"text-lg text-gray-600",children:"Loading report..."})]})});const Z=(t==null?void 0:t.company_info)||Kd,Q=(t==null?void 0:t.title)||"Smart Fitness Watch Product Management Simulation",K=(t==null?void 0:t.slug)==="argo-marketing-foundations"||(Z==null?void 0:Z.name)==="Argo"||(t==null?void 0:t.category)==="Marketing",W=K?"from-purple-600 to-pink-600":"from-primary to-accent",V=K?"from-purple-50 to-pink-50":"from-blue-50 to-indigo-50",$=K?"border-purple-200":"border-blue-200",R=K?"hover:from-purple-700 hover:to-pink-700":"hover:from-blue-700 hover:to-blue-600";return u.jsx("div",{className:`min-h-screen bg-gradient-to-br ${K?"from-slate-50 via-purple-50 to-pink-50":"from-slate-50 via-blue-50 to-cyan-50"} p-6`,children:u.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[u.jsxs("div",{className:`bg-gradient-to-r ${W} rounded-3xl shadow-2xl p-12 text-center text-white relative overflow-hidden`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-32 -mt-32"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -ml-32 -mb-32"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center text-5xl mx-auto mb-6 shadow-lg",children:Z.logo||""}),u.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4",children:"Certificate of Completion"}),u.jsx("p",{className:`text-2xl ${K?"text-purple-100":"text-blue-100"} mb-2`,children:Z.fullName||Z.name||"Company"}),u.jsx("p",{className:`text-lg ${K?"text-pink-200":"text-blue-200"} mb-8`,children:Q}),u.jsxs("div",{className:"inline-block bg-white/20 backdrop-blur-sm rounded-2xl px-8 py-6 mb-6 border-2 border-white/30",children:[u.jsx("div",{className:`text-sm ${K?"text-purple-100":"text-blue-100"} mb-2 uppercase tracking-wide`,children:"Final Score"}),u.jsx("div",{className:`text-6xl font-bold bg-gradient-to-r ${M(o)} bg-clip-text text-transparent`,children:o}),u.jsx("div",{className:`text-2xl ${K?"text-purple-100":"text-blue-100"} mt-2`,children:"/ 100"}),u.jsx("div",{className:"text-lg font-semibold text-white mt-3",children:U(o)})]}),u.jsxs("p",{className:`text-sm ${K?"text-purple-100":"text-blue-100"}`,children:["Completed on ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),u.jsxs("button",{onClick:N,className:`px-8 py-4 bg-white ${K?"text-purple-600 hover:bg-purple-50":"text-primary hover:bg-blue-50"} rounded-xl font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all flex items-center gap-3 mx-auto`,children:[u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF Certificate"]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:u.jsxs("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Performance Report Card"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed breakdown of your performance across all tasks"})]})]}),u.jsx("div",{className:`mb-10 p-8 bg-gradient-to-r ${V} rounded-2xl border-2 ${$}`,children:u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:"Overall Score"}),u.jsx("div",{className:`text-5xl font-bold bg-gradient-to-r ${M(o)} bg-clip-text text-transparent`,children:o}),u.jsx("div",{className:"text-xl text-gray-600 mt-1",children:"/ 100"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:"Performance"}),u.jsx("div",{className:"text-3xl font-bold text-gray-900",children:U(o)}),u.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Keep up the great work!"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm text-gray-600 mb-2 uppercase tracking-wide font-semibold",children:"Tasks Completed"}),u.jsx("div",{className:"text-3xl font-bold text-gray-900",children:Object.keys(a).length}),u.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["out of ",Object.keys(a).length," tasks"]})]})]})}),u.jsxs("div",{className:"mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Task Scores"})]}),u.jsx("div",{className:"mb-8 p-6 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200",children:u.jsx(Cw,{width:"100%",height:300,children:u.jsxs(Sme,{data:A,children:[u.jsx(WS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(KS,{dataKey:"name",angle:-45,textAnchor:"end",height:100,stroke:"#6b7280",fontSize:12}),u.jsx(VS,{stroke:"#6b7280",domain:[0,100]}),u.jsx(Qw,{contentStyle:{backgroundColor:"#fff",border:"2px solid #3b82f6",borderRadius:"12px",padding:"12px"},labelStyle:{color:"#1f2937",fontWeight:"bold"}}),u.jsx(KD,{dataKey:"score",fill:"#3b82f6",radius:[8,8,0,0],children:A.map((B,q)=>u.jsx(Qd,{fill:I[q%I.length]},`cell-${q}`))})]})})}),u.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([B,q],H)=>u.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-gray-50 rounded-xl border-2 border-gray-200 hover:shadow-lg transition-all",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg bg-gradient-to-br ${M(q.score)}`,children:H+1}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-gray-900",children:j[B]||B}),u.jsx("p",{className:"text-sm text-gray-600",children:U(q.score)})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${M(q.score)} bg-clip-text text-transparent`,children:q.score}),u.jsx("div",{className:"text-sm text-gray-600",children:"/ 100"})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:u.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${M(q.score)} transition-all duration-1000 shadow-lg`,style:{width:`${q.score}%`}})})]},B))})]}),u.jsxs("div",{className:"mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Skill Breakdown"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:`p-6 bg-gradient-to-br ${V} rounded-xl border-2 ${$}`,children:[u.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"Skill Distribution"}),u.jsx(Cw,{width:"100%",height:250,children:u.jsxs(Ime,{children:[u.jsx($D,{data:E,cx:"50%",cy:"50%",labelLine:!1,label:({name:B,percent:q})=>`${B}: ${(q*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:E.map((B,q)=>u.jsx(Qd,{fill:I[q%I.length]},`cell-${q}`))}),u.jsx(Qw,{})]})})]}),u.jsx("div",{className:"space-y-4",children:P.map((B,q)=>u.jsxs("div",{className:"p-4 bg-gradient-to-br from-white to-gray-50 rounded-xl border-2 border-gray-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-base font-bold text-gray-900",children:B}),u.jsxs("span",{className:`text-lg font-bold bg-gradient-to-r ${M(C[q])} bg-clip-text text-transparent`,children:[C[q],"/100"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:u.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${M(C[q])} transition-all duration-1000 shadow-md`,style:{width:`${C[q]/k*100}%`}})})]},B))})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-10",children:[u.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Strengths"})]}),u.jsx("ul",{className:"space-y-3",children:f.map((B,q)=>u.jsxs("li",{className:"flex items-start gap-3 text-base text-gray-700",children:[u.jsx("span",{className:"text-green-600 text-xl mt-0.5",children:""}),u.jsx("span",{className:"font-medium",children:B})]},q))})]}),u.jsxs("div",{className:"p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl border-2 border-yellow-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Areas for Improvement"})]}),u.jsx("ul",{className:"space-y-3",children:h.map((B,q)=>u.jsxs("li",{className:"flex items-start gap-3 text-base text-gray-700",children:[u.jsx("span",{className:"text-yellow-600 text-xl mt-0.5",children:""}),u.jsx("span",{className:"font-medium",children:B})]},q))})]})]}),u.jsxs("div",{className:"p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border-2 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:u.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Resume Snippet"})]}),u.jsx("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200 mb-4",children:u.jsx("p",{className:"text-base text-gray-700 italic leading-relaxed",children:g})}),u.jsx("button",{onClick:O,className:`px-6 py-3 rounded-xl font-bold text-base shadow-lg hover:shadow-xl transition-all flex items-center gap-2 ${v?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":`bg-gradient-to-r ${W} text-white ${R}`}`,children:v?u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy to Clipboard"]})})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pb-8",children:[u.jsxs("button",{onClick:e,className:"px-8 py-4 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 font-bold text-lg transition-all flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Simulation"]}),u.jsxs("button",{onClick:()=>window.location.href="/browse",className:`px-8 py-4 bg-gradient-to-r ${W} text-white rounded-xl ${R} font-bold text-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2`,children:["Browse More Simulations",u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},jc=e=>(e==null?void 0:e.slug)||"noah-smart-fitness-watch",LO=()=>{var I,M,U,Z,Q;const{slug:e}=To(),[t,r]=T.useState(null),[n,i]=T.useState(null),[a,s]=T.useState(null),[o,l]=T.useState(0),[c,d]=T.useState(null),[f,p]=T.useState(!1),[h,m]=T.useState(!1),[g,y]=T.useState(!0),v=Hn();T.useEffect(()=>{(async()=>{try{y(!0);const W=e||"noah-smart-fitness-watch";try{const V=await co.getSimulationBySlug(W);if(V){r(V),s(V.id);try{const $=await co.resumeSession(V.id);if($)i($.session.id),d($.progress),m(!0);else{const{session:R,progress:B}=await co.startSession(V.id);i(R.id),d(B),m(!0)}}catch($){console.warn("Failed to start session, using localStorage:",$);const R=jc(V);d(dl(R)),m(!1)}}else{console.warn("Simulation not found in database, using localStorage");const $=jc(null);d(dl($)),m(!1)}}catch(V){console.warn("Backend not available, using localStorage:",V);const $=jc(null);d(dl($)),m(!1)}}catch(W){console.error("Error initializing simulation:",W);const V=jc(null);d(dl(V)),m(!1)}finally{y(!1)}})()},[e]);const b={intro:S0,"multi-text-input":yk,"multi-select-form":bk,roadmap:xk,wireframe:wk,"gtm-strategy":_k,"analytics-dashboard":vE,"final-submission":yE,mcq:Rme,"short-text":Dme,reflection:Mme,"decision-loop":Bme},w=t!=null&&t.tasks&&t.tasks.length>0?t.tasks.map(K=>({id:K.id,name:K.name,component:b[K.type]||S0,time:K.estimated_time||"N/A",icon:K.icon||""})):[{id:"task0",name:"Introduction",component:S0,time:"5 min",icon:""},{id:"task1",name:"Market Research",component:yk,time:"60-90 min",icon:""},{id:"task2",name:"Team & Tech Stack",component:bk,time:"30-45 min",icon:""},{id:"task3",name:"Roadmap & Phases",component:xk,time:"30-45 min",icon:""},{id:"task4",name:"Wireframe Design",component:wk,time:"30-60 min",icon:""},{id:"task5",name:"GTM Strategy",component:_k,time:"45-60 min",icon:""},{id:"task6",name:"Post-Launch Analytics",component:vE,time:"60-90 min",icon:""},{id:"task7",name:"Final Submission",component:yE,time:"30-45 min",icon:""}],x=async K=>{var W,V;try{if(console.log(` Task ${K} completed. Using backend: ${h}, Simulation ID: ${a}, Session ID: ${n}`),h&&a&&n){const $=jc(t),B=Wp($)[K]||{};console.log(` Saving task submission for ${K}...`);try{await co.saveTaskSubmission(a,n,K,B),console.log(` Task submission saved successfully for ${K}`)}catch(H){throw console.error(` Error saving task submission for ${K}:`,H),H}console.log(" Refreshing progress...");const q=await co.getProgress(a,n);if(q){console.log(" Updated progress:",{completed_tasks:((W=q.completed_tasks)==null?void 0:W.length)||0,progress_percentage:q.progress_percentage,completed_at:q.completed_at||"NOT SET"}),d(q);const H=w.filter(J=>J.id!=="task0").length,z=((V=q.completed_tasks)==null?void 0:V.length)||0;console.log(` Progress check: ${z}/${H} tasks completed`),z>=H&&(console.log(" All tasks completed! Showing final report."),q.completed_at||console.warn(" All tasks done but completed_at is not set. This should be set by updateProgress."),p(!0))}else console.warn(" Could not fetch updated progress")}else{console.log(" Using localStorage fallback (backend not available or not authenticated)");const $=jc(t);ca(K,$);const R=dl($);d(R);const B=w.filter(H=>H.id!=="task0").length,q=w.filter(H=>H.id!=="task0").map(H=>H.id);vk($,q)&&o===w.length-1&&(console.log(" All tasks completed (localStorage)!"),p(!0))}}catch($){console.error(" Failed to save task completion:",$),console.error("Error details:",{message:$.message,code:$.code,details:$.details});const R=jc(t);ca(K,R);const B=dl(R);d(B)}},N=()=>{o<w.length-1&&l(o+1)},O=()=>{o>0&&l(o-1)},j=K=>{l(K)},A=((I=w[o])==null?void 0:I.component)||S0;if(g)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("div",{className:"text-lg text-gray-600",children:"Loading simulation..."})]})});if(f)return u.jsx(Ove,{onClose:()=>p(!1),simulation:t,sessionId:n,simulationId:a,usingBackend:h});const P=h&&(c!=null&&c.completed_tasks)?c.completed_tasks.length:((M=c==null?void 0:c.completedTasks)==null?void 0:M.length)||0,C=w.filter(K=>K.id!=="task0").length,k=C>0?P/C*100:0,E=(t==null?void 0:t.company_info)||Kd;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 flex",children:[u.jsxs("div",{className:"w-72 bg-white border-r-2 border-gray-200 flex-shrink-0 overflow-y-auto shadow-lg",children:[u.jsx("div",{className:"p-6 border-b-2 border-gray-200 bg-gradient-to-r from-primary to-accent text-white",children:u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl",children:E.logo||""}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:E.name||(t==null?void 0:t.title)||"Simulation"}),u.jsx("p",{className:"text-xs text-blue-100",children:((U=t==null?void 0:t.description)==null?void 0:U.substring(0,30))||"Task-based simulation"})]})]})}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-4 px-2",children:"Tasks"}),u.jsx("div",{className:"space-y-2",children:w.map((K,W)=>{const $=(h&&(c!=null&&c.completed_tasks)?c.completed_tasks:(c==null?void 0:c.completedTasks)||[]).includes(K.id),R=W===o;return u.jsx("button",{onClick:()=>j(W),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${R?"bg-gradient-to-r from-primary to-accent text-white shadow-lg transform scale-105":$?"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 text-gray-700 hover:shadow-md hover:border-green-300":"bg-gray-50 border-2 border-gray-200 text-gray-600 hover:bg-gray-100 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-2xl",children:K.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:`font-semibold text-sm ${R?"text-white":"text-gray-900"}`,children:K.name}),$&&!R&&u.jsx("span",{className:"text-green-500 text-lg",children:""}),R&&u.jsx("span",{className:"text-white/80 text-xs bg-white/20 px-2 py-1 rounded-full",children:"Active"})]}),u.jsxs("div",{className:`text-xs mt-1 ${R?"text-blue-100":"text-gray-500"}`,children:[" ",K.time]})]})]})},K.id)})})]}),u.jsxs("div",{className:"p-4 border-t-2 border-gray-200 bg-gray-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Progress"}),u.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(k),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2 shadow-inner",children:u.jsx("div",{className:"bg-gradient-to-r from-primary to-accent h-3 rounded-full transition-all duration-500 shadow-lg",style:{width:`${k}%`}})}),u.jsxs("div",{className:"text-xs text-gray-600 font-medium",children:[P," of ",C," tasks completed"]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"bg-white border-b-2 border-gray-200 px-8 py-5 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center text-white text-xl",children:w[o].icon}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:w[o].name}),u.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Estimated time: ",u.jsx("span",{className:"font-semibold text-blue-600",children:w[o].time})]})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>v("/browse"),className:"px-5 py-2.5 text-sm font-semibold text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all",children:"Exit Simulation"}),(h&&(c==null?void 0:c.completed_at)||!h&&vk())&&o===w.length-1&&u.jsx("button",{onClick:()=>p(!0),className:"px-6 py-2.5 bg-gradient-to-r from-primary to-accent text-white rounded-lg hover:from-blue-700 hover:to-blue-600 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",children:"Finish & Submit"})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsx(A,{onComplete:x,onNext:N,onPrevious:O,taskId:(Z=w[o])==null?void 0:Z.id,canGoNext:o<w.length-1,canGoPrevious:o>0,simulation:t,task:(Q=t==null?void 0:t.tasks)==null?void 0:Q.find(K=>{var W;return K.id===((W=w[o])==null?void 0:W.id)}),taskData:t==null?void 0:t.task_data})})]})]})},IO=()=>{const{slug:e}=To(),t=Hn(),[r,n]=T.useState(null),[i,a]=T.useState(!0);T.useEffect(()=>{(async()=>{try{a(!0);const h=e||"noah-smart-fitness-watch";try{const m=await co.getSimulationBySlug(h);m&&n(m)}catch(m){console.warn("Could not load simulation from database:",m)}}catch(h){console.error("Error loading simulation:",h)}finally{a(!1)}})()},[e]);const s=()=>{t(`/simulation/${e||"noah-smart-fitness-watch"}/start`)},o=(r==null?void 0:r.company_info)||Kd,l=(r==null?void 0:r.title)||"Noah Smart Fitness Watch - Product Management",c=(r==null?void 0:r.description)||"End-to-end product management simulation...",d=(r==null?void 0:r.slug)==="argo-marketing-foundations"||(o==null?void 0:o.name)==="Argo"||(r==null?void 0:r.category)==="Marketing",f=d?"from-purple-600 to-pink-600":"from-primary to-accent";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:[u.jsx(Ai,{}),u.jsxs("div",{className:`relative overflow-hidden bg-gradient-to-r ${f} text-white`,children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-300/20 rounded-full blur-3xl"})]}),u.jsx("div",{className:"max-w-7xl mx-auto px-6 py-20 relative z-10",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[u.jsx("span",{className:"text-2xl",children:o.logo||""}),u.jsx("span",{children:(o.name||Kd.name).toUpperCase()})]}),u.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight",children:[d?"Marketing Foundations":"Smart Fitness Watch",u.jsx("span",{className:`block text-4xl md:text-5xl mt-2 ${d?"text-pink-200":"text-blue-200"}`,children:d?"Marketing Simulation":"Product Management"})]}),u.jsx("p",{className:`text-xl md:text-2xl ${d?"text-purple-100":"text-blue-100"} leading-relaxed font-light`,children:c}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:d?" Marketing":" Product Management"}),u.jsx("span",{className:"bg-green-500 text-white px-5 py-2.5 rounded-full text-sm font-semibold shadow-lg",children:" Free"}),u.jsxs("span",{className:"bg-white/20 backdrop-blur-sm text-white px-5 py-2.5 rounded-full text-sm font-semibold border border-white/30",children:[" ",(r==null?void 0:r.estimated_duration)||(d?"50-60 min":"6-8 hours")]})]})]}),u.jsxs("div",{className:"bg-white text-gray-900 rounded-2xl shadow-2xl p-8 max-w-md transform hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-4 py-2 rounded-full inline-block mb-6 shadow-lg",children:" AVAILABLE NOW"}),u.jsx("h3",{className:`text-3xl font-bold mb-6 bg-gradient-to-r ${f} bg-clip-text text-transparent`,children:l}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),u.jsxs("span",{className:"text-gray-700 leading-relaxed",children:["Complete work that simulates life on the job. ",u.jsx("strong",{children:"6-8 hours"})," and self-paced."]})]}),u.jsxs("li",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})}),u.jsxs("span",{className:"text-gray-700 leading-relaxed",children:["Earn a ",u.jsx("strong",{children:"certificate"})," and add it to your resume and LinkedIn."]})]}),u.jsxs("li",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),u.jsxs("span",{className:"text-gray-700 leading-relaxed",children:["Stand out in applications. Build ",u.jsx("strong",{children:"confidence"})," to ace interviews."]})]})]}),u.jsx("button",{onClick:s,className:`w-full bg-gradient-to-r ${f} text-white py-4 px-6 rounded-xl font-bold text-lg ${d?"hover:from-purple-700 hover:to-pink-700":"hover:from-blue-700 hover:to-blue-600"} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`,children:"Try Simulation "})]})]})})]}),u.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-16 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6",children:u.jsxs("nav",{className:"flex gap-8",children:[u.jsxs("a",{href:"#overview",className:"py-5 border-b-3 border-blue-600 text-blue-600 font-semibold flex items-center gap-2 text-sm",children:["Overview",u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),u.jsx("a",{href:"#about",className:"py-5 text-gray-600 hover:text-gray-900 font-medium transition-colors text-sm",children:"About Us"}),u.jsx("a",{href:"#tasks",className:"py-5 text-gray-600 hover:text-gray-900 font-medium transition-colors text-sm",children:"Tasks"}),u.jsx("a",{href:"#reviews",className:"py-5 text-gray-600 hover:text-gray-900 font-medium transition-colors text-sm",children:"Reviews"})]})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:u.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[u.jsxs("div",{className:"md:col-span-2 space-y-16",children:[u.jsxs("section",{id:"overview",className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${f} rounded-xl flex items-center justify-center`,children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),u.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Why complete this Job Simulation"})]}),u.jsxs("p",{className:"text-xl text-gray-700 mb-8 leading-relaxed",children:["A ",u.jsx("strong",{className:"text-blue-600",children:"risk-free way"})," to experience work on the job. Practice your skills with example tasks and build your confidence to ace your applications."]}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-base text-gray-600 mb-8 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[u.jsxs("span",{className:"font-semibold text-gray-900",children:["Self-paced ",u.jsx("span",{className:"text-blue-600",children:"6-8 hours"})]}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{children:"No grades"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{children:"No assessments"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"font-semibold",children:"Intermediate"}),u.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Welcome to the ",l,"!"]}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:c}),u.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:[u.jsx("strong",{className:"text-gray-900",children:o.fullName||o.name})," ",o.description||"is a company building innovative products, and you'll lead the product management for this exciting new venture."]}),u.jsxs("a",{href:"#tasks",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold text-lg group",children:["View All Tasks",u.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),u.jsxs("section",{className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),u.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"How it works"})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex gap-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Self-Paced Learning"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Complete tasks guided by detailed instructions and example answers. No live sessions, all self-paced."})]})]}),u.jsxs("div",{className:"flex gap-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Earn a Certificate"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Earn a certificate and add it to your resume and LinkedIn as an extracurricular activity."})]})]}),u.jsxs("div",{className:"flex gap-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${f} rounded-2xl flex items-center justify-center shadow-lg`,children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Stand Out"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Stand out in applications. Confidently answer interview questions and explain why you're a good fit for the job."})]})]})]})]}),u.jsxs("section",{id:"tasks",className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),u.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Tasks in this program"})]}),u.jsx("div",{className:"space-y-4",children:[{num:0,title:"Introduction & Onboarding",desc:"Meet your role, company context, and simulation overview",time:"5 min",level:"Overview"},{num:1,title:"Market Research",desc:"Define target segments, user needs, and competitive analysis",time:"60-90 min",level:"Intermediate"},{num:2,title:"Team & Tech Stack",desc:"Plan team composition and technology choices",time:"30-45 min",level:"Intermediate"},{num:3,title:"Roadmap & Phases",desc:"Create development roadmap with phases and timelines",time:"30-45 min",level:"Intermediate"},{num:4,title:"Wireframe Design",desc:"Design key user interface screens",time:"30-60 min",level:"Intermediate"},{num:5,title:"GTM Strategy",desc:"Plan go-to-market and partnerships",time:"45-60 min",level:"Intermediate"},{num:6,title:"Post-Launch Analytics",desc:"Analyze data and respond to customers",time:"60-90 min",level:"Intermediate"},{num:7,title:"Final Submission",desc:"Consolidate report and create pitch",time:"30-45 min",level:"Intermediate"}].map((p,h)=>u.jsxs("div",{className:`border-2 rounded-xl p-6 transition-all hover:shadow-lg ${h===0?"border-blue-500 bg-gradient-to-r from-blue-50 to-indigo-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg ${h===0?"bg-gradient-to-br from-blue-500 to-indigo-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:p.num}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:p.title})]}),u.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:p.desc}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsxs("span",{className:"text-gray-500",children:[" ",p.time]}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"font-semibold text-gray-600",children:p.level})]})]},p.num))})]}),u.jsx("section",{id:"reviews",className:"bg-white rounded-2xl shadow-lg p-10 border border-gray-100",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-12",children:[u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Reviews"}),u.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-2",children:"Over 100+"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex text-yellow-400 text-2xl",children:"".split("").map((p,h)=>u.jsx("span",{children:p},h))}),u.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"5 Star Reviews"})]})]}),u.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-8 md:pl-12",children:u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100",children:[u.jsx("svg",{className:"w-12 h-12 text-blue-500 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),u.jsx("p",{className:"text-lg text-gray-700 italic mb-6 leading-relaxed",children:'"This simulation gave me practical exposure to real product management workflows. I understood the real-time commitments to the industry and how to approach complex product decisions systematically."'}),u.jsx("p",{className:"text-base font-semibold text-gray-900",children:"- Product Management Student"})]})})]})})]}),u.jsx("div",{className:"md:col-span-1",children:u.jsx("div",{className:"sticky top-24 space-y-6",children:u.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-8 shadow-lg",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${f} rounded-lg flex items-center justify-center`,children:u.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Skills you will learn"})]}),u.jsx("div",{className:"flex flex-wrap gap-3",children:["Product Sense","Technical Feasibility","Teaming & Planning","UX Design","GTM Strategy","Data Insights","Communication"].map(p=>u.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-700 rounded-lg text-sm font-semibold border border-blue-200 hover:border-blue-400 hover:shadow-md transition-all cursor-pointer",children:p},p))}),u.jsxs("a",{href:"#skills",className:"inline-flex items-center gap-2 text-blue-600 text-sm mt-6 font-semibold hover:text-blue-700 group",children:["View All",u.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})]})}),u.jsx("div",{className:`bg-gradient-to-r ${f} text-white py-16 mt-16`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-3xl font-bold mb-3",children:"Do not like the Simulation?"}),u.jsx("p",{className:"text-xl text-blue-100",children:"Explore other simulations to find your perfect fit."})]}),u.jsxs(tn,{to:"/browse",className:"px-8 py-4 bg-white text-blue-600 rounded-xl font-bold text-lg hover:bg-blue-50 transition-all flex items-center gap-3 shadow-xl hover:shadow-2xl transform hover:scale-105",children:["Browse Other Simulations",u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})]})},Pve=()=>{const{id:e}=To(),t=Hn(),{user:r,isAuthenticated:n}=A_(),[i,a]=T.useState(null),[s,o]=T.useState([]),[l,c]=T.useState(null),[d,f]=T.useState(!0),[p,h]=T.useState(null),[m,g]=T.useState(null);T.useEffect(()=>{n&&e&&y()},[n,e]);const y=async()=>{var j,A,P,C;try{f(!0),h(null),console.log(` Loading simulation details for ID: ${e}`);const k=await Yc.getMySimulations();console.log(` Found ${k.length} simulations, looking for ID: ${e}`),console.log(" Available simulation IDs:",k.map(U=>({id:U.id,title:U.title})));const E=k.find(U=>U.id===e);if(!E){console.error(` Simulation ${e} not found in recruiter's simulations`),h(`Simulation not found or you do not have access. Available simulations: ${k.length}`),f(!1);return}console.log(` Found simulation: ${E.title}`),a(E);const[I,M]=await Promise.allSettled([Yc.getSimulationParticipants(e),Yc.getSimulationAnalytics(e)]);if(I.status==="fulfilled"){const U=I.value||[];console.log(` Loaded ${U.length} participants`),o(U)}else console.error(" Error loading participants:",I.reason),console.error("Error details:",(j=I.reason)==null?void 0:j.message,(A=I.reason)==null?void 0:A.code),o([]);if(M.status==="fulfilled"){const U=M.value;console.log(" Loaded analytics:",{totalParticipants:U.totalParticipants,averageScore:U.averageScore}),c(U)}else{console.error(" Error loading analytics:",M.reason),console.error("Error details:",(P=M.reason)==null?void 0:P.message,(C=M.reason)==null?void 0:C.code);const U={totalParticipants:0,completedParticipants:0,completionRate:0,averageScore:0,topPerformers:[],scoreDistribution:{"90-100":0,"80-89":0,"70-79":0,"60-69":0,"0-59":0},averageDurationHours:0,taskPerformance:{}};console.log(" Using default analytics due to error"),c(U)}}catch(k){console.error("Error loading simulation details:",k),h(k.message||"Failed to load simulation details. Please try again.")}finally{f(!1)}},v=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",b=(j,A)=>{if(!j||!A)return"N/A";const P=new Date(A)-new Date(j),C=Math.floor(P/(1e3*60*60)),k=Math.floor(P%(1e3*60*60)/(1e3*60));return C>0?`${C}h ${k}m`:`${k}m`},w=j=>j?j>=90?"text-green-600":j>=80?"text-blue-600":j>=70?"text-yellow-600":j>=60?"text-orange-600":"text-red-600":"text-gray-500",x=j=>j?j>=90?"bg-green-100":j>=80?"bg-blue-100":j>=70?"bg-yellow-100":j>=60?"bg-orange-100":"bg-red-100":"bg-gray-100";if(!n)return u.jsx("div",{className:"min-h-screen py-12 px-4",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[u.jsx("p",{className:"text-slate-600",children:"Please sign in to view this page."}),u.jsx(tn,{to:"/auth?mode=login",className:"text-primary hover:underline mt-4 inline-block",children:"Sign In"})]})})});if(d)return u.jsx("div",{className:"min-h-screen py-12 px-4",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading simulation details..."})]})})});if(p&&!i)return u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-red-200 text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Error Loading Simulation"}),u.jsx("p",{className:"text-slate-600 mb-4",children:p||"Simulation not found"}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left max-w-2xl mx-auto",children:[u.jsx("p",{className:"text-sm font-semibold text-red-900 mb-2",children:"Debug Info:"}),u.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["Simulation ID: ",e]}),u.jsx("p",{className:"text-xs text-red-800 mt-2",children:"Check browser console (F12) for detailed logs"})]}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsx("button",{onClick:()=>t("/creator"),className:"px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Back to Dashboard"}),u.jsx("button",{onClick:y,className:"px-6 py-3 text-slate-700 bg-slate-100 rounded-lg font-semibold hover:bg-slate-200 transition-all",children:"Retry"})]})]})})});if(!i&&!p)return u.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-lg border border-slate-200 text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Simulation Not Found"}),u.jsx("p",{className:"text-slate-600 mb-6",children:"The simulation you're looking for doesn't exist or you don't have access to it."}),u.jsx("button",{onClick:()=>t("/creator"),className:"px-6 py-3 text-white bg-primary rounded-lg font-semibold hover:shadow-lg transition-all",children:"Back to Dashboard"})]})})});const N=(l==null?void 0:l.topPerformers)||[],O=[...s].sort((j,A)=>{const P=j.final_score||0;return(A.final_score||0)-P});return u.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("button",{onClick:()=>t("/creator"),className:"text-slate-600 hover:text-slate-900 mb-4 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),u.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:i.title}),u.jsx("p",{className:"text-lg text-slate-600",children:i.description})]}),l&&u.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total Participants"}),u.jsx("div",{className:"text-3xl font-bold text-slate-900",children:l.totalParticipants})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),u.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.completedParticipants}),u.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[l.completionRate,"% completion rate"]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Average Score"}),u.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[Math.round(l.averageScore),"%"]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Avg. Duration"}),u.jsx("div",{className:"text-3xl font-bold text-purple-600",children:l.averageDurationHours>0?`${Math.round(l.averageDurationHours*10)/10}h`:"N/A"})]})]}),l&&l.scoreDistribution&&u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Score Distribution"}),u.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(l.scoreDistribution).map(([j,A])=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-1",children:A}),u.jsx("div",{className:"text-sm text-slate-600",children:j})]},j))})]}),N.length>0&&u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:" Top Performers"}),u.jsx("div",{className:"space-y-3",children:N.slice(0,5).map((j,A)=>{const P=s.find(k=>k.user_id===j.user_id),C=P==null?void 0:P.user_profiles;return u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:A+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-slate-900",children:(C==null?void 0:C.full_name)||(C==null?void 0:C.email)||"Anonymous"}),u.jsx("div",{className:"text-sm text-slate-600",children:C==null?void 0:C.email})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`text-2xl font-bold ${w(j.final_score)}`,children:[j.final_score||0,"%"]}),u.jsx("div",{className:"text-xs text-slate-500",children:v(j.completed_at)})]})]},j.id||j.user_id)})})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[u.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:["All Participants ",s.length>0&&`(${s.length})`]}),s.length===0?u.jsxs("div",{className:"text-center py-12 text-slate-600",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("p",{className:"text-lg font-semibold mb-2",children:"No completed participants yet"}),u.jsx("p",{className:"text-sm mb-4",children:"Participants will appear here once they complete the simulation."}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-left max-w-2xl mx-auto",children:[u.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Important Note:"}),u.jsxs("p",{className:"text-sm text-blue-800",children:["Only participants who completed the simulation ",u.jsx("strong",{children:"while logged in"})," will appear here. If someone completed it without signing in, their data is stored locally and won't be visible to recruiters."]})]})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200",children:[u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Name"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Email"}),u.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Score"}),u.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Progress"}),u.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Started"}),u.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Completed"}),u.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Duration"}),u.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Actions"})]})}),u.jsx("tbody",{children:O.map(j=>{var C;const A=j.user_profiles,P=j.completed_at!==null;return u.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>g(j),children:[u.jsx("td",{className:"py-3 px-4",children:u.jsx("div",{className:"font-medium text-slate-900",children:(A==null?void 0:A.full_name)||"Anonymous"})}),u.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:(A==null?void 0:A.email)||"N/A"}),u.jsx("td",{className:"py-3 px-4 text-center",children:P&&j.final_score!==null?u.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${x(j.final_score)} ${w(j.final_score)}`,children:[j.final_score,"%"]}):u.jsx("span",{className:"text-slate-400",children:"-"})}),u.jsxs("td",{className:"py-3 px-4 text-center",children:[u.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[Math.round(j.progress_percentage||0),"%"]}),u.jsxs("div",{className:"text-xs text-slate-500",children:[((C=j.completed_tasks)==null?void 0:C.length)||0," tasks"]})]}),u.jsx("td",{className:"py-3 px-4 text-center text-sm text-slate-600",children:v(j.started_at)}),u.jsx("td",{className:"py-3 px-4 text-center text-sm text-slate-600",children:P?v(j.completed_at):u.jsx("span",{className:"text-orange-600",children:"In Progress"})}),u.jsx("td",{className:"py-3 px-4 text-center text-sm text-slate-600",children:b(j.started_at,j.completed_at)}),u.jsx("td",{className:"py-3 px-4 text-center",children:u.jsx("button",{onClick:k=>{k.stopPropagation(),g(j)},className:"px-3 py-1 text-sm font-semibold text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition-all",children:"View"})})]},j.id)})})]})})]}),m&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:u.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center",children:[u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Participant Details"}),u.jsx("button",{onClick:()=>g(null),className:"text-slate-400 hover:text-slate-600",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-6",children:u.jsx(Cve,{participant:m,simulationId:e})})]})})]})})},Cve=({participant:e,simulationId:t})=>{var l;const r=e.user_profiles,[n,i]=T.useState([]),[a,s]=T.useState(!0);T.useEffect(()=>{o()},[e.user_id,t]);const o=async()=>{try{s(!0);const d=(await Yc.getSimulationSubmissions(t)).filter(f=>f.user_id===e.user_id);i(d)}catch(c){console.error("Error loading submissions:",c)}finally{s(!1)}};return u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[u.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Profile Information"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Name:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-900",children:(r==null?void 0:r.full_name)||"N/A"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Email:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-900",children:(r==null?void 0:r.email)||"N/A"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Role:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-900",children:(r==null?void 0:r.user_role)||"N/A"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Joined:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-900",children:r!=null&&r.created_at?new Date(r.created_at).toLocaleDateString():"N/A"})]})]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Performance Summary"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-slate-600",children:"Final Score"}),u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.final_score!==null?`${e.final_score}%`:"N/A"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-slate-600",children:"Progress"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[Math.round(e.progress_percentage||0),"%"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-slate-600",children:"Tasks Completed"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900",children:((l=e.completed_tasks)==null?void 0:l.length)||0})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Task Submissions"}),a?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),u.jsx("p",{className:"text-slate-600",children:"Loading submissions..."})]}):n.length===0?u.jsx("div",{className:"text-center py-8 text-slate-600",children:"No submissions yet"}):u.jsx("div",{className:"space-y-4",children:n.map(c=>u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-semibold text-slate-900",children:["Task ",c.task_id]}),u.jsxs("div",{className:"text-sm text-slate-600",children:["Submitted: ",new Date(c.submitted_at).toLocaleString()]})]}),c.score!==null&&u.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:[c.score,"%"]})]}),c.strengths&&c.strengths.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-sm font-semibold text-green-700 mb-1",children:"Strengths:"}),u.jsx("ul",{className:"text-sm text-slate-700 list-disc list-inside",children:c.strengths.map((d,f)=>u.jsx("li",{children:d},f))})]}),c.improvements&&c.improvements.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-sm font-semibold text-orange-700 mb-1",children:"Improvements:"}),u.jsx("ul",{className:"text-sm text-slate-700 list-disc list-inside",children:c.improvements.map((d,f)=>u.jsx("li",{children:d},f))})]})]},c.id))})]})]})};function Tve(){return u.jsx(eW,{children:u.jsx(wU,{children:u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50",children:u.jsxs(hU,{children:[u.jsx(gn,{path:"/auth",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(WW,{})]})}),u.jsx(gn,{path:"/auth/callback",element:u.jsx(HW,{})}),u.jsx(gn,{path:"/complete-profile",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(KW,{})]})}),u.jsx(gn,{path:"/",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(tW,{})]})}),u.jsx(gn,{path:"/browse",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(rW,{})]})}),u.jsx(gn,{path:"/creator",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(nW,{})]})}),u.jsx(gn,{path:"/creator/build",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(oW,{})]})}),u.jsx(gn,{path:"/simulation/customer-comments/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(dW,{})]})}),u.jsx(gn,{path:"/simulation/sales-negotiation/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(fW,{})]})}),u.jsx(gn,{path:"/simulation/prioritization/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(BW,{})]})}),u.jsx(gn,{path:"/simulation/team-conflict/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(FW,{})]})}),u.jsx(gn,{path:"/simulation/custom/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx($W,{})]})}),u.jsx(gn,{path:"/simulation/html/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(UW,{})]})}),u.jsx(gn,{path:"/demosimulation",element:u.jsx(IO,{})}),u.jsx(gn,{path:"/demosimulation/start",element:u.jsx(LO,{})}),u.jsx(gn,{path:"/simulation/:slug",element:u.jsx(IO,{})}),u.jsx(gn,{path:"/simulation/:slug/start",element:u.jsx(LO,{})}),u.jsx(gn,{path:"/creator/simulation/:id",element:u.jsxs(u.Fragment,{children:[u.jsx(Ai,{}),u.jsx(Pve,{})]})})]})})})})}Gx.createRoot(document.getElementById("root")).render(u.jsx(Ng.StrictMode,{children:u.jsx(Tve,{})}));export{Gt as _,na as c,Fs as g};
